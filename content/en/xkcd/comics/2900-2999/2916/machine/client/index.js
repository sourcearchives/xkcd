/*! by chromako.de */(()=>{var t,e,n,r,i,o,a,s,l={5875:t=>{t.exports={width:93,height:50,url:{"2x":"https://xkcd.com/2916/client/static/81ef42.png","4x":"https://xkcd.com/2916/client/static/fc5d12.png"},srcSet:"https://xkcd.com/2916/client/static/81ef42.png 2x, https://xkcd.com/2916/client/static/fc5d12.png 4x"}},5777:t=>{t.exports={width:55,height:55,url:{"2x":"https://xkcd.com/2916/client/static/88f05f.png","4x":"https://xkcd.com/2916/client/static/8a79ea.png"},srcSet:"https://xkcd.com/2916/client/static/88f05f.png 2x, https://xkcd.com/2916/client/static/8a79ea.png 4x"}},6981:t=>{t.exports={width:16,height:16,url:{"2x":"https://xkcd.com/2916/client/static/0cd9c3.png","4x":"https://xkcd.com/2916/client/static/2ac434.png"},srcSet:"https://xkcd.com/2916/client/static/0cd9c3.png 2x, https://xkcd.com/2916/client/static/2ac434.png 4x"}},1932:t=>{t.exports={width:16,height:16,url:{"2x":"https://xkcd.com/2916/client/static/a3825a.png","4x":"https://xkcd.com/2916/client/static/198b15.png"},srcSet:"https://xkcd.com/2916/client/static/a3825a.png 2x, https://xkcd.com/2916/client/static/198b15.png 4x"}},6348:t=>{t.exports={width:16,height:16,url:{"2x":"https://xkcd.com/2916/client/static/2b3246.png","4x":"https://xkcd.com/2916/client/static/efd9ab.png"},srcSet:"https://xkcd.com/2916/client/static/2b3246.png 2x, https://xkcd.com/2916/client/static/efd9ab.png 4x"}},8323:t=>{t.exports={width:44,height:95,url:{"2x":"https://xkcd.com/2916/client/static/1193be.png","4x":"https://xkcd.com/2916/client/static/7b6271.png"},srcSet:"https://xkcd.com/2916/client/static/1193be.png 2x, https://xkcd.com/2916/client/static/7b6271.png 4x"}},7257:t=>{t.exports={width:16,height:16,url:{"2x":"https://xkcd.com/2916/client/static/323b63.png","4x":"https://xkcd.com/2916/client/static/181c38.png"},srcSet:"https://xkcd.com/2916/client/static/323b63.png 2x, https://xkcd.com/2916/client/static/181c38.png 4x"}},1277:t=>{t.exports={width:175,height:18,url:{"2x":"https://xkcd.com/2916/client/static/a8b809.png","4x":"https://xkcd.com/2916/client/static/b417ab.png"},srcSet:"https://xkcd.com/2916/client/static/a8b809.png 2x, https://xkcd.com/2916/client/static/b417ab.png 4x"}},6373:t=>{t.exports={width:262,height:162,url:{"2x":"https://xkcd.com/2916/client/static/4d425c.png","4x":"https://xkcd.com/2916/client/static/e644b0.png"},srcSet:"https://xkcd.com/2916/client/static/4d425c.png 2x, https://xkcd.com/2916/client/static/e644b0.png 4x"}},4452:t=>{t.exports={width:58,height:58,url:{"2x":"https://xkcd.com/2916/client/static/67d78e.png","4x":"https://xkcd.com/2916/client/static/b2e90e.png"},srcSet:"https://xkcd.com/2916/client/static/67d78e.png 2x, https://xkcd.com/2916/client/static/b2e90e.png 4x"}},8682:t=>{t.exports={width:58,height:58,url:{"2x":"https://xkcd.com/2916/client/static/2af312.png","4x":"https://xkcd.com/2916/client/static/e63648.png"},srcSet:"https://xkcd.com/2916/client/static/2af312.png 2x, https://xkcd.com/2916/client/static/e63648.png 4x"}},4058:t=>{t.exports={width:1389,height:290,url:{"2x":"https://xkcd.com/2916/client/static/c63519.png","4x":"https://xkcd.com/2916/client/static/fe435a.png"},srcSet:"https://xkcd.com/2916/client/static/c63519.png 2x, https://xkcd.com/2916/client/static/fe435a.png 4x"}},5896:t=>{t.exports={width:68,height:27,url:{"2x":"https://xkcd.com/2916/client/static/7b3961.png","4x":"https://xkcd.com/2916/client/static/9b584d.png"},srcSet:"https://xkcd.com/2916/client/static/7b3961.png 2x, https://xkcd.com/2916/client/static/9b584d.png 4x"}},2209:t=>{t.exports={width:36,height:33,url:{"2x":"https://xkcd.com/2916/client/static/0d16d5.png","4x":"https://xkcd.com/2916/client/static/43520f.png"},srcSet:"https://xkcd.com/2916/client/static/0d16d5.png 2x, https://xkcd.com/2916/client/static/43520f.png 4x"}},6160:t=>{t.exports={width:24,height:24,url:{"2x":"https://xkcd.com/2916/client/static/3546f3.png","4x":"https://xkcd.com/2916/client/static/6cced0.png"},srcSet:"https://xkcd.com/2916/client/static/3546f3.png 2x, https://xkcd.com/2916/client/static/6cced0.png 4x"}},4689:t=>{t.exports={width:59,height:45,url:{"2x":"https://xkcd.com/2916/client/static/e5d59f.png","4x":"https://xkcd.com/2916/client/static/2a73f8.png"},srcSet:"https://xkcd.com/2916/client/static/e5d59f.png 2x, https://xkcd.com/2916/client/static/2a73f8.png 4x"}},7934:t=>{t.exports={width:59,height:45,url:{"2x":"https://xkcd.com/2916/client/static/97a8ba.png","4x":"https://xkcd.com/2916/client/static/cd61ae.png"},srcSet:"https://xkcd.com/2916/client/static/97a8ba.png 2x, https://xkcd.com/2916/client/static/cd61ae.png 4x"}},7092:t=>{t.exports={width:59,height:45,url:{"2x":"https://xkcd.com/2916/client/static/a09b04.png","4x":"https://xkcd.com/2916/client/static/110d83.png"},srcSet:"https://xkcd.com/2916/client/static/a09b04.png 2x, https://xkcd.com/2916/client/static/110d83.png 4x"}},2250:t=>{t.exports={width:59,height:45,url:{"2x":"https://xkcd.com/2916/client/static/9e3b88.png","4x":"https://xkcd.com/2916/client/static/078d86.png"},srcSet:"https://xkcd.com/2916/client/static/9e3b88.png 2x, https://xkcd.com/2916/client/static/078d86.png 4x"}},8040:t=>{t.exports={width:59,height:45,url:{"2x":"https://xkcd.com/2916/client/static/990477.png","4x":"https://xkcd.com/2916/client/static/6631b4.png"},srcSet:"https://xkcd.com/2916/client/static/990477.png 2x, https://xkcd.com/2916/client/static/6631b4.png 4x"}},3801:t=>{t.exports={width:59,height:45,url:{"2x":"https://xkcd.com/2916/client/static/c4e4da.png","4x":"https://xkcd.com/2916/client/static/501c10.png"},srcSet:"https://xkcd.com/2916/client/static/c4e4da.png 2x, https://xkcd.com/2916/client/static/501c10.png 4x"}},8191:t=>{t.exports={width:59,height:45,url:{"2x":"https://xkcd.com/2916/client/static/308495.png","4x":"https://xkcd.com/2916/client/static/a1036c.png"},srcSet:"https://xkcd.com/2916/client/static/308495.png 2x, https://xkcd.com/2916/client/static/a1036c.png 4x"}},6192:t=>{t.exports={width:740,height:740,url:{"2x":"https://xkcd.com/2916/client/static/3b20c0.png","4x":"https://xkcd.com/2916/client/static/08b83c.png"},srcSet:"https://xkcd.com/2916/client/static/3b20c0.png 2x, https://xkcd.com/2916/client/static/08b83c.png 4x"}},7777:t=>{t.exports={width:740,height:740,url:{"2x":"https://xkcd.com/2916/client/static/48c101.png","4x":"https://xkcd.com/2916/client/static/2384e6.png"},srcSet:"https://xkcd.com/2916/client/static/48c101.png 2x, https://xkcd.com/2916/client/static/2384e6.png 4x"}},3166:t=>{t.exports={width:740,height:740,url:{"2x":"https://xkcd.com/2916/client/static/8c835c.png","4x":"https://xkcd.com/2916/client/static/817a9f.png"},srcSet:"https://xkcd.com/2916/client/static/8c835c.png 2x, https://xkcd.com/2916/client/static/817a9f.png 4x"}},2575:t=>{t.exports={width:740,height:740,url:{"2x":"https://xkcd.com/2916/client/static/32d838.png","4x":"https://xkcd.com/2916/client/static/dc7ed0.png"},srcSet:"https://xkcd.com/2916/client/static/32d838.png 2x, https://xkcd.com/2916/client/static/dc7ed0.png 4x"}},7980:t=>{t.exports={width:740,height:740,url:{"2x":"https://xkcd.com/2916/client/static/da3707.png","4x":"https://xkcd.com/2916/client/static/a443a3.png"},srcSet:"https://xkcd.com/2916/client/static/da3707.png 2x, https://xkcd.com/2916/client/static/a443a3.png 4x"}},1565:t=>{t.exports={width:740,height:740,url:{"2x":"https://xkcd.com/2916/client/static/a1af15.png","4x":"https://xkcd.com/2916/client/static/0bcace.png"},srcSet:"https://xkcd.com/2916/client/static/a1af15.png 2x, https://xkcd.com/2916/client/static/0bcace.png 4x"}},3146:t=>{t.exports={width:740,height:740,url:{"2x":"https://xkcd.com/2916/client/static/24f39d.png","4x":"https://xkcd.com/2916/client/static/00f820.png"},srcSet:"https://xkcd.com/2916/client/static/24f39d.png 2x, https://xkcd.com/2916/client/static/00f820.png 4x"}},3883:t=>{t.exports={width:740,height:740,url:{"2x":"https://xkcd.com/2916/client/static/a1fc1e.png","4x":"https://xkcd.com/2916/client/static/c10f12.png"},srcSet:"https://xkcd.com/2916/client/static/a1fc1e.png 2x, https://xkcd.com/2916/client/static/c10f12.png 4x"}},4680:t=>{t.exports={width:740,height:740,url:{"2x":"https://xkcd.com/2916/client/static/93ac67.png","4x":"https://xkcd.com/2916/client/static/e0e751.png"},srcSet:"https://xkcd.com/2916/client/static/93ac67.png 2x, https://xkcd.com/2916/client/static/e0e751.png 4x"}},4937:t=>{t.exports={width:42,height:47,url:{"2x":"https://xkcd.com/2916/client/static/b0c4c6.png","4x":"https://xkcd.com/2916/client/static/fe8ef2.png"},srcSet:"https://xkcd.com/2916/client/static/b0c4c6.png 2x, https://xkcd.com/2916/client/static/fe8ef2.png 4x"}},6718:t=>{t.exports={width:82,height:39,url:{"2x":"https://xkcd.com/2916/client/static/e2cc7d.png","4x":"https://xkcd.com/2916/client/static/e229f6.png"},srcSet:"https://xkcd.com/2916/client/static/e2cc7d.png 2x, https://xkcd.com/2916/client/static/e229f6.png 4x"}},9390:t=>{t.exports={width:143,height:106,url:{"2x":"https://xkcd.com/2916/client/static/10b2dc.png","4x":"https://xkcd.com/2916/client/static/d4b6be.png"},srcSet:"https://xkcd.com/2916/client/static/10b2dc.png 2x, https://xkcd.com/2916/client/static/d4b6be.png 4x"}},3871:t=>{t.exports={width:46,height:47,url:{"2x":"https://xkcd.com/2916/client/static/c95b39.png","4x":"https://xkcd.com/2916/client/static/deb488.png"},srcSet:"https://xkcd.com/2916/client/static/c95b39.png 2x, https://xkcd.com/2916/client/static/deb488.png 4x"}},1591:t=>{t.exports={width:46,height:46,url:{"2x":"https://xkcd.com/2916/client/static/681a4e.png","4x":"https://xkcd.com/2916/client/static/58a3e2.png"},srcSet:"https://xkcd.com/2916/client/static/681a4e.png 2x, https://xkcd.com/2916/client/static/58a3e2.png 4x"}},566:t=>{t.exports={width:47,height:75,url:{"2x":"https://xkcd.com/2916/client/static/25ec1a.png","4x":"https://xkcd.com/2916/client/static/0d0a93.png"},srcSet:"https://xkcd.com/2916/client/static/25ec1a.png 2x, https://xkcd.com/2916/client/static/0d0a93.png 4x"}},6747:t=>{t.exports={width:47,height:75,url:{"2x":"https://xkcd.com/2916/client/static/68c47d.png","4x":"https://xkcd.com/2916/client/static/a134da.png"},srcSet:"https://xkcd.com/2916/client/static/68c47d.png 2x, https://xkcd.com/2916/client/static/a134da.png 4x"}},1992:t=>{t.exports={width:47,height:75,url:{"2x":"https://xkcd.com/2916/client/static/4d5467.png","4x":"https://xkcd.com/2916/client/static/0ca232.png"},srcSet:"https://xkcd.com/2916/client/static/4d5467.png 2x, https://xkcd.com/2916/client/static/0ca232.png 4x"}},9045:t=>{t.exports={width:47,height:75,url:{"2x":"https://xkcd.com/2916/client/static/6dba5a.png","4x":"https://xkcd.com/2916/client/static/a88afd.png"},srcSet:"https://xkcd.com/2916/client/static/6dba5a.png 2x, https://xkcd.com/2916/client/static/a88afd.png 4x"}},9793:t=>{t.exports={width:78,height:134,url:{"2x":"https://xkcd.com/2916/client/static/85dcb9.png","4x":"https://xkcd.com/2916/client/static/912f23.png"},srcSet:"https://xkcd.com/2916/client/static/85dcb9.png 2x, https://xkcd.com/2916/client/static/912f23.png 4x"}},6991:t=>{t.exports={width:50,height:127,url:{"2x":"https://xkcd.com/2916/client/static/120110.png","4x":"https://xkcd.com/2916/client/static/980eae.png"},srcSet:"https://xkcd.com/2916/client/static/120110.png 2x, https://xkcd.com/2916/client/static/980eae.png 4x"}},512:t=>{t.exports={width:73,height:145,url:{"2x":"https://xkcd.com/2916/client/static/b6e607.png","4x":"https://xkcd.com/2916/client/static/56ebea.png"},srcSet:"https://xkcd.com/2916/client/static/b6e607.png 2x, https://xkcd.com/2916/client/static/56ebea.png 4x"}},9346:t=>{t.exports={width:52,height:139,url:{"2x":"https://xkcd.com/2916/client/static/079478.png","4x":"https://xkcd.com/2916/client/static/929243.png"},srcSet:"https://xkcd.com/2916/client/static/079478.png 2x, https://xkcd.com/2916/client/static/929243.png 4x"}},3931:t=>{t.exports={width:105,height:107,url:{"2x":"https://xkcd.com/2916/client/static/bcbc01.png","4x":"https://xkcd.com/2916/client/static/23595d.png"},srcSet:"https://xkcd.com/2916/client/static/bcbc01.png 2x, https://xkcd.com/2916/client/static/23595d.png 4x"}},3965:t=>{t.exports={width:48,height:137,url:{"2x":"https://xkcd.com/2916/client/static/0bb944.png","4x":"https://xkcd.com/2916/client/static/a18368.png"},srcSet:"https://xkcd.com/2916/client/static/0bb944.png 2x, https://xkcd.com/2916/client/static/a18368.png 4x"}},8621:t=>{t.exports={width:138,height:41,url:{"2x":"https://xkcd.com/2916/client/static/2d6deb.png","4x":"https://xkcd.com/2916/client/static/ebcf07.png"},srcSet:"https://xkcd.com/2916/client/static/2d6deb.png 2x, https://xkcd.com/2916/client/static/ebcf07.png 4x"}},6096:t=>{t.exports={width:239,height:27,url:{"2x":"https://xkcd.com/2916/client/static/1b1e79.png","4x":"https://xkcd.com/2916/client/static/cc9a60.png"},srcSet:"https://xkcd.com/2916/client/static/1b1e79.png 2x, https://xkcd.com/2916/client/static/cc9a60.png 4x"}},8337:t=>{t.exports={width:32,height:40,url:{"2x":"https://xkcd.com/2916/client/static/4d5b81.png","4x":"https://xkcd.com/2916/client/static/ef4a9d.png"},srcSet:"https://xkcd.com/2916/client/static/4d5b81.png 2x, https://xkcd.com/2916/client/static/ef4a9d.png 4x"}},9499:t=>{t.exports={width:52,height:141,url:{"2x":"https://xkcd.com/2916/client/static/406d05.png","4x":"https://xkcd.com/2916/client/static/b68d26.png"},srcSet:"https://xkcd.com/2916/client/static/406d05.png 2x, https://xkcd.com/2916/client/static/b68d26.png 4x"}},3498:t=>{t.exports={width:56,height:95,url:{"2x":"https://xkcd.com/2916/client/static/625a2e.png","4x":"https://xkcd.com/2916/client/static/5cd615.png"},srcSet:"https://xkcd.com/2916/client/static/625a2e.png 2x, https://xkcd.com/2916/client/static/5cd615.png 4x"}},9872:t=>{t.exports={width:56,height:95,url:{"2x":"https://xkcd.com/2916/client/static/cfd791.png","4x":"https://xkcd.com/2916/client/static/9438a2.png"},srcSet:"https://xkcd.com/2916/client/static/cfd791.png 2x, https://xkcd.com/2916/client/static/9438a2.png 4x"}},6602:t=>{t.exports={width:42,height:42,url:{"2x":"https://xkcd.com/2916/client/static/8d78c8.png","4x":"https://xkcd.com/2916/client/static/e4da72.png"},srcSet:"https://xkcd.com/2916/client/static/8d78c8.png 2x, https://xkcd.com/2916/client/static/e4da72.png 4x"}},1647:t=>{t.exports={width:42,height:42,url:{"2x":"https://xkcd.com/2916/client/static/0cbaa7.png","4x":"https://xkcd.com/2916/client/static/c8da89.png"},srcSet:"https://xkcd.com/2916/client/static/0cbaa7.png 2x, https://xkcd.com/2916/client/static/c8da89.png 4x"}},2476:t=>{t.exports={width:42,height:42,url:{"2x":"https://xkcd.com/2916/client/static/c4ace8.png","4x":"https://xkcd.com/2916/client/static/417cd5.png"},srcSet:"https://xkcd.com/2916/client/static/c4ace8.png 2x, https://xkcd.com/2916/client/static/417cd5.png 4x"}},8705:t=>{t.exports={width:42,height:42,url:{"2x":"https://xkcd.com/2916/client/static/c49abc.png","4x":"https://xkcd.com/2916/client/static/cdeb93.png"},srcSet:"https://xkcd.com/2916/client/static/c49abc.png 2x, https://xkcd.com/2916/client/static/cdeb93.png 4x"}},3502:t=>{t.exports={width:42,height:42,url:{"2x":"https://xkcd.com/2916/client/static/d24c5a.png","4x":"https://xkcd.com/2916/client/static/2f9663.png"},srcSet:"https://xkcd.com/2916/client/static/d24c5a.png 2x, https://xkcd.com/2916/client/static/2f9663.png 4x"}},1576:t=>{t.exports={width:99,height:86,url:{"2x":"https://xkcd.com/2916/client/static/bc114c.png","4x":"https://xkcd.com/2916/client/static/69f413.png"},srcSet:"https://xkcd.com/2916/client/static/bc114c.png 2x, https://xkcd.com/2916/client/static/69f413.png 4x"}},3485:t=>{t.exports={width:38,height:38,url:{"2x":"https://xkcd.com/2916/client/static/f2a087.png","4x":"https://xkcd.com/2916/client/static/75ef4b.png"},srcSet:"https://xkcd.com/2916/client/static/f2a087.png 2x, https://xkcd.com/2916/client/static/75ef4b.png 4x"}},7461:t=>{t.exports={width:158,height:156,url:{"2x":"https://xkcd.com/2916/client/static/f31887.png","4x":"https://xkcd.com/2916/client/static/055722.png"},srcSet:"https://xkcd.com/2916/client/static/f31887.png 2x, https://xkcd.com/2916/client/static/055722.png 4x"}},2077:t=>{t.exports={width:58,height:53,url:{"2x":"https://xkcd.com/2916/client/static/f5efa6.png","4x":"https://xkcd.com/2916/client/static/c9d39a.png"},srcSet:"https://xkcd.com/2916/client/static/f5efa6.png 2x, https://xkcd.com/2916/client/static/c9d39a.png 4x"}},9567:t=>{t.exports={width:47,height:47,url:{"2x":"https://xkcd.com/2916/client/static/aa0704.png","4x":"https://xkcd.com/2916/client/static/760f5e.png"},srcSet:"https://xkcd.com/2916/client/static/aa0704.png 2x, https://xkcd.com/2916/client/static/760f5e.png 4x"}},6316:t=>{t.exports={width:141,height:39,url:{"2x":"https://xkcd.com/2916/client/static/f245b2.png","4x":"https://xkcd.com/2916/client/static/de9088.png"},srcSet:"https://xkcd.com/2916/client/static/f245b2.png 2x, https://xkcd.com/2916/client/static/de9088.png 4x"}},7929:t=>{t.exports={width:195,height:420,url:{"2x":"https://xkcd.com/2916/client/static/1f9482.png","4x":"https://xkcd.com/2916/client/static/4c8bbf.png"},srcSet:"https://xkcd.com/2916/client/static/1f9482.png 2x, https://xkcd.com/2916/client/static/4c8bbf.png 4x"}},8922:t=>{t.exports={width:195,height:420,url:{"2x":"https://xkcd.com/2916/client/static/cb6b1c.png","4x":"https://xkcd.com/2916/client/static/564375.png"},srcSet:"https://xkcd.com/2916/client/static/cb6b1c.png 2x, https://xkcd.com/2916/client/static/564375.png 4x"}},2256:t=>{t.exports={width:195,height:420,url:{"2x":"https://xkcd.com/2916/client/static/820d6c.png","4x":"https://xkcd.com/2916/client/static/7554b5.png"},srcSet:"https://xkcd.com/2916/client/static/820d6c.png 2x, https://xkcd.com/2916/client/static/7554b5.png 4x"}},4925:t=>{t.exports={width:195,height:420,url:{"2x":"https://xkcd.com/2916/client/static/67e17b.png","4x":"https://xkcd.com/2916/client/static/f688aa.png"},srcSet:"https://xkcd.com/2916/client/static/67e17b.png 2x, https://xkcd.com/2916/client/static/f688aa.png 4x"}},8828:t=>{t.exports={width:195,height:420,url:{"2x":"https://xkcd.com/2916/client/static/2f7c53.png","4x":"https://xkcd.com/2916/client/static/2c8606.png"},srcSet:"https://xkcd.com/2916/client/static/2f7c53.png 2x, https://xkcd.com/2916/client/static/2c8606.png 4x"}},5121:t=>{t.exports={width:195,height:420,url:{"2x":"https://xkcd.com/2916/client/static/254133.png","4x":"https://xkcd.com/2916/client/static/c1b589.png"},srcSet:"https://xkcd.com/2916/client/static/254133.png 2x, https://xkcd.com/2916/client/static/c1b589.png 4x"}},2633:t=>{t.exports={width:195,height:420,url:{"2x":"https://xkcd.com/2916/client/static/8e6645.png","4x":"https://xkcd.com/2916/client/static/34e27b.png"},srcSet:"https://xkcd.com/2916/client/static/8e6645.png 2x, https://xkcd.com/2916/client/static/34e27b.png 4x"}},9482:t=>{t.exports={width:195,height:420,url:{"2x":"https://xkcd.com/2916/client/static/92f494.png","4x":"https://xkcd.com/2916/client/static/dfefec.png"},srcSet:"https://xkcd.com/2916/client/static/92f494.png 2x, https://xkcd.com/2916/client/static/dfefec.png 4x"}},5699:t=>{t.exports={width:47,height:47,url:{"2x":"https://xkcd.com/2916/client/static/5336bb.png","4x":"https://xkcd.com/2916/client/static/3aadb2.png"},srcSet:"https://xkcd.com/2916/client/static/5336bb.png 2x, https://xkcd.com/2916/client/static/3aadb2.png 4x"}},2871:t=>{t.exports={width:56,height:95,url:{"2x":"https://xkcd.com/2916/client/static/7c8f8d.png","4x":"https://xkcd.com/2916/client/static/ae048b.png"},srcSet:"https://xkcd.com/2916/client/static/7c8f8d.png 2x, https://xkcd.com/2916/client/static/ae048b.png 4x"}},59:t=>{t.exports={width:56,height:95,url:{"2x":"https://xkcd.com/2916/client/static/5ca67e.png","4x":"https://xkcd.com/2916/client/static/86490e.png"},srcSet:"https://xkcd.com/2916/client/static/5ca67e.png 2x, https://xkcd.com/2916/client/static/86490e.png 4x"}},6639:t=>{t.exports={width:221,height:272,url:{"2x":"https://xkcd.com/2916/client/static/96a68a.png","4x":"https://xkcd.com/2916/client/static/2a4457.png"},srcSet:"https://xkcd.com/2916/client/static/96a68a.png 2x, https://xkcd.com/2916/client/static/2a4457.png 4x"}},5745:t=>{t.exports={width:207,height:270,url:{"2x":"https://xkcd.com/2916/client/static/4ec76a.png","4x":"https://xkcd.com/2916/client/static/1d2de6.png"},srcSet:"https://xkcd.com/2916/client/static/4ec76a.png 2x, https://xkcd.com/2916/client/static/1d2de6.png 4x"}},7597:t=>{t.exports={width:207,height:250,url:{"2x":"https://xkcd.com/2916/client/static/41510c.png","4x":"https://xkcd.com/2916/client/static/f9583f.png"},srcSet:"https://xkcd.com/2916/client/static/41510c.png 2x, https://xkcd.com/2916/client/static/f9583f.png 4x"}},7776:t=>{t.exports={width:46,height:47,url:{"2x":"https://xkcd.com/2916/client/static/f5d4a3.png","4x":"https://xkcd.com/2916/client/static/a5d4b0.png"},srcSet:"https://xkcd.com/2916/client/static/f5d4a3.png 2x, https://xkcd.com/2916/client/static/a5d4b0.png 4x"}},5278:t=>{t.exports={width:46,height:46,url:{"2x":"https://xkcd.com/2916/client/static/32967a.png","4x":"https://xkcd.com/2916/client/static/037597.png"},srcSet:"https://xkcd.com/2916/client/static/32967a.png 2x, https://xkcd.com/2916/client/static/037597.png 4x"}},4375:t=>{t.exports={width:24,height:24,url:{"2x":"https://xkcd.com/2916/client/static/8cb873.png","4x":"https://xkcd.com/2916/client/static/1a351d.png"},srcSet:"https://xkcd.com/2916/client/static/8cb873.png 2x, https://xkcd.com/2916/client/static/1a351d.png 4x"}},8740:(t,e)=>{"use strict";function n(t,e){if(e)return t;throw new Error("Unhandled discriminated union member: "+JSON.stringify(t))}e.Ay=n},4146:(t,e,n)=>{"use strict";var r=n(4363),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&t(e,i,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var s=l(e),g=l(n),v=0;v<a.length;++v){var m=a[v];if(!(o[m]||r&&r[m]||g&&g[m]||s&&s[m])){var y=f(n,m);try{u(e,m,y)}catch(t){}}}}return e}},2551:(t,e,n)=>{"use strict";
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(6540),i=n(9982);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){v[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];v[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){v[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){v[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){v[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){v[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){v[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){v[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){v[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=v.hasOwnProperty(e)?v[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!d.call(h,t)||!d.call(p,t)&&(f.test(t)?h[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,y);v[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,y);v[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,y);v[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),T=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function B(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=z&&t[z]||t["@@iterator"])?t:null}var F,I=Object.assign;function L(t){if(void 0===F)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);F=e&&e[1]||""}return"\n"+F+t}var N=!1;function j(t,e){if(!t||N)return"";N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=s);break}}}finally{N=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?L(t):""}function V(t){switch(t.tag){case 5:return L(t.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return t=j(t.type,!1);case 11:return t=j(t.type.render,!1);case 1:return t=j(t.type,!0);default:return""}}function q(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case k:return"Fragment";case S:return"Portal";case C:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case R:return(t._context.displayName||"Context")+".Provider";case P:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case O:return null!==(e=t.displayName||null)?e:q(t.type)||"Memo";case _:e=t._payload,t=t._init;try{return q(t(e))}catch(t){}}return null}function G(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(e);case 8:return e===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e}return null}function $(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function U(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function H(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Y(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function X(t,e){var n=e.checked;return I({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Q(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=$(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function K(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function Z(t,e){K(t,e);var n=$(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,$(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return I({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:$(n)}}function ot(t,e){var n=$(e.value),r=$(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ut,ct,dt=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function ft(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ht=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||pt.hasOwnProperty(t)&&pt[t]?(""+e).trim():e+"px"}function vt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=gt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(pt).forEach((function(t){ht.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pt[e]=pt[t]}))}));var mt=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(mt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var St=null,kt=null,Et=null;function Ct(t){if(t=bi(t)){if("function"!=typeof St)throw Error(o(280));var e=t.stateNode;e&&(e=wi(e),St(t.stateNode,t.type,e))}}function Rt(t){kt?Et?Et.push(t):Et=[t]:kt=t}function Tt(){if(kt){var t=kt,e=Et;if(Et=kt=null,Ct(t),e)for(t=0;t<e.length;t++)Ct(e[t])}}function Pt(t,e){return t(e)}function Mt(){}var Dt=!1;function Ot(t,e,n){if(Dt)return t(e,n);Dt=!0;try{return Pt(t,e,n)}finally{Dt=!1,(null!==kt||null!==Et)&&(Mt(),Tt())}}function _t(t,e){var n=t.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(o(231,e,typeof n));return n}var At=!1;if(c)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){At=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(ct){At=!1}function Bt(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){this.onError(t)}}var Ft=!1,It=null,Lt=!1,Nt=null,jt={onError:function(t){Ft=!0,It=t}};function Vt(t,e,n,r,i,o,a,s,l){Ft=!1,It=null,Bt.apply(jt,arguments)}function qt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{!!(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Gt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function $t(t){if(qt(t)!==t)throw Error(o(188))}function Wt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=qt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $t(i),t;if(a===r)return $t(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?Ut(t):null}function Ut(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Ut(t);if(null!==e)return e;t=t.sibling}return null}var Ht=i.unstable_scheduleCallback,Yt=i.unstable_cancelCallback,Xt=i.unstable_shouldYield,Qt=i.unstable_requestPaint,Kt=i.unstable_now,Zt=i.unstable_getCurrentPriorityLevel,Jt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2;var ue=64,ce=4194304;function de(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=de(s):0!==(o&=a)&&(r=de(o))}else 0!==(a=n&~i)?r=de(a):0!==o&&(r=de(o));if(0===r)return 0;if(0!==e&&e!==r&&!(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&4194240&o))return e;if(4&r&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function pe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function he(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ue;return!(4194240&(ue<<=1))&&(ue=64),t}function ve(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function me(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function xe(t){return 1<(t&=-t)?4<t?268435455&t?16:536870912:4:1}var we,Se,ke,Ee,Ce,Re=!1,Te=[],Pe=null,Me=null,De=null,Oe=new Map,_e=new Map,Ae=[],ze="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Be(t,e){switch(t){case"focusin":case"focusout":Pe=null;break;case"dragenter":case"dragleave":Me=null;break;case"mouseover":case"mouseout":De=null;break;case"pointerover":case"pointerout":Oe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_e.delete(e.pointerId)}}function Fe(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=bi(e))&&Se(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Ie(t){var e=yi(t.target);if(null!==e){var n=qt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Gt(n)))return t.blockedOn=e,void Ce(t.priority,(function(){ke(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Le(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=bi(n))&&Se(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);xt=r,n.target.dispatchEvent(r),xt=null,e.shift()}return!0}function Ne(t,e,n){Le(t)&&n.delete(e)}function je(){Re=!1,null!==Pe&&Le(Pe)&&(Pe=null),null!==Me&&Le(Me)&&(Me=null),null!==De&&Le(De)&&(De=null),Oe.forEach(Ne),_e.forEach(Ne)}function Ve(t,e){t.blockedOn===e&&(t.blockedOn=null,Re||(Re=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,je)))}function qe(t){function e(e){return Ve(e,t)}if(0<Te.length){Ve(Te[0],t);for(var n=1;n<Te.length;n++){var r=Te[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Pe&&Ve(Pe,t),null!==Me&&Ve(Me,t),null!==De&&Ve(De,t),Oe.forEach(e),_e.forEach(e),n=0;n<Ae.length;n++)(r=Ae[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Ae.length&&null===(n=Ae[0]).blockedOn;)Ie(n),null===n.blockedOn&&Ae.shift()}var Ge=x.ReactCurrentBatchConfig,$e=!0;function We(t,e,n,r){var i=be,o=Ge.transition;Ge.transition=null;try{be=1,He(t,e,n,r)}finally{be=i,Ge.transition=o}}function Ue(t,e,n,r){var i=be,o=Ge.transition;Ge.transition=null;try{be=4,He(t,e,n,r)}finally{be=i,Ge.transition=o}}function He(t,e,n,r){if($e){var i=Xe(t,e,n,r);if(null===i)$r(t,e,r,Ye,n),Be(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Pe=Fe(Pe,t,e,n,r,i),!0;case"dragenter":return Me=Fe(Me,t,e,n,r,i),!0;case"mouseover":return De=Fe(De,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Oe.set(o,Fe(Oe.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,_e.set(o,Fe(_e.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Be(t,r),4&e&&-1<ze.indexOf(t)){for(;null!==i;){var o=bi(i);if(null!==o&&we(o),null===(o=Xe(t,e,n,r))&&$r(t,e,r,Ye,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else $r(t,e,r,null,n)}}var Ye=null;function Xe(t,e,n,r){if(Ye=null,null!==(t=yi(t=wt(r))))if(null===(e=qt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Gt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ye=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case Jt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Ke=null,Ze=null,Je=null;function tn(){if(Je)return Je;var t,e,n=Ze,r=n.length,i="value"in Ke?Ke.value:Ke.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Je=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=I({},un,{view:0,detail:0}),fn=on(dn),pn=I({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(an=t.screenX-ln.screenX,sn=t.screenY-ln.screenY):sn=an=0,ln=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),hn=on(pn),gn=on(I({},pn,{dataTransfer:0})),vn=on(I({},dn,{relatedTarget:0})),mn=on(I({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=I({},un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=on(yn),xn=on(I({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=kn[t])&&!!e[t]}function Cn(){return En}var Rn=I({},dn,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Tn=on(Rn),Pn=on(I({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=on(I({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=on(I({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=I({},pn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=on(On),An=[9,13,27,32],zn=c&&"CompositionEvent"in window,Bn=null;c&&"documentMode"in document&&(Bn=document.documentMode);var Fn=c&&"TextEvent"in window&&!Bn,In=c&&(!zn||Bn&&8<Bn&&11>=Bn),Ln=String.fromCharCode(32),Nn=!1;function jn(t,e){switch(t){case"keyup":return-1!==An.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var qn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Gn[t.type]:"textarea"===e}function Wn(t,e,n,r){Rt(r),0<(e=Ur(e,"onChange")).length&&(n=new cn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Un=null,Hn=null;function Yn(t){Lr(t,0)}function Xn(t){if(H(xi(t)))return t}function Qn(t,e){if("change"===t)return e}var Kn=!1;if(c){var Zn;if(c){var Jn="oninput"in document;if(!Jn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Jn="function"==typeof tr.oninput}Zn=Jn}else Zn=!1;Kn=Zn&&(!document.documentMode||9<document.documentMode)}function er(){Un&&(Un.detachEvent("onpropertychange",nr),Hn=Un=null)}function nr(t){if("value"===t.propertyName&&Xn(Hn)){var e=[];Wn(e,Hn,t,wt(t)),Ot(Yn,e)}}function rr(t,e,n){"focusin"===t?(er(),Hn=n,(Un=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Xn(Hn)}function or(t,e){if("click"===t)return Xn(e)}function ar(t,e){if("input"===t||"change"===t)return Xn(e)}var sr="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e};function lr(t,e){if(sr(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function ur(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var n,r=ur(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=ur(r)}}function dr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?dr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fr(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function pr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function hr(t){var e=fr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,yr=null,br=!1;function xr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==Y(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Ur(mr,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vr)))}function wr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function Cr(t){if(kr[t])return kr[t];if(!Sr[t])return t;var e,n=Sr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Er)return kr[t]=n[e];return t}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Rr=Cr("animationend"),Tr=Cr("animationiteration"),Pr=Cr("animationstart"),Mr=Cr("transitionend"),Dr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(t,e){Dr.set(t,e),l(e,[t])}for(var Ar=0;Ar<Or.length;Ar++){var zr=Or[Ar];_r(zr.toLowerCase(),"on"+(zr[0].toUpperCase()+zr.slice(1)))}_r(Rr,"onAnimationEnd"),_r(Tr,"onAnimationIteration"),_r(Pr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(Mr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function Ir(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,l,u){if(Vt.apply(this,arguments),Ft){if(!Ft)throw Error(o(198));var c=It;Ft=!1,It=null,Lt||(Lt=!0,Nt=c)}}(r,e,void 0,t),t.currentTarget=null}function Lr(t,e){e=!!(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Ir(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Ir(i,s,u),o=l}}}if(Lt)throw t=Nt,Lt=!1,Nt=null,t}function Nr(t,e){var n=e[gi];void 0===n&&(n=e[gi]=new Set);var r=t+"__bubble";n.has(r)||(Gr(e,t,2,!1),n.add(r))}function jr(t,e,n){var r=0;e&&(r|=4),Gr(n,t,r,e)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(t){if(!t[Vr]){t[Vr]=!0,a.forEach((function(e){"selectionchange"!==e&&(Fr.has(e)||jr(e,!1,t),jr(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Vr]||(e[Vr]=!0,jr("selectionchange",!1,e))}}function Gr(t,e,n,r){switch(Qe(e)){case 1:var i=We;break;case 4:i=Ue;break;default:i=He}n=i.bind(null,e,n,t),i=void 0,!At||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $r(t,e,n,r,i){var o=r;if(!(1&e||2&e||null===r))t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}Ot((function(){var r=o,i=wt(n),a=[];t:{var s=Dr.get(t);if(void 0!==s){var l=cn,u=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Rr:case Tr:case Pr:l=mn;break;case Mr:l=Dn;break;case"scroll":l=fn;break;case"wheel":l=_n;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var c=!!(4&e),d=!c&&"scroll"===t,f=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var g=(p=h).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==f&&(null!=(g=_t(h,f))&&c.push(Wr(h,g,p)))),d)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(!(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===xt||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[hi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=qt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=hn,g="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==t&&"pointerover"!==t||(c=Pn,g="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==l?s:xi(l),p=null==u?s:xi(u),(s=new c(g,h+"leave",l,n,i)).target=d,s.relatedTarget=p,g=null,yi(i)===r&&((c=new c(f,h+"enter",u,n,i)).target=p,c.relatedTarget=d,g=c),d=g,l&&u)t:{for(f=u,h=0,p=c=l;p;p=Hr(p))h++;for(p=0,g=f;g;g=Hr(g))p++;for(;0<h-p;)c=Hr(c),h--;for(;0<p-h;)f=Hr(f),p--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break t;c=Hr(c),f=Hr(f)}c=null}else c=null;null!==l&&Yr(a,s,l,c,!1),null!==u&&null!==d&&Yr(a,d,u,c,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Qn;else if($n(s))if(Kn)v=ar;else{v=ir;var m=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(t,r))?Wn(a,v,n,i):(m&&m(t,s,r),"focusout"===t&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&tt(s,"number",s.value)),m=r?xi(r):window,t){case"focusin":($n(m)||"true"===m.contentEditable)&&(vr=m,mr=r,yr=null);break;case"focusout":yr=mr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(a,n,i)}var y;if(zn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else qn?jn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(In&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=tn()):(Ze="value"in(Ke=i)?Ke.value:Ke.textContent,qn=!0)),0<(m=Ur(r,b)).length&&(b=new xn(b,t,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Fn?function(t,e){switch(t){case"compositionend":return Vn(e);case"keypress":return 32!==e.which?null:(Nn=!0,Ln);case"textInput":return(t=e.data)===Ln&&Nn?null:t;default:return null}}(t,n):function(t,e){if(qn)return"compositionend"===t||!zn&&jn(t,e)?(t=tn(),Je=Ze=Ke=null,qn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return In&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Lr(a,e)}))}function Wr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ur(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=_t(t,n))&&r.unshift(Wr(t,o,i)),null!=(o=_t(t,e))&&r.push(Wr(t,o,i))),t=t.return}return r}function Hr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Yr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=_t(n,o))&&a.unshift(Wr(n,l,s)):i||null!=(l=_t(n,o))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Xr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Kr(t){return("string"==typeof t?t:""+t).replace(Xr,"\n").replace(Qr,"")}function Zr(t,e,n){if(e=Kr(e),Kr(t)!==e&&n)throw Error(o(425))}function Jr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void qe(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qe(e)}function ui(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ci(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,pi="__reactProps$"+di,hi="__reactContainer$"+di,gi="__reactEvents$"+di,vi="__reactListeners$"+di,mi="__reactHandles$"+di;function yi(t){var e=t[fi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hi]||n[fi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ci(t);null!==t;){if(n=t[fi])return n;t=ci(t)}return e}n=(t=n).parentNode}return null}function bi(t){return!(t=t[fi]||t[hi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function xi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function wi(t){return t[pi]||null}var Si=[],ki=-1;function Ei(t){return{current:t}}function Ci(t){0>ki||(t.current=Si[ki],Si[ki]=null,ki--)}function Ri(t,e){ki++,Si[ki]=t.current,t.current=e}var Ti={},Pi=Ei(Ti),Mi=Ei(!1),Di=Ti;function Oi(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function _i(t){return null!=(t=t.childContextTypes)}function Ai(){Ci(Mi),Ci(Pi)}function zi(t,e,n){if(Pi.current!==Ti)throw Error(o(168));Ri(Pi,e),Ri(Mi,n)}function Bi(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,G(t)||"Unknown",i));return I({},n,r)}function Fi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,Di=Pi.current,Ri(Pi,t),Ri(Mi,Mi.current),!0}function Ii(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Bi(t,e,Di),r.__reactInternalMemoizedMergedChildContext=t,Ci(Mi),Ci(Pi),Ri(Pi,t)):Ci(Mi),Ri(Mi,n)}var Li=null,Ni=!1,ji=!1;function Vi(t){null===Li?Li=[t]:Li.push(t)}function qi(){if(!ji&&null!==Li){ji=!0;var t=0,e=be;try{var n=Li;for(be=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}Li=null,Ni=!1}catch(e){throw null!==Li&&(Li=Li.slice(t+1)),Ht(Jt,qi),e}finally{be=e,ji=!1}}return null}var Gi=[],$i=0,Wi=null,Ui=0,Hi=[],Yi=0,Xi=null,Qi=1,Ki="";function Zi(t,e){Gi[$i++]=Ui,Gi[$i++]=Wi,Wi=t,Ui=e}function Ji(t,e,n){Hi[Yi++]=Qi,Hi[Yi++]=Ki,Hi[Yi++]=Xi,Xi=t;var r=Qi;t=Ki;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-ae(e)+i|n<<i|r,Ki=o+t}else Qi=1<<o|n<<i|r,Ki=t}function to(t){null!==t.return&&(Zi(t,1),Ji(t,1,0))}function eo(t){for(;t===Wi;)Wi=Gi[--$i],Gi[$i]=null,Ui=Gi[--$i],Gi[$i]=null;for(;t===Xi;)Xi=Hi[--Yi],Hi[Yi]=null,Ki=Hi[--Yi],Hi[Yi]=null,Qi=Hi[--Yi],Hi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=_u(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=ui(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Xi?{id:Qi,overflow:Ki}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=_u(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function lo(t){return!(!(1&t.mode)||128&t.flags)}function uo(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(lo(t))throw Error(o(418));e=ui(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function co(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function fo(t){if(t!==no)return!1;if(!io)return co(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(lo(t))throw po(),Error(o(418));for(;e;)ao(t,e),e=ui(e.nextSibling)}if(co(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=ui(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?ui(t.stateNode.nextSibling):null;return!0}function po(){for(var t=ro;t;)t=ui(t.nextSibling)}function ho(){ro=no=null,io=!1}function go(t){null===oo?oo=[t]:oo.push(t)}var vo=x.ReactCurrentBatchConfig;function mo(t,e){if(t&&t.defaultProps){for(var n in e=I({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var yo=Ei(null),bo=null,xo=null,wo=null;function So(){wo=xo=bo=null}function ko(t){var e=yo.current;Ci(yo),t._currentValue=e}function Eo(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Co(t,e){bo=t,wo=xo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(!!(t.lanes&e)&&(xs=!0),t.firstContext=null)}function Ro(t){var e=t._currentValue;if(wo!==t)if(t={context:t,memoizedValue:e,next:null},null===xo){if(null===bo)throw Error(o(308));xo=t,bo.dependencies={lanes:0,firstContext:t}}else xo=xo.next=t;return e}var To=null;function Po(t){null===To?To=[t]:To.push(t)}function Mo(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Po(e)):(n.next=i.next,i.next=n),e.interleaved=n,Do(t,r)}function Do(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function _o(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bo(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,2&Ml){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Do(t,n)}return null===(i=r.interleaved)?(e.next=e,Po(r)):(e.next=i.next,i.next=e),r.interleaved=e,Do(t,n)}function Fo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}function Io(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lo(t,e,n,r){var i=t.updateQueue;Oo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=t.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var h=t,g=s;switch(f=e,p=n,g.tag){case 1:if("function"==typeof(h=g.payload)){d=h.call(p,d,f);break t}d=h;break t;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(f="function"==typeof(h=g.payload)?h.call(p,d,f):h))break t;d=I({},d,f);break t;case 2:Oo=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Il|=a,t.lanes=a,t.memoizedState=d}}function No(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var jo=(new r.Component).refs;function Vo(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:I({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var qo={isMounted:function(t){return!!(t=t._reactInternals)&&qt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=eu(),i=nu(t),o=zo(r,i);o.payload=e,null!=n&&(o.callback=n),null!==(e=Bo(t,o,i))&&(ru(e,t,i,r),Fo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=eu(),i=nu(t),o=zo(r,i);o.tag=1,o.payload=e,null!=n&&(o.callback=n),null!==(e=Bo(t,o,i))&&(ru(e,t,i,r),Fo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=eu(),r=nu(t),i=zo(n,r);i.tag=2,null!=e&&(i.callback=e),null!==(e=Bo(t,i,r))&&(ru(e,t,r,n),Fo(e,t,r))}};function Go(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function $o(t,e,n){var r=!1,i=Ti,o=e.contextType;return"object"==typeof o&&null!==o?o=Ro(o):(i=_i(e)?Di:Pi.current,o=(r=null!=(r=e.contextTypes))?Oi(t,i):Ti),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=qo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Wo(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qo.enqueueReplaceState(e,e.state,null)}function Uo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=jo,_o(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=Ro(o):(o=_i(e)?Di:Pi.current,i.context=Oi(t,o)),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(Vo(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&qo.enqueueReplaceState(i,i.state,null),Lo(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308)}function Ho(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;e===jo&&(e=i.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!=typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Yo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xo(t){return(0,t._init)(t._payload)}function Qo(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=zu(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Lu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,r){var o=n.type;return o===k?d(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===_&&Xo(o)===e.type)?((r=i(e,n.props)).ref=Ho(t,e,n),r.return=t,r):((r=Bu(n.type,n.key,n.props,null,t.mode,r)).ref=Ho(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Nu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function d(t,e,n,r,o){return null===e||7!==e.tag?((e=Fu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"==typeof e&&""!==e||"number"==typeof e)return(e=Lu(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Bu(e.type,e.key,e.props,null,t.mode,n)).ref=Ho(t,null,e),n.return=t,n;case S:return(e=Nu(e,t.mode,n)).return=t,e;case _:return f(t,(0,e._init)(e._payload),n)}if(et(e)||B(e))return(e=Fu(e,t.mode,n,null)).return=t,e;Yo(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(t,e,n,r):null;case S:return n.key===i?c(t,e,n,r):null;case _:return p(t,e,(i=n._init)(n._payload),r)}if(et(n)||B(n))return null!==i?null:d(t,e,n,r,null);Yo(t,n)}return null}function h(t,e,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case S:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case _:return h(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||B(r))return d(e,t=t.get(n)||null,r,i,null);Yo(e,r)}return null}function g(i,o,s,l){for(var u=null,c=null,d=o,g=o=0,v=null;null!==d&&g<s.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var m=p(i,d,s[g],l);if(null===m){null===d&&(d=v);break}t&&d&&null===m.alternate&&e(i,d),o=a(m,o,g),null===c?u=m:c.sibling=m,c=m,d=v}if(g===s.length)return n(i,d),io&&Zi(i,g),u;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],l))&&(o=a(d,o,g),null===c?u=d:c.sibling=d,c=d);return io&&Zi(i,g),u}for(d=r(i,d);g<s.length;g++)null!==(v=h(d,i,g,s[g],l))&&(t&&null!==v.alternate&&d.delete(null===v.key?g:v.key),o=a(v,o,g),null===c?u=v:c.sibling=v,c=v);return t&&d.forEach((function(t){return e(i,t)})),io&&Zi(i,g),u}function v(i,s,l,u){var c=B(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,g=s,v=s=0,m=null,y=l.next();null!==g&&!y.done;v++,y=l.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=p(i,g,y.value,u);if(null===b){null===g&&(g=m);break}t&&g&&null===b.alternate&&e(i,g),s=a(b,s,v),null===d?c=b:d.sibling=b,d=b,g=m}if(y.done)return n(i,g),io&&Zi(i,v),c;if(null===g){for(;!y.done;v++,y=l.next())null!==(y=f(i,y.value,u))&&(s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);return io&&Zi(i,v),c}for(g=r(i,g);!y.done;v++,y=l.next())null!==(y=h(g,i,v,y.value,u))&&(t&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);return t&&g.forEach((function(t){return e(i,t)})),io&&Zi(i,v),c}return function t(r,o,a,l){if("object"==typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case w:t:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===k){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break t}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===_&&Xo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Ho(r,c,a),o.return=r,r=o;break t}n(r,c);break}e(r,c),c=c.sibling}a.type===k?((o=Fu(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Bu(a.type,a.key,a.props,null,r.mode,l)).ref=Ho(r,o,a),l.return=r,r=l)}return s(r);case S:t:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=Nu(a,r.mode,l)).return=r,r=o}return s(r);case _:return t(r,o,(c=a._init)(a._payload),l)}if(et(a))return g(r,o,a,l);if(B(a))return v(r,o,a,l);Yo(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lu(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Ko=Qo(!0),Zo=Qo(!1),Jo={},ta=Ei(Jo),ea=Ei(Jo),na=Ei(Jo);function ra(t){if(t===Jo)throw Error(o(174));return t}function ia(t,e){switch(Ri(na,e),Ri(ea,t),Ri(ta,Jo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ci(ta),Ri(ta,e)}function oa(){Ci(ta),Ci(ea),Ci(na)}function aa(t){ra(na.current);var e=ra(ta.current),n=lt(e,t.type);e!==n&&(Ri(ea,t),Ri(ta,n))}function sa(t){ea.current===t&&(Ci(ta),Ci(ea))}var la=Ei(0);function ua(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(128&e.flags)return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ca=[];function da(){for(var t=0;t<ca.length;t++)ca[t]._workInProgressVersionPrimary=null;ca.length=0}var fa=x.ReactCurrentDispatcher,pa=x.ReactCurrentBatchConfig,ha=0,ga=null,va=null,ma=null,ya=!1,ba=!1,xa=0,wa=0;function Sa(){throw Error(o(321))}function ka(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function Ea(t,e,n,r,i,a){if(ha=a,ga=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fa.current=null===t||null===t.memoizedState?ss:ls,t=n(r,i),ba){a=0;do{if(ba=!1,xa=0,25<=a)throw Error(o(301));a+=1,ma=va=null,e.updateQueue=null,fa.current=us,t=n(r,i)}while(ba)}if(fa.current=as,e=null!==va&&null!==va.next,ha=0,ma=va=ga=null,ya=!1,e)throw Error(o(300));return t}function Ca(){var t=0!==xa;return xa=0,t}function Ra(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?ga.memoizedState=ma=t:ma=ma.next=t,ma}function Ta(){if(null===va){var t=ga.alternate;t=null!==t?t.memoizedState:null}else t=va.next;var e=null===ma?ga.memoizedState:ma.next;if(null!==e)ma=e,va=t;else{if(null===t)throw Error(o(310));t={memoizedState:(va=t).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ma?ga.memoizedState=ma=t:ma=ma.next=t}return ma}function Pa(t,e){return"function"==typeof e?e(t):e}function Ma(t){var e=Ta(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((ha&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,ga.lanes|=d,Il|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,e.memoizedState)||(xs=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,ga.lanes|=a,Il|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Da(t){var e=Ta(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(xs=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Oa(){}function _a(t,e){var n=ga,r=Ta(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,xs=!0),r=r.queue,$a(Ba.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,Na(9,za.bind(null,n,r,i,e),void 0,null),null===Dl)throw Error(o(349));30&ha||Aa(n,e,i)}return i}function Aa(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function za(t,e,n,r){e.value=n,e.getSnapshot=r,Fa(e)&&Ia(t)}function Ba(t,e,n){return n((function(){Fa(e)&&Ia(t)}))}function Fa(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(t){return!0}}function Ia(t){var e=Do(t,1);null!==e&&ru(e,t,1,-1)}function La(t){var e=Ra();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:t},e.queue=t,t=t.dispatch=ns.bind(null,ga,t),[e.memoizedState,t]}function Na(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ja(){return Ta().memoizedState}function Va(t,e,n,r){var i=Ra();ga.flags|=t,i.memoizedState=Na(1|e,n,void 0,void 0===r?null:r)}function qa(t,e,n,r){var i=Ta();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&ka(r,a.deps))return void(i.memoizedState=Na(e,n,o,r))}ga.flags|=t,i.memoizedState=Na(1|e,n,o,r)}function Ga(t,e){return Va(8390656,8,t,e)}function $a(t,e){return qa(2048,8,t,e)}function Wa(t,e){return qa(4,2,t,e)}function Ua(t,e){return qa(4,4,t,e)}function Ha(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ya(t,e,n){return n=null!=n?n.concat([t]):null,qa(4,4,Ha.bind(null,e,t),n)}function Xa(){}function Qa(t,e){var n=Ta();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ka(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ka(t,e){var n=Ta();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ka(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Za(t,e,n){return 21&ha?(sr(n,e)||(n=ge(),ga.lanes|=n,Il|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xs=!0),t.memoizedState=n)}function Ja(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var r=pa.transition;pa.transition={};try{t(!1),e()}finally{be=n,pa.transition=r}}function ts(){return Ta().memoizedState}function es(t,e,n){var r=nu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(t))is(e,n);else if(null!==(n=Mo(t,e,n,r))){ru(n,t,r,eu()),os(n,e,r)}}function ns(t,e,n){var r=nu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(t))is(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=e.interleaved;return null===l?(i.next=i,Po(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(t){}null!==(n=Mo(t,e,i,r))&&(ru(n,t,r,i=eu()),os(n,e,r))}}function rs(t){var e=t.alternate;return t===ga||null!==e&&e===ga}function is(t,e){ba=ya=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function os(t,e,n){if(4194240&n){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ye(t,n)}}var as={readContext:Ro,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:Ro,useCallback:function(t,e){return Ra().memoizedState=[t,void 0===e?null:e],t},useContext:Ro,useEffect:Ga,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,Va(4194308,4,Ha.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Va(4194308,4,t,e)},useInsertionEffect:function(t,e){return Va(4,2,t,e)},useMemo:function(t,e){var n=Ra();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ra();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=es.bind(null,ga,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Ra().memoizedState=t},useState:La,useDebugValue:Xa,useDeferredValue:function(t){return Ra().memoizedState=t},useTransition:function(){var t=La(!1),e=t[0];return t=Ja.bind(null,t[1]),Ra().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ga,i=Ra();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Dl)throw Error(o(349));30&ha||Aa(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Ga(Ba.bind(null,r,a,t),[t]),r.flags|=2048,Na(9,za.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Ra(),e=Dl.identifierPrefix;if(io){var n=Ki;e=":"+e+"R"+(n=(Qi&~(1<<32-ae(Qi)-1)).toString(32)+n),0<(n=xa++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=wa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ls={readContext:Ro,useCallback:Qa,useContext:Ro,useEffect:$a,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:Ua,useMemo:Ka,useReducer:Ma,useRef:ja,useState:function(){return Ma(Pa)},useDebugValue:Xa,useDeferredValue:function(t){return Za(Ta(),va.memoizedState,t)},useTransition:function(){return[Ma(Pa)[0],Ta().memoizedState]},useMutableSource:Oa,useSyncExternalStore:_a,useId:ts,unstable_isNewReconciler:!1},us={readContext:Ro,useCallback:Qa,useContext:Ro,useEffect:$a,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:Ua,useMemo:Ka,useReducer:Da,useRef:ja,useState:function(){return Da(Pa)},useDebugValue:Xa,useDeferredValue:function(t){var e=Ta();return null===va?e.memoizedState=t:Za(e,va.memoizedState,t)},useTransition:function(){return[Da(Pa)[0],Ta().memoizedState]},useMutableSource:Oa,useSyncExternalStore:_a,useId:ts,unstable_isNewReconciler:!1};function cs(t,e){try{var n="",r=e;do{n+=V(r),r=r.return}while(r);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i,digest:null}}function ds(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function fs(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function hs(t,e,n){(n=zo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wl||(Wl=!0,Ul=r),fs(0,e)},n}function gs(t,e,n){(n=zo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,e)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){fs(0,e),"function"!=typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function vs(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new ps;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ru.bind(null,t,e,n),e.then(t,t))}function ms(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ys(t,e,n,r,i){return 1&t.mode?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=zo(-1,1)).tag=2,Bo(n,e,1))),n.lanes|=1),t)}var bs=x.ReactCurrentOwner,xs=!1;function ws(t,e,n,r){e.child=null===t?Zo(e,null,n,r):Ko(e,t.child,n,r)}function Ss(t,e,n,r,i){n=n.render;var o=e.ref;return Co(e,i),r=Ea(t,e,n,r,o,i),n=Ca(),null===t||xs?(io&&n&&to(e),e.flags|=1,ws(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function ks(t,e,n,r,i){if(null===t){var o=n.type;return"function"!=typeof o||Au(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Bu(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Es(t,e,o,r,i))}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&t.ref===e.ref)return Ws(t,e,i)}return e.flags|=1,(t=zu(o,r)).ref=e.ref,t.return=e,e.child=t}function Es(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(lr(o,r)&&t.ref===e.ref){if(xs=!1,e.pendingProps=r=o,!(t.lanes&i))return e.lanes=t.lanes,Ws(t,e,i);131072&t.flags&&(xs=!0)}}return Ts(t,e,n,r,i)}function Cs(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(1&e.mode){if(!(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ri(zl,Al),Al|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ri(zl,Al),Al|=r}else e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ri(zl,Al),Al|=n;else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ri(zl,Al),Al|=r;return ws(t,e,i,n),e.child}function Rs(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ts(t,e,n,r,i){var o=_i(n)?Di:Pi.current;return o=Oi(e,o),Co(e,i),n=Ea(t,e,n,r,o,i),r=Ca(),null===t||xs?(io&&r&&to(e),e.flags|=1,ws(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ws(t,e,i))}function Ps(t,e,n,r,i){if(_i(n)){var o=!0;Fi(e)}else o=!1;if(Co(e,i),null===e.stateNode)$s(t,e),$o(e,n,r),Uo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=Ro(u):u=Oi(e,u=_i(n)?Di:Pi.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Wo(e,a,r,u),Oo=!1;var f=e.memoizedState;a.state=f,Lo(e,r,a,i),l=e.memoizedState,s!==r||f!==l||Mi.current||Oo?("function"==typeof c&&(Vo(e,n,c,r),l=e.memoizedState),(s=Oo||Go(e,n,s,r,f,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.flags|=4194308)):("function"==typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Ao(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:mo(e.type,s),a.props=u,d=e.pendingProps,f=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ro(l):l=Oi(e,l=_i(n)?Di:Pi.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||f!==l)&&Wo(e,a,r,l),Oo=!1,f=e.memoizedState,a.state=f,Lo(e,r,a,i);var h=e.memoizedState;s!==d||f!==h||Mi.current||Oo?("function"==typeof p&&(Vo(e,n,p,r),h=e.memoizedState),(u=Oo||Go(e,n,u,r,f,h,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(e.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ms(t,e,n,r,o,i)}function Ms(t,e,n,r,i,o){Rs(t,e);var a=!!(128&e.flags);if(!r&&!a)return i&&Ii(e,n,!1),Ws(t,e,o);r=e.stateNode,bs.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Ko(e,t.child,null,o),e.child=Ko(e,null,s,o)):ws(t,e,s,o),e.memoizedState=r.state,i&&Ii(e,n,!0),e.child}function Ds(t){var e=t.stateNode;e.pendingContext?zi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&zi(0,e.context,!1),ia(t,e.containerInfo)}function Os(t,e,n,r,i){return ho(),go(i),e.flags|=256,ws(t,e,n,r),e.child}var _s,As,zs,Bs,Fs={dehydrated:null,treeContext:null,retryLane:0};function Is(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ls(t,e,n){var r,i=e.pendingProps,a=la.current,s=!1,l=!!(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&!!(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Ri(la,1&a),null===t)return uo(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(1&e.mode?"$!"===t.data?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,s?(i=e.mode,s=e.child,l={mode:"hidden",children:l},1&i||null===s?s=Iu(l,i,0,null):(s.childLanes=0,s.pendingProps=l),t=Fu(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Is(n),e.memoizedState=Fs,t):Ns(e,l));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,js(t,e,s,r=ds(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Iu({mode:"visible",children:r.children},i,0,null),(a=Fu(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,1&e.mode&&Ko(e,t.child,null,s),e.child.memoizedState=Is(s),e.memoizedState=Fs,a);if(!(1&e.mode))return js(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,js(t,e,s,r=ds(a=Error(o(419)),r,void 0))}if(l=!!(s&t.childLanes),xs||l){if(null!==(r=Dl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|s)?0:i)&&i!==a.retryLane&&(a.retryLane=i,Do(t,i),ru(r,t,i,-1))}return vu(),js(t,e,s,r=ds(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Pu.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=ui(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(Hi[Yi++]=Qi,Hi[Yi++]=Ki,Hi[Yi++]=Xi,Qi=t.id,Ki=t.overflow,Xi=e),e=Ns(e,r.children),e.flags|=4096,e)}(t,e,l,i,r,a,n);if(s){s=i.fallback,l=e.mode,r=(a=t.child).sibling;var u={mode:"hidden",children:i.children};return 1&l||e.child===a?(i=zu(a,u)).subtreeFlags=14680064&a.subtreeFlags:((i=e.child).childLanes=0,i.pendingProps=u,e.deletions=null),null!==r?s=zu(r,s):(s=Fu(s,l,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=null===(l=t.child.memoizedState)?Is(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Fs,i}return t=(s=t.child).sibling,i=zu(s,{mode:"visible",children:i.children}),!(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Ns(t,e){return(e=Iu({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function js(t,e,n,r){return null!==r&&go(r),Ko(e,t.child,null,n),(t=Ns(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Vs(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Eo(t.return,e,n)}function qs(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Gs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ws(t,e,r.children,n),2&(r=la.current))r=1&r|2,e.flags|=128;else{if(null!==t&&128&t.flags)t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Vs(t,n,e);else if(19===t.tag)Vs(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ri(la,r),1&e.mode)switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ua(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qs(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ua(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qs(e,!0,n,null,o);break;case"together":qs(e,!1,null,null,void 0);break;default:e.memoizedState=null}else e.memoizedState=null;return e.child}function $s(t,e){!(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ws(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Il|=e.lanes,!(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=zu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=zu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Us(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hs(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ys(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(e),null;case 1:case 17:return _i(e.type)&&Ai(),Hs(e),null;case 3:return r=e.stateNode,oa(),Ci(Mi),Ci(Pi),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(fo(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&!(256&e.flags)||(e.flags|=1024,null!==oo&&(su(oo),oo=null))),As(t,e),Hs(e),null;case 5:sa(e);var i=ra(na.current);if(n=e.type,null!==t&&null!=e.stateNode)zs(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return Hs(e),null}if(t=ra(ta.current),fo(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[fi]=e,r[pi]=a,t=!!(1&e.mode),n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(i=0;i<Br.length;i++)Nr(Br[i],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":Q(r,a),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",r);break;case"textarea":it(r,a),Nr("invalid",r)}for(var l in yt(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"==typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,u,t),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,u,t),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Nr("scroll",r)}switch(n){case"input":U(r),J(r,a,!0);break;case"textarea":U(r),at(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Jr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[fi]=e,t[pi]=r,_s(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,r),n){case"dialog":Nr("cancel",t),Nr("close",t),i=r;break;case"iframe":case"object":case"embed":Nr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Br.length;i++)Nr(Br[i],t);i=r;break;case"source":Nr("error",t),i=r;break;case"img":case"image":case"link":Nr("error",t),Nr("load",t),i=r;break;case"details":Nr("toggle",t),i=r;break;case"input":Q(t,r),i=X(t,r),Nr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=I({},r,{value:void 0}),Nr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Nr("invalid",t)}for(a in yt(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?vt(t,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&dt(t,c):"children"===a?"string"==typeof c?("textarea"!==n||""!==c)&&ft(t,c):"number"==typeof c&&ft(t,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Nr("scroll",t):null!=c&&b(t,a,c,l))}switch(n){case"input":U(t),J(t,r,!1);break;case"textarea":U(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+$(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(t.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Hs(e),null;case 6:if(t&&null!=e.stateNode)Bs(t,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ta.current),fo(e)){if(r=e.stateNode,n=e.memoizedProps,r[fi]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Zr(r.nodeValue,n,!!(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,!!(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=e,e.stateNode=r}return Hs(e),null;case 13:if(Ci(la),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&1&e.mode&&!(128&e.flags))po(),ho(),e.flags|=98560,a=!1;else if(a=fo(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=e}else ho(),!(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Hs(e),a=!1}else null!==oo&&(su(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 128&e.flags?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,1&e.mode&&(null===t||1&la.current?0===Bl&&(Bl=3):vu())),null!==e.updateQueue&&(e.flags|=4),Hs(e),null);case 4:return oa(),As(t,e),null===t&&qr(e.stateNode.containerInfo),Hs(e),null;case 10:return ko(e.type._context),Hs(e),null;case 19:if(Ci(la),null===(a=e.memoizedState))return Hs(e),null;if(r=!!(128&e.flags),null===(l=a.rendering))if(r)Us(a,!1);else{if(0!==Bl||null!==t&&128&t.flags)for(t=e.child;null!==t;){if(null!==(l=ua(t))){for(e.flags|=128,Us(a,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ri(la,1&la.current|2),e.child}t=t.sibling}null!==a.tail&&Kt()>Gl&&(e.flags|=128,r=!0,Us(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=ua(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Us(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Hs(e),null}else 2*Kt()-a.renderingStartTime>Gl&&1073741824!==n&&(e.flags|=128,r=!0,Us(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Kt(),e.sibling=null,n=la.current,Ri(la,r?1&n|2:1&n),e):(Hs(e),null);case 22:case 23:return fu(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&1&e.mode?!!(1073741824&Al)&&(Hs(e),6&e.subtreeFlags&&(e.flags|=8192)):Hs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Xs(t,e){switch(eo(e),e.tag){case 1:return _i(e.type)&&Ai(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return oa(),Ci(Mi),Ci(Pi),da(),65536&(t=e.flags)&&!(128&t)?(e.flags=-65537&t|128,e):null;case 5:return sa(e),null;case 13:if(Ci(la),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));ho()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ci(la),null;case 4:return oa(),null;case 10:return ko(e.type._context),null;case 22:case 23:return fu(),null;default:return null}}_s=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},zs=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ra(ta.current);var o,a=null;switch(n){case"input":i=X(t,i),r=X(t,r),a=[];break;case"select":i=I({},i,{value:void 0}),r=I({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(t.onclick=Jr)}for(c in yt(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Nr("scroll",t),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}},Bs=function(t,e,n,r){n!==r&&(e.flags|=4)};var Qs=!1,Ks=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Js=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Cu(t,e,n)}else n.current=null}function el(t,e,n){try{n()}catch(n){Cu(t,e,n)}}var nl=!1;function rl(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(e,n,o)}i=i.next}while(i!==r)}}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ol(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"==typeof e?e(t):e.current=t}}function al(t){var e=t.alternate;null!==e&&(t.alternate=null,al(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[fi],delete e[pi],delete e[gi],delete e[vi],delete e[mi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sl(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||sl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ul(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Jr));else if(4!==r&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}function cl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var dl=null,fl=!1;function pl(t,e,n){for(n=n.child;null!==n;)hl(t,e,n),n=n.sibling}function hl(t,e,n){if(oe&&"function"==typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(t){}switch(n.tag){case 5:Ks||tl(n,e);case 6:var r=dl,i=fl;dl=null,pl(t,e,n),fl=i,null!==(dl=r)&&(fl?(t=dl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(t=dl,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),qe(t)):li(dl,n.stateNode));break;case 4:r=dl,i=fl,dl=n.stateNode.containerInfo,fl=!0,pl(t,e,n),dl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(2&o||4&o)&&el(n,e,a),i=i.next}while(i!==r)}pl(t,e,n);break;case 1:if(!Ks&&(tl(n,e),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(t){Cu(n,e,t)}pl(t,e,n);break;case 21:pl(t,e,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,pl(t,e,n),Ks=r):pl(t,e,n);break;default:pl(t,e,n)}}function gl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Zs),e.forEach((function(e){var r=Mu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function vl(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break t;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break t}l=l.return}if(null===dl)throw Error(o(160));hl(a,s,i),dl=null,fl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(t){Cu(i,e,t)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)ml(e,t),e=e.sibling}function ml(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vl(e,t),yl(t),4&r){try{rl(3,t,t.return),il(3,t)}catch(e){Cu(t,t.return,e)}try{rl(5,t,t.return)}catch(e){Cu(t,t.return,e)}}break;case 1:vl(e,t),yl(t),512&r&&null!==n&&tl(n,n.return);break;case 5:if(vl(e,t),yl(t),512&r&&null!==n&&tl(n,n.return),32&t.flags){var i=t.stateNode;try{ft(i,"")}catch(e){Cu(t,t.return,e)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,l=t.type,u=t.updateQueue;if(t.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&K(i,a),bt(l,s);var c=bt(l,a);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?vt(i,f):"dangerouslySetInnerHTML"===d?dt(i,f):"children"===d?ft(i,f):b(i,d,f,c)}switch(l){case"input":Z(i,a);break;case"textarea":ot(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?nt(i,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(e){Cu(t,t.return,e)}}break;case 6:if(vl(e,t),yl(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(e){Cu(t,t.return,e)}}break;case 3:if(vl(e,t),yl(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qe(e.containerInfo)}catch(e){Cu(t,t.return,e)}break;case 4:default:vl(e,t),yl(t);break;case 13:vl(e,t),yl(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Kt())),4&r&&gl(t);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&t.mode?(Ks=(c=Ks)||d,vl(e,t),Ks=c):vl(e,t),yl(t),8192&r){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!d&&1&t.mode)for(Js=t,d=t.child;null!==d;){for(f=Js=d;null!==Js;){switch(h=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:tl(p,p.return);var g=p.stateNode;if("function"==typeof g.componentWillUnmount){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(t){Cu(r,n,t)}}break;case 5:tl(p,p.return);break;case 22:if(null!==p.memoizedState){Sl(f);continue}}null!==h?(h.return=p,Js=h):Sl(f)}d=d.sibling}t:for(d=null,f=t;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,s=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=gt("display",s))}catch(e){Cu(t,t.return,e)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(e){Cu(t,t.return,e)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===t)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===t)break t;for(;null===f.sibling;){if(null===f.return||f.return===t)break t;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vl(e,t),yl(t),4&r&&gl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(sl(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ft(i,""),r.flags&=-33),cl(t,ll(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ul(t,ll(t),a);break;default:throw Error(o(161))}}catch(e){Cu(t,t.return,e)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function bl(t,e,n){Js=t,xl(t,e,n)}function xl(t,e,n){for(var r=!!(1&t.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Qs;var u=Ks;if(Qs=a,(Ks=l)&&!u)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,Js=l):kl(i);for(;null!==o;)Js=o,xl(o,e,n),o=o.sibling;Js=i,Qs=s,Ks=u}wl(t)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,Js=o):wl(t)}}function wl(t){for(;null!==Js;){var e=Js;if(8772&e.flags){var n=e.alternate;try{if(8772&e.flags)switch(e.tag){case 0:case 11:case 15:Ks||il(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&No(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}No(e,s,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&qe(f)}}}break;default:throw Error(o(163))}Ks||512&e.flags&&ol(e)}catch(t){Cu(e,e.return,t)}}if(e===t){Js=null;break}if(null!==(n=e.sibling)){n.return=e.return,Js=n;break}Js=e.return}}function Sl(t){for(;null!==Js;){var e=Js;if(e===t){Js=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Js=n;break}Js=e.return}}function kl(t){for(;null!==Js;){var e=Js;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{il(4,e)}catch(t){Cu(e,n,t)}break;case 1:var r=e.stateNode;if("function"==typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(t){Cu(e,i,t)}}var o=e.return;try{ol(e)}catch(t){Cu(e,o,t)}break;case 5:var a=e.return;try{ol(e)}catch(t){Cu(e,a,t)}}}catch(t){Cu(e,e.return,t)}if(e===t){Js=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Js=s;break}Js=e.return}}var El,Cl=Math.ceil,Rl=x.ReactCurrentDispatcher,Tl=x.ReactCurrentOwner,Pl=x.ReactCurrentBatchConfig,Ml=0,Dl=null,Ol=null,_l=0,Al=0,zl=Ei(0),Bl=0,Fl=null,Il=0,Ll=0,Nl=0,jl=null,Vl=null,ql=0,Gl=1/0,$l=null,Wl=!1,Ul=null,Hl=null,Yl=!1,Xl=null,Ql=0,Kl=0,Zl=null,Jl=-1,tu=0;function eu(){return 6&Ml?Kt():-1!==Jl?Jl:Jl=Kt()}function nu(t){return 1&t.mode?2&Ml&&0!==_l?_l&-_l:null!==vo.transition?(0===tu&&(tu=ge()),tu):0!==(t=be)?t:t=void 0===(t=window.event)?16:Qe(t.type):1}function ru(t,e,n,r){if(50<Kl)throw Kl=0,Zl=null,Error(o(185));me(t,n,r),2&Ml&&t===Dl||(t===Dl&&(!(2&Ml)&&(Ll|=n),4===Bl&&lu(t,_l)),iu(t,r),1===n&&0===Ml&&!(1&e.mode)&&(Gl=Kt()+500,Ni&&qi()))}function iu(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,l=i[a];-1===l?s&n&&!(s&r)||(i[a]=pe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=fe(t,t===Dl?_l:0);if(0===r)null!==n&&Yt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Yt(n),1===e)0===t.tag?function(t){Ni=!0,Vi(t)}(uu.bind(null,t)):Vi(uu.bind(null,t)),ai((function(){!(6&Ml)&&qi()})),n=null;else{switch(xe(r)){case 1:n=Jt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Du(n,ou.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ou(t,e){if(Jl=-1,tu=0,6&Ml)throw Error(o(327));var n=t.callbackNode;if(ku()&&t.callbackNode!==n)return null;var r=fe(t,t===Dl?_l:0);if(0===r)return null;if(30&r||r&t.expiredLanes||e)e=mu(t,r);else{e=r;var i=Ml;Ml|=2;var a=gu();for(Dl===t&&_l===e||($l=null,Gl=Kt()+500,pu(t,e));;)try{bu();break}catch(e){hu(t,e)}So(),Rl.current=a,Ml=i,null!==Ol?e=0:(Dl=null,_l=0,e=Bl)}if(0!==e){if(2===e&&(0!==(i=he(t))&&(r=i,e=au(t,i))),1===e)throw n=Fl,pu(t,0),lu(t,r),iu(t,Kt()),n;if(6===e)lu(t,r);else{if(i=t.current.alternate,!(30&r||function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(t){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)||(e=mu(t,r),2===e&&(a=he(t),0!==a&&(r=a,e=au(t,a))),1!==e)))throw n=Fl,pu(t,0),lu(t,r),iu(t,Kt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:Su(t,Vl,$l);break;case 3:if(lu(t,r),(130023424&r)===r&&10<(e=ql+500-Kt())){if(0!==fe(t,0))break;if(((i=t.suspendedLanes)&r)!==r){eu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(Su.bind(null,t,Vl,$l),e);break}Su(t,Vl,$l);break;case 4:if(lu(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Kt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){t.timeoutHandle=ri(Su.bind(null,t,Vl,$l),r);break}Su(t,Vl,$l);break;default:throw Error(o(329))}}}return iu(t,Kt()),t.callbackNode===n?ou.bind(null,t):null}function au(t,e){var n=jl;return t.current.memoizedState.isDehydrated&&(pu(t,e).flags|=256),2!==(t=mu(t,e))&&(e=Vl,Vl=n,null!==e&&su(e)),t}function su(t){null===Vl?Vl=t:Vl.push.apply(Vl,t)}function lu(t,e){for(e&=~Nl,e&=~Ll,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function uu(t){if(6&Ml)throw Error(o(327));ku();var e=fe(t,0);if(!(1&e))return iu(t,Kt()),null;var n=mu(t,e);if(0!==t.tag&&2===n){var r=he(t);0!==r&&(e=r,n=au(t,r))}if(1===n)throw n=Fl,pu(t,0),lu(t,e),iu(t,Kt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Su(t,Vl,$l),iu(t,Kt()),null}function cu(t,e){var n=Ml;Ml|=1;try{return t(e)}finally{0===(Ml=n)&&(Gl=Kt()+500,Ni&&qi())}}function du(t){null!==Xl&&0===Xl.tag&&!(6&Ml)&&ku();var e=Ml;Ml|=1;var n=Pl.transition,r=be;try{if(Pl.transition=null,be=1,t)return t()}finally{be=r,Pl.transition=n,!(6&(Ml=e))&&qi()}}function fu(){Al=zl.current,Ci(zl)}function pu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ai();break;case 3:oa(),Ci(Mi),Ci(Pi),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ci(la);break;case 10:ko(r.type._context);break;case 22:case 23:fu()}n=n.return}if(Dl=t,Ol=t=zu(t.current,null),_l=Al=e,Bl=0,Fl=null,Nl=Ll=Il=0,Vl=jl=null,null!==To){for(e=0;e<To.length;e++)if(null!==(r=(n=To[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}To=null}return t}function hu(t,e){for(;;){var n=Ol;try{if(So(),fa.current=as,ya){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(ha=0,ma=va=ga=null,ba=!1,xa=0,Tl.current=null,null===n||null===n.return){Bl=1,Fl=e,Ol=null;break}t:{var a=t,s=n.return,l=n,u=e;if(e=_l,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ms(s);if(null!==h){h.flags&=-257,ys(h,s,l,0,e),1&h.mode&&vs(a,c,e),u=c;var g=(e=h).updateQueue;if(null===g){var v=new Set;v.add(u),e.updateQueue=v}else g.add(u);break t}if(!(1&e)){vs(a,c,e),vu();break t}u=Error(o(426))}else if(io&&1&l.mode){var m=ms(s);if(null!==m){!(65536&m.flags)&&(m.flags|=256),ys(m,s,l,0,e),go(cs(u,l));break t}}a=u=cs(u,l),4!==Bl&&(Bl=2),null===jl?jl=[a]:jl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Io(a,hs(0,u,e));break t;case 1:l=u;var y=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Hl&&Hl.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,Io(a,gs(a,l,e));break t}}a=a.return}while(null!==a)}wu(n)}catch(t){e=t,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function gu(){var t=Rl.current;return Rl.current=as,null===t?as:t}function vu(){0!==Bl&&3!==Bl&&2!==Bl||(Bl=4),null===Dl||!(268435455&Il)&&!(268435455&Ll)||lu(Dl,_l)}function mu(t,e){var n=Ml;Ml|=2;var r=gu();for(Dl===t&&_l===e||($l=null,pu(t,e));;)try{yu();break}catch(e){hu(t,e)}if(So(),Ml=n,Rl.current=r,null!==Ol)throw Error(o(261));return Dl=null,_l=0,Bl}function yu(){for(;null!==Ol;)xu(Ol)}function bu(){for(;null!==Ol&&!Xt();)xu(Ol)}function xu(t){var e=El(t.alternate,t,Al);t.memoizedProps=t.pendingProps,null===e?wu(t):Ol=e,Tl.current=null}function wu(t){var e=t;do{var n=e.alternate;if(t=e.return,32768&e.flags){if(null!==(n=Xs(n,e)))return n.flags&=32767,void(Ol=n);if(null===t)return Bl=6,void(Ol=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}else if(null!==(n=Ys(n,e,Al)))return void(Ol=n);if(null!==(e=e.sibling))return void(Ol=e);Ol=e=t}while(null!==e);0===Bl&&(Bl=5)}function Su(t,e,n){var r=be,i=Pl.transition;try{Pl.transition=null,be=1,function(t,e,n,r){do{ku()}while(null!==Xl);if(6&Ml)throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===Dl&&(Ol=Dl=null,_l=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Yl||(Yl=!0,Du(ee,(function(){return ku(),null}))),a=!!(15990&n.flags),!!(15990&n.subtreeFlags)||a){a=Pl.transition,Pl.transition=null;var s=be;be=1;var l=Ml;Ml|=4,Tl.current=null,function(t,e){if(ti=$e,pr(t=fr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(t){n=null;break t}var s=0,l=-1,u=-1,c=0,d=0,f=t,p=null;e:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==a||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===t)break e;if(p===n&&++c===i&&(l=s),p===a&&++d===r&&(u=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},$e=!1,Js=e;null!==Js;)if(t=(e=Js).child,1028&e.subtreeFlags&&null!==t)t.return=e,Js=t;else for(;null!==Js;){e=Js;try{var g=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,m=g.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:mo(e.type,v),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(t){Cu(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,Js=t;break}Js=e.return}g=nl,nl=!1}(t,n),ml(n,t),hr(ei),$e=!!ti,ei=ti=null,t.current=n,bl(n,t,i),Qt(),Ml=l,be=s,Pl.transition=a}else t.current=n;if(Yl&&(Yl=!1,Xl=t,Ql=i),a=t.pendingLanes,0===a&&(Hl=null),function(t){if(oe&&"function"==typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,!(128&~t.current.flags))}catch(t){}}(n.stateNode),iu(t,Kt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,t=Ul,Ul=null,t;!!(1&Ql)&&0!==t.tag&&ku(),a=t.pendingLanes,1&a?t===Zl?Kl++:(Kl=0,Zl=t):Kl=0,qi()}(t,e,n,r)}finally{Pl.transition=i,be=r}return null}function ku(){if(null!==Xl){var t=xe(Ql),e=Pl.transition,n=be;try{if(Pl.transition=null,be=16>t?16:t,null===Xl)var r=!1;else{if(t=Xl,Xl=null,Ql=0,6&Ml)throw Error(o(331));var i=Ml;for(Ml|=4,Js=t.current;null!==Js;){var a=Js,s=a.child;if(16&Js.flags){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var p=(d=Js).sibling,h=d.return;if(al(d),d===c){Js=null;break}if(null!==p){p.return=h,Js=p;break}Js=h}}}var g=a.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}Js=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Js=s;else t:for(;null!==Js;){if(2048&(a=Js).flags)switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break t}Js=a.return}}var b=t.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(2064&s.subtreeFlags&&null!==x)x.return=s,Js=x;else t:for(s=b;null!==Js;){if(2048&(l=Js).flags)try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(t){Cu(l,l.return,t)}if(l===s){Js=null;break t}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break t}Js=l.return}}if(Ml=i,qi(),oe&&"function"==typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(t){}r=!0}return r}finally{be=n,Pl.transition=e}}return!1}function Eu(t,e,n){t=Bo(t,e=hs(0,e=cs(n,e),1),1),e=eu(),null!==t&&(me(t,1,e),iu(t,e))}function Cu(t,e,n){if(3===t.tag)Eu(t,t,n);else for(;null!==e;){if(3===e.tag){Eu(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"==typeof e.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){e=Bo(e,t=gs(e,t=cs(n,t),1),1),t=eu(),null!==e&&(me(e,1,t),iu(e,t));break}}e=e.return}}function Ru(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=eu(),t.pingedLanes|=t.suspendedLanes&n,Dl===t&&(_l&n)===n&&(4===Bl||3===Bl&&(130023424&_l)===_l&&500>Kt()-ql?pu(t,0):Nl|=n),iu(t,e)}function Tu(t,e){0===e&&(1&t.mode?(e=ce,!(130023424&(ce<<=1))&&(ce=4194304)):e=1);var n=eu();null!==(t=Do(t,e))&&(me(t,e,n),iu(t,n))}function Pu(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Tu(t,n)}function Mu(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),Tu(t,n)}function Du(t,e){return Ht(t,e)}function Ou(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _u(t,e,n,r){return new Ou(t,e,n,r)}function Au(t){return!(!(t=t.prototype)||!t.isReactComponent)}function zu(t,e){var n=t.alternate;return null===n?((n=_u(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bu(t,e,n,r,i,a){var s=2;if(r=t,"function"==typeof t)Au(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case k:return Fu(n.children,i,a,e);case E:s=8,i|=8;break;case C:return(t=_u(12,n,e,2|i)).elementType=C,t.lanes=a,t;case M:return(t=_u(13,n,e,i)).elementType=M,t.lanes=a,t;case D:return(t=_u(19,n,e,i)).elementType=D,t.lanes=a,t;case A:return Iu(n,i,a,e);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case R:s=10;break t;case T:s=9;break t;case P:s=11;break t;case O:s=14;break t;case _:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=_u(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Fu(t,e,n,r){return(t=_u(7,t,r,e)).lanes=n,t}function Iu(t,e,n,r){return(t=_u(22,t,r,e)).elementType=A,t.lanes=n,t.stateNode={isHidden:!1},t}function Lu(t,e,n){return(t=_u(6,t,null,e)).lanes=n,t}function Nu(t,e,n){return(e=_u(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ju(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ve(0),this.expirationTimes=ve(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ve(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(t,e,n,r,i,o,a,s,l){return t=new ju(t,e,n,s,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=_u(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_o(o),t}function qu(t){if(!t)return Ti;t:{if(qt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(_i(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(_i(n))return Bi(t,n,e)}return e}function Gu(t,e,n,r,i,o,a,s,l){return(t=Vu(n,r,!0,t,0,o,0,s,l)).context=qu(null),n=t.current,(o=zo(r=eu(),i=nu(n))).callback=null!=e?e:null,Bo(n,o,i),t.current.lanes=i,me(t,i,r),iu(t,r),t}function $u(t,e,n,r){var i=e.current,o=eu(),a=nu(i);return n=qu(n),null===e.context?e.context=n:e.pendingContext=n,(e=zo(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Bo(i,e,a))&&(ru(t,i,a,o),Fo(t,i,a)),a}function Wu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Uu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Hu(t,e){Uu(t,e),(t=t.alternate)&&Uu(t,e)}El=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Mi.current)xs=!0;else{if(!(t.lanes&n||128&e.flags))return xs=!1,function(t,e,n){switch(e.tag){case 3:Ds(e),ho();break;case 5:aa(e);break;case 1:_i(e.type)&&Fi(e);break;case 4:ia(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ri(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Ri(la,1&la.current),e.flags|=128,null):n&e.child.childLanes?Ls(t,e,n):(Ri(la,1&la.current),null!==(t=Ws(t,e,n))?t.sibling:null);Ri(la,1&la.current);break;case 19:if(r=!!(n&e.childLanes),128&t.flags){if(r)return Gs(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ri(la,la.current),r)break;return null;case 22:case 23:return e.lanes=0,Cs(t,e,n)}return Ws(t,e,n)}(t,e,n);xs=!!(131072&t.flags)}else xs=!1,io&&1048576&e.flags&&Ji(e,Ui,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$s(t,e),t=e.pendingProps;var i=Oi(e,Pi.current);Co(e,n),i=Ea(null,e,r,t,i,n);var a=Ca();return e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_i(r)?(a=!0,Fi(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,_o(e),i.updater=qo,e.stateNode=i,i._reactInternals=e,Uo(e,r,t,n),e=Ms(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),ws(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch($s(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"==typeof t)return Au(t)?1:0;if(null!=t){if((t=t.$$typeof)===P)return 11;if(t===O)return 14}return 2}(r),t=mo(r,t),i){case 0:e=Ts(null,e,r,t,n);break t;case 1:e=Ps(null,e,r,t,n);break t;case 11:e=Ss(null,e,r,t,n);break t;case 14:e=ks(null,e,r,mo(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ts(t,e,r,i=e.elementType===r?i:mo(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ps(t,e,r,i=e.elementType===r?i:mo(r,i),n);case 3:t:{if(Ds(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,Ao(t,e),Lo(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Os(t,e,r,n,i=cs(Error(o(423)),e));break t}if(r!==i){e=Os(t,e,r,n,i=cs(Error(o(424)),e));break t}for(ro=ui(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=Zo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===i){e=Ws(t,e,n);break t}ws(t,e,r,n)}e=e.child}return e;case 5:return aa(e),null===t&&uo(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),Rs(t,e),ws(t,e,s,n),e.child;case 6:return null===t&&uo(e),null;case 13:return Ls(t,e,n);case 4:return ia(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Ko(e,null,r,n):ws(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ss(t,e,r,i=e.elementType===r?i:mo(r,i),n);case 7:return ws(t,e,e.pendingProps,n),e.child;case 8:case 12:return ws(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ri(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Mi.current){e=Ws(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=zo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Eo(a.return,n,e),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Eo(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Co(e,n),r=r(i=Ro(i)),e.flags|=1,ws(t,e,r,n),e.child;case 14:return i=mo(r=e.type,e.pendingProps),ks(t,e,r,i=mo(r.type,i),n);case 15:return Es(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mo(r,i),$s(t,e),e.tag=1,_i(r)?(t=!0,Fi(e)):t=!1,Co(e,n),$o(e,r,i),Uo(e,r,i,n),Ms(null,e,r,!0,t,n);case 19:return Gs(t,e,n);case 22:return Cs(t,e,n)}throw Error(o(156,e.tag))};var Yu="function"==typeof reportError?reportError:function(t){console.error(t)};function Xu(t){this._internalRoot=t}function Qu(t){this._internalRoot=t}function Ku(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ju(){}function tc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var t=Wu(a);s.call(t)}}$u(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var t=Wu(a);o.call(t)}}var a=Gu(e,r,t,0,null,!1,0,"",Ju);return t._reactRootContainer=a,t[hi]=a.current,qr(8===t.nodeType?t.parentNode:t),du(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"==typeof r){var s=r;r=function(){var t=Wu(l);s.call(t)}}var l=Vu(t,0,!1,null,0,!1,0,"",Ju);return t._reactRootContainer=l,t[hi]=l.current,qr(8===t.nodeType?t.parentNode:t),du((function(){$u(e,l,n,r)})),l}(n,e,t,i,r);return Wu(a)}Qu.prototype.render=Xu.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));$u(t,e,null,null)},Qu.prototype.unmount=Xu.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;du((function(){$u(null,t,null,null)})),e[hi]=null}},Qu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ee();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ae.length&&0!==e&&e<Ae[n].priority;n++);Ae.splice(n,0,t),0===n&&Ie(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=de(e.pendingLanes);0!==n&&(ye(e,1|n),iu(e,Kt()),!(6&Ml)&&(Gl=Kt()+500,qi()))}break;case 13:du((function(){var e=Do(t,1);if(null!==e){var n=eu();ru(e,t,1,n)}})),Hu(t,1)}},Se=function(t){if(13===t.tag){var e=Do(t,134217728);if(null!==e)ru(e,t,134217728,eu());Hu(t,134217728)}},ke=function(t){if(13===t.tag){var e=nu(t),n=Do(t,e);if(null!==n)ru(n,t,e,eu());Hu(t,e)}},Ee=function(){return be},Ce=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},St=function(t,e,n){switch(e){case"input":if(Z(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wi(r);if(!i)throw Error(o(90));H(r),Z(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Pt=cu,Mt=du;var ec={usingClientEntryPoint:!1,Events:[bi,xi,wi,Rt,Tt,cu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{ie=ic.inject(rc),oe=ic}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(e))throw Error(o(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Ku(t))throw Error(o(299));var n=!1,r="",i=Yu;return null!=e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Vu(t,1,!1,null,0,n,0,r,i),t[hi]=e.current,qr(8===t.nodeType?t.parentNode:t),new Xu(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return du(t)},e.hydrate=function(t,e,n){if(!Zu(e))throw Error(o(200));return tc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Ku(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Yu;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Gu(e,null,t,1,null!=n?n:null,i,0,a,s),t[hi]=e.current,qr(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qu(e)},e.render=function(t,e,n){if(!Zu(e))throw Error(o(200));return tc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Zu(t))throw Error(o(40));return!!t._reactRootContainer&&(du((function(){tc(null,null,t,!1,(function(){t._reactRootContainer=null,t[hi]=null}))})),!0)},e.unstable_batchedUpdates=cu,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zu(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return tc(t,e,n,!1,r)},e.version="18.2.0-next-9e3b772b8-20220608"},5338:(t,e,n)=>{"use strict";var r=n(961);e.H=r.createRoot,r.hydrateRoot},961:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(2551)},2799:(t,e)=>{"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case c:case d:case o:case s:case a:case p:return t;default:switch(t=t&&t.$$typeof){case u:case f:case v:case g:case l:return t;default:return e}}case i:return e}}}function S(t){return w(t)===d}e.AsyncMode=c,e.ConcurrentMode=d,e.ContextConsumer=u,e.ContextProvider=l,e.Element=r,e.ForwardRef=f,e.Fragment=o,e.Lazy=v,e.Memo=g,e.Portal=i,e.Profiler=s,e.StrictMode=a,e.Suspense=p,e.isAsyncMode=function(t){return S(t)||w(t)===c},e.isConcurrentMode=S,e.isContextConsumer=function(t){return w(t)===u},e.isContextProvider=function(t){return w(t)===l},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return w(t)===f},e.isFragment=function(t){return w(t)===o},e.isLazy=function(t){return w(t)===v},e.isMemo=function(t){return w(t)===g},e.isPortal=function(t){return w(t)===i},e.isProfiler=function(t){return w(t)===s},e.isStrictMode=function(t){return w(t)===a},e.isSuspense=function(t){return w(t)===p},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===o||t===d||t===s||t===a||t===p||t===h||"object"==typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===g||t.$$typeof===l||t.$$typeof===u||t.$$typeof===f||t.$$typeof===y||t.$$typeof===b||t.$$typeof===x||t.$$typeof===m)},e.typeOf=w},4363:(t,e,n)=>{"use strict";t.exports=n(2799)},1020:(t,e,n)=>{"use strict";
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(6540),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,r)&&!l.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:u,ref:c,props:o,_owner:s.current}}e.Fragment=o,e.jsx=u,e.jsxs=u},5287:(t,e)=>{"use strict";
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function m(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||h}function y(){}function b(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||h}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=m.prototype;var x=b.prototype=new y;x.constructor=b,g(x,m.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,r){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)S.call(e,i)&&!E.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:k.current}}function R(t){return"object"==typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function P(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function M(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=t),t=""===o?"."+P(l,0):o,w(a)?(i="",null!=t&&(i=t.replace(T,"$&/")+"/"),M(a,e,i,"",(function(t){return t}))):null!=a&&(R(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+t)),e.push(a)),1;if(l=0,o=""===o?".":o+":",w(t))for(var u=0;u<t.length;u++){var c=o+P(s=t[u],u);l+=M(s,e,i,c,a)}else if(c=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=M(s=s.value,e,i,c=o+P(s,u++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function D(t,e,n){if(null==t)return t;var r=[],i=0;return M(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function O(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var _={current:null},A={transition:null},z={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:A,ReactCurrentOwner:k};e.Children={map:D,forEach:function(t,e,n){D(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return D(t,(function(){e++})),e},toArray:function(t){return D(t,(function(t){return t}))||[]},only:function(t){if(!R(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=m,e.Fragment=i,e.Profiler=a,e.PureComponent=b,e.StrictMode=o,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,e.cloneElement=function(t,e,r){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=g({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=k.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)S.call(e,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===e[u]&&void 0!==l?l[u]:e[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=C,e.createFactory=function(t){var e=C.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=R,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:O}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=A.transition;A.transition={};try{t()}finally{A.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return _.current.useCallback(t,e)},e.useContext=function(t){return _.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return _.current.useDeferredValue(t)},e.useEffect=function(t,e){return _.current.useEffect(t,e)},e.useId=function(){return _.current.useId()},e.useImperativeHandle=function(t,e,n){return _.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return _.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return _.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return _.current.useMemo(t,e)},e.useReducer=function(t,e,n){return _.current.useReducer(t,e,n)},e.useRef=function(t){return _.current.useRef(t)},e.useState=function(t){return _.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return _.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return _.current.useTransition()},e.version="18.2.0"},6540:(t,e,n)=>{"use strict";t.exports=n(5287)},4848:(t,e,n)=>{"use strict";t.exports=n(1020)},7463:(t,e)=>{"use strict";
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=t[s],u=s+1,c=t[u];if(0>o(l,n))u<i&&0>o(c,l)?(t[r]=c,t[u]=n,r=u):(t[r]=l,t[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break t;t[r]=c,t[u]=n,r=u}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,p=3,h=!1,g=!1,v=!1,m="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(t){for(var e=r(c);null!==e;){if(null===e.callback)i(c);else{if(!(e.startTime<=t))break;i(c),e.sortIndex=e.expirationTime,n(u,e)}e=r(c)}}function w(t){if(v=!1,x(t),!g)if(null!==r(u))g=!0,A(S);else{var e=r(c);null!==e&&z(w,e.startTime-t)}}function S(t,n){g=!1,v&&(v=!1,y(R),R=-1),h=!0;var o=p;try{for(x(n),f=r(u);null!==f&&(!(f.expirationTime>n)||t&&!M());){var a=f.callback;if("function"==typeof a){f.callback=null,p=f.priorityLevel;var s=a(f.expirationTime<=n);n=e.unstable_now(),"function"==typeof s?f.callback=s:f===r(u)&&i(u),x(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&z(w,d.startTime-n),l=!1}return l}finally{f=null,p=o,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,C=null,R=-1,T=5,P=-1;function M(){return!(e.unstable_now()-P<T)}function D(){if(null!==C){var t=e.unstable_now();P=t;var n=!0;try{n=C(!0,t)}finally{n?k():(E=!1,C=null)}}else E=!1}if("function"==typeof b)k=function(){b(D)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,_=O.port2;O.port1.onmessage=D,k=function(){_.postMessage(null)}}else k=function(){m(D,0)};function A(t){C=t,E||(E=!0,k())}function z(t,n){R=m((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,A(S))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(t){switch(p){case 1:case 2:case 3:var e=3;break;default:e=p}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:d++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(c,t),null===r(u)&&t===r(c)&&(v?(y(R),R=-1):v=!0,z(w,o-a))):(t.sortIndex=s,n(u,t),g||h||(g=!0,A(S))),t},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(t){var e=p;return function(){var n=p;p=e;try{return t.apply(this,arguments)}finally{p=n}}}},9982:(t,e,n)=>{"use strict";t.exports=n(7463)},8384:(t,e,n)=>{t.exports=n(923)},923:t=>{function e(t,e,n){if("function"!=typeof n.rand&&(n.rand=Math.random),t.length!==e.length)throw new TypeError("Different number of options & weights.");for(var r=n.total||(n.normal?1:function(t){var e=t.__weighted_total;return null!=e?e:(void 0===e&&["pop","push","shift","unshift","splice"].forEach((function(e){var n,r;t[e]=(n=t,r=t[e],function(){n.__weighted_total=null,r.apply(n,arguments)})})),e=t.__weighted_total=t.reduce((function(t,e){return t+e}),0))}(e)),i=n.rand()*r,o=0;o<e.length;o++)if((i-=e[o])<0)return t[o];throw new RangeError("All weights do not add up to >= 1 as expected.")}function n(t,n,r){if("function"==typeof r&&(r={rand:r}),null==r&&(r={}),Array.isArray(t)){if(null==n&&(n=t.map((function(){return 1}))),Array.isArray(n)){if(t.length===n.length)return e(t,n,r);throw new TypeError("Set and Weights are different sizes.")}throw new TypeError("Set is an Array, and Weights is not.")}if("object"==typeof t)return function(t,n){var r=Object.keys(t),i=r.map((function(e){return t[e]}));return e(r,i,n)}(t,n||r);throw new TypeError("Set is not an Object, nor is it an Array.")}t.exports=n,t.exports.select=n}},u={};function c(t){var e=u[t];if(void 0!==e)return e.exports;var n=u[t]={id:t,loaded:!1,exports:{}};return l[t](n,n.exports,c),n.loaded=!0,n.exports}c.m=l,t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},c.a=(i,o,a)=>{var s;a&&((s=[]).d=-1);var l,u,c,d=new Set,f=i.exports,p=new Promise(((t,e)=>{c=e,u=t}));p[e]=f,p[t]=t=>(s&&t(s),d.forEach(t),p.catch((t=>{}))),i.exports=p,o((i=>{var o;l=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[t])return i;if(i.then){var o=[];o.d=0,i.then((t=>{a[e]=t,r(o)}),(t=>{a[n]=t,r(o)}));var a={};return a[t]=t=>t(o),a}}var s={};return s[t]=t=>{},s[e]=i,s})))(i);var a=()=>l.map((t=>{if(t[n])throw t[n];return t[e]})),u=new Promise((e=>{(o=()=>e(a)).r=0;var n=t=>t!==s&&!d.has(t)&&(d.add(t),t&&!t.d&&(o.r++,t.push(o)));l.map((e=>e[t](n)))}));return o.r?u:a()}),(t=>(t?c(p[n]=t):u(f),r(s)))),s&&s.d<0&&(s.d=0)},c.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return c.d(e,{a:e}),e},o=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,c.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var n=Object.create(null);c.r(n);var r={};i=i||[null,o({}),o([]),o(o)];for(var a=2&e&&t;"object"==typeof a&&!~i.indexOf(a);a=o(a))Object.getOwnPropertyNames(a).forEach((e=>r[e]=()=>t[e]));return r.default=()=>t,c.d(n,r),n},c.d=(t,e)=>{for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.f={},c.e=t=>Promise.all(Object.keys(c.f).reduce(((e,n)=>(c.f[n](t,e),e)),[])),c.u=t=>t+".js",c.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a={},s="incredible:",c.l=(t,e,n,r)=>{if(a[t])a[t].push(e);else{var i,o;if(void 0!==n)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==s+n){i=d;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.setAttribute("data-webpack",s+n),i.src=t),a[t]=[e];var f=(e,n)=>{i.onerror=i.onload=null,clearTimeout(p);var r=a[t];if(delete a[t],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((t=>t(n))),e)return e(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),o&&document.head.appendChild(i)}},c.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.v=(t,e,n,r)=>{var i=fetch(c.p+""+n+".module.wasm"),o=()=>i.then((t=>t.arrayBuffer())).then((t=>WebAssembly.instantiate(t,r))).then((e=>Object.assign(t,e.instance.exports)));return i.then((e=>"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(e,r).then((e=>Object.assign(t,e.instance.exports)),(t=>{if("application/wasm"!==e.headers.get("Content-Type"))return console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t),o();throw t})):o()))},c.p="https://xkcd.com/2916/client/",(()=>{var t={57:0};c.f.j=(e,n)=>{var r=c.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=t[e]=[n,i]));n.push(r[2]=i);var o=c.p+c.u(e),a=new Error;c.l(o,(n=>{if(c.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,r[1](a)}}),"chunk-"+e,e)}};var e=(e,n)=>{var r,i,[o,a,s]=n,l=0;if(o.some((e=>0!==t[e]))){for(r in a)c.o(a,r)&&(c.m[r]=a[r]);if(s)s(c)}for(e&&e(n);l<o.length;l++)i=o[l],c.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=self.webpackChunkincredible=self.webpackChunkincredible||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),(()=>{"use strict";var t=c(6540),e=c.t(t,2),n=c(5338),r=c(4848),i=t.createContext(void 0),o=e=>{const n=t.useContext(i);if(e)return e;if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},a=({client:e,children:n})=>(t.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),(0,r.jsx)(i.Provider,{value:e,children:n}));const s=JSON.parse('{"VL":740,"uJ":740,"WT":"https://incredible.xkcd.com/"}');var l="undefined"==typeof window||"Deno"in globalThis;function u(){}function d(t){return"number"==typeof t&&t>=0&&t!==1/0}function f(t,e){return Math.max(t+(e||0)-Date.now(),0)}function p(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=t;if(a)if(r){if(e.queryHash!==g(a,e.options))return!1}else if(!m(e.queryKey,a))return!1;if("all"!==n){const t=e.isActive();if("active"===n&&!t)return!1;if("inactive"===n&&t)return!1}return("boolean"!=typeof s||e.isStale()===s)&&((!i||i===e.state.fetchStatus)&&!(o&&!o(e)))}function h(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(v(e.options.mutationKey)!==v(o))return!1}else if(!m(e.options.mutationKey,o))return!1}return(!r||e.state.status===r)&&!(i&&!i(e))}function g(t,e){return(e?.queryKeyHashFn||v)(t)}function v(t){return JSON.stringify(t,((t,e)=>w(e)?Object.keys(e).sort().reduce(((t,n)=>(t[n]=e[n],t)),{}):e))}function m(t,e){return t===e||typeof t==typeof e&&(!(!t||!e||"object"!=typeof t||"object"!=typeof e)&&!Object.keys(e).some((n=>!m(t[n],e[n]))))}function y(t,e){if(t===e)return t;const n=x(t)&&x(e);if(n||w(t)&&w(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),a=o.length,s=n?[]:{};let l=0;for(let i=0;i<a;i++){const a=n?i:o[i];!n&&void 0===t[a]&&void 0===e[a]&&r.includes(a)?(s[a]=void 0,l++):(s[a]=y(t[a],e[a]),s[a]===t[a]&&void 0!==t[a]&&l++)}return i===a&&l===i?t:s}return e}function b(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function x(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function w(t){if(!S(t))return!1;const e=t.constructor;if(void 0===e)return!0;const n=e.prototype;return!!S(n)&&!!n.hasOwnProperty("isPrototypeOf")}function S(t){return"[object Object]"===Object.prototype.toString.call(t)}function k(t,e,n){return"function"==typeof n.structuralSharing?n.structuralSharing(t,e):!1!==n.structuralSharing?y(t,e):e}function E(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function C(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var R=Symbol();var T=function(){let t=[],e=0,n=t=>{t()},r=t=>{t()},i=t=>setTimeout(t,0);const o=r=>{e?t.push(r):i((()=>{n(r)}))},a=()=>{const e=t;t=[],e.length&&i((()=>{r((()=>{e.forEach((t=>{n(t)}))}))}))};return{batch:t=>{let n;e++;try{n=t()}finally{e--,e||a()}return n},batchCalls:t=>(...e)=>{o((()=>{t(...e)}))},schedule:o,setNotifyFunction:t=>{n=t},setBatchNotifyFunction:t=>{r=t},setScheduler:t=>{i=t}}}(),P=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},M=new class extends P{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!l&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t((t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()}))}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach((e=>{e(t)}))}isFocused(){return"boolean"==typeof this.#t?this.#t:"hidden"!==globalThis.document?.visibilityState}},D=new class extends P{#r=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!l&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#r!==t&&(this.#r=t,this.listeners.forEach((e=>{e(t)})))}isOnline(){return this.#r}};function O(t){return Math.min(1e3*2**t,3e4)}function _(t){return"online"!==(t??"online")||D.isOnline()}var A=class{constructor(t){this.revert=t?.revert,this.silent=t?.silent}};function z(t){return t instanceof A}function B(t){let e,n,r,i=!1,o=0,a=!1;const s=new Promise(((t,e)=>{n=t,r=e})),u=()=>!M.isFocused()||"always"!==t.networkMode&&!D.isOnline(),c=r=>{a||(a=!0,t.onSuccess?.(r),e?.(),n(r))},d=n=>{a||(a=!0,t.onError?.(n),e?.(),r(n))},f=()=>new Promise((n=>{e=t=>{const e=a||!u();return e&&n(t),e},t.onPause?.()})).then((()=>{e=void 0,a||t.onContinue?.()})),p=()=>{if(a)return;let e;try{e=t.fn()}catch(t){e=Promise.reject(t)}Promise.resolve(e).then(c).catch((e=>{if(a)return;const n=t.retry??(l?0:3),r=t.retryDelay??O,s="function"==typeof r?r(o,e):r,c=!0===n||"number"==typeof n&&o<n||"function"==typeof n&&n(o,e);!i&&c?(o++,t.onFail?.(o,e),function(t){return new Promise((e=>{setTimeout(e,t)}))}(s).then((()=>{if(u())return f()})).then((()=>{i?d(e):p()}))):d(e)}))};return _(t.networkMode)?p():f().then(p),{promise:s,cancel:e=>{a||(d(new A(e)),t.abort?.())},continue:()=>{const t=e?.();return t?s:Promise.resolve()},cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1}}}var F=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),d(this.gcTime)&&(this.#i=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(l?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},I=class extends F{#o;#a;#s;#l;#u;#c;#d;constructor(t){super(),this.#d=!1,this.#c=t.defaultOptions,this.setOptions(t.options),this.#u=[],this.#s=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#o=t.state||function(t){const e="function"==typeof t.initialData?t.initialData():t.initialData,n=void 0!==e,r=n?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=this.#o,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.#c,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.#u.length||"idle"!==this.state.fetchStatus||this.#s.remove(this)}setData(t,e){const n=k(this.state.data,t,this.options);return this.#f({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#f({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#l?.promise;return this.#l?.cancel(t),e?e.then(u).catch(u):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.#u.some((t=>!1!==t.options.enabled))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.#u.some((t=>t.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(t=0){return this.state.isInvalidated||void 0===this.state.data||!f(this.state.dataUpdatedAt,t)}onFocus(){const t=this.#u.find((t=>t.shouldFetchOnWindowFocus()));t?.refetch({cancelRefetch:!1}),this.#l?.continue()}onOnline(){const t=this.#u.find((t=>t.shouldFetchOnReconnect()));t?.refetch({cancelRefetch:!1}),this.#l?.continue()}addObserver(t){this.#u.includes(t)||(this.#u.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.#u.includes(t)&&(this.#u=this.#u.filter((e=>e!==t)),this.#u.length||(this.#l&&(this.#d?this.#l.cancel({revert:!0}):this.#l.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.#u.length}invalidate(){this.state.isInvalidated||this.#f({type:"invalidate"})}fetch(t,e){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#l)return this.#l.continueRetry(),this.#l.promise;if(t&&this.setOptions(t),!this.options.queryFn){const t=this.#u.find((t=>t.options.queryFn));t&&this.setOptions(t.options)}const n=new AbortController,r={queryKey:this.queryKey,meta:this.meta},i=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(this.#d=!0,n.signal)})};i(r);const o={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn&&this.options.queryFn!==R?(this.#d=!1,this.options.persister?this.options.persister(this.options.queryFn,r,this):this.options.queryFn(r)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`))};i(o),this.options.behavior?.onFetch(o,this),this.#a=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===o.fetchOptions?.meta||this.#f({type:"fetch",meta:o.fetchOptions?.meta});const a=t=>{z(t)&&t.silent||this.#f({type:"error",error:t}),z(t)||(this.#s.config.onError?.(t,this),this.#s.config.onSettled?.(this.state.data,t,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#l=B({fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:t=>{void 0!==t?(this.setData(t),this.#s.config.onSuccess?.(t,this),this.#s.config.onSettled?.(t,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):a(new Error(`${this.queryHash} data is undefined`))},onError:a,onFail:(t,e)=>{this.#f({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#f({type:"pause"})},onContinue:()=>{this.#f({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode}),this.#l.promise}#f(t){this.state=(e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...L(e.data,this.options),fetchMeta:t.meta??null};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return z(n)&&n.revert&&this.#a?{...this.#a,fetchStatus:"idle"}:{...e,error:n,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),T.batch((()=>{this.#u.forEach((t=>{t.onQueryUpdate()})),this.#s.notify({query:this,type:"updated",action:t})}))}};function L(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}var N=class extends P{constructor(t={}){super(),this.config=t,this.#p=new Map}#p;build(t,e,n){const r=e.queryKey,i=e.queryHash??g(r,e);let o=this.get(i);return o||(o=new I({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#p.has(t.queryHash)||(this.#p.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#p.get(t.queryHash);e&&(t.destroy(),e===t&&this.#p.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){T.batch((()=>{this.getAll().forEach((t=>{this.remove(t)}))}))}get(t){return this.#p.get(t)}getAll(){return[...this.#p.values()]}find(t){const e={exact:!0,...t};return this.getAll().find((t=>p(e,t)))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter((e=>p(t,e))):e}notify(t){T.batch((()=>{this.listeners.forEach((e=>{e(t)}))}))}onFocus(){T.batch((()=>{this.getAll().forEach((t=>{t.onFocus()}))}))}onOnline(){T.batch((()=>{this.getAll().forEach((t=>{t.onOnline()}))}))}},j=class extends F{#u;#c;#h;#l;constructor(t){super(),this.mutationId=t.mutationId,this.#c=t.defaultOptions,this.#h=t.mutationCache,this.#u=[],this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.#c,...t},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#u.includes(t)||(this.#u.push(t),this.clearGcTimeout(),this.#h.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#u=this.#u.filter((e=>e!==t)),this.scheduleGc(),this.#h.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#u.length||("pending"===this.state.status?this.scheduleGc():this.#h.remove(this))}continue(){return this.#l?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>(this.#l=B({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(t,e)=>{this.#f({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#f({type:"pause"})},onContinue:()=>{this.#f({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.#l.promise),n="pending"===this.state.status;try{if(!n){this.#f({type:"pending",variables:t}),await(this.#h.config.onMutate?.(t,this));const e=await(this.options.onMutate?.(t));e!==this.state.context&&this.#f({type:"pending",context:e,variables:t})}const r=await e();return await(this.#h.config.onSuccess?.(r,t,this.state.context,this)),await(this.options.onSuccess?.(r,t,this.state.context)),await(this.#h.config.onSettled?.(r,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(r,null,t,this.state.context)),this.#f({type:"success",data:r}),r}catch(e){try{throw await(this.#h.config.onError?.(e,t,this.state.context,this)),await(this.options.onError?.(e,t,this.state.context)),await(this.#h.config.onSettled?.(void 0,e,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,e,t,this.state.context)),e}finally{this.#f({type:"error",error:e})}}}#f(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!_(this.options.networkMode),status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),T.batch((()=>{this.#u.forEach((e=>{e.onMutationUpdate(t)})),this.#h.notify({mutation:this,type:"updated",action:t})}))}};var V=class extends P{constructor(t={}){super(),this.config=t,this.#g=[],this.#v=0}#g;#v;#m;build(t,e,n){const r=new j({mutationCache:this,mutationId:++this.#v,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#g.push(t),this.notify({type:"added",mutation:t})}remove(t){this.#g=this.#g.filter((e=>e!==t)),this.notify({type:"removed",mutation:t})}clear(){T.batch((()=>{this.#g.forEach((t=>{this.remove(t)}))}))}getAll(){return this.#g}find(t){const e={exact:!0,...t};return this.#g.find((t=>h(e,t)))}findAll(t={}){return this.#g.filter((e=>h(t,e)))}notify(t){T.batch((()=>{this.listeners.forEach((e=>{e(t)}))}))}resumePausedMutations(){return this.#m=(this.#m??Promise.resolve()).then((()=>{const t=this.#g.filter((t=>t.state.isPaused));return T.batch((()=>t.reduce(((t,e)=>t.then((()=>e.continue().catch(u)))),Promise.resolve())))})).then((()=>{this.#m=void 0})),this.#m}};function q(t){return{onFetch:(e,n)=>{const r=async()=>{const n=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[],a={pages:[],pageParams:[]};let s=!1;const l=e.options.queryFn&&e.options.queryFn!==R?e.options.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`)),u=async(t,n,r)=>{if(s)return Promise.reject();if(null==n&&t.pages.length)return Promise.resolve(t);const i={queryKey:e.queryKey,pageParam:n,direction:r?"backward":"forward",meta:e.options.meta};var o;o=i,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(e.signal.aborted?s=!0:e.signal.addEventListener("abort",(()=>{s=!0})),e.signal)});const a=await l(i),{maxPages:u}=e.options,c=r?C:E;return{pages:c(t.pages,a,u),pageParams:c(t.pageParams,n,u)}};let c;if(r&&i.length){const t="backward"===r,e={pages:i,pageParams:o},a=(t?$:G)(n,e);c=await u(e,a,t)}else{c=await u(a,o[0]??n.initialPageParam);const e=t??i.length;for(let t=1;t<e;t++){const t=G(n,c);c=await u(c,t)}}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=r}}}function G(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function $(t,{pages:e,pageParams:n}){return t.getPreviousPageParam?.(e[0],e,n[0],n)}const W={"Content-Type":"application/json"},U=/\{[^{}]+\}/g;function H(t,e,n){if(null==e)return"";if("object"==typeof e)throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${t}=${!0===n?.allowReserved?e:encodeURIComponent(e)}`}function Y(t,e,n){if(!e||"object"!=typeof e)return"";const r=[],i={simple:",",label:".",matrix:";"}[n.style]||"&";if("deepObject"!==n.style&&!1===n.explode){for(const t in e)r.push(t,!0===n.allowReserved?e[t]:encodeURIComponent(e[t]));const i=r.join(",");switch(n.style){case"form":return`${t}=${i}`;case"label":return`.${i}`;case"matrix":return`;${t}=${i}`;default:return i}}for(const i in e){const o="deepObject"===n.style?`${t}[${i}]`:i;r.push(H(o,e[i],n))}const o=r.join(i);return"label"===n.style||"matrix"===n.style?`${i}${o}`:o}function X(t,e,n){if(!Array.isArray(e))return"";if(!1===n.explode){const r={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[n.style]||",",i=(!0===n.allowReserved?e:e.map((t=>encodeURIComponent(t)))).join(r);switch(n.style){case"simple":return i;case"label":return`.${i}`;case"matrix":return`;${t}=${i}`;default:return`${t}=${i}`}}const r={simple:",",label:".",matrix:";"}[n.style]||"&",i=[];for(const r of e)"simple"===n.style||"label"===n.style?i.push(!0===n.allowReserved?r:encodeURIComponent(r)):i.push(H(t,r,n));return"label"===n.style||"matrix"===n.style?`${r}${i.join(r)}`:i.join(r)}function Q(t){return function(e){const n=[];if(e&&"object"==typeof e)for(const r in e){const i=e[r];null!=i&&(Array.isArray(i)?n.push(X(r,i,{style:"form",explode:!0,...t?.array,allowReserved:t?.allowReserved||!1})):"object"!=typeof i?n.push(H(r,i,t)):n.push(Y(r,i,{style:"deepObject",explode:!0,...t?.object,allowReserved:t?.allowReserved||!1})))}return n.join("&")}}function K(t){return JSON.stringify(t)}function Z(...t){const e=new Headers;for(const n of t){if(!n||"object"!=typeof n)continue;const t=n instanceof Headers?n.entries():Object.entries(n);for(const[n,r]of t)if(null===r)e.delete(n);else if(Array.isArray(r))for(const t of r)e.append(n,t);else void 0!==r&&e.set(n,r)}return e}const J=function(t){let{baseUrl:e="",fetch:n=globalThis.fetch,querySerializer:r,bodySerializer:i,headers:o,...a}={...t};e.endsWith("/")&&(e=e.substring(0,e.length-1)),o=Z(W,o);const s=[];async function l(t,l){let{fetch:u=n,headers:c,params:d={},parseAs:f="json",querySerializer:p,bodySerializer:h=i??K,...g}=l||{},v="function"==typeof r?r:Q(r);p&&(v="function"==typeof p?p:Q({..."object"==typeof r?r:{},...p}));const m={redirect:"follow",...a,...g,headers:Z(o,c,d.header)};m.body&&(m.body=h(m.body)),m.body instanceof FormData&&m.headers.delete("Content-Type");let y=new Request(function(t,e){let n=`${e.baseUrl}${t}`;e.params?.path&&(n=function(t,e){let n=t;for(const r of t.match(U)??[]){let t=r.substring(1,r.length-1),i=!1,o="simple";if(t.endsWith("*")&&(i=!0,t=t.substring(0,t.length-1)),t.startsWith(".")?(o="label",t=t.substring(1)):t.startsWith(";")&&(o="matrix",t=t.substring(1)),!e||void 0===e[t]||null===e[t])continue;const a=e[t];Array.isArray(a)?n=n.replace(r,X(t,a,{style:o,explode:i})):n="object"!=typeof a?"matrix"!==o?n.replace(r,"label"===o?`.${a}`:a):n.replace(r,`;${H(t,a)}`):n.replace(r,Y(t,a,{style:o,explode:i}))}return n}(n,e.params.path));let r=e.querySerializer(e.params.query??{});r.startsWith("?")&&(r=r.substring(1));r&&(n+=`?${r}`);return n}(t,{baseUrl:e,params:d,querySerializer:v}),m);const b={baseUrl:e,fetch:u,parseAs:f,querySerializer:v,bodySerializer:h};for(const e of s)if(e&&"object"==typeof e&&"function"==typeof e.onRequest){y.schemaPath=t,y.params=d;const n=await e.onRequest(y,b);if(n){if(!(n instanceof Request))throw new Error("Middleware must return new Request() when modifying the request");y=n}}let x=await u(y);for(let t=s.length-1;t>=0;t--){const e=s[t];if(e&&"object"==typeof e&&"function"==typeof e.onResponse){const t=await e.onResponse(x,b);if(t){if(!(t instanceof Response))throw new Error("Middleware must return new Response() when modifying the response");x=t}}}if(204===x.status||"0"===x.headers.get("Content-Length"))return x.ok?{data:{},response:x}:{error:{},response:x};if(x.ok)return"stream"===f?{data:x.body,response:x}:{data:await x[f](),response:x};let w=await x.text();try{w=JSON.parse(w)}catch{}return{error:w,response:x}}return{GET:async(t,e)=>l(t,{...e,method:"GET"}),PUT:async(t,e)=>l(t,{...e,method:"PUT"}),POST:async(t,e)=>l(t,{...e,method:"POST"}),DELETE:async(t,e)=>l(t,{...e,method:"DELETE"}),OPTIONS:async(t,e)=>l(t,{...e,method:"OPTIONS"}),HEAD:async(t,e)=>l(t,{...e,method:"HEAD"}),PATCH:async(t,e)=>l(t,{...e,method:"PATCH"}),TRACE:async(t,e)=>l(t,{...e,method:"TRACE"}),use(...t){for(const e of t)if(e){if("object"!=typeof e||!("onRequest"in e)&&!("onResponse"in e))throw new Error("Middleware must be an object with one of `onRequest()` or `onResponse()`");s.push(e)}},eject(...t){for(const e of t){const t=s.indexOf(e);-1!==t&&s.splice(t,1)}}}}({baseUrl:s.WT}),tt={async onResponse(t){if(t.status>=400){const e=await t.clone().text();throw new Error(e)}}};J.use(tt);const et=new class{#y;#h;#c;#b;#x;#w;#S;#k;constructor(t={}){this.#y=t.queryCache||new N,this.#h=t.mutationCache||new V,this.#c=t.defaultOptions||{},this.#b=new Map,this.#x=new Map,this.#w=0}mount(){this.#w++,1===this.#w&&(this.#S=M.subscribe((async t=>{t&&(await this.resumePausedMutations(),this.#y.onFocus())})),this.#k=D.subscribe((async t=>{t&&(await this.resumePausedMutations(),this.#y.onOnline())})))}unmount(){this.#w--,0===this.#w&&(this.#S?.(),this.#S=void 0,this.#k?.(),this.#k=void 0)}isFetching(t){return this.#y.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#h.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#y.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(void 0===e)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=this.#y.build(this,n);return t.revalidateIfStale&&r.isStaleByTime(n.staleTime)&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return this.#y.findAll(t).map((({queryKey:t,state:e})=>[t,e.data]))}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#y.get(r.queryHash),o=i?.state.data,a=function(t,e){return"function"==typeof t?t(e):t}(e,o);if(void 0!==a)return this.#y.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return T.batch((()=>this.#y.findAll(t).map((({queryKey:t})=>[t,this.setQueryData(t,e,n)]))))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#y.get(e.queryHash)?.state}removeQueries(t){const e=this.#y;T.batch((()=>{e.findAll(t).forEach((t=>{e.remove(t)}))}))}resetQueries(t,e){const n=this.#y,r={type:"active",...t};return T.batch((()=>(n.findAll(t).forEach((t=>{t.reset()})),this.refetchQueries(r,e))))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=T.batch((()=>this.#y.findAll(t).map((t=>t.cancel(n)))));return Promise.all(r).then(u).catch(u)}invalidateQueries(t={},e={}){return T.batch((()=>{if(this.#y.findAll(t).forEach((t=>{t.invalidate()})),"none"===t.refetchType)return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)}))}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=T.batch((()=>this.#y.findAll(t).filter((t=>!t.isDisabled())).map((t=>{let e=t.fetch(void 0,n);return n.throwOnError||(e=e.catch(u)),"paused"===t.state.fetchStatus?Promise.resolve():e}))));return Promise.all(r).then(u)}fetchQuery(t){const e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);const n=this.#y.build(this,e);return n.isStaleByTime(e.staleTime)?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(u).catch(u)}fetchInfiniteQuery(t){return t.behavior=q(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(u).catch(u)}resumePausedMutations(){return D.isOnline()?this.#h.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#y}getMutationCache(){return this.#h}getDefaultOptions(){return this.#c}setDefaultOptions(t){this.#c=t}setQueryDefaults(t,e){this.#b.set(v(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#b.values()];let n={};return e.forEach((e=>{m(t,e.queryKey)&&(n={...n,...e.defaultOptions})})),n}setMutationDefaults(t,e){this.#x.set(v(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#x.values()];let n={};return e.forEach((e=>{m(t,e.mutationKey)&&(n={...n,...e.defaultOptions})})),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#c.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=g(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),!0!==e.enabled&&e.queryFn===R&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#c.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#y.clear(),this.#h.clear()}};var nt=c(3871),rt=c.n(nt),it=c(7776),ot=c.n(it);const at=(0,t.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),st=(0,t.createContext)({}),lt=(0,t.createContext)(null),ut="undefined"!=typeof document,ct=ut?t.useLayoutEffect:t.useEffect,dt=(0,t.createContext)({strict:!1}),ft=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pt="data-"+ft("framerAppearId"),ht=!1,gt=!1;class vt{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const e=this.order.indexOf(t);-1!==e&&(this.order.splice(e,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}const mt=["read","resolveKeyframes","update","preRender","render","postRender"];function yt(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=mt.reduce(((t,e)=>(t[e]=function(t){let e=new vt,n=new vt,r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:(t,o=!1,s=!1)=>{const l=s&&i,u=l?e:n;return o&&a.add(t),u.add(t)&&l&&i&&(r=e.order.length),t},cancel:t=>{n.remove(t),a.delete(t)},process:l=>{if(i)o=!0;else{if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let n=0;n<r;n++){const r=e.order[n];a.has(r)&&(s.schedule(r),t()),r(l)}i=!1,o&&(o=!1,s.process(l))}}};return s}((()=>n=!0)),t)),{}),a=t=>{o[t].process(i)},s=()=>{const o=gt?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,mt.forEach(a),i.isProcessing=!1,n&&e&&(r=!1,t(s))},l=mt.reduce(((e,a)=>{const l=o[a];return e[a]=(e,o=!1,a=!1)=>(n||(n=!0,r=!0,i.isProcessing||t(s)),l.schedule(e,o,a)),e}),{});return{schedule:l,cancel:t=>mt.forEach((e=>o[e].cancel(t))),state:i,steps:o}}const{schedule:bt,cancel:xt}=yt(queueMicrotask,!1);function wt(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function St(t){return"string"==typeof t||Array.isArray(t)}function kt(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}const Et=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ct=["initial",...Et];function Rt(t){return kt(t.animate)||Ct.some((e=>St(t[e])))}function Tt(t){return Boolean(Rt(t)||t.variants)}function Pt(e){const{initial:n,animate:r}=function(t,e){if(Rt(t)){const{initial:e,animate:n}=t;return{initial:!1===e||St(e)?e:void 0,animate:St(n)?n:void 0}}return!1!==t.inherit?e:{}}(e,(0,t.useContext)(st));return(0,t.useMemo)((()=>({initial:n,animate:r})),[Mt(n),Mt(r)])}function Mt(t){return Array.isArray(t)?t.join(" "):t}const Dt={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ot={};for(const t in Dt)Ot[t]={isEnabled:e=>Dt[t].some((t=>!!e[t]))};const _t=(0,t.createContext)({}),At=(0,t.createContext)({}),zt=Symbol.for("motionComponentSymbol");function Bt({preloadedFeatures:e,createVisualElement:n,useRender:r,useVisualState:i,Component:o}){e&&function(t){for(const e in t)Ot[e]={...Ot[e],...t[e]}}(e);const a=(0,t.forwardRef)((function(a,s){let l;const u={...(0,t.useContext)(at),...a,layoutId:Ft(a)},{isStatic:c}=u,d=Pt(a),f=i(a,c);if(!c&&ut){d.visualElement=function(e,n,r,i){const{visualElement:o}=(0,t.useContext)(st),a=(0,t.useContext)(dt),s=(0,t.useContext)(lt),l=(0,t.useContext)(at).reducedMotion,u=(0,t.useRef)();i=i||a.renderer,!u.current&&i&&(u.current=i(e,{visualState:n,parent:o,props:r,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:l}));const c=u.current;(0,t.useInsertionEffect)((()=>{c&&c.update(r,s)}));const d=(0,t.useRef)(Boolean(r[pt]&&!window.HandoffComplete));return ct((()=>{c&&(bt.postRender(c.render),d.current&&c.animationState&&c.animationState.animateChanges())})),(0,t.useEffect)((()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))})),c}(o,f,u,n);const r=(0,t.useContext)(At),i=(0,t.useContext)(dt).strict;d.visualElement&&(l=d.visualElement.loadFeatures(u,i,e,r))}return t.createElement(st.Provider,{value:d},l&&d.visualElement?t.createElement(l,{visualElement:d.visualElement,...u}):null,r(o,a,function(e,n,r){return(0,t.useCallback)((t=>{t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"==typeof r?r(t):wt(r)&&(r.current=t))}),[n])}(f,d.visualElement,s),f,c,d.visualElement))}));return a[zt]=o,a}function Ft({layoutId:e}){const n=(0,t.useContext)(_t).id;return n&&void 0!==e?n+"-"+e:e}function It(t){function e(e,n={}){return Bt(t(e,n))}if("undefined"==typeof Proxy)return e;const n=new Map;return new Proxy(e,{get:(t,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const Lt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nt(t){return"string"==typeof t&&!t.includes("-")&&!!(Lt.indexOf(t)>-1||/[A-Z]/u.test(t))}const jt={};const Vt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qt=new Set(Vt);function Gt(t,{layout:e,layoutId:n}){return qt.has(t)||t.startsWith("origin")||(e||void 0!==n)&&(!!jt[t]||"opacity"===t)}const $t=t=>Boolean(t&&t.getVelocity),Wt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ut=Vt.length;const Ht=t=>e=>"string"==typeof e&&e.startsWith(t),Yt=Ht("--"),Xt=Ht("var(--"),Qt=t=>!!Xt(t)&&Kt.test(t.split("/*")[0].trim()),Kt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zt=(t,e)=>e&&"number"==typeof t?e.transform(t):t,Jt=(t,e,n)=>n>e?e:n<t?t:n,te={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},ee={...te,transform:t=>Jt(0,1,t)},ne={...te,default:1},re=t=>Math.round(1e5*t)/1e5,ie=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,oe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,ae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function se(t){return"string"==typeof t}const le=t=>({test:e=>se(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),ue=le("deg"),ce=le("%"),de=le("px"),fe=le("vh"),pe=le("vw"),he={...ce,parse:t=>ce.parse(t)/100,transform:t=>ce.transform(100*t)},ge={...te,transform:Math.round},ve={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,size:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,rotate:ue,rotateX:ue,rotateY:ue,rotateZ:ue,scale:ne,scaleX:ne,scaleY:ne,scaleZ:ne,skew:ue,skewX:ue,skewY:ue,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:ee,originX:he,originY:he,originZ:de,zIndex:ge,backgroundPositionX:de,backgroundPositionY:de,fillOpacity:ee,strokeOpacity:ee,numOctaves:ge};function me(t,e,n,r){const{style:i,vars:o,transform:a,transformOrigin:s}=t;let l=!1,u=!1,c=!0;for(const t in e){const n=e[t];if(Yt(t)){o[t]=n;continue}const r=ve[t],d=Zt(n,r);if(qt.has(t)){if(l=!0,a[t]=d,!c)continue;n!==(r.default||0)&&(c=!1)}else t.startsWith("origin")?(u=!0,s[t]=d):i[t]=d}if(e.transform||(l||r?i.transform=function(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let e=0;e<Ut;e++){const n=Vt[e];void 0!==t[n]&&(o+=`${Wt[n]||n}(${t[n]}) `)}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:t="50%",originY:e="50%",originZ:n=0}=s;i.transformOrigin=`${t} ${e} ${n}`}}const ye=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function be(t,e,n){for(const r in e)$t(e[r])||Gt(r,n)||(t[r]=e[r])}function xe(e,n,r){const i={};return be(i,e.style||{},e),Object.assign(i,function({transformTemplate:e},n,r){return(0,t.useMemo)((()=>{const t=ye();return me(t,n,{enableHardwareAcceleration:!r},e),Object.assign({},t.vars,t.style)}),[n])}(e,n,r)),i}function we(t,e,n){const r={},i=xe(t,e,n);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Se=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ke(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Se.has(t)}let Ee=t=>!ke(t);try{(Ce=require("@emotion/is-prop-valid").default)&&(Ee=t=>t.startsWith("on")?!ke(t):Ce(t))}catch(t){}var Ce;function Re(t,e,n){return"string"==typeof t?t:de.transform(e+n*t)}const Te={offset:"stroke-dashoffset",array:"stroke-dasharray"},Pe={offset:"strokeDashoffset",array:"strokeDasharray"};function Me(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:a,pathSpacing:s=1,pathOffset:l=0,...u},c,d,f){if(me(t,u,c,f),d)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:p,style:h,dimensions:g}=t;p.transform&&(g&&(h.transform=p.transform),delete p.transform),g&&(void 0!==i||void 0!==o||h.transform)&&(h.transformOrigin=function(t,e,n){return`${Re(e,t.x,t.width)} ${Re(n,t.y,t.height)}`}(g,void 0!==i?i:.5,void 0!==o?o:.5)),void 0!==e&&(p.x=e),void 0!==n&&(p.y=n),void 0!==r&&(p.scale=r),void 0!==a&&function(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?Te:Pe;t[o.offset]=de.transform(-r);const a=de.transform(e),s=de.transform(n);t[o.array]=`${a} ${s}`}(p,a,s,l,!1)}const De=()=>({...ye(),attrs:{}}),Oe=t=>"string"==typeof t&&"svg"===t.toLowerCase();function _e(e,n,r,i){const o=(0,t.useMemo)((()=>{const t=De();return Me(t,n,{enableHardwareAcceleration:!1},Oe(i),e.transformTemplate),{...t.attrs,style:{...t.style}}}),[n]);if(e.style){const t={};be(t,e.style,e),o.style={...t,...o.style}}return o}function Ae(e=!1){return(n,r,i,{latestValues:o},a)=>{const s=(Nt(n)?_e:we)(r,o,a,n),l=function(t,e,n){const r={};for(const i in t)"values"===i&&"object"==typeof t.values||(Ee(i)||!0===n&&ke(i)||!e&&!ke(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(r,"string"==typeof n,e),u=n!==t.Fragment?{...l,...s,ref:i}:{},{children:c}=r,d=(0,t.useMemo)((()=>$t(c)?c.get():c),[c]);return(0,t.createElement)(n,{...u,children:d})}}function ze(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const e in n)t.style.setProperty(e,n[e])}const Be=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fe(t,e,n,r){ze(t,e,void 0,r);for(const n in e.attrs)t.setAttribute(Be.has(n)?n:ft(n),e.attrs[n])}function Ie(t,e){const{style:n}=t,r={};for(const i in n)($t(n[i])||e.style&&$t(e.style[i])||Gt(i,t))&&(r[i]=n[i]);return r}function Le(t,e){const n=Ie(t,e);for(const r in t)if($t(t[r])||$t(e[r])){n[-1!==Vt.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=t[r]}return n}function Ne(t,e,n,r={},i={}){return"function"==typeof e&&(e=e(void 0!==n?n:t.custom,r,i)),"string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e&&(e=e(void 0!==n?n:t.custom,r,i)),e}function je(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}const Ve=t=>Array.isArray(t),qe=t=>Boolean(t&&"object"==typeof t&&t.mix&&t.toValue),Ge=t=>Ve(t)?t[t.length-1]||0:t;function $e(t){const e=$t(t)?t.get():t;return qe(e)?e.toValue():e}const We=e=>(n,r)=>{const i=(0,t.useContext)(st),o=(0,t.useContext)(lt),a=()=>function({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const a={latestValues:Ue(r,i,o,t),renderState:e()};return n&&(a.mount=t=>n(r,t,a)),a}(e,n,i,o);return r?a():je(a)};function Ue(t,e,n,r){const i={},o=r(t,{});for(const t in o)i[t]=$e(o[t]);let{initial:a,animate:s}=t;const l=Rt(t),u=Tt(t);e&&u&&!l&&!1!==t.inherit&&(void 0===a&&(a=e.initial),void 0===s&&(s=e.animate));let c=!!n&&!1===n.initial;c=c||!1===a;const d=c?s:a;if(d&&"boolean"!=typeof d&&!kt(d)){(Array.isArray(d)?d:[d]).forEach((e=>{const n=Ne(t,e);if(!n)return;const{transitionEnd:r,transition:o,...a}=n;for(const t in a){let e=a[t];if(Array.isArray(e)){e=e[c?e.length-1:0]}null!==e&&(i[t]=e)}for(const t in r)i[t]=r[t]}))}return i}const He=t=>t,{schedule:Ye,cancel:Xe,state:Qe,steps:Ke}=yt("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:He,!0),Ze={useVisualState:We({scrapeMotionValuesFromProps:Le,createRenderState:De,onMount:(t,e,{renderState:n,latestValues:r})=>{Ye.read((()=>{try{n.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){n.dimensions={x:0,y:0,width:0,height:0}}})),Ye.render((()=>{Me(n,r,{enableHardwareAcceleration:!1},Oe(e.tagName),t.transformTemplate),Fe(e,n)}))}})},Je={useVisualState:We({scrapeMotionValuesFromProps:Ie,createRenderState:ye})};function tn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const en=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary;function nn(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const rn=t=>e=>en(e)&&t(e,nn(e));function on(t,e,n,r){return tn(t,e,rn(n),r)}const an=(t,e)=>n=>e(t(n)),sn=(...t)=>t.reduce(an);function ln(t){let e=null;return()=>{const n=()=>{e=null};return null===e&&(e=t,n)}}const un=ln("dragHorizontal"),cn=ln("dragVertical");function dn(t){let e=!1;if("y"===t)e=cn();else if("x"===t)e=un();else{const t=un(),n=cn();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function fn(){const t=dn(!0);return!t||(t(),!1)}class pn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function hn(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End");return on(t.current,n,((n,i)=>{if("touch"===n.pointerType||fn())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[r]&&o[r](n,i)}),{passive:!t.getProps()[r]})}const gn=(t,e)=>!!e&&(t===e||gn(t,e.parentElement));function vn(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,nn(n))}const mn=new WeakMap,yn=new WeakMap,bn=t=>{const e=mn.get(t.target);e&&e(t)},xn=t=>{t.forEach(bn)};function wn(t,e,n){const r=function({root:t,...e}){const n=t||document;yn.has(n)||yn.set(n,{});const r=yn.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(xn,{root:t,...e})),r[i]}(e);return mn.set(t,n),r.observe(t),()=>{mn.delete(t),r.unobserve(t)}}const Sn={some:0,all:1};const kn={inView:{Feature:class extends pn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:i}=t,o={root:e?e.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:Sn[r]};return wn(this.node.current,o,(t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,i&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=e?n:r;o&&o(t)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}(t,e))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends pn{constructor(){super(...arguments),this.removeStartListeners=He,this.removeEndListeners=He,this.removeAccessibleListeners=He,this.startPointerPress=(t,e)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=on(window,"pointerup",((t,e)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();i||gn(this.node.current,t.target)?n&&n(t,e):r&&r(t,e)}),{passive:!(n.onTap||n.onPointerUp)}),i=on(window,"pointercancel",((t,e)=>this.cancelPress(t,e)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=sn(r,i),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=tn(this.node.current,"keydown",(t=>{if("Enter"!==t.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=tn(this.node.current,"keyup",(t=>{"Enter"===t.key&&this.checkPressEnd()&&vn("up",((t,e)=>{const{onTap:n}=this.node.getProps();n&&n(t,e)}))})),vn("down",((t,e)=>{this.startPress(t,e)}))})),e=tn(this.node.current,"blur",(()=>{this.isPressing&&vn("cancel",((t,e)=>this.cancelPress(t,e)))}));this.removeAccessibleListeners=sn(t,e)}}startPress(t,e){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&n(t,e)}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!fn()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&n(t,e)}mount(){const t=this.node.getProps(),e=on(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=tn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=sn(e,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends pn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sn(tn(this.node.current,"focus",(()=>this.onFocus())),tn(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends pn{mount(){this.unmount=sn(hn(this.node,!0),hn(this.node,!1))}unmount(){}}}};function En(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Cn(t,e,n){const r=t.getProps();return Ne(r,e,void 0!==n?n:r.custom,function(t){const e={};return t.values.forEach(((t,n)=>e[n]=t.get())),e}(t),function(t){const e={};return t.values.forEach(((t,n)=>e[n]=t.getVelocity())),e}(t))}const Rn=t=>1e3*t,Tn=t=>t/1e3,Pn={type:"spring",stiffness:500,damping:25,restSpeed:10},Mn={type:"keyframes",duration:.8},Dn={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},On=(t,{keyframes:e})=>e.length>2?Mn:qt.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===e[1]?2*Math.sqrt(550):30,restSpeed:10}:Pn:Dn;function _n(t,e){return t[e]||t.default||t}const An=!1,zn=t=>null!==t;function Bn(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(zn),o=e&&"loop"!==n&&e%2==1?0:i.length-1;return o&&void 0!==r?r:i[o]}let Fn;function In(){Fn=void 0}const Ln={now:()=>(void 0===Fn&&Ln.set(Qe.isProcessing||gt?Qe.timestamp:performance.now()),Fn),set:t=>{Fn=t,queueMicrotask(In)}},Nn=t=>/^0[^.\s]+$/u.test(t);let jn=He,Vn=He;const qn=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Gn=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $n(t,e,n=1){Vn(n<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);const[r,i]=function(t){const e=Gn.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${null!=n?n:r}`,i]}(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const t=o.trim();return qn(t)?parseFloat(t):t}return Qt(i)?$n(i,e,n+1):i}const Wn=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Un=t=>t===te||t===de,Hn=(t,e)=>parseFloat(t.split(", ")[e]),Yn=(t,e)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Hn(i[1],e);{const e=r.match(/^matrix\((.+)\)$/u);return e?Hn(e[1],t):0}},Xn=new Set(["x","y","z"]),Qn=Vt.filter((t=>!Xn.has(t)));function Kn(t){const e=[];return Qn.forEach((n=>{const r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),e}const Zn={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Yn(4,13),y:Yn(5,14)};Zn.translateX=Zn.x,Zn.translateY=Zn.y;const Jn=t=>e=>e.test(t),tr=[te,de,ce,ue,pe,fe,{test:t=>"auto"===t,parse:t=>t}],er=t=>tr.find(Jn(t)),nr=new Set;let rr=!1,ir=!1;function or(){if(ir){const t=Array.from(nr).filter((t=>t.needsMeasurement)),e=new Set(t.map((t=>t.element))),n=new Map;e.forEach((t=>{Kn(t).length&&(n.set(t,Kn(t)),t.render())})),t.forEach((t=>t.measureInitialState())),e.forEach((t=>{t.render()})),t.forEach((t=>t.measureEndState())),t.forEach((t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)}))}ir=!1,rr=!1,nr.forEach((t=>t.complete())),nr.clear()}function ar(){nr.forEach((t=>{t.readKeyframes(),t.needsMeasurement&&(ir=!0)}))}class sr{constructor(t,e,n,r,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(nr.add(this),rr||(rr=!0,Ye.read(ar),Ye.resolveKeyframes(or))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;for(let i=0;i<t.length;i++)if(null===t[i])if(0===i){const i=null==r?void 0:r.get(),o=t[t.length-1];if(void 0!==i)t[0]=i;else if(n&&e){const r=n.readValue(e,o);null!=r&&(t[0]=r)}void 0===t[0]&&(t[0]=o),r&&void 0===i&&r.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),nr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,nr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const lr=(t,e)=>n=>Boolean(se(n)&&ae.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),ur=(t,e,n)=>r=>{if(!se(r))return r;const[i,o,a,s]=r.match(ie);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},cr={...te,transform:t=>Math.round((t=>Jt(0,255,t))(t))},dr={test:lr("rgb","red"),parse:ur("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+cr.transform(t)+", "+cr.transform(e)+", "+cr.transform(n)+", "+re(ee.transform(r))+")"};const fr={test:lr("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:dr.transform},pr={test:lr("hsl","hue"),parse:ur("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ce.transform(re(e))+", "+ce.transform(re(n))+", "+re(ee.transform(r))+")"},hr={test:t=>dr.test(t)||fr.test(t)||pr.test(t),parse:t=>dr.test(t)?dr.parse(t):pr.test(t)?pr.parse(t):fr.parse(t),transform:t=>se(t)?t:t.hasOwnProperty("red")?dr.transform(t):pr.transform(t)};const gr="number",vr="color",mr="var",yr="var(",br="${}",xr=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wr(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace(xr,(t=>(hr.test(t)?(r.color.push(o),i.push(vr),n.push(hr.parse(t))):t.startsWith(yr)?(r.var.push(o),i.push(mr),n.push(t)):(r.number.push(o),i.push(gr),n.push(parseFloat(t))),++o,br))).split(br);return{values:n,split:a,indexes:r,types:i}}function Sr(t){return wr(t).values}function kr(t){const{split:e,types:n}=wr(t),r=e.length;return t=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],void 0!==t[o]){const e=n[o];i+=e===gr?re(t[o]):e===vr?hr.transform(t[o]):t[o]}return i}}const Er=t=>"number"==typeof t?0:t;const Cr={test:function(t){var e,n;return isNaN(t)&&se(t)&&((null===(e=t.match(ie))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(oe))||void 0===n?void 0:n.length)||0)>0},parse:Sr,createTransformer:kr,getAnimatableNone:function(t){const e=Sr(t);return kr(t)(e.map(Er))}},Rr=new Set(["brightness","contrast","saturate","opacity"]);function Tr(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[r]=n.match(ie)||[];if(!r)return t;const i=n.replace(r,"");let o=Rr.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const Pr=/\b([a-z-]*)\(.*?\)/gu,Mr={...Cr,getAnimatableNone:t=>{const e=t.match(Pr);return e?e.map(Tr).join(" "):t}},Dr={...ve,color:hr,backgroundColor:hr,outlineColor:hr,fill:hr,stroke:hr,borderColor:hr,borderTopColor:hr,borderRightColor:hr,borderBottomColor:hr,borderLeftColor:hr,filter:Mr,WebkitFilter:Mr},Or=t=>Dr[t];function _r(t,e){let n=Or(t);return n!==Mr&&(n=Cr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}class Ar extends sr{constructor(t,e,n,r){super(t,e,n,r,null==r?void 0:r.owner,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e.current)return;super.readKeyframes();for(let n=0;n<t.length;n++){const r=t[n];if("string"==typeof r&&Qt(r)){const i=$n(r,e.current);void 0!==i&&(t[n]=i)}}if(!Wn.has(n)||2!==t.length)return this.resolveNoneKeyframes();const[r,i]=t,o=er(r),a=er(i);if(o!==a)if(Un(o)&&Un(a))for(let e=0;e<t.length;e++){const n=t[e];"string"==typeof n&&(t[e]=parseFloat(n))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let e=0;e<t.length;e++)("number"==typeof(r=t[e])?0===r:null===r||"none"===r||"0"===r||Nn(r))&&n.push(e);var r;n.length&&function(t,e,n){let r,i=0;for(;i<t.length&&!r;)"string"==typeof t[i]&&"none"!==t[i]&&"0"!==t[i]&&(r=t[i]),i++;if(r&&n)for(const i of e)t[i]=_r(n,r)}(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];void 0!==r&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Zn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&(this.finalKeyframe=a),(null===(t=this.removedTransforms)||void 0===t?void 0:t.length)&&this.removedTransforms.forEach((([t,n])=>{e.getValue(t).set(n)})),this.resolveNoneKeyframes()}}function zr(t){let e;return()=>(void 0===e&&(e=t()),e)}const Br=(t,e)=>"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!Cr.test(t)&&"0"!==t||t.startsWith("url(")));class Fr{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:t,delay:e,type:n,repeat:r,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return this._resolved||this.hasAttemptedResolve||(ar(),or()),this._resolved}onKeyframesResolved(t,e){this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:o,onComplete:a,onUpdate:s,isGenerator:l}=this.options;if(!l&&!function(t,e,n,r){const i=t[0];if(null===i)return!1;const o=t[t.length-1],a=Br(i,e),s=Br(o,e);return jn(a===s,`You are trying to animate ${e} from "${i}" to "${o}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${o} via the \`style\` property.`),!(!a||!s)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||"spring"===n&&r)}(t,n,r,i)){if(An||!o)return null==s||s(Bn(t,this.options,e)),null==a||a(),void this.resolveFinishedPromise();this.options.duration=0}const u=this.initPlayback(t,e);!1!==u&&(this._resolved={keyframes:t,finalKeyframe:e,...u},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}updateFinishedPromise(){this.currentFinishedPromise=new Promise((t=>{this.resolveFinishedPromise=t}))}}function Ir(t,e){return e?t*(1e3/e):0}const Lr=5;function Nr(t,e,n){const r=Math.max(e-Lr,0);return Ir(n-t(r),e-r)}const jr=.001,Vr=.01,qr=10,Gr=.05,$r=1;function Wr({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;jn(t<=Rn(qr),"Spring duration must be 10 seconds or less");let a=1-e;a=Jt(Gr,$r,a),t=Jt(Vr,qr,Tn(t)),a<1?(i=e=>{const r=e*a,i=r*t,o=r-n,s=Hr(e,a),l=Math.exp(-i);return jr-o/s*l},o=e=>{const r=e*a*t,o=r*n+n,s=Math.pow(a,2)*Math.pow(e,2)*t,l=Math.exp(-r),u=Hr(Math.pow(e,2),a);return(-i(e)+jr>0?-1:1)*((o-s)*l)/u}):(i=e=>Math.exp(-e*t)*((e-n)*t+1)-jr,o=e=>Math.exp(-e*t)*(t*t*(n-e)));const s=function(t,e,n){let r=n;for(let n=1;n<Ur;n++)r-=t(r)/e(r);return r}(i,o,5/t);if(t=Rn(t),isNaN(s))return{stiffness:100,damping:10,duration:t};{const e=Math.pow(s,2)*r;return{stiffness:e,damping:2*a*Math.sqrt(r*e),duration:t}}}const Ur=12;function Hr(t,e){return t*Math.sqrt(1-e*e)}const Yr=["duration","bounce"],Xr=["stiffness","damping","mass"];function Qr(t,e){return e.some((e=>void 0!==t[e]))}function Kr({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],a={done:!1,value:i},{stiffness:s,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:f}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Qr(t,Xr)&&Qr(t,Yr)){const n=Wr(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}({...r,velocity:-Tn(r.velocity||0)}),p=d||0,h=l/(2*Math.sqrt(s*u)),g=o-i,v=Tn(Math.sqrt(s/u)),m=Math.abs(g)<5;let y;if(n||(n=m?.01:2),e||(e=m?.005:.5),h<1){const t=Hr(v,h);y=e=>{const n=Math.exp(-h*v*e);return o-n*((p+h*v*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}}else if(1===h)y=t=>o-Math.exp(-v*t)*(g+(p+v*g)*t);else{const t=v*Math.sqrt(h*h-1);y=e=>{const n=Math.exp(-h*v*e),r=Math.min(t*e,300);return o-n*((p+h*v*g)*Math.sinh(r)+t*g*Math.cosh(r))/t}}return{calculatedDuration:f&&c||null,next:t=>{const r=y(t);if(f)a.done=t>=c;else{let i=p;0!==t&&(i=h<1?Nr(y,t,r):0);const s=Math.abs(i)<=n,l=Math.abs(o-r)<=e;a.done=s&&l}return a.value=a.done?o:r,a}}}function Zr({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},p=t=>void 0===s?l:void 0===l||Math.abs(s-t)<Math.abs(l-t)?s:l;let h=n*e;const g=d+h,v=void 0===a?g:a(g);v!==g&&(h=v-d);const m=t=>-h*Math.exp(-t/r),y=t=>v+m(t),b=t=>{const e=m(t),n=y(t);f.done=Math.abs(e)<=u,f.value=f.done?v:n};let x,w;const S=t=>{var e;(e=f.value,void 0!==s&&e<s||void 0!==l&&e>l)&&(x=t,w=Kr({keyframes:[f.value,p(f.value)],velocity:Nr(y,t,f.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return S(0),{calculatedDuration:null,next:t=>{let e=!1;return w||void 0!==x||(e=!0,b(t),S(t)),void 0!==x&&t>=x?w.next(t-x):(!e&&b(t),f)}}}const Jr=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ti=1e-7,ei=12;function ni(t,e,n,r){if(t===e&&n===r)return He;const i=e=>function(t,e,n,r,i){let o,a,s=0;do{a=e+(n-e)/2,o=Jr(a,r,i)-t,o>0?n=a:e=a}while(Math.abs(o)>ti&&++s<ei);return a}(e,0,1,t,n);return t=>0===t||1===t?t:Jr(i(t),e,r)}const ri=ni(.42,0,1,1),ii=ni(0,0,.58,1),oi=ni(.42,0,.58,1),ai=t=>Array.isArray(t)&&"number"!=typeof t[0],si=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,li=t=>e=>1-t(1-e),ui=t=>1-Math.sin(Math.acos(t)),ci=li(ui),di=si(ui),fi=ni(.33,1.53,.69,.99),pi=li(fi),hi=si(pi),gi={linear:He,easeIn:ri,easeInOut:oi,easeOut:ii,circIn:ui,circInOut:di,circOut:ci,backIn:pi,backInOut:hi,backOut:fi,anticipate:t=>(t*=2)<1?.5*pi(t):.5*(2-Math.pow(2,-10*(t-1)))},vi=t=>{if(Array.isArray(t)){Vn(4===t.length,"Cubic bezier arrays must contain four numerical values.");const[e,n,r,i]=t;return ni(e,n,r,i)}return"string"==typeof t?(Vn(void 0!==gi[t],`Invalid easing type '${t}'`),gi[t]):t},mi=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},yi=(t,e,n)=>t+(e-t)*n;function bi(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}const xi=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},wi=[fr,dr,pr];function Si(t){const e=(n=t,wi.find((t=>t.test(n))));var n;Vn(Boolean(e),`'${t}' is not an animatable color. Use the equivalent color code instead.`);let r=e.parse(t);return e===pr&&(r=function({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let i=0,o=0,a=0;if(e/=100){const r=n<.5?n*(1+e):n+e-n*e,s=2*n-r;i=bi(s,r,t+1/3),o=bi(s,r,t),a=bi(s,r,t-1/3)}else i=o=a=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}(r)),r}const ki=(t,e)=>{const n=Si(t),r=Si(e),i={...n};return t=>(i.red=xi(n.red,r.red,t),i.green=xi(n.green,r.green,t),i.blue=xi(n.blue,r.blue,t),i.alpha=yi(n.alpha,r.alpha,t),dr.transform(i))};function Ei(t,e){return n=>n>0?e:t}function Ci(t,e){return n=>yi(t,e,n)}function Ri(t){return"number"==typeof t?Ci:"string"==typeof t?Qt(t)?Ei:hr.test(t)?ki:Mi:Array.isArray(t)?Ti:"object"==typeof t?hr.test(t)?ki:Pi:Ei}function Ti(t,e){const n=[...t],r=n.length,i=t.map(((t,n)=>Ri(t)(t,e[n])));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}}function Pi(t,e){const n={...t,...e},r={};for(const i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=Ri(t[i])(t[i],e[i]));return t=>{for(const e in r)n[e]=r[e](t);return n}}const Mi=(t,e)=>{const n=Cr.createTransformer(e),r=wr(t),i=wr(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sn(Ti(function(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],s=t.indexes[a][i[a]],l=null!==(n=t.values[s])&&void 0!==n?n:0;r[o]=l,i[a]++}return r}(r,i),i.values),n):(jn(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Ei(t,e))};function Di(t,e,n){if("number"==typeof t&&"number"==typeof e&&"number"==typeof n)return yi(t,e,n);return Ri(t)(t,e)}function Oi(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Vn(o===e.length,"Both input and output ranges must be the same length"),1===o)return()=>e[0];if(2===o&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=function(t,e,n){const r=[],i=n||Di,o=t.length-1;for(let n=0;n<o;n++){let o=i(t[n],t[n+1]);if(e){const t=Array.isArray(e)?e[n]||He:e;o=sn(t,o)}r.push(o)}return r}(e,r,i),s=a.length,l=e=>{let n=0;if(s>1)for(;n<t.length-2&&!(e<t[n+1]);n++);const r=mi(t[n],t[n+1],e);return a[n](r)};return n?e=>l(Jt(t[0],t[o-1],e)):l}function _i(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=mi(0,e,r);t.push(yi(n,1,i))}}function Ai(t){const e=[0];return _i(e,t.length-1),e}function zi(t,e){return t.map((()=>e||oi)).splice(0,t.length-1)}function Bi({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=ai(r)?r.map(vi):vi(r),o={done:!1,value:e[0]},a=function(t,e){return t.map((t=>t*e))}(n&&n.length===e.length?n:Ai(e),t),s=Oi(a,e,{ease:Array.isArray(i)?i:zi(e,i)});return{calculatedDuration:t,next:e=>(o.value=s(e),o.done=e>=t,o)}}const Fi=2e4;function Ii(t){let e=0;let n=t.next(e);for(;!n.done&&e<Fi;)e+=50,n=t.next(e);return e>=Fi?1/0:e}const Li=t=>{const e=({timestamp:e})=>t(e);return{start:()=>Ye.update(e,!0),stop:()=>Xe(e),now:()=>Qe.isProcessing?Qe.timestamp:Ln.now()}},Ni={decay:Zr,inertia:Zr,tween:Bi,keyframes:Bi,spring:Kr},ji=t=>t/100;class Vi extends Fr{constructor({KeyframeResolver:t=sr,...e}){super(e),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle";const{name:n,motionValue:r,keyframes:i}=this.options,o=(t,e)=>this.onKeyframesResolved(t,e);n&&r&&r.owner?this.resolver=r.owner.resolveKeyframes(i,o,n,r):this.resolver=new t(i,o,n,r),this.resolver.scheduleResolve()}initPlayback(t){const{type:e="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=this.options,a=Ni[e]||Bi;let s,l;a!==Bi&&"number"!=typeof t[0]&&(s=sn(ji,Di(t[0],t[1])),t=[0,100]);const u=a({...this.options,keyframes:t});"mirror"===i&&(l=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),null===u.calculatedDuration&&(u.calculatedDuration=Ii(u));const{calculatedDuration:c}=u,d=c+r;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:s,calculatedDuration:c,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t,e=!1){const{resolved:n}=this;if(!n){const{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:s,calculatedDuration:l,totalDuration:u,resolvedDuration:c}=n;if(null===this.startTime)return i.next(0);const{delay:d,repeat:f,repeatType:p,repeatDelay:h,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-d*(this.speed>=0?1:-1),m=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=u);let y=this.currentTime,b=i;if(f){const t=Math.min(this.currentTime,u)/c;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,f+1);Boolean(e%2)&&("reverse"===p?(n=1-n,h&&(n-=h/c)):"mirror"===p&&(b=o)),y=Jt(0,1,n)*c}const x=m?{done:!1,value:s[0]}:b.next(y);a&&(x.value=a(x.value));let{done:w}=x;m||null===l||(w=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return S&&void 0!==r&&(x.value=Bn(s,this.options,r)),g&&g(x.value),S&&this.finish(),x}get duration(){const{resolved:t}=this;return t?Tn(t.calculatedDuration):0}get time(){return Tn(this.currentTime)}set time(t){t=Rn(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Tn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:t=Li,onPlay:e}=this.options;this.driver||(this.driver=t((t=>this.tick(t)))),e&&e();const n=this.driver.now();null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime&&"finished"!==this.state||(this.startTime=n),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;this._resolved?(this.state="paused",this.holdTime=null!==(t=this.currentTime)&&void 0!==t?t:0):this.pendingPlayState="paused"}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:t}=this.options;t&&t()}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const qi=t=>Array.isArray(t)&&"number"==typeof t[0];function Gi(t){return Boolean(!t||"string"==typeof t&&Wi[t]||qi(t)||Array.isArray(t)&&t.every(Gi))}const $i=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Wi={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$i([0,.65,.55,1]),circOut:$i([.55,0,1,.45]),backIn:$i([.31,.01,.66,-.59]),backOut:$i([.33,1.53,.69,.99])};function Ui(t){if(t)return qi(t)?$i(t):Array.isArray(t)?t.map(Ui):Wi[t]}const Hi=zr((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),Yi=new Set(["opacity","clipPath","filter","transform"]);class Xi extends Fr{constructor(t){super(t);const{name:e,motionValue:n,keyframes:r}=this.options;this.resolver=new Ar(r,((t,e)=>this.onKeyframesResolved(t,e)),e,n),this.resolver.scheduleResolve()}initPlayback(t,e){var n;let{duration:r=300,times:i,ease:o,type:a,motionValue:s,name:l}=this.options;if(!(null===(n=s.owner)||void 0===n?void 0:n.current))return!1;if("spring"===(u=this.options).type||"backgroundColor"===u.name||!Gi(u.ease)){const{onComplete:e,onUpdate:n,motionValue:s,...l}=this.options,u=function(t,e){const n=new Vi({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<2e4;)r=n.sample(o),i.push(r.value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(t,l);1===(t=u.keyframes).length&&(t[1]=t[0]),r=u.duration,i=u.times,o=u.ease,a="keyframes"}var u;const c=function(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=Ui(s);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"})}(s.owner.current,l,t,{...this.options,duration:r,times:i,ease:o});return c.startTime=Ln.now(),this.pendingTimeline?(c.timeline=this.pendingTimeline,this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:n}=this.options;s.set(Bn(t,this.options,e)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return Tn(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return Tn(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=Rn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}attachTimeline(t){if(this._resolved){const{resolved:e}=this;if(!e)return He;const{animation:n}=e;n.timeline=t,n.onfinish=null}else this.pendingTimeline=t;return He}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;"finished"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:n,duration:r,type:i,ease:o,times:a}=t;if("idle"!==e.playState&&"finished"!==e.playState){if(this.time){const{motionValue:t,onUpdate:e,onComplete:s,...l}=this.options,u=new Vi({...l,keyframes:n,duration:r,type:i,ease:o,times:a,isGenerator:!0}),c=Rn(this.time);t.setWithVelocity(u.sample(c-10).value,u.sample(c).value,10)}this.cancel()}}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=t;return Hi()&&n&&Yi.has(n)&&e&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate&&!r&&"mirror"!==i&&0!==o&&"inertia"!==a}}const Qi=(t,e,n,r={},i,o)=>a=>{const s=_n(r,t)||{},l=s.delay||r.delay||0;let{elapsed:u=0}=r;u-=Rn(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-u,onUpdate:t=>{e.set(t),s.onUpdate&&s.onUpdate(t)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:o?void 0:i};(function({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:u,...c}){return!!Object.keys(c).length})(s)||(c={...c,...On(t,c)}),c.duration&&(c.duration=Rn(c.duration)),c.repeatDelay&&(c.repeatDelay=Rn(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let d=!1;if(!1===c.type&&(c.duration=0,0===c.delay&&(d=!0)),(An||ht)&&(d=!0,c.duration=0,c.delay=0),d&&!o&&void 0!==e.get()){const t=Bn(c.keyframes,s);if(void 0!==t)return void Ye.update((()=>{c.onUpdate(t),c.onComplete()}))}return!o&&Xi.supports(c)?new Xi(c):new Vi(c)};function Ki(t){return Boolean($t(t)&&t.add)}function Zi(t,e){-1===t.indexOf(e)&&t.push(e)}function Ji(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class to{constructor(){this.subscriptions=[]}add(t){return Zi(this.subscriptions,t),()=>Ji(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eo={current:void 0};class no{constructor(t,e={}){var n;this.version="11.0.22",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(t,e=!0)=>{const n=Ln.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Ln.now()}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new to);const n=this.events[t].add(e);return"change"===t?()=>{n(),Ye.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return eo.current&&eo.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ln.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Ir(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise((e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ro(t,e){return new no(t,e)}function io(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ro(n))}function oo({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&!0!==e[n];return e[n]=!1,r}function ao(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:a=t.getDefaultTransition(),transitionEnd:s,...l}=e;const u=t.getValue("willChange");r&&(a=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const e in l){const r=t.getValue(e,null!==(o=t.latestValues[e])&&void 0!==o?o:null),i=l[e];if(void 0===i||d&&oo(d,e))continue;const s={delay:n,elapsed:0,..._n(a||{},e)};let f=!1;if(window.HandoffAppearAnimations){const n=t.getProps()[pt];if(n){const t=window.HandoffAppearAnimations(n,e);null!==t&&(s.elapsed=t,f=!0)}}r.start(Qi(e,r,i,t.shouldReduceMotion&&qt.has(e)?{type:!1}:s,t,f));const p=r.animation;p&&(Ki(u)&&(u.add(e),p.then((()=>u.remove(e)))),c.push(p))}return s&&Promise.all(c).then((()=>{Ye.update((()=>{s&&function(t,e){const n=Cn(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const e in o)io(t,e,Ge(o[e]))}(t,s)}))})),c}function so(t,e,n={}){var r;const i=Cn(t,e,"exit"===n.type?null===(r=t.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(ao(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(r=0)=>{const{delayChildren:i=0,staggerChildren:a,staggerDirection:s}=o;return function(t,e,n=0,r=0,i=1,o){const a=[],s=(t.variantChildren.size-1)*r,l=1===i?(t=0)=>t*r:(t=0)=>s-t*r;return Array.from(t.variantChildren).sort(lo).forEach(((t,r)=>{t.notify("AnimationStart",e),a.push(so(t,e,{...o,delay:n+l(r)}).then((()=>t.notify("AnimationComplete",e))))})),Promise.all(a)}(t,e,i+r,a,s,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[t,e]="beforeChildren"===l?[a,s]:[s,a];return t().then((()=>e()))}return Promise.all([a(),s(n.delay)])}function lo(t,e){return t.sortNodePosition(e)}const uo=[...Et].reverse(),co=Et.length;function fo(t){return e=>Promise.all(e.map((({animation:e,options:n})=>function(t,e,n={}){let r;if(t.notify("AnimationStart",e),Array.isArray(e)){const i=e.map((e=>so(t,e,n)));r=Promise.all(i)}else if("string"==typeof e)r=so(t,e,n);else{const i="function"==typeof e?Cn(t,e,n.custom):e;r=Promise.all(ao(t,i,n))}return r.then((()=>{Ye.postRender((()=>{t.notify("AnimationComplete",e)}))}))}(t,e,n))))}function po(t){let e=fo(t);const n={animate:go(!0),whileInView:go(),whileHover:go(),whileTap:go(),whileDrag:go(),whileFocus:go(),exit:go()};let r=!0;const i=e=>(n,r)=>{var i;const o=Cn(t,r,"exit"===e?null===(i=t.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:t,transitionEnd:e,...r}=o;n={...n,...r,...e}}return n};function o(o){const a=t.getProps(),s=t.getVariantContext(!0)||{},l=[],u=new Set;let c={},d=1/0;for(let e=0;e<co;e++){const f=uo[e],p=n[f],h=void 0!==a[f]?a[f]:s[f],g=St(h),v=f===o?p.isActive:null;!1===v&&(d=e);let m=h===s[f]&&h!==a[f]&&g;if(m&&r&&t.manuallyAnimateOnMount&&(m=!1),p.protectedKeys={...c},!p.isActive&&null===v||!h&&!p.prevProp||kt(h)||"boolean"==typeof h)continue;let y=ho(p.prevProp,h)||f===o&&p.isActive&&!m&&g||e>d&&g,b=!1;const x=Array.isArray(h)?h:[h];let w=x.reduce(i(f),{});!1===v&&(w={});const{prevResolvedValues:S={}}=p,k={...S,...w},E=t=>{y=!0,u.has(t)&&(b=!0,u.delete(t)),p.needsAnimating[t]=!0};for(const t in k){const e=w[t],n=S[t];if(c.hasOwnProperty(t))continue;let r=!1;r=Ve(e)&&Ve(n)?!En(e,n):e!==n,r?null!=e?E(t):u.add(t):void 0!==e&&u.has(t)?E(t):p.protectedKeys[t]=!0}p.prevProp=h,p.prevResolvedValues=w,p.isActive&&(c={...c,...w}),r&&t.blockInitialAnimation&&(y=!1),!y||m&&!b||l.push(...x.map((t=>({animation:t,options:{type:f}}))))}if(u.size){const e={};u.forEach((n=>{const r=t.getBaseTarget(n);e[n]=void 0===r?null:r})),l.push({animation:e})}let f=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||t.manuallyAnimateOnMount||(f=!1),r=!1,f?e(l):Promise.resolve()}return{animateChanges:o,setActive:function(e,r){var i;if(n[e].isActive===r)return Promise.resolve();null===(i=t.variantChildren)||void 0===i||i.forEach((t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)})),n[e].isActive=r;const a=o(e);for(const t in n)n[t].protectedKeys={};return a},setAnimateFunction:function(n){e=n(t)},getState:()=>n}}function ho(t,e){return"string"==typeof e?e!==t:!!Array.isArray(e)&&!En(e,t)}function go(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let vo=0;const mo={animation:{Feature:class extends pn{constructor(t){super(t),t.animationState||(t.animationState=po(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),kt(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends pn{constructor(){super(...arguments),this.id=vo++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then((()=>e(this.id)))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}}},yo=(t,e)=>Math.abs(t-e);class bo{constructor(t,e,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=So(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=yo(t.x,e.x),r=yo(t.y,e.y);return Math.sqrt(n**2+r**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:r}=t,{timestamp:i}=Qe;this.history.push({...r,timestamp:i});const{onStart:o,onMove:a}=this.handlers;e||(o&&o(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=xo(e,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=So("pointercancel"===t.type?this.lastMoveEventInfo:xo(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,o),r&&r(t,o)},!en(t))return;this.dragSnapToOrigin=i,this.handlers=e,this.transformPagePoint=n,this.contextWindow=r||window;const o=xo(nn(t),this.transformPagePoint),{point:a}=o,{timestamp:s}=Qe;this.history=[{...a,timestamp:s}];const{onSessionStart:l}=e;l&&l(t,So(o,this.history)),this.removeListeners=sn(on(this.contextWindow,"pointermove",this.handlePointerMove),on(this.contextWindow,"pointerup",this.handlePointerUp),on(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xe(this.updatePoint)}}function xo(t,e){return e?{point:e(t.point)}:t}function wo(t,e){return{x:t.x-e.x,y:t.y-e.y}}function So({point:t},e){return{point:t,delta:wo(t,Eo(e)),offset:wo(t,ko(e)),velocity:Co(e,.1)}}function ko(t){return t[0]}function Eo(t){return t[t.length-1]}function Co(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Eo(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Rn(e)));)n--;if(!r)return{x:0,y:0};const o=Tn(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Ro(t){return t.max-t.min}function To(t,e=0,n=.01){return Math.abs(t-e)<=n}function Po(t,e,n,r=.5){t.origin=r,t.originPoint=yi(e.min,e.max,t.origin),t.scale=Ro(n)/Ro(e),(To(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=yi(n.min,n.max,t.origin)-t.originPoint,(To(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Mo(t,e,n,r){Po(t.x,e.x,n.x,r?r.originX:void 0),Po(t.y,e.y,n.y,r?r.originY:void 0)}function Do(t,e,n){t.min=n.min+e.min,t.max=t.min+Ro(e)}function Oo(t,e,n){t.min=e.min-n.min,t.max=t.min+Ro(e)}function _o(t,e,n){Oo(t.x,e.x,n.x),Oo(t.y,e.y,n.y)}function Ao(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function zo(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}const Bo=.35;function Fo(t,e,n){return{min:Io(t,e),max:Io(t,n)}}function Io(t,e){return"number"==typeof t?t:t[e]||0}const Lo=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),No=()=>({x:{min:0,max:0},y:{min:0,max:0}});function jo(t){return[t("x"),t("y")]}function Vo({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function qo(t){return void 0===t||1===t}function Go({scale:t,scaleX:e,scaleY:n}){return!qo(t)||!qo(e)||!qo(n)}function $o(t){return Go(t)||Wo(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Wo(t){return Uo(t.x)||Uo(t.y)}function Uo(t){return t&&"0%"!==t}function Ho(t,e,n){return n+e*(t-n)}function Yo(t,e,n,r,i){return void 0!==i&&(t=Ho(t,i,r)),Ho(t,n,r)+e}function Xo(t,e=0,n=1,r,i){t.min=Yo(t.min,e,n,r,i),t.max=Yo(t.max,e,n,r,i)}function Qo(t,{x:e,y:n}){Xo(t.x,e.translate,e.scale,e.originPoint),Xo(t.y,n.translate,n.scale,n.originPoint)}function Ko(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Zo(t,e){t.min=t.min+e,t.max=t.max+e}function Jo(t,e,[n,r,i]){const o=void 0!==e[i]?e[i]:.5,a=yi(t.min,t.max,o);Xo(t,e[n],e[r],a,e.scale)}const ta=["x","scaleX","originX"],ea=["y","scaleY","originY"];function na(t,e){Jo(t.x,e,ta),Jo(t.y,e,ea)}function ra(t,e){return Vo(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}const ia=({current:t})=>t?t.ownerDocument.defaultView:null,oa=new WeakMap;class aa{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=No(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new bo(t,{onSessionStart:t=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(nn(t,"page").point)},onStart:(t,e)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dn(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jo((t=>{let e=this.getAxisMotionValue(t).get()||0;if(ce.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[t];if(r){e=Ro(r)*(parseFloat(e)/100)}}}this.originPoint[t]=e})),i&&i(t,e);const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=e;if(r&&null===this.currentDirection)return this.currentDirection=function(t,e=10){let n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",e.point,a),this.updateAxis("y",e.point,a),this.visualElement.render(),o&&o(t,e)},onSessionEnd:(t,e)=>this.stop(t,e),resumeAnimation:()=>jo((t=>{var e;return"paused"===this.getAnimationState(t)&&(null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:ia(this.visualElement)})}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=e;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&i(t,e)}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!sa(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=function(t,{min:e,max:n},r){return void 0!==e&&t<e?t=r?yi(e,t,r.min):Math.max(t,e):void 0!==n&&t>n&&(t=r?yi(n,t,r.max):Math.min(t,n)),t}(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,i=this.constraints;e&&wt(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!r)&&function(t,{top:e,left:n,bottom:r,right:i}){return{x:Ao(t.x,n,i),y:Ao(t.y,e,r)}}(r.layoutBox,e),this.elastic=function(t=Bo){return!1===t?t=0:!0===t&&(t=Bo),{x:Fo(t,"left","right"),y:Fo(t,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&jo((t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(r.layoutBox[t],this.constraints[t]))}))}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!wt(t))return!1;const n=t.current;Vn(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(t,e,n){const r=ra(t,n),{scroll:i}=e;return i&&(Zo(r.x,i.offset.x),Zo(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(t,e){return{x:zo(t.x,e.x),y:zo(t.y,e.y)}}(r.layout.layoutBox,i);if(e){const t=e(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(o));this.hasMutatedConstraints=!!t,t&&(o=Vo(t))}return o}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=jo((a=>{if(!sa(a,e,this.currentDirection))return;let l=s&&s[a]||{};o&&(l={min:0,max:0});const u=r?200:1e6,c=r?40:1e7,d={type:"inertia",velocity:n?t[a]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,d)}));return Promise.all(l).then(a)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return n.start(Qi(t,n,0,e,this.visualElement))}stopAnimation(){jo((t=>this.getAxisMotionValue(t).stop()))}pauseAnimation(){jo((t=>{var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.pause()}))}getAnimationState(t){var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.state}getAxisMotionValue(t){const e="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){jo((e=>{const{drag:n}=this.getProps();if(!sa(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[e];i.set(t[e]-yi(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!wt(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};jo((t=>{const e=this.getAxisMotionValue(t);if(e){const n=e.get();r[t]=function(t,e){let n=.5;const r=Ro(t),i=Ro(e);return i>r?n=mi(e.min,e.max-r,t.min):r>i&&(n=mi(t.min,t.max-i,e.min)),Jt(0,1,n)}({min:n,max:n},this.constraints[t])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),jo((e=>{if(!sa(e,t,null))return;const n=this.getAxisMotionValue(e),{min:i,max:o}=this.constraints[e];n.set(yi(i,o,r[e]))}))}addListeners(){if(!this.visualElement.current)return;oa.set(this.visualElement,this);const t=on(this.visualElement.current,"pointerdown",(t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)})),e=()=>{const{dragConstraints:t}=this.getProps();wt(t)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),e();const i=tn(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(jo((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),t(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Bo,dragMomentum:a=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function sa(t,e,n){return!(!0!==e&&e!==t||null!==n&&n!==t)}const la=t=>(e,n)=>{t&&t(e,n)};const ua={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ca(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const da={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!de.test(t))return t;t=parseFloat(t)}return`${ca(t,e.target.x)}% ${ca(t,e.target.y)}%`}},fa={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Cr.parse(t);if(i.length>5)return r;const o=Cr.createTransformer(t),a="number"!=typeof i[0]?1:0,s=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=s,i[1+a]/=l;const u=yi(s,l,.5);return"number"==typeof i[2+a]&&(i[2+a]/=u),"number"==typeof i[3+a]&&(i[3+a]/=u),o(i)}};class pa extends t.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;var o;o=ga,Object.assign(jt,o),i&&(e.group&&e.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ua.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||t.layoutDependency!==e||void 0===e?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ye.postRender((()=>{const t=o.getStack();t&&t.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),bt.postRender((()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ha(e){const[n,r]=function(){const e=(0,t.useContext)(lt);if(null===e)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=(0,t.useId)();return(0,t.useEffect)((()=>i(o)),[]),!n&&r?[!1,()=>r&&r(o)]:[!0]}(),i=(0,t.useContext)(_t);return t.createElement(pa,{...e,layoutGroup:i,switchLayoutGroup:(0,t.useContext)(At),isPresent:n,safeToRemove:r})}const ga={borderRadius:{...da,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:da,borderTopRightRadius:da,borderBottomLeftRadius:da,borderBottomRightRadius:da,boxShadow:fa},va=["TopLeft","TopRight","BottomLeft","BottomRight"],ma=va.length,ya=t=>"string"==typeof t?parseFloat(t):t,ba=t=>"number"==typeof t||de.test(t);function xa(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const wa=ka(0,.5,ci),Sa=ka(.5,.95,He);function ka(t,e,n){return r=>r<t?0:r>e?1:n(mi(t,e,r))}function Ea(t,e){t.min=e.min,t.max=e.max}function Ca(t,e){Ea(t.x,e.x),Ea(t.y,e.y)}function Ra(t,e,n,r,i){return t=Ho(t-=e,1/n,r),void 0!==i&&(t=Ho(t,1/i,r)),t}function Ta(t,e,[n,r,i],o,a){!function(t,e=0,n=1,r=.5,i,o=t,a=t){ce.test(e)&&(e=parseFloat(e),e=yi(a.min,a.max,e/100)-a.min);if("number"!=typeof e)return;let s=yi(o.min,o.max,r);t===o&&(s-=e),t.min=Ra(t.min,e,n,s,i),t.max=Ra(t.max,e,n,s,i)}(t,e[n],e[r],e[i],e.scale,o,a)}const Pa=["x","scaleX","originX"],Ma=["y","scaleY","originY"];function Da(t,e,n,r){Ta(t.x,e,Pa,n?n.x:void 0,r?r.x:void 0),Ta(t.y,e,Ma,n?n.y:void 0,r?r.y:void 0)}function Oa(t){return 0===t.translate&&1===t.scale}function _a(t){return Oa(t.x)&&Oa(t.y)}function Aa(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function za(t){return Ro(t.x)/Ro(t.y)}class Ba{constructor(){this.members=[]}add(t){Zi(this.members,t),t.scheduleRender()}remove(t){if(Ji(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex((e=>t===e));if(0===e)return!1;let n;for(let t=e;t>=0;t--){const e=this.members[t];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((t=>{t.instance&&t.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fa(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),1===e.x&&1===e.y||(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:t,rotateX:e,rotateY:i,skewX:o,skewY:a}=n;t&&(r+=`rotate(${t}deg) `),e&&(r+=`rotateX(${e}deg) `),i&&(r+=`rotateY(${i}deg) `),o&&(r+=`skewX(${o}deg) `),a&&(r+=`skewY(${a}deg) `)}const a=t.x.scale*e.x,s=t.y.scale*e.y;return 1===a&&1===s||(r+=`scale(${a}, ${s})`),r||"none"}const Ia=(t,e)=>t.depth-e.depth;class La{constructor(){this.children=[],this.isDirty=!1}add(t){Zi(this.children,t),this.isDirty=!0}remove(t){Ji(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ia),this.isDirty=!1,this.children.forEach(t)}}function Na(t){return t instanceof SVGElement&&"svg"!==t.tagName}function ja(t,e,n){const r=$t(t)?t:ro(t);return r.start(Qi("",r,e,n)),r.animation}const Va=["","X","Y","Z"],qa={visibility:"hidden"};let Ga=0;const $a={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Wa(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Ua({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(t={},n=(null==e?void 0:e())){this.id=Ga++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var t;this.projectionUpdateScheduled=!1,$a.totalNodes=$a.resolvedTargetDeltas=$a.recalculatedProjection=0,this.nodes.forEach(Xa),this.nodes.forEach(ns),this.nodes.forEach(rs),this.nodes.forEach(Qa),t=$a,window.MotionDebug&&window.MotionDebug.record(t)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new La)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new to),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){const n=this.eventHandlers.get(t);n&&n.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e,n=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Na(e),this.instance=e;const{layoutId:r,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||r)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(t,e){const n=Ln.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Xe(r),t(o-e))};return Ye.read(r,!0),()=>Xe(r)}(r,250),ua.hasAnimatedSinceResize&&(ua.hasAnimatedSinceResize=!1,this.nodes.forEach(es))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||i)&&this.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||o.getDefaultTransition()||us,{onLayoutAnimationStart:a,onLayoutAnimationComplete:s}=o.getProps(),l=!this.targetLayout||!Aa(this.targetLayout,r)||n,u=!e&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||e&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={..._n(i,"layout"),onPlay:a,onComplete:s};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||es(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(is),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){const e=this.path[t];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Za);this.isUpdating||this.nodes.forEach(Ja),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(ts),this.nodes.forEach(Ha),this.nodes.forEach(Ya),this.clearAllSnapshots();const t=Ln.now();Qe.delta=Jt(0,1e3/60,t-Qe.timestamp),Qe.timestamp=t,Qe.isProcessing=!0,Ke.update.process(Qe),Ke.preRender.process(Qe),Ke.render.process(Qe),Qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bt.read((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(Ka),this.sharedNodes.forEach(os)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++){this.path[t].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=No(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&(this.scroll={animationId:this.root.animationId,phase:t,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const t=this.isLayoutDirty||this.shouldResetTransform,e=this.projectionDelta&&!_a(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;t&&(e||$o(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){const e=this.measurePageBox();let n=this.removeElementScroll(e);var r;return t&&(n=this.removeTransform(n)),fs((r=n).x),fs(r.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:t}=this.options;if(!t)return No();const e=t.measureViewportBox(),{scroll:n}=this.root;return n&&(Zo(e.x,n.offset.x),Zo(e.y,n.offset.y)),e}removeElementScroll(t){const e=No();Ca(e,t);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:o}=r;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){Ca(e,t);const{scroll:n}=this.root;n&&(Zo(e.x,-n.offset.x),Zo(e.y,-n.offset.y))}Zo(e.x,i.offset.x),Zo(e.y,i.offset.y)}}return e}applyTransform(t,e=!1){const n=No();Ca(n,t);for(let t=0;t<this.path.length;t++){const r=this.path[t];!e&&r.options.layoutScroll&&r.scroll&&r!==r.root&&na(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),$o(r.latestValues)&&na(n,r.latestValues)}return $o(this.latestValues)&&na(n,this.latestValues),n}removeTransform(t){const e=No();Ca(e,t);for(let t=0;t<this.path.length;t++){const n=this.path[t];if(!n.instance)continue;if(!$o(n.latestValues))continue;Go(n.latestValues)&&n.updateSnapshot();const r=No();Ca(r,n.measurePageBox()),Da(e,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return $o(this.latestValues)&&Da(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var e;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=Qe.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=No(),this.relativeTargetOrigin=No(),_o(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),Ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,l;if(this.target||(this.target=No(),this.targetWithTransforms=No()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,l=this.relativeParent.target,Do(a.x,s.x,l.x),Do(a.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Ca(this.target,this.layout.layoutBox),Qo(this.target,this.targetDelta)):Ca(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=No(),this.relativeTargetOrigin=No(),_o(this.relativeTargetOrigin,this.target,t.target),Ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$a.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Go(this.parent.latestValues)&&!Wo(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;const e=this.getLead(),n=Boolean(this.resumingFrom)||this!==e;let r=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Qe.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;Ca(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(t,e,n,r=!1){const i=n.length;if(!i)return;let o,a;e.x=e.y=1;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const i=o.instance;i&&i.style&&"contents"===i.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&na(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Qo(t,a)),r&&$o(o.latestValues)&&na(t,o.latestValues))}e.x=Ko(e.x),e.y=Ko(e.y)}(this.layoutCorrected,this.treeScale,this.path,n),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms=No());const{target:l}=e;if(!l)return void(this.projectionTransform&&(this.projectionDelta=Lo(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=Lo(),this.projectionDeltaWithTransform=Lo());const u=this.projectionTransform;Mo(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Fa(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===a&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),$a.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t,e=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o=Lo();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const a=No(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,c=Boolean(s&&!u&&!0===this.options.crossfade&&!this.path.some(ls));let d;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;var l,f;as(o.x,t.x,n),as(o.y,t.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_o(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(t,e,n,r){ss(t.x,e.x,n.x,r),ss(t.y,e.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&(l=this.relativeTarget,f=d,l.x.min===f.x.min&&l.x.max===f.x.max&&l.y.min===f.y.min&&l.y.max===f.y.max)&&(this.isProjectionDirty=!1),d||(d=No()),Ca(d,this.relativeTarget)),s&&(this.animationValues=i,function(t,e,n,r,i,o){i?(t.opacity=yi(0,void 0!==n.opacity?n.opacity:1,wa(r)),t.opacityExit=yi(void 0!==e.opacity?e.opacity:1,0,Sa(r))):o&&(t.opacity=yi(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<ma;i++){const o=`border${va[i]}Radius`;let a=xa(e,o),s=xa(n,o);void 0===a&&void 0===s||(a||(a=0),s||(s=0),0===a||0===s||ba(a)===ba(s)?(t[o]=Math.max(yi(ya(a),ya(s),r),0),(ce.test(s)||ce.test(a))&&(t[o]+="%")):t[o]=s)}(e.rotate||n.rotate)&&(t.rotate=yi(e.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update((()=>{ua.hasAnimatedSinceResize=!0,this.currentAnimation=ja(0,1e3,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:r,latestValues:i}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&ps(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||No();const e=Ro(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const r=Ro(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}Ca(e,n),na(e,i),Mo(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new Ba);this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(e=!0),!e)return;const r={};for(let e=0;e<Va.length;e++)Wa(`rotate${Va[e]}`,t,r,this.animationValues),Wa(`skew${Va[e]}`,t,r,this.animationValues);t.render();for(const e in r)t.setStaticValue(e,r[e]),this.animationValues&&(this.animationValues[e]=r[e]);t.scheduleRender()}getProjectionStyles(t){var e,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qa;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=$e(null==t?void 0:t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=$e(null==t?void 0:t.pointerEvents)||""),this.hasProjected&&!$o(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}const a=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=Fa(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:s,y:l}=this.projectionDelta;r.transformOrigin=`${100*s.origin}% ${100*l.origin}% 0`,o.animationValues?r.opacity=o===this?null!==(n=null!==(e=a.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=o===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const t in jt){if(void 0===a[t])continue;const{correct:e,applyTo:n}=jt[t],i="none"===r.transform?a[t]:e(a[t],o);if(n){const t=n.length;for(let e=0;e<t;e++)r[n[e]]=i}else r[t]=i}return this.options.layoutId&&(r.pointerEvents=o===this?$e(null==t?void 0:t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()})),this.root.nodes.forEach(Za),this.root.sharedNodes.clear()}}}function Ha(t){t.updateLayout()}function Ya(t){var e;const n=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;"size"===i?jo((t=>{const r=o?n.measuredBox[t]:n.layoutBox[t],i=Ro(r);r.min=e[t].min,r.max=r.min+i})):ps(i,n.layoutBox,e)&&jo((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],a=Ro(e[r]);i.max=i.min+a,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+a)}));const a=Lo();Mo(a,e,n.layoutBox);const s=Lo();o?Mo(s,t.applyTransform(r,!0),n.measuredBox):Mo(s,e,n.layoutBox);const l=!_a(a);let u=!1;if(!t.resumeFrom){const r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const a=No();_o(a,n.layoutBox,i.layoutBox);const s=No();_o(s,e,o.layoutBox),Aa(a,s)||(u=!0),r.options.layoutRoot&&(t.relativeTarget=s,t.relativeTargetOrigin=a,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function Xa(t){$a.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Qa(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ka(t){t.clearSnapshot()}function Za(t){t.clearMeasurements()}function Ja(t){t.isLayoutDirty=!1}function ts(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function es(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ns(t){t.resolveTargetDelta()}function rs(t){t.calcProjection()}function is(t){t.resetSkewAndRotation()}function os(t){t.removeLeadSnapshot()}function as(t,e,n){t.translate=yi(e.translate,0,n),t.scale=yi(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ss(t,e,n,r){t.min=yi(e.min,n.min,r),t.max=yi(e.max,n.max,r)}function ls(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const us={duration:.45,ease:[.4,0,.1,1]},cs=t=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ds=cs("applewebkit/")&&!cs("chrome/")?Math.round:He;function fs(t){t.min=ds(t.min),t.max=ds(t.max)}function ps(t,e,n){return"position"===t||"preserve-aspect"===t&&!To(za(e),za(n),.2)}const hs=Ua({attachResizeListener:(t,e)=>tn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gs={current:void 0},vs=Ua({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gs.current){const t=new hs({});t.mount(window),t.setOptions({layoutScroll:!0}),gs.current=t}return gs.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),ms={pan:{Feature:class extends pn{constructor(){super(...arguments),this.removePointerDownListener=He}onPointerDown(t){this.session=new bo(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ia(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:la(t),onStart:la(e),onMove:n,onEnd:(t,e)=>{delete this.session,r&&r(t,e)}}}mount(){this.removePointerDownListener=on(this.node.current,"pointerdown",(t=>this.onPointerDown(t)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends pn{constructor(t){super(t),this.removeGroupControls=He,this.removeListeners=He,this.controls=new aa(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||He}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:vs,MeasureLayout:ha}},ys={current:null},bs={current:!1};const xs=new WeakMap,ws=[...tr,hr,Cr],Ss=Object.keys(Ot),ks=Ss.length,Es=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Cs=Ct.length;class Rs{constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},a={}){this.resolveKeyframes=(t,e,n,r)=>new this.KeyframeResolver(t,e,n,r,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ye.render(this.render,!1,!0);const{latestValues:s,renderState:l}=o;this.latestValues=s,this.baseTarget={...s},this.initialValues=e.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Rt(e),this.isVariantNode=Tt(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(e,{});for(const t in c){const e=c[t];void 0!==s[t]&&$t(e)&&(e.set(s[t],!1),Ki(u)&&u.add(t))}}scrapeMotionValuesFromProps(t,e){return{}}mount(t){this.current=t,xs.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((t,e)=>this.bindToMotionValue(e,t))),bs.current||function(){if(bs.current=!0,ut)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ys.current=t.matches;t.addListener(e),e()}else ys.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||ys.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xs.delete(this.current),this.projection&&this.projection.unmount(),Xe(this.notifyUpdate),Xe(this.render),this.valueSubscriptions.forEach((t=>t())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,e){const n=qt.has(t),r=e.on("change",(e=>{this.latestValues[t]=e,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,(()=>{r(),i(),e.owner&&e.stop()}))}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}loadFeatures({children:t,...e},n,r,i){let o,a;for(let t=0;t<ks;t++){const n=Ss[t],{isEnabled:r,Feature:i,ProjectionNode:s,MeasureLayout:l}=Ot[n];s&&(o=s),r(e)&&(!this.features[n]&&i&&(this.features[n]=new i(this)),l&&(a=l))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:t,layout:n,drag:r,dragConstraints:a,layoutScroll:s,layoutRoot:l}=e;this.projection.setOptions({layoutId:t,layout:n,alwaysMeasureLayout:Boolean(r)||a&&wt(a),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof n?n:"both",initialPromotionConfig:i,layoutScroll:s,layoutRoot:l})}return a}updateFeatures(){for(const t in this.features){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):No()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<Es.length;e++){const n=Es[e];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const r=t["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],a=n[i];if($t(o))t.addValue(i,o),Ki(r)&&r.add(i);else if($t(a))t.addValue(i,ro(o,{owner:t})),Ki(r)&&r.remove(i);else if(a!==o)if(t.hasValue(i)){const e=t.getValue(i);!e.hasAnimated&&e.set(o)}else{const e=t.getStaticValue(i);t.addValue(i,ro(void 0!==e?e:o,{owner:t}))}}for(const r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const t=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}const e={};for(let t=0;t<Cs;t++){const n=Ct[t],r=this.props[n];(St(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){e!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,e)),this.values.set(t,e),this.latestValues[t]=e.get()}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=ro(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let r=void 0===this.latestValues[t]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,t))&&void 0!==n?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];var i;return null!=r&&("string"==typeof r&&(qn(r)||Nn(r))?r=parseFloat(r):(i=r,!ws.find(Jn(i))&&Cr.test(e)&&(r=_r(t,e))),this.setBaseTarget(t,$t(r)?r.get():r)),$t(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e,n;const{initial:r}=this.props,i="string"==typeof r||"object"==typeof r?null===(n=Ne(this.props,r,null===(e=this.presenceContext)||void 0===e?void 0:e.custom))||void 0===n?void 0:n[t]:void 0;if(r&&void 0!==i)return i;const o=this.getBaseTargetFromProps(this.props,t);return void 0===o||$t(o)?void 0!==this.initialValues[t]&&void 0===i?void 0:this.baseTarget[t]:o}on(t,e){return this.events[t]||(this.events[t]=new to),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class Ts extends Rs{constructor(){super(...arguments),this.KeyframeResolver=Ar}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}}class Ps extends Ts{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,e){if(qt.has(e)){const t=Or(e);return t&&t.default||0}{const r=(n=t,window.getComputedStyle(n)),i=(Yt(e)?r.getPropertyValue(e):r[e])||0;return"string"==typeof i?i.trim():i}var n}measureInstanceViewportBox(t,{transformPagePoint:e}){return ra(t,e)}build(t,e,n,r){me(t,e,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,e){return Ie(t,e)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$t(t)&&(this.childSubscription=t.on("change",(t=>{this.current&&(this.current.textContent=`${t}`)})))}renderInstance(t,e,n,r){ze(t,e,n,r)}}class Ms extends Ts{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(qt.has(e)){const t=Or(e);return t&&t.default||0}return e=Be.has(e)?e:ft(e),t.getAttribute(e)}measureInstanceViewportBox(){return No()}scrapeMotionValuesFromProps(t,e){return Le(t,e)}build(t,e,n,r){Me(t,e,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,e,n,r){Fe(t,e,0,r)}mount(t){this.isSVGTag=Oe(t.tagName),super.mount(t)}}const Ds=(t,e)=>Nt(t)?new Ms(e,{enableHardwareAcceleration:!1}):new Ps(e,{enableHardwareAcceleration:!0}),Os={...mo,...kn,...ms,...{layout:{ProjectionNode:vs,MeasureLayout:ha}}},_s=It(((t,e)=>function(t,{forwardMotionProps:e=!1},n,r){return{...Nt(t)?Ze:Je,preloadedFeatures:n,useRender:Ae(e),createVisualElement:r,Component:t}}(t,e,Os,Ds)));const As=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const zs="object"==typeof global&&global&&global.Object===Object&&global;var Bs="object"==typeof self&&self&&self.Object===Object&&self;const Fs=zs||Bs||Function("return this")();const Is=function(){return Fs.Date.now()};var Ls=/\s/;const Ns=function(t){for(var e=t.length;e--&&Ls.test(t.charAt(e)););return e};var js=/^\s+/;const Vs=function(t){return t?t.slice(0,Ns(t)+1).replace(js,""):t};const qs=Fs.Symbol;var Gs=Object.prototype,$s=Gs.hasOwnProperty,Ws=Gs.toString,Us=qs?qs.toStringTag:void 0;const Hs=function(t){var e=$s.call(t,Us),n=t[Us];try{t[Us]=void 0;var r=!0}catch(t){}var i=Ws.call(t);return r&&(e?t[Us]=n:delete t[Us]),i};var Ys=Object.prototype.toString;const Xs=function(t){return Ys.call(t)};var Qs=qs?qs.toStringTag:void 0;const Ks=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Qs&&Qs in Object(t)?Hs(t):Xs(t)};const Zs=function(t){return null!=t&&"object"==typeof t};const Js=function(t){return"symbol"==typeof t||Zs(t)&&"[object Symbol]"==Ks(t)};var tl=/^[-+]0x[0-9a-f]+$/i,el=/^0b[01]+$/i,nl=/^0o[0-7]+$/i,rl=parseInt;const il=function(t){if("number"==typeof t)return t;if(Js(t))return NaN;if(As(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=As(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Vs(t);var n=el.test(t);return n||nl.test(t)?rl(t.slice(2),n?2:8):tl.test(t)?NaN:+t};var ol=Math.max,al=Math.min;const sl=function(t,e,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n)}function h(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-u>=o}function g(){var t=Is();if(h(t))return v(t);s=setTimeout(g,function(t){var n=e-(t-l);return d?al(n,o-(t-u)):n}(t))}function v(t){return s=void 0,f&&r?p(t):(r=i=void 0,a)}function m(){var t=Is(),n=h(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return function(t){return u=t,s=setTimeout(g,e),c?p(t):a}(l);if(d)return clearTimeout(s),s=setTimeout(g,e),p(l)}return void 0===s&&(s=setTimeout(g,e)),a}return e=il(e)||0,As(n)&&(c=!!n.leading,o=(d="maxWait"in n)?ol(il(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},m.flush=function(){return void 0===s?a:v(Is())},m};const ll=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return As(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),sl(t,e,{leading:r,maxWait:e,trailing:i})};var ul=Math.floor,cl=Math.random;const dl=function(t,e){return t+ul(cl()*(e-t+1))};const fl=function(t,e){return t===e||t!=t&&e!=e};const pl=function(t){if(!As(t))return!1;var e=Ks(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};const hl=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};const gl=function(t){return null!=t&&hl(t.length)&&!pl(t)};var vl=/^(?:0|[1-9]\d*)$/;const ml=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&vl.test(t))&&t>-1&&t%1==0&&t<e};const yl=function(t,e,n){if(!As(n))return!1;var r=typeof e;return!!("number"==r?gl(n)&&ml(e,n.length):"string"==r&&e in n)&&fl(n[e],t)};var bl=1/0;const xl=function(t){return t?(t=il(t))===bl||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var wl=parseFloat,Sl=Math.min,kl=Math.random;const El=function(t,e,n){if(n&&"boolean"!=typeof n&&yl(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=xl(t),void 0===e?(e=t,t=0):e=xl(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=kl();return Sl(t+i*(e-t+wl("1e-"+((i+"").length-1))),e)}return dl(t,e)};var Cl=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(t){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),Rl=Math.abs,Tl=String.fromCharCode,Pl=Object.assign;function Ml(t){return t.trim()}function Dl(t,e,n){return t.replace(e,n)}function Ol(t,e){return t.indexOf(e)}function _l(t,e){return 0|t.charCodeAt(e)}function Al(t,e,n){return t.slice(e,n)}function zl(t){return t.length}function Bl(t){return t.length}function Fl(t,e){return e.push(t),t}var Il=1,Ll=1,Nl=0,jl=0,Vl=0,ql="";function Gl(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Il,column:Ll,length:a,return:""}}function $l(t,e){return Pl(Gl("",null,null,"",null,null,0),t,{length:-t.length},e)}function Wl(){return Vl=jl>0?_l(ql,--jl):0,Ll--,10===Vl&&(Ll=1,Il--),Vl}function Ul(){return Vl=jl<Nl?_l(ql,jl++):0,Ll++,10===Vl&&(Ll=1,Il++),Vl}function Hl(){return _l(ql,jl)}function Yl(){return jl}function Xl(t,e){return Al(ql,t,e)}function Ql(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Kl(t){return Il=Ll=1,Nl=zl(ql=t),jl=0,[]}function Zl(t){return ql="",t}function Jl(t){return Ml(Xl(jl-1,nu(91===t?t+2:40===t?t+1:t)))}function tu(t){for(;(Vl=Hl())&&Vl<33;)Ul();return Ql(t)>2||Ql(Vl)>3?"":" "}function eu(t,e){for(;--e&&Ul()&&!(Vl<48||Vl>102||Vl>57&&Vl<65||Vl>70&&Vl<97););return Xl(t,Yl()+(e<6&&32==Hl()&&32==Ul()))}function nu(t){for(;Ul();)switch(Vl){case t:return jl;case 34:case 39:34!==t&&39!==t&&nu(Vl);break;case 40:41===t&&nu(t);break;case 92:Ul()}return jl}function ru(t,e){for(;Ul()&&t+Vl!==57&&(t+Vl!==84||47!==Hl()););return"/*"+Xl(e,jl-1)+"*"+Tl(47===t?t:Ul())}function iu(t){for(;!Ql(Hl());)Ul();return Xl(t,jl)}var ou="-ms-",au="-moz-",su="-webkit-",lu="comm",uu="rule",cu="decl",du="@keyframes";function fu(t,e){for(var n="",r=Bl(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function pu(t,e,n,r){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case cu:return t.return=t.return||t.value;case lu:return"";case du:return t.return=t.value+"{"+fu(t.children,r)+"}";case uu:t.value=t.props.join(",")}return zl(n=fu(t.children,r))?t.return=t.value+"{"+n+"}":""}function hu(t){return Zl(gu("",null,null,null,[""],t=Kl(t),0,[0],t))}function gu(t,e,n,r,i,o,a,s,l){for(var u=0,c=0,d=a,f=0,p=0,h=0,g=1,v=1,m=1,y=0,b="",x=i,w=o,S=r,k=b;v;)switch(h=y,y=Ul()){case 40:if(108!=h&&58==_l(k,d-1)){-1!=Ol(k+=Dl(Jl(y),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:k+=Jl(y);break;case 9:case 10:case 13:case 32:k+=tu(h);break;case 92:k+=eu(Yl()-1,7);continue;case 47:switch(Hl()){case 42:case 47:Fl(mu(ru(Ul(),Yl()),e,n),l);break;default:k+="/"}break;case 123*g:s[u++]=zl(k)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+c:-1==m&&(k=Dl(k,/\f/g,"")),p>0&&zl(k)-d&&Fl(p>32?yu(k+";",r,n,d-1):yu(Dl(k," ","")+";",r,n,d-2),l);break;case 59:k+=";";default:if(Fl(S=vu(k,e,n,u,c,i,s,b,x=[],w=[],d),o),123===y)if(0===c)gu(k,e,S,S,x,o,d,s,w);else switch(99===f&&110===_l(k,3)?100:f){case 100:case 108:case 109:case 115:gu(t,S,S,r&&Fl(vu(t,S,S,0,0,i,s,b,i,x=[],d),w),i,w,d,s,r?x:w);break;default:gu(k,S,S,S,[""],w,0,s,w)}}u=c=p=0,g=m=1,b=k="",d=a;break;case 58:d=1+zl(k),p=h;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==Wl())continue;switch(k+=Tl(y),y*g){case 38:m=c>0?1:(k+="\f",-1);break;case 44:s[u++]=(zl(k)-1)*m,m=1;break;case 64:45===Hl()&&(k+=Jl(Ul())),f=Hl(),c=d=zl(b=k+=iu(Yl())),y++;break;case 45:45===h&&2==zl(k)&&(g=0)}}return o}function vu(t,e,n,r,i,o,a,s,l,u,c){for(var d=i-1,f=0===i?o:[""],p=Bl(f),h=0,g=0,v=0;h<r;++h)for(var m=0,y=Al(t,d+1,d=Rl(g=a[h])),b=t;m<p;++m)(b=Ml(g>0?f[m]+" "+y:Dl(y,/&\f/g,f[m])))&&(l[v++]=b);return Gl(t,e,n,0===i?uu:s,l,u,c)}function mu(t,e,n){return Gl(t,e,n,lu,Tl(Vl),Al(t,2,-2),0)}function yu(t,e,n,r){return Gl(t,e,n,cu,Al(t,0,r),Al(t,r+1,-1),r)}var bu=function(t,e,n){for(var r=0,i=0;r=i,i=Hl(),38===r&&12===i&&(e[n]=1),!Ql(i);)Ul();return Xl(t,jl)},xu=function(t,e){return Zl(function(t,e){var n=-1,r=44;do{switch(Ql(r)){case 0:38===r&&12===Hl()&&(e[n]=1),t[n]+=bu(jl-1,e,n);break;case 2:t[n]+=Jl(r);break;case 4:if(44===r){t[++n]=58===Hl()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=Tl(r)}}while(r=Ul());return t}(Kl(t),e))},wu=new WeakMap,Su=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||wu.get(n))&&!r){wu.set(t,!0);for(var i=[],o=xu(e,i),a=n.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)t.props[l]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},ku=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function Eu(t,e){switch(function(t,e){return 45^_l(t,0)?(((e<<2^_l(t,0))<<2^_l(t,1))<<2^_l(t,2))<<2^_l(t,3):0}(t,e)){case 5103:return su+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return su+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return su+t+au+t+ou+t+t;case 6828:case 4268:return su+t+ou+t+t;case 6165:return su+t+ou+"flex-"+t+t;case 5187:return su+t+Dl(t,/(\w+).+(:[^]+)/,su+"box-$1$2"+ou+"flex-$1$2")+t;case 5443:return su+t+ou+"flex-item-"+Dl(t,/flex-|-self/,"")+t;case 4675:return su+t+ou+"flex-line-pack"+Dl(t,/align-content|flex-|-self/,"")+t;case 5548:return su+t+ou+Dl(t,"shrink","negative")+t;case 5292:return su+t+ou+Dl(t,"basis","preferred-size")+t;case 6060:return su+"box-"+Dl(t,"-grow","")+su+t+ou+Dl(t,"grow","positive")+t;case 4554:return su+Dl(t,/([^-])(transform)/g,"$1"+su+"$2")+t;case 6187:return Dl(Dl(Dl(t,/(zoom-|grab)/,su+"$1"),/(image-set)/,su+"$1"),t,"")+t;case 5495:case 3959:return Dl(t,/(image-set\([^]*)/,su+"$1$`$1");case 4968:return Dl(Dl(t,/(.+:)(flex-)?(.*)/,su+"box-pack:$3"+ou+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+su+t+t;case 4095:case 3583:case 4068:case 2532:return Dl(t,/(.+)-inline(.+)/,su+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zl(t)-1-e>6)switch(_l(t,e+1)){case 109:if(45!==_l(t,e+4))break;case 102:return Dl(t,/(.+:)(.+)-([^]+)/,"$1"+su+"$2-$3$1"+au+(108==_l(t,e+3)?"$3":"$2-$3"))+t;case 115:return~Ol(t,"stretch")?Eu(Dl(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==_l(t,e+1))break;case 6444:switch(_l(t,zl(t)-3-(~Ol(t,"!important")&&10))){case 107:return Dl(t,":",":"+su)+t;case 101:return Dl(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+su+(45===_l(t,14)?"inline-":"")+"box$3$1"+su+"$2$3$1"+ou+"$2box$3")+t}break;case 5936:switch(_l(t,e+11)){case 114:return su+t+ou+Dl(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return su+t+ou+Dl(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return su+t+ou+Dl(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return su+t+ou+t+t}return t}var Cu=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case cu:t.return=Eu(t.value,t.length);break;case du:return fu([$l(t,{value:Dl(t.value,"@","@"+su)})],r);case uu:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fu([$l(t,{props:[Dl(e,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return fu([$l(t,{props:[Dl(e,/:(plac\w+)/,":"+su+"input-$1")]}),$l(t,{props:[Dl(e,/:(plac\w+)/,":-moz-$1")]}),$l(t,{props:[Dl(e,/:(plac\w+)/,ou+"input-$1")]})],r)}return""}))}}],Ru=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var r=t.stylisPlugins||Cu;var i,o,a={},s=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)a[e[n]]=!0;s.push(t)}));var l,u,c,d,f=[pu,(d=function(t){l.insert(t)},function(t){t.root||(t=t.return)&&d(t)})],p=(u=[Su,ku].concat(r,f),c=Bl(u),function(t,e,n,r){for(var i="",o=0;o<c;o++)i+=u[o](t,e,n,r)||"";return i});o=function(t,e,n,r){l=n,fu(hu(t?t+"{"+e.styles+"}":e.styles),p),r&&(h.inserted[e.name]=!0)};var h={key:e,sheet:new Cl({key:e,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:o};return h.sheet.hydrate(s),h};function Tu(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}var Pu=function(t,e,n){var r=t.key+"-"+e.name;!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles)},Mu=function(t,e,n){Pu(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next}while(void 0!==i)}};var Du={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ou(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}var _u=/[A-Z]|^ms/g,Au=/_EMO_([^_]+?)_([^]*?)_EMO_/g,zu=function(t){return 45===t.charCodeAt(1)},Bu=function(t){return null!=t&&"boolean"!=typeof t},Fu=Ou((function(t){return zu(t)?t:t.replace(_u,"-$&").toLowerCase()})),Iu=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(Au,(function(t,e,n){return Nu={name:e,styles:n,next:Nu},e}))}return 1===Du[t]||zu(t)||"number"!=typeof e||0===e?e:e+"px"};function Lu(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Nu={name:n.name,styles:n.styles,next:Nu},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Nu={name:r.name,styles:r.styles,next:Nu},r=r.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Lu(t,e,n[i])+";";else for(var o in n){var a=n[o];if("object"!=typeof a)null!=e&&void 0!==e[a]?r+=o+"{"+e[a]+"}":Bu(a)&&(r+=Fu(o)+":"+Iu(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=e&&void 0!==e[a[0]]){var s=Lu(t,e,a);switch(o){case"animation":case"animationName":r+=Fu(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)Bu(a[l])&&(r+=Fu(o)+":"+Iu(o,a[l])+";")}return r}(t,e,n);case"function":if(void 0!==t){var i=Nu,o=n(t);return Nu=i,Lu(t,e,o)}}if(null==e)return n;var a=e[n];return void 0!==a?a:n}var Nu,ju=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Vu=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";Nu=void 0;var o=t[0];null==o||void 0===o.raw?(r=!1,i+=Lu(n,e,o)):i+=o[0];for(var a=1;a<t.length;a++)i+=Lu(n,e,t[a]),r&&(i+=o[a]);ju.lastIndex=0;for(var s,l="";null!==(s=ju.exec(i));)l+="-"+s[1];var u=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:u,styles:i,next:Nu}},qu=!!e.useInsertionEffect&&e.useInsertionEffect,Gu=qu||function(t){return t()},$u=(qu||t.useLayoutEffect,{}.hasOwnProperty),Wu=t.createContext("undefined"!=typeof HTMLElement?Ru({key:"css"}):null);Wu.Provider;var Uu=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Wu);return e(n,i,r)}))};var Hu=t.createContext({});var Yu="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Xu=function(t,e){var n={};for(var r in e)$u.call(e,r)&&(n[r]=e[r]);return n[Yu]=t,n},Qu=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return Pu(e,n,r),Gu((function(){return Mu(e,n,r)})),null},Ku=Uu((function(e,n,r){var i=e.css;"string"==typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var o=e[Yu],a=[i],s="";"string"==typeof e.className?s=Tu(n.registered,a,e.className):null!=e.className&&(s=e.className+" ");var l=Vu(a,void 0,t.useContext(Hu));s+=n.key+"-"+l.name;var u={};for(var c in e)$u.call(e,c)&&"css"!==c&&c!==Yu&&(u[c]=e[c]);return u.ref=r,u.className=s,t.createElement(t.Fragment,null,t.createElement(Qu,{cache:n,serialized:l,isStringTag:"string"==typeof o}),t.createElement(o,u))}));var Zu=Ku;c(4146);function Ju(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Vu(e)}var tc=function(){var t=Ju.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},ec=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var o=e[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=t(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};var nc=function(t){var e=t.cache,n=t.serializedArr;return Gu((function(){for(var t=0;t<n.length;t++)Mu(e,n[t],!1)})),null},rc=Uu((function(e,n){var r=[],i=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var o=Vu(e,n.registered);return r.push(o),Pu(n,o,!1),n.key+"-"+o.name},o={css:i,cx:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t,e,n){var r=[],i=Tu(t,r,n);return r.length<2?n:i+e(r)}(n.registered,i,ec(e))},theme:t.useContext(Hu)},a=e.children(o);return!0,t.createElement(t.Fragment,null,t.createElement(nc,{cache:n,serializedArr:r}),a)}));var ic=r.Fragment;function oc(t,e,n){return $u.call(e,"css")?r.jsx(Zu,Xu(t,e),n):r.jsx(t,e,n)}function ac(t,e,n){return $u.call(e,"css")?r.jsxs(Zu,Xu(t,e),n):r.jsxs(t,e,n)}const sc=(0,t.forwardRef)((function(t,e){let{img:n,alt:r="",...i}=t;return oc("img",{...i,ref:e,src:n.url["2x"],srcSet:n.srcSet,width:n.width,height:n.height,alt:r,draggable:"false"})})),lc=function(e){let{imgs:n,rateMS:r=0,showIdx:i=null,...o}=e;const a=(0,t.useRef)(null),s=(0,t.useRef)(null),l=(0,t.useCallback)((t=>{const{current:e}=a;e&&(null!=s.current&&e.children[s.current].setAttribute("style","display: none"),e.children[t].setAttribute("style","display: block"),s.current=t)}),[]);return(0,t.useEffect)((()=>{if(null!=i)return void l(i);if(null==s.current&&l(0),0===r)return;let t=0;const e=setInterval((()=>{t=(t+1)%n.length,l(t)}),1e3/r);return l(0),()=>{clearInterval(e)}}),[n,r,l,i]),oc("div",{ref:a,css:Ju({position:"relative",width:n[0].width,height:n[0].height,img:{position:"absolute",display:"none"}},"",""),...o,children:n.map(((t,e)=>oc(sc,{img:t},e)))})};var uc=c(6981),cc=c.n(uc),dc=c(1932),fc=c.n(dc),pc=c(6348),hc=c.n(pc),gc=c(7257),vc=c.n(gc);const mc=tc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,yc=tc`
  0% {
    opacity: 0;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,bc=Ju({animation:`${mc} 1s linear infinite reverse`},"","");var xc={name:"12a04nj",styles:"display:flex;align-items:center;justify-content:center;height:100%"};function wc(t){let{className:e}=t;return oc("div",{css:xc,className:e,children:ac("div",{css:Ju({position:"absolute",display:"grid",gridTemplateColumns:"1fr 1fr",gap:4,margin:4,animation:`1s linear infinite ${mc}, 500ms ease-in ${yc}`},"",""),children:[oc(sc,{css:bc,img:cc()}),oc(sc,{css:bc,img:fc()}),oc(sc,{css:bc,img:hc()}),oc(sc,{css:bc,img:vc()})]})})}function Sc(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e?e():0),(0,t.useCallback)((()=>String(n.current++)),[])}function kc(t){return`${t}px`}function Ec(t){return`${t.toFixed(1)}ms`}function Cc(t,e,n){let[r,i,o,a]=n;return t>=r&&t<=o&&e>=i&&e<=a}function Rc(t,e,n,r){let[i,o,a,s]=r;return t>=i-n&&t<=a+n&&e>=o-n&&e<=s+n}function Tc(t,e){let{x:n,y:r}=e;return{x:n*Math.cos(t)-r*Math.sin(t),y:n*Math.sin(t)+r*Math.cos(t)}}function*Pc(t,e,n,r){for(let i=e;i<=r;i++)for(let e=t;e<=n;e++)yield[e,i]}function Mc(t,e,n,r,i,o){const a=function(t,e,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return[Math.floor((t-a)/i),Math.floor((e-a)/o),Math.ceil((n+a)/i)-1,Math.ceil((r+a)/o)-1]}(...t,r,i,o);return function(t,e){let[n,r,i,o]=t,[a,s,l,u]=e;return[Math.max(n,a),Math.max(r,s),Math.min(i,l),Math.min(o,u)]}(a,[0,0,e-1,n-1])}function Dc(t,e){return`${t},${e}`}const Oc=.02,_c={toRapier:{x:t=>t*Oc,y:t=>-t*Oc,length:t=>t*Oc,lengths(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.map(this.length)},vector(t,e){let{xBasis:n,yBasis:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{xBasis:0,yBasis:0};return[this.x(t-n),this.y(e-r)]},vectorObject(t,e){let{xBasis:n,yBasis:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{xBasis:0,yBasis:0};return{x:this.x(t-n),y:this.y(e-r)}},angle:t=>-t},fromRapier:{x:t=>t/Oc,y:t=>-t/Oc,length:t=>t/Oc,vector(t,e){return[this.x(t),this.y(e)]},angle:t=>-t},fromBody:{vector(t){const{x:e,y:n}=t.translation();return _c.fromRapier.vector(e,n)},angle:t=>_c.fromRapier.angle(t.rotation())}};function Ac(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function zc(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}function Bc(t,e){return{x:t.x*e,y:t.y*e}}const Fc=function(){};function Ic(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map((function(t){t(n)})),(r=t.get("*"))&&r.slice().map((function(t){t(e,n)}))}}}function Lc(t){const{x:e,y:n}=t.linvel();return{...t.translation(),angle:t.rotation(),vx:e,vy:n,va:t.angvel()}}function Nc(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e.setTranslation({x:t.x+n,y:t.y+r},!0),e.setRotation(t.angle,!0),e.setLinvel({x:t.vx,y:t.vy},!0),e.setAngvel(t.va,!0)}function jc(t,e,n){let{x:r,y:i,...o}=n;return{...o,x:r+t,y:i+e}}const Vc=e=>{const n=t.useRef(e);return t.useEffect((()=>{n.current=e})),n},qc={x:0,y:-9.81},Gc=1e3/60,$c=(0,t.createContext)(null);function Wc(e){let{stepRateMultiplier:n=1,debug:r,children:i}=e;const[o,a]=(0,t.useState)(null),s=(0,t.useRef)(),l=(0,t.useRef)(0),u=(0,t.useRef)(0),d=Vc(r),f=(0,t.useCallback)((()=>u.current),[]);(0,t.useEffect)((()=>{let t=!1;return async function(){const e=await c.e(727).then(c.bind(c,9727));if(t)return;const n=new e.World(qc);n.numSolverIterations=4,n.timestep=Gc/1e3;const r=Ic();s.current=new e.EventQueue(!0),a({tickMs:Gc,rapier:e,world:n,events:r,getCurrentTick:f})}(),()=>{t=!0}}),[f,d]);const p=(0,t.useCallback)(((t,e)=>{const n=t-(u.current+1)*e;d.current&&console.debug(`Skipping ${n-l.current}ms`),l.current=n}),[d]);return(0,t.useEffect)((()=>{if(0===n)return;let t=performance.now();const e=Math.floor(Gc*(1/n));p(t,e);const r=window.setInterval((function(){if(!o)return;const{current:n}=s,{world:r,events:i}=o;if(!n||!r)return;const a=performance.now();a-t>30*e&&p(a,e);const c=Math.ceil((a-l.current)/e);for(;u.current<c;){const t=performance.now();r.step(n);const e=performance.now(),o=performance.now();n.drainCollisionEvents(((t,e,n)=>{const r=n?"start":"end";i.emit(`collision_${r}_${t}`,e),i.emit(`collision_${r}_${e}`,t)}));const a=performance.now(),s=performance.now();i.emit("step");const l=performance.now();d.current&&u.current%60==0&&console.debug({rapier:Ec(e-t),eventQueue:Ec(a-o),stepCallback:Ec(l-s),bodies:r.bodies.len()}),u.current++}t=performance.now()}),e);return()=>{clearInterval(r)}}),[o,d,p,n]),oc($c.Provider,{value:o,children:i})}function Uc(e,n){const r=(0,t.useContext)($c);(0,t.useEffect)((()=>{if(r)return e(r)}),[r,...n])}function Hc(e,n){const[r,i]=(0,t.useState)();return Uc((t=>{let{rapier:n,world:r}=t;const o=e(n);if(!o)return;const a=r.createCollider(o);return i(a),()=>{setTimeout((()=>{r.removeCollider(a,!1)}),0)}}),n),r}function Yc(t,e){Uc((e=>{const{events:n}=e;function r(){t(e)}return n.on("step",r),()=>{n.off("step",r)}}),e)}function Xc(t,e,n,r){Uc((r=>{if(!e)return;const{world:i,events:o}=r;function a(t){const e=i.getCollider(t);n(e)}const{handle:s}=e;return o.on(`collision_${t}_${s}`,a),()=>{o.off(`collision_${t}_${s}`,a)}}),[t,e,...r])}function Qc(){return null!=(0,t.useContext)($c)}function Kc(t){let{spinner:e,children:n}=t;return Qc()?n:e}const Zc=[-1/0,-1/0,1/0,1/0],Jc=(0,t.createContext)({msPerBall:1/0,createBall:Fc,destroyBall:Fc,exitBall:Fc,renewBall:Fc,killBall:Fc,followBall:Fc,unfollowBall:Fc,clearBalls:Fc,registerBall:Fc,unregisterBall:Fc,snapshotBalls:()=>[],restoreBalls:Fc,simulationBoundsRef:{current:Zc},viewBoundsRef:{current:Zc},events:Ic()}),td=(0,t.forwardRef)((function(e,n){let{msPerBall:r,initialSimulationBounds:i=Zc,initialViewBounds:o=Zc,children:a}=e;const s=(0,t.useContext)($c),l=Sc(),[u]=(0,t.useState)((()=>Ic())),c=(0,t.useRef)({}),d=(0,t.useCallback)((function(t,e,n){let{vx:r=0,vy:i=0,overrideDamping:o}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};u.emit("createBall",{id:l(),snapshot:{x:_c.toRapier.x(t),y:_c.toRapier.y(e),angle:0,vx:r,vy:i,va:0},age:0,type:n,overrideDamping:o})}),[u,l]),f=(0,t.useCallback)(((t,e)=>{u.emit("destroyBall",t),"expiry"===e&&u.emit("ballExpired")}),[u]),p=(0,t.useCallback)((t=>{u.emit("exitBall",t)}),[u]),h=(0,t.useCallback)((t=>{u.emit("renewBall",t)}),[u]),g=(0,t.useCallback)((t=>{u.emit("killBall",t)}),[u]),v=(0,t.useCallback)((t=>{u.emit("followBall",t)}),[u]),m=(0,t.useCallback)((()=>{u.emit("unfollowBall")}),[u]),y=(0,t.useCallback)((()=>{Object.keys(c.current).forEach((t=>f(t)))}),[f]),b=(0,t.useCallback)(((t,e,n,r)=>{c.current[t]={type:e,body:n,renewTick:r}}),[]),x=(0,t.useCallback)((t=>{delete c.current[t]}),[]),w=(0,t.useCallback)((t=>{if(!s)return[];const e=s.getCurrentTick();return Object.values(c.current).filter((e=>{let{body:n}=e;const{x:r,y:i}=n.translation();return Cc(r,i,t)})).map((t=>{let{type:n,body:r,renewTick:i}=t;return{...Lc(r),age:e-i,type:n}}))}),[s]),S=(0,t.useCallback)((t=>{for(const{type:e,age:n,...r}of t)u.emit("createBall",{id:l(),snapshot:r,age:n,type:e})}),[u,l]),k=(0,t.useRef)(i),E=(0,t.useRef)(o),C=(0,t.useMemo)((()=>({msPerBall:r,createBall:d,destroyBall:f,exitBall:p,renewBall:h,killBall:g,followBall:v,unfollowBall:m,clearBalls:y,registerBall:b,unregisterBall:x,snapshotBalls:w,restoreBalls:S,simulationBoundsRef:k,viewBoundsRef:E,events:u})),[r,d,f,p,h,g,v,m,y,b,x,w,S,u]);return(0,t.useImperativeHandle)(n,(()=>({createBall:d,followBall:v,unfollowBall:m,clearBalls:y,events:u,simulationBoundsRef:k,viewBoundsRef:E}))),oc(Jc.Provider,{value:C,children:a})}));function ed(){return(0,t.useContext)(Jc)}var nd=c(4058),rd=c.n(nd),id=c(4689),od=c.n(id),ad=c(8922),sd=c.n(ad);const ld=8,ud=42,cd=2,dd=8,fd=2*ud+5,pd=100,hd=.2,gd=.14159,vd=2.2,md=35,yd=200,bd=.1,xd=.49,wd=.9,Sd=rd().width,kd=rd().height,Ed=94,Cd=3e3,Rd=50,Td=od().height,Pd=sd().width,Md=sd().height;var Dd=class extends P{constructor(t,e){super(),this.options=e,this.#E=t,this.#C=null,this.bindMethods(),this.setOptions(e)}#E;#R=void 0;#T=void 0;#P=void 0;#M;#D;#C;#O;#_;#A;#z;#B;#F;#I=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#R.addObserver(this),Od(this.#R,this.options)?this.#L():this.updateResult(),this.#N())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _d(this.#R,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _d(this.#R,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#V(),this.#R.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#R;if(this.options=this.#E.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.#q(),this.#R.setOptions(this.options),n._defaulted&&!b(this.options,n)&&this.#E.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#R,observer:this});const i=this.hasListeners();i&&Ad(this.#R,r,this.options,n)&&this.#L(),this.updateResult(e),!i||this.#R===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.#G();const o=this.#$();!i||this.#R===r&&this.options.enabled===n.enabled&&o===this.#F||this.#W(o)}getOptimisticResult(t){const e=this.#E.getQueryCache().build(this.#E,t),n=this.createResult(e,t);return function(t,e){if(!b(t.getCurrentResult(),e))return!0;return!1}(this,n)&&(this.#P=n,this.#D=this.options,this.#M=this.#R.state),n}getCurrentResult(){return this.#P}trackResult(t,e){const n={};return Object.keys(t).forEach((r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})})),n}trackProp(t){this.#I.add(t)}getCurrentQuery(){return this.#R}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#E.defaultQueryOptions(t),n=this.#E.getQueryCache().build(this.#E,e);return n.isFetchingOptimistic=!0,n.fetch().then((()=>this.createResult(n,e)))}fetch(t){return this.#L({...t,cancelRefetch:t.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#P)))}#L(t){this.#q();let e=this.#R.fetch(this.options,t);return t?.throwOnError||(e=e.catch(u)),e}#G(){if(this.#j(),l||this.#P.isStale||!d(this.options.staleTime))return;const t=f(this.#P.dataUpdatedAt,this.options.staleTime)+1;this.#z=setTimeout((()=>{this.#P.isStale||this.updateResult()}),t)}#$(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#R):this.options.refetchInterval)??!1}#W(t){this.#V(),this.#F=t,!l&&!1!==this.options.enabled&&d(this.#F)&&0!==this.#F&&(this.#B=setInterval((()=>{(this.options.refetchIntervalInBackground||M.isFocused())&&this.#L()}),this.#F))}#N(){this.#G(),this.#W(this.#$())}#j(){this.#z&&(clearTimeout(this.#z),this.#z=void 0)}#V(){this.#B&&(clearInterval(this.#B),this.#B=void 0)}createResult(t,e){const n=this.#R,r=this.options,i=this.#P,o=this.#M,a=this.#D,s=t!==n?t.state:this.#T,{state:l}=t;let u,c={...l},d=!1;if(e._optimisticResults){const i=this.hasListeners(),o=!i&&Od(t,e),a=i&&Ad(t,n,e,r);(o||a)&&(c={...c,...L(l.data,t.options)}),"isRestoring"===e._optimisticResults&&(c.fetchStatus="idle")}let{error:f,errorUpdatedAt:p,status:h}=c;if(e.select&&void 0!==c.data)if(i&&c.data===o?.data&&e.select===this.#O)u=this.#_;else try{this.#O=e.select,u=e.select(c.data),u=k(i?.data,u,e),this.#_=u,this.#C=null}catch(t){this.#C=t}else u=c.data;if(void 0!==e.placeholderData&&void 0===u&&"pending"===h){let t;if(i?.isPlaceholderData&&e.placeholderData===a?.placeholderData)t=i.data;else if(t="function"==typeof e.placeholderData?e.placeholderData(this.#A?.state.data,this.#A):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),this.#C=null}catch(t){this.#C=t}void 0!==t&&(h="success",u=k(i?.data,t,e),d=!0)}this.#C&&(f=this.#C,u=this.#_,p=Date.now(),h="error");const g="fetching"===c.fetchStatus,v="pending"===h,m="error"===h,y=v&&g,b=void 0!==u;return{status:h,fetchStatus:c.fetchStatus,isPending:v,isSuccess:"success"===h,isError:m,isInitialLoading:y,isLoading:y,data:u,dataUpdatedAt:c.dataUpdatedAt,error:f,errorUpdatedAt:p,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>s.dataUpdateCount||c.errorUpdateCount>s.errorUpdateCount,isFetching:g,isRefetching:g&&!v,isLoadingError:m&&!b,isPaused:"paused"===c.fetchStatus,isPlaceholderData:d,isRefetchError:m&&b,isStale:zd(t,e),refetch:this.refetch}}updateResult(t){const e=this.#P,n=this.createResult(this.#R,this.options);if(this.#M=this.#R.state,this.#D=this.options,void 0!==this.#M.data&&(this.#A=this.#R),b(n,e))return;this.#P=n;const r={};!1!==t?.listeners&&(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"==typeof t?t():t;if("all"===n||!n&&!this.#I.size)return!0;const r=new Set(n??this.#I);return this.options.throwOnError&&r.add("error"),Object.keys(this.#P).some((t=>{const n=t;return this.#P[n]!==e[n]&&r.has(n)}))})()&&(r.listeners=!0),this.#U({...r,...t})}#q(){const t=this.#E.getQueryCache().build(this.#E,this.options);if(t===this.#R)return;const e=this.#R;this.#R=t,this.#T=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#N()}#U(t){T.batch((()=>{t.listeners&&this.listeners.forEach((t=>{t(this.#P)})),this.#E.getQueryCache().notify({query:this.#R,type:"observerResultsUpdated"})}))}};function Od(t,e){return function(t,e){return!1!==e.enabled&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&_d(t,e,e.refetchOnMount)}function _d(t,e,n){if(!1!==e.enabled){const r="function"==typeof n?n(t):n;return"always"===r||!1!==r&&zd(t,e)}return!1}function Ad(t,e,n,r){return(t!==e||!1===r.enabled)&&(!n.suspense||"error"!==t.state.status)&&zd(t,n)}function zd(t,e){return!1!==e.enabled&&t.isStaleByTime(e.staleTime)}function Bd(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Fd=t.createContext(Bd()),Id=()=>t.useContext(Fd),Ld=t.createContext(!1),Nd=()=>t.useContext(Ld);Ld.Provider;function jd(t,e){return"function"==typeof t?t(...e):!!t}function Vd(){}var qd=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Gd=e=>{t.useEffect((()=>{e.clearReset()}),[e])},$d=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&jd(n,[t.error,r]),Wd=t=>{t.suspense&&"number"!=typeof t.staleTime&&(t.staleTime=1e3)},Ud=(t,e)=>t.isLoading&&t.isFetching&&!e,Hd=(t,e)=>t?.suspense&&e.isPending,Yd=(t,e,n)=>e.fetchOptimistic(t).catch((()=>{n.clearReset()}));function Xd(e,n){return function(e,n,r){const i=o(r),a=Nd(),s=Id(),l=i.defaultQueryOptions(e);l._optimisticResults=a?"isRestoring":"optimistic",Wd(l),qd(l,s),Gd(s);const[u]=t.useState((()=>new n(i,l))),c=u.getOptimisticResult(l);if(t.useSyncExternalStore(t.useCallback((t=>{const e=a?()=>{}:u.subscribe(T.batchCalls(t));return u.updateResult(),e}),[u,a]),(()=>u.getCurrentResult()),(()=>u.getCurrentResult())),t.useEffect((()=>{u.setOptions(l,{listeners:!1})}),[l,u]),Hd(l,c))throw Yd(l,u,s);if($d({result:c,errorResetBoundary:s,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash)}))throw c.error;return l.notifyOnChangeProps?c:u.trackResult(c)}(e,Dd,n)}function Qd(t,e){return t.filter((t=>!e.includes(t)))}var Kd=class extends P{#E;#H;#p;#u;#Y;#X;constructor(t,e,n){super(),this.#E=t,this.#p=[],this.#u=[],this.#Q([]),this.setQueries(e,n)}#Q(t){this.#H=t,this.#X=this.#K(t,this.#Y?.combine)}onSubscribe(){1===this.listeners.size&&this.#u.forEach((t=>{t.subscribe((e=>{this.#Z(t,e)}))}))}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#u.forEach((t=>{t.destroy()}))}setQueries(t,e,n){this.#p=t,this.#Y=e,T.batch((()=>{const t=this.#u,e=this.#J(this.#p);e.forEach((t=>t.observer.setOptions(t.defaultedQueryOptions,n)));const r=e.map((t=>t.observer)),i=r.map((t=>t.getCurrentResult())),o=r.some(((e,n)=>e!==t[n]));(t.length!==r.length||o)&&(this.#u=r,this.#Q(i),this.hasListeners()&&(Qd(t,r).forEach((t=>{t.destroy()})),Qd(r,t).forEach((t=>{t.subscribe((e=>{this.#Z(t,e)}))})),this.#U()))}))}getCurrentResult(){return this.#X}getQueries(){return this.#u.map((t=>t.getCurrentQuery()))}getObservers(){return this.#u}getOptimisticResult(t,e){const n=this.#J(t),r=n.map((t=>t.observer.getOptimisticResult(t.defaultedQueryOptions)));return[r,t=>this.#K(t??r,e),()=>n.map(((t,e)=>{const i=r[e];return t.defaultedQueryOptions.notifyOnChangeProps?i:t.observer.trackResult(i,(t=>{n.forEach((e=>{e.observer.trackProp(t)}))}))}))]}#K(t,e){return e?y(this.#X,e(t)):t}#J(t){const e=this.#u,n=new Map(e.map((t=>[t.options.queryHash,t]))),r=t.map((t=>this.#E.defaultQueryOptions(t))),i=r.flatMap((t=>{const e=n.get(t.queryHash);return null!=e?[{defaultedQueryOptions:t,observer:e}]:[]})),o=new Set(i.map((t=>t.defaultedQueryOptions.queryHash))),a=r.filter((t=>!o.has(t.queryHash))),s=t=>{const e=this.#E.defaultQueryOptions(t);return this.#u.find((t=>t.options.queryHash===e.queryHash))??new Dd(this.#E,e)},l=a.map((t=>({defaultedQueryOptions:t,observer:s(t)})));return i.concat(l).sort(((t,e)=>r.indexOf(t.defaultedQueryOptions)-r.indexOf(e.defaultedQueryOptions)))}#Z(t,e){const n=this.#u.indexOf(t);-1!==n&&(this.#Q(function(t,e,n){const r=t.slice(0);return r[e]=n,r}(this.#H,n,e)),this.#U())}#U(){T.batch((()=>{this.listeners.forEach((t=>{t(this.#H)}))}))}};var Zd=class extends P{#E;#P=void 0;#tt;#et;constructor(t,e){super(),this.#E=t,this.setOptions(e),this.bindMethods(),this.#nt()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#E.defaultMutationOptions(t),b(this.options,e)||this.#E.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#tt,observer:this}),e?.mutationKey&&this.options.mutationKey&&v(e.mutationKey)!==v(this.options.mutationKey)?this.reset():"pending"===this.#tt?.state.status&&this.#tt.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#tt?.removeObserver(this)}onMutationUpdate(t){this.#nt(),this.#U(t)}getCurrentResult(){return this.#P}reset(){this.#tt?.removeObserver(this),this.#tt=void 0,this.#nt(),this.#U()}mutate(t,e){return this.#et=e,this.#tt?.removeObserver(this),this.#tt=this.#E.getMutationCache().build(this.#E,this.options),this.#tt.addObserver(this),this.#tt.execute(t)}#nt(){const t=this.#tt?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#P={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#U(t){T.batch((()=>{if(this.#et&&this.hasListeners()){const e=this.#P.variables,n=this.#P.context;"success"===t?.type?(this.#et.onSuccess?.(t.data,e,n),this.#et.onSettled?.(t.data,null,e,n)):"error"===t?.type&&(this.#et.onError?.(t.error,e,n),this.#et.onSettled?.(void 0,t.error,e,n))}this.listeners.forEach((t=>{t(this.#P)}))}))}};const Jd=function(){this.__data__=[],this.size=0};const tf=function(t,e){for(var n=t.length;n--;)if(fl(t[n][0],e))return n;return-1};var ef=Array.prototype.splice;const nf=function(t){var e=this.__data__,n=tf(e,t);return!(n<0)&&(n==e.length-1?e.pop():ef.call(e,n,1),--this.size,!0)};const rf=function(t){var e=this.__data__,n=tf(e,t);return n<0?void 0:e[n][1]};const of=function(t){return tf(this.__data__,t)>-1};const af=function(t,e){var n=this.__data__,r=tf(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function sf(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}sf.prototype.clear=Jd,sf.prototype.delete=nf,sf.prototype.get=rf,sf.prototype.has=of,sf.prototype.set=af;const lf=sf;const uf=function(){this.__data__=new lf,this.size=0};const cf=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};const df=function(t){return this.__data__.get(t)};const ff=function(t){return this.__data__.has(t)};const pf=Fs["__core-js_shared__"];var hf,gf=(hf=/[^.]+$/.exec(pf&&pf.keys&&pf.keys.IE_PROTO||""))?"Symbol(src)_1."+hf:"";const vf=function(t){return!!gf&&gf in t};var mf=Function.prototype.toString;const yf=function(t){if(null!=t){try{return mf.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var bf=/^\[object .+?Constructor\]$/,xf=Function.prototype,wf=Object.prototype,Sf=xf.toString,kf=wf.hasOwnProperty,Ef=RegExp("^"+Sf.call(kf).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Cf=function(t){return!(!As(t)||vf(t))&&(pl(t)?Ef:bf).test(yf(t))};const Rf=function(t,e){return null==t?void 0:t[e]};const Tf=function(t,e){var n=Rf(t,e);return Cf(n)?n:void 0};const Pf=Tf(Fs,"Map");const Mf=Tf(Object,"create");const Df=function(){this.__data__=Mf?Mf(null):{},this.size=0};const Of=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var _f=Object.prototype.hasOwnProperty;const Af=function(t){var e=this.__data__;if(Mf){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return _f.call(e,t)?e[t]:void 0};var zf=Object.prototype.hasOwnProperty;const Bf=function(t){var e=this.__data__;return Mf?void 0!==e[t]:zf.call(e,t)};const Ff=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mf&&void 0===e?"__lodash_hash_undefined__":e,this};function If(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}If.prototype.clear=Df,If.prototype.delete=Of,If.prototype.get=Af,If.prototype.has=Bf,If.prototype.set=Ff;const Lf=If;const Nf=function(){this.size=0,this.__data__={hash:new Lf,map:new(Pf||lf),string:new Lf}};const jf=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};const Vf=function(t,e){var n=t.__data__;return jf(e)?n["string"==typeof e?"string":"hash"]:n.map};const qf=function(t){var e=Vf(this,t).delete(t);return this.size-=e?1:0,e};const Gf=function(t){return Vf(this,t).get(t)};const $f=function(t){return Vf(this,t).has(t)};const Wf=function(t,e){var n=Vf(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Uf(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Uf.prototype.clear=Nf,Uf.prototype.delete=qf,Uf.prototype.get=Gf,Uf.prototype.has=$f,Uf.prototype.set=Wf;const Hf=Uf;const Yf=function(t,e){var n=this.__data__;if(n instanceof lf){var r=n.__data__;if(!Pf||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Hf(r)}return n.set(t,e),this.size=n.size,this};function Xf(t){var e=this.__data__=new lf(t);this.size=e.size}Xf.prototype.clear=uf,Xf.prototype.delete=cf,Xf.prototype.get=df,Xf.prototype.has=ff,Xf.prototype.set=Yf;const Qf=Xf;const Kf=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};const Zf=function(t){return this.__data__.has(t)};function Jf(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Hf;++e<n;)this.add(t[e])}Jf.prototype.add=Jf.prototype.push=Kf,Jf.prototype.has=Zf;const tp=Jf;const ep=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};const np=function(t,e){return t.has(e)};const rp=function(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,p=2&n?new tp:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var h=t[d],g=e[d];if(r)var v=a?r(g,h,d,e,t,o):r(h,g,d,t,e,o);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!ep(e,(function(t,e){if(!np(p,e)&&(h===t||i(h,t,n,r,o)))return p.push(e)}))){f=!1;break}}else if(h!==g&&!i(h,g,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f};const ip=Fs.Uint8Array;const op=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n};const ap=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};var sp=qs?qs.prototype:void 0,lp=sp?sp.valueOf:void 0;const up=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new ip(t),new ip(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return fl(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=op;case"[object Set]":var l=1&r;if(s||(s=ap),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=2,a.set(t,e);var c=rp(s(t),s(e),r,i,o,a);return a.delete(t),c;case"[object Symbol]":if(lp)return lp.call(t)==lp.call(e)}return!1};const cp=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t};const dp=Array.isArray;const fp=function(t,e,n){var r=e(t);return dp(t)?r:cp(r,n(t))};const pp=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o};const hp=function(){return[]};var gp=Object.prototype.propertyIsEnumerable,vp=Object.getOwnPropertySymbols;const mp=vp?function(t){return null==t?[]:(t=Object(t),pp(vp(t),(function(e){return gp.call(t,e)})))}:hp;const yp=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};const bp=function(t){return Zs(t)&&"[object Arguments]"==Ks(t)};var xp=Object.prototype,wp=xp.hasOwnProperty,Sp=xp.propertyIsEnumerable;const kp=bp(function(){return arguments}())?bp:function(t){return Zs(t)&&wp.call(t,"callee")&&!Sp.call(t,"callee")};const Ep=function(){return!1};var Cp="object"==typeof exports&&exports&&!exports.nodeType&&exports,Rp=Cp&&"object"==typeof module&&module&&!module.nodeType&&module,Tp=Rp&&Rp.exports===Cp?Fs.Buffer:void 0;const Pp=(Tp?Tp.isBuffer:void 0)||Ep;var Mp={};Mp["[object Float32Array]"]=Mp["[object Float64Array]"]=Mp["[object Int8Array]"]=Mp["[object Int16Array]"]=Mp["[object Int32Array]"]=Mp["[object Uint8Array]"]=Mp["[object Uint8ClampedArray]"]=Mp["[object Uint16Array]"]=Mp["[object Uint32Array]"]=!0,Mp["[object Arguments]"]=Mp["[object Array]"]=Mp["[object ArrayBuffer]"]=Mp["[object Boolean]"]=Mp["[object DataView]"]=Mp["[object Date]"]=Mp["[object Error]"]=Mp["[object Function]"]=Mp["[object Map]"]=Mp["[object Number]"]=Mp["[object Object]"]=Mp["[object RegExp]"]=Mp["[object Set]"]=Mp["[object String]"]=Mp["[object WeakMap]"]=!1;const Dp=function(t){return Zs(t)&&hl(t.length)&&!!Mp[Ks(t)]};const Op=function(t){return function(e){return t(e)}};var _p="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ap=_p&&"object"==typeof module&&module&&!module.nodeType&&module,zp=Ap&&Ap.exports===_p&&zs.process,Bp=function(){try{var t=Ap&&Ap.require&&Ap.require("util").types;return t||zp&&zp.binding&&zp.binding("util")}catch(t){}}();var Fp=Bp&&Bp.isTypedArray;const Ip=Fp?Op(Fp):Dp;var Lp=Object.prototype.hasOwnProperty;const Np=function(t,e){var n=dp(t),r=!n&&kp(t),i=!n&&!r&&Pp(t),o=!n&&!r&&!i&&Ip(t),a=n||r||i||o,s=a?yp(t.length,String):[],l=s.length;for(var u in t)!e&&!Lp.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ml(u,l))||s.push(u);return s};var jp=Object.prototype;const Vp=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||jp)};const qp=function(t,e){return function(n){return t(e(n))}};const Gp=qp(Object.keys,Object);var $p=Object.prototype.hasOwnProperty;const Wp=function(t){if(!Vp(t))return Gp(t);var e=[];for(var n in Object(t))$p.call(t,n)&&"constructor"!=n&&e.push(n);return e};const Up=function(t){return gl(t)?Np(t):Wp(t)};const Hp=function(t){return fp(t,Up,mp)};var Yp=Object.prototype.hasOwnProperty;const Xp=function(t,e,n,r,i,o){var a=1&n,s=Hp(t),l=s.length;if(l!=Hp(e).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in e:Yp.call(e,c)))return!1}var d=o.get(t),f=o.get(e);if(d&&f)return d==e&&f==t;var p=!0;o.set(t,e),o.set(e,t);for(var h=a;++u<l;){var g=t[c=s[u]],v=e[c];if(r)var m=a?r(v,g,c,e,t,o):r(g,v,c,t,e,o);if(!(void 0===m?g===v||i(g,v,n,r,o):m)){p=!1;break}h||(h="constructor"==c)}if(p&&!h){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p};const Qp=Tf(Fs,"DataView");const Kp=Tf(Fs,"Promise");const Zp=Tf(Fs,"Set");const Jp=Tf(Fs,"WeakMap");var th="[object Map]",eh="[object Promise]",nh="[object Set]",rh="[object WeakMap]",ih="[object DataView]",oh=yf(Qp),ah=yf(Pf),sh=yf(Kp),lh=yf(Zp),uh=yf(Jp),ch=Ks;(Qp&&ch(new Qp(new ArrayBuffer(1)))!=ih||Pf&&ch(new Pf)!=th||Kp&&ch(Kp.resolve())!=eh||Zp&&ch(new Zp)!=nh||Jp&&ch(new Jp)!=rh)&&(ch=function(t){var e=Ks(t),n="[object Object]"==e?t.constructor:void 0,r=n?yf(n):"";if(r)switch(r){case oh:return ih;case ah:return th;case sh:return eh;case lh:return nh;case uh:return rh}return e});const dh=ch;var fh="[object Arguments]",ph="[object Array]",hh="[object Object]",gh=Object.prototype.hasOwnProperty;const vh=function(t,e,n,r,i,o){var a=dp(t),s=dp(e),l=a?ph:dh(t),u=s?ph:dh(e),c=(l=l==fh?hh:l)==hh,d=(u=u==fh?hh:u)==hh,f=l==u;if(f&&Pp(t)){if(!Pp(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new Qf),a||Ip(t)?rp(t,e,n,r,i,o):up(t,e,l,n,r,i,o);if(!(1&n)){var p=c&&gh.call(t,"__wrapped__"),h=d&&gh.call(e,"__wrapped__");if(p||h){var g=p?t.value():t,v=h?e.value():e;return o||(o=new Qf),i(g,v,n,r,o)}}return!!f&&(o||(o=new Qf),Xp(t,e,n,r,i,o))};const mh=function t(e,n,r,i,o){return e===n||(null==e||null==n||!Zs(e)&&!Zs(n)?e!=e&&n!=n:vh(e,n,r,i,t,o))};const yh=function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var l=(s=n[i])[0],u=t[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in t))return!1}else{var d=new Qf;if(r)var f=r(u,c,l,t,e,d);if(!(void 0===f?mh(c,u,3,r,d):f))return!1}}return!0};const bh=function(t){return t==t&&!As(t)};const xh=function(t){for(var e=Up(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,bh(i)]}return e};const wh=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};const Sh=function(t){var e=xh(t);return 1==e.length&&e[0][2]?wh(e[0][0],e[0][1]):function(n){return n===t||yh(n,t,e)}};var kh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eh=/^\w*$/;const Ch=function(t,e){if(dp(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Js(t))||(Eh.test(t)||!kh.test(t)||null!=e&&t in Object(e))};function Rh(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Rh.Cache||Hf),n}Rh.Cache=Hf;const Th=Rh;const Ph=function(t){var e=Th(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e};var Mh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dh=/\\(\\)?/g,Oh=Ph((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Mh,(function(t,n,r,i){e.push(r?i.replace(Dh,"$1"):n||t)})),e}));const _h=Oh;const Ah=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i};var zh=qs?qs.prototype:void 0,Bh=zh?zh.toString:void 0;const Fh=function t(e){if("string"==typeof e)return e;if(dp(e))return Ah(e,t)+"";if(Js(e))return Bh?Bh.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};const Ih=function(t){return null==t?"":Fh(t)};const Lh=function(t,e){return dp(t)?t:Ch(t,e)?[t]:_h(Ih(t))};const Nh=function(t){if("string"==typeof t||Js(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};const jh=function(t,e){for(var n=0,r=(e=Lh(e,t)).length;null!=t&&n<r;)t=t[Nh(e[n++])];return n&&n==r?t:void 0};const Vh=function(t,e,n){var r=null==t?void 0:jh(t,e);return void 0===r?n:r};const qh=function(t,e){return null!=t&&e in Object(t)};const Gh=function(t,e,n){for(var r=-1,i=(e=Lh(e,t)).length,o=!1;++r<i;){var a=Nh(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&hl(i)&&ml(a,i)&&(dp(t)||kp(t))};const $h=function(t,e){return null!=t&&Gh(t,e,qh)};const Wh=function(t,e){return Ch(t)&&bh(e)?wh(Nh(t),e):function(n){var r=Vh(n,t);return void 0===r&&r===e?$h(n,t):mh(e,r,3)}};const Uh=function(t){return t};const Hh=function(t){return function(e){return null==e?void 0:e[t]}};const Yh=function(t){return function(e){return jh(e,t)}};const Xh=function(t){return Ch(t)?Hh(Nh(t)):Yh(t)};const Qh=function(t){return"function"==typeof t?t:null==t?Uh:"object"==typeof t?dp(t)?Wh(t[0],t[1]):Sh(t):Xh(t)};const Kh=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o};const Zh=function(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Kh(t,r?0:o,r?o+1:i):Kh(t,r?o+1:0,r?i:o)};const Jh=function(t,e){return t&&t.length?Zh(t,Qh(e,3),!0,!0):[]};const tg=function(t){return null===t};var eg=!0,ng="Invariant failed";function rg(t,e){if(!t){if(eg)throw new Error(ng);var n="function"==typeof e?e():e,r=n?"".concat(ng,": ").concat(n):ng;throw new Error(r)}}function ig(e){let{viewBounds:n,lastSubmission:r,fetchOutset:i=2e3}=e;const{data:a,isLoading:s}=Xd({queryKey:["machine"],queryFn:async t=>{let{signal:e}=t;const{data:n}=await J.GET("/machine/current",{signal:e});return n}}),l=a?.tile_size.x??0,u=a?.tile_size.y??0,c=a?.ms_per_ball??1/0,d=a?.version??0,f=a?.grid?Jh(a.grid,((t,e)=>0!==e&&(!(r&&e<=r.yt)&&t.every(tg)))):[],[p,h]=a?[(g=f)[0].length,g.length]:[0,0];var g;const v=[...Pc(...a?Mc(n,p,h,l,u,i):[0,0,0,0])],{sparseTileData:m,allTilesLoaded:y}=function({queries:e,...n},r){const i=o(r),a=Nd(),s=Id(),l=t.useMemo((()=>e.map((t=>{const e=i.defaultQueryOptions(t);return e._optimisticResults=a?"isRestoring":"optimistic",e}))),[e,i,a]);l.forEach((t=>{Wd(t),qd(t,s)})),Gd(s);const[u]=t.useState((()=>new Kd(i,l,n))),[c,d,f]=u.getOptimisticResult(l,n.combine);t.useSyncExternalStore(t.useCallback((t=>a?()=>{}:u.subscribe(T.batchCalls(t))),[u,a]),(()=>u.getCurrentResult()),(()=>u.getCurrentResult())),t.useEffect((()=>{u.setQueries(l,n,{listeners:!1})}),[l,n,u]);const p=c.some(((t,e)=>Hd(l[e],t)))?c.flatMap(((t,e)=>{const n=l[e];if(n){const e=new Dd(i,n);if(Hd(n,t))return Yd(n,e,s);Ud(t,a)&&Yd(n,e,s)}return[]})):[];if(p.length>0)throw Promise.all(p);const h=c.find(((t,e)=>{const n=l[e];return n&&$d({result:t,errorResetBoundary:s,throwOnError:n.throwOnError,query:i.getQueryCache().get(n.queryHash)})}));if(h?.error)throw h.error;return d(f())}({queries:a?v.map((t=>{let[e,n]=t;return{enabled:null!=(r=f[n][e]),queryKey:["folio",r],queryFn:async t=>{let{signal:e}=t;rg(r,"blueprintid must be non-null");const{data:n}=await J.GET("/folio/{blueprintid}",{params:{path:{blueprintid:r}},signal:e});return n},staleTime:1/0};var r})):[],combine:t=>{const e={};let n=t.length>0;for(let r=0;r<t.length;r++){n&&=!t[r].isLoading;const i=t[r].data,[o,a]=v[r];i&&(e[Dc(o,a)]={blueprintId:f[a][o],title:i.blueprint.title,puzzle:i.puzzle,widgets:i.blueprint.widgets,snapshot:i.snapshot})}return{sparseTileData:e,allTilesLoaded:n}}}),b=(0,t.useCallback)(((t,e)=>t===r?.xt&&e===r?.yt?r:m[Dc(t,e)]),[r,m]),x=(0,t.useCallback)(((t,e)=>null!=a?.grid[e][t]),[a?.grid]);return(0,t.useMemo)((()=>({isLoading:s,allTilesLoaded:y,metaMachine:a?{version:d,tilesX:p,tilesY:h,tileWidth:l,tileHeight:u,getMachine:b,hasBlueprint:x,msPerBall:c}:null})),[y,b,x,s,a,c,u,l,p,h,d])}function og(){return function(e,n){const r=o(n),[i]=t.useState((()=>new Zd(r,e)));t.useEffect((()=>{i.setOptions(e)}),[i,e]);const a=t.useSyncExternalStore(t.useCallback((t=>i.subscribe(T.batchCalls(t))),[i]),(()=>i.getCurrentResult()),(()=>i.getCurrentResult())),s=t.useCallback(((t,e)=>{i.mutate(t,e).catch(Vd)}),[i]);if(a.error&&jd(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}({mutationFn:async t=>{let{puzzleId:e,workOrder:n,title:r,widgets:i}=t;const{data:o}=await J.POST("/blueprint/file",{body:{puzzle:e,title:r,widgets:i},headers:{"X-WorkOrder":n}});if(!o)return null;const[a,[s,l]]=o;return{blueprintId:a,xt:s,yt:l}},onSuccess:()=>{et.invalidateQueries({queryKey:["puzzle"]})}})}const ag=function(t){var e=t.length;return e?t[dl(0,e-1)]:void 0};const sg=function(t,e){return Ah(e,(function(e){return t[e]}))};const lg=function(t){return null==t?[]:sg(t,Up(t))};const ug=function(t){return ag(lg(t))};const cg=function(t){return(dp(t)?ag:ug)(t)},dg=1800,fg=Ju({position:"absolute",left:0,top:0,pointerEvents:"none",width:2*ld,height:2*ld,backgroundSize:"contain",zIndex:5,contain:"strict","&.blue":{backgroundImage:`url(${cc().url["2x"]})`},"&.red":{backgroundImage:`url(${hc().url["2x"]})`},"&.green":{backgroundImage:`url(${fc().url["2x"]})`},"&.yellow":{backgroundImage:`url(${vc().url["2x"]})`}},"",""),pg=["blue","red","green","yellow"];function hg(e){let{lifetimeTicks:n,ballClassName:r}=e;const i=ed(),o=(0,t.useRef)(null),{events:a}=i,s=Vc(i);return Uc((t=>{let{events:e,rapier:i,world:l,getCurrentTick:u}=t;const c={};let d=null;function f(t){const e=document.createElement("div");c[t.id]=function(t,e,n,r,i,o,a){let{id:s,type:l,age:u,snapshot:c,overrideDamping:d,el:f}=t,{RigidBodyDesc:p,RigidBodyType:h,ColliderDesc:g}=n;f.className=e;const v=new p(h.Dynamic).setTranslation(c.x,c.y).setRotation(c.angle).setLinvel(c.vx,c.vy).setAngvel(c.va).setCcdEnabled(!0).setUserData({type:"BallData",id:s,ballType:l}),m=g.ball(_c.toRapier.length(ld));2===l&&m.setRestitution(.8).setDensity(1),3===l&&m.setMass(.75),4===l&&(v.setLinearDamping(2),m.setDensity(.3).setRestitution(.6)),null!=d&&v.setLinearDamping(d);const y=r.createRigidBody(v),b=r.createCollider(m,y);let x=!0,w=!1,S=!1,k=null,E=o()-u;i.current.registerBall(s,l,y,E);const C={step(){const{simulationBoundsRef:t,viewBoundsRef:e}=i.current;o()-E>=a&&!k&&this.die();const[n,r]=_c.fromBody.vector(y);if(k?.(n,r),!Rc(n,r,Rd+Td,t.current))return i.current?.destroyBall(s),void(f.style.display="none");const l=Rc(n,r,ld,e.current);l!=x&&(f.style.display=l?"block":"none"),l||!S?(l&&(f.style.transform=`translate(${kc(n-ld)}, ${kc(r-ld)})`),x=l):i.current?.destroyBall(s)},destroy(){f.remove(),i.current.unregisterBall(s),setTimeout((()=>{r.removeRigidBody(y)}),0)},exit(){S=!0},renew(){E=o(),i.current.registerBall(s,l,y,E)},die(){w||(w=!0,f.style.transition="opacity 200ms ease-in",f.style.opacity="0",setTimeout((()=>{r.removeCollider(b,!1)}),0),setTimeout((()=>{i.current?.destroyBall(s,"expiry")}),200))},follow(t){k=t},unfollow(){k=null}};return C.step(),C}({...t,el:e},`${r} ${pg[t.type-1]}`,i,l,s,u,n),o.current?.appendChild(e)}function p(t){c[t]?.destroy(),delete c[t]}function h(t){c[t]?.exit()}function g(t){c[t]?.renew()}function v(t){c[t]?.die()}function m(t){y(),d=cg(Object.keys(c)),c[d].follow(t)}function y(){d&&c[d]&&c[d].unfollow()}function b(){Object.values(c).forEach((t=>t.step()))}return a.on("createBall",f),a.on("destroyBall",p),a.on("exitBall",h),a.on("renewBall",g),a.on("killBall",v),a.on("followBall",m),a.on("unfollowBall",y),e.on("step",b),()=>{a.off("createBall",f),a.off("destroyBall",p),a.off("exitBall",h),a.off("renewBall",g),a.off("killBall",v),a.off("followBall",m),a.off("unfollowBall",y),e.off("step",b),Object.values(c).forEach((t=>t.destroy()))}}),[r,a,n,s]),oc("div",{ref:o})}function gg(t){let{lifetimeTicks:e=dg}=t;return oc(rc,{children:t=>{let{css:n}=t;return oc(hg,{lifetimeTicks:e,ballClassName:n(fg)})}})}var vg=c(6373),mg=c.n(vg);const yg=function(){try{var t=Tf(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const bg=function(t,e,n){"__proto__"==e&&yg?yg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};const xg=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}();const wg=function(t,e){return t&&xg(t,e,Up)};const Sg=function(t,e){var n={};return e=Qh(e,3),wg(t,(function(t,r,i){bg(n,r,e(t,r,i))})),n};const kg=function(t){return"number"==typeof t||Zs(t)&&"[object Number]"==Ks(t)};const Eg=function(t){return"string"==typeof t||!dp(t)&&Zs(t)&&"[object String]"==Ks(t)};function Cg(t){const e=t.userData;if(null==e)return!1;const n=e;return"BallData"===n.type&&kg(n.ballType)&&Eg(n.id)}const Rg=(0,t.createContext)({bounds:[0,0,0,0],width:0,height:0,registerBody:Fc,unregisterBody:Fc,snapshot:()=>({widgets:{},balls:[]}),loadSnapshot:Fc}),Tg=(0,t.forwardRef)((function(e,n){let{bounds:r,initialSnapshot:i,children:o}=e;const{snapshotBalls:a,restoreBalls:s,destroyBall:l}=ed(),[u,c,d,f]=r,p=(0,t.useMemo)((()=>[u,c,d,f]),[u,d,c,f]),h=d-u,g=f-c,v=(0,t.useRef)({}),m=(0,t.useCallback)(((t,e)=>{v.current[t]=e}),[]),y=(0,t.useCallback)((t=>{delete v.current[t]}),[]),b=(0,t.useCallback)((()=>{const[t,e,n,r]=p,i=[..._c.toRapier.vector(t,r),..._c.toRapier.vector(n,e)];return{widgets:Sg(v.current,((t,e)=>({...Lc(t),key:e}))),balls:a(i)}}),[a,p]),x=(0,t.useCallback)((t=>{const[e,n]=p,[r,i]=_c.toRapier.vector(e,n);for(const[e,n]of Object.entries(t.widgets)){const t=v.current[e];t&&Nc(jc(r,i,n),t)}s(t.balls.map((t=>jc(r,i,t))))}),[s,p]),w=(0,t.useMemo)((()=>({bounds:r,width:h,height:g,registerBody:m,unregisterBody:y,snapshot:b,loadSnapshot:x})),[r,h,g,m,y,b,x]);(0,t.useImperativeHandle)(n,(()=>({snapshot:b,loadSnapshot:x})));const S=(0,t.useRef)(!1);return Uc((t=>{let{world:e,rapier:{Cuboid:n}}=t;return i&&!S.current&&(x(i),S.current=!0),()=>{e.intersectionsWithShape(_c.toRapier.vectorObject(u+h/2,c+g/2),0,new n(..._c.toRapier.lengths(h/2,g/2)),(t=>{const e=t.parent();return!e||!Cg(e)||(l(e.userData.id),!0)}))}}),[x,i,u,h,c,g,l]),oc(Rg.Provider,{value:w,children:o})}));function Pg(e,n){const{registerBody:r,unregisterBody:i}=(0,t.useContext)(Rg),o=(0,t.useRef)(null);return Uc((t=>{let{rapier:n,world:a}=t;const{key:s,bodyDesc:l,colliderDescs:u}=e(n),c=a.createRigidBody(l);return o.current=c,u&&u.map((t=>a.createCollider(t,c))),null!=s&&r(s,c),()=>{null!=s&&i(s),setTimeout((()=>{a.removeRigidBody(c)}),0)}}),n),o}function Mg(e,n,r){const{bounds:i}=(0,t.useContext)(Rg);Yc((t=>{let{world:r}=t;e&&r.intersectionPairsWith(e,(t=>{const[e,r]=_c.fromBody.vector(t);Cc(e,r,i)&&n(t)}))}),[e,...r])}function Dg(){return(0,t.useContext)(Rg)}function Og(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{position:"absolute",top:0,left:0,transform:`translate(${kc(t)}, ${kc(e)}) translate(-50%, -50%) rotate(${n}rad)`}}function _g(e,n){let{width:r,height:i,initialX:o,initialY:a,initialAngle:s,xBasis:l=0,yBasis:u=0}=n;const c=(0,t.useRef)(null),{viewBoundsRef:d}=ed(),f=(0,t.useRef)(!0),p=(0,t.useCallback)((()=>{const{current:t}=c,{current:n}=e;if(!t)return;const[p,h]=n?_c.fromBody.vector(n):[],g=p??o,v=h??a;if(null==g||null==v)return t.style.display="none",void(f.current=!1);const m=function(t,e,n,r,i){let[o,a,s,l]=i;return t>=o-.5*n&&t<=s+.5*n&&e>=a-.5*r&&e<=l+.5*r}(g,v,r,i,d.current);m!=f.current&&(t.style.display=m?"block":"none"),m&&Object.assign(t.style,Og(g-l,v-u,n?_c.fromBody.angle(n):s)),f.current=m}),[e,o,a,s,r,i,d,l,u]);return(0,t.useEffect)(p),Yc(p,[p]),c}var Ag={name:"1pug7e8",styles:"z-index:20"};function zg(t){let{id:e,x:n,y:r}=t;const i=Pg((t=>{let{RigidBodyDesc:n,ColliderDesc:r,RigidBodyType:i}=t;return{key:e,bodyDesc:new n(i.Dynamic).setLinearDamping(6).setAngularDamping(2),colliderDescs:[r.capsule(_c.toRapier.length(mg().width/3-30),_c.toRapier.length(30)).setTranslation(..._c.toRapier.vector(30,45)).setRotation(Math.PI/2).setMass(12),r.cuboid(..._c.toRapier.lengths(mg().width/3,mg().height/2)).setTranslation(..._c.toRapier.vector(0,10)).setSensor(!0)]}}),[e]);return Uc((()=>{const{current:t}=i;t&&t.setTranslation(_c.toRapier.vectorObject(n,r),!0)}),[i,n,r]),Yc((t=>{let{world:e}=t;const{current:n}=i;if(!n)return;const r=n.rotation();n.resetTorques(!0),n.applyTorqueImpulse(-1*r,!0);let o=0;e.intersectionPairsWith(n.collider(1),(()=>{o++})),o&&n.applyImpulse({x:0,y:_c.toRapier.y(-6*o)},!0)}),[i]),oc(sc,{ref:_g(i,{width:mg().width,height:mg().height,initialX:n,initialY:r}),css:Ag,style:Og(n,r),img:mg()})}var Bg=c(7934),Fg=c.n(Bg),Ig=c(7092),Lg=c.n(Ig),Ng=c(2250),jg=c.n(Ng),Vg=c(8040),qg=c.n(Vg),Gg=c(3801),$g=c.n(Gg),Wg=c(8191),Ug=c.n(Wg);var Hg={name:"1pug7e8",styles:"z-index:20"};function Yg(t){let{x:e,y:n,angle:r,onReceiveBall:i}=t;const{destroyBall:o}=ed(),a=od().width,s=od().height,l=Hc((t=>{let{ColliderDesc:r,ActiveEvents:i}=t;return r.cuboid(..._c.toRapier.lengths(a/2,s/8)).setTranslation(..._c.toRapier.vector(e,n+24)).setSensor(!0).setActiveEvents(i.COLLISION_EVENTS)}),[s,a,e,n]);Xc("start",l,(t=>{const e=t.parent();e&&Cg(e)&&(i(e),o(e.userData.id))}),[]);const u=r*(180/Math.PI)-90;let c=od();return c=u<-40?Ug():u<-10?qg():u<-2?Lg():u<2?od():u<10?Fg():u<40?jg():$g(),oc(sc,{img:c,css:Hg,style:Og(e,n)})}function Xg(t){let{x:e,y:n}=t;const r=Sd,i=kd,o=Ed;return Hc((t=>{let{ColliderDesc:a}=t;return a.cuboid(..._c.toRapier.lengths(o/2,i/2)).setTranslation(..._c.toRapier.vector(e-r/2+o/2,n)).setRestitution(.1)}),[o,i,r,e,n]),Hc((t=>{let{ColliderDesc:a}=t;return a.cuboid(..._c.toRapier.lengths(o/2,i/2)).setTranslation(..._c.toRapier.vector(e+r/2-o/2,n)).setRestitution(.1)}),[o,i,r,e,n]),Hc((t=>{let{ColliderDesc:o}=t;return o.cuboid(..._c.toRapier.lengths(r/2,46)).setTranslation(..._c.toRapier.vector(e,n+i/2-46)).setRestitution(.1)}),[i,r,e,n]),Hc((t=>{let{ColliderDesc:o}=t;return o.cuboid(..._c.toRapier.lengths(r/2,46)).setTranslation(..._c.toRapier.vector(e,n+i/2-46)).setRestitution(.1)}),[i,r,e,n]),oc(sc,{img:rd(),style:Og(e,n)})}var Qg=c(7929),Kg=c.n(Qg),Zg=c(2256),Jg=c.n(Zg),tv=c(4925),ev=c.n(tv),nv=c(8828),rv=c.n(nv),iv=c(5121),ov=c.n(iv),av=c(2633),sv=c.n(av),lv=c(9482),uv=c.n(lv);function cv(t,e,n){let{x1:r,x2:i,y1:o,y2:a,thickness:s}=e,{xBasis:l,yBasis:u}=n;const c=Math.sqrt((i-r)**2+(a-o)**2),d=s,f=-Math.atan2(a-o,i-r);return t.cuboid(..._c.toRapier.lengths(c/2,d/2)).setTranslation(..._c.toRapier.vector((r+i)/2-l,(o+a)/2-u)).setRotation(f)}const dv=[[sd(),Kg()],[ov(),rv()],[ev(),Jg()],[uv(),sv()]],fv=Math.floor(12e3/Gc),pv=Math.floor(800/Gc);function hv(e){let{x:n,y:r,type:i}=e;const{killBall:o}=ed(),[a,s]=(0,t.useState)(!1),l=(0,t.useMemo)((()=>({xBasis:-n,yBasis:-r})),[n,r]);Hc((t=>{let{ColliderDesc:e}=t;return cv(e,{x1:-43,y1:-209,x2:-28,y2:-180,thickness:2},l).setRestitution(.05)}),[l]),Hc((t=>{let{ColliderDesc:e}=t;return cv(e,{x1:43,y1:-209,x2:28,y2:-180,thickness:2},l).setRestitution(.05)}),[l]),Hc((t=>{let{ColliderDesc:e}=t;return cv(e,{x1:-85,y1:-164,x2:-32,y2:-190,thickness:17},l)}),[l]),Hc((t=>{let{ColliderDesc:e}=t;return cv(e,{x1:85,y1:-164,x2:32,y2:-190,thickness:17},l)}),[l]),Hc((t=>{let{ColliderDesc:e}=t;return cv(e,{x1:-79,y1:-170,x2:-79,y2:205,thickness:20},l)}),[l]),Hc((t=>{let{ColliderDesc:e}=t;return cv(e,{x1:79,y1:-170,x2:79,y2:205,thickness:20},l)}),[l]),Hc((t=>{let{ColliderDesc:e}=t;return cv(e,{x1:-86,y1:172,x2:-86,y2:205,thickness:20},l)}),[l]),Hc((t=>{let{ColliderDesc:e}=t;return cv(e,{x1:82,y1:164,x2:82,y2:209,thickness:26},l)}),[l]),Hc((t=>{let{ColliderDesc:e}=t;return cv(e,{x1:-82,y1:188,x2:a?-82:82,y2:188,thickness:7},l)}),[l,a]);return Xc("start",Hc((t=>{let{ColliderDesc:e,ActiveEvents:i}=t;return e.cuboid(..._c.toRapier.lengths(Pd/2-26,Md/2-26)).setTranslation(..._c.toRapier.vector(n,r+10)).setSensor(!0).setActiveEvents(i.COLLISION_EVENTS)}),[n,r]),(t=>{const e=t.parent();e&&Cg(e)&&e.userData.ballType!==i&&o(e.userData.id)}),[]),Yc((t=>{let{getCurrentTick:e}=t;const n=e();n%fv==0&&s(!0),n%fv===pv&&s(!1)}),[]),oc(lc,{imgs:dv[i-1],showIdx:a?1:0,style:Og(n,r)})}const gv=function(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n};const vv=function(t,e){return t&&t.length?gv(t,Qh(e,2)):0};var mv=c(8384),yv=c.n(mv),bv=c(6602),xv=c.n(bv),wv=c(1647),Sv=c.n(wv),kv=c(2476),Ev=c.n(kv),Cv=c(8705),Rv=c.n(Cv),Tv=c(3502),Pv=c.n(Tv);const Mv=[xv(),Sv(),Ev(),Rv(),Pv()];function Dv(t){if(t.y>0&&t.y<1){if(0===t.x)return"left";if(1===t.x)return"right"}else{if(0===t.y)return"top";if(1===t.y)return"bottom"}}function Ov(t){let{className:e}=t;return oc("svg",{viewBox:"0 0 120 120",className:e,children:oc("polygon",{points:"60 95, 10 10, 110 10"})})}function _v(t){let{x:e,y:n,balls:r,side:i}=t;return oc("div",{css:Ju({display:"flex",alignItems:"center",justifyContent:"center",gap:4,"&.top":{marginTop:36},"&.bottom":{marginTop:-36},"&.left, &.right":{flexDirection:"column"},"&.left":{marginLeft:36,svg:{transform:"rotate(90deg)"}},"&.right":{marginLeft:-36,svg:{transform:"rotate(-90deg)"}}},"",""),style:Og(e,n),className:i,children:r.map((t=>{let{type:e}=t;return oc(Ov,{css:Ju({height:12,stroke:"black",strokeWidth:10,opacity:.5,"&.blue":{fill:"blue"},"&.red":{fill:"red"},"&.green":{fill:"green"},"&.yellow":{fill:"yellow"}},"",""),className:pg[e-1]??void 0},e)}))})}var Av={name:"kj5j1j",styles:"z-index:10"};function zv(e){let{x:n,y:r,rotationSpeed:i,spokes:o}=e;const a=(0,t.useMemo)((()=>cg(Mv)),[]),s=Pg((t=>{let{RigidBodyDesc:e,ColliderDesc:a,RigidBodyType:s,CoefficientCombineRule:l}=t;const u=null!=o?Array(o).fill(0).map(((t,e)=>a.cuboid(..._c.toRapier.lengths(ud/2,.5)).setRotation(e*Math.PI/o).setRestitution(.01).setFriction(1))):[];return{key:null,bodyDesc:new e(s.KinematicVelocityBased).setTranslation(..._c.toRapier.vector(n,r)).lockTranslations().setAngvel(i),colliderDescs:[a.ball(_c.toRapier.length(14)).setRestitution(.01).setRestitutionCombineRule(l.Min),...u]}}),[o,n,r,i]);return oc(sc,{img:a,ref:_g(s,{width:ud,height:ud,initialX:n,initialY:r}),css:Av})}function Bv(t){let{x:e,y:n,side:r,balls:i,isInput:o,onReceiveBall:a}=t;const{renewBall:s}=ed(),l="left"===r||"right"===r,u=Hc((t=>{let{ColliderDesc:r,ActiveEvents:i}=t;return r.cuboid(..._c.toRapier.lengths(fd/4,6)).setTranslation(..._c.toRapier.vector(e,n)).setRotation(l?Math.PI/2:0).setSensor(!0).setActiveEvents(i.COLLISION_EVENTS)}),[l,e,n]);Hc((t=>{let{ColliderDesc:i}=t;return o&&l?i.cuboid(..._c.toRapier.lengths(fd/2,2)).setTranslation(..._c.toRapier.vector("left"===r?e-1.5*ud:e+1.5*ud,n-ud/3)).setRotation("left"===r?-Math.PI/6:Math.PI/6):null}),[o,l,r,e,n]),Xc("start",u,(t=>{const e=t.parent();u&&e&&Cg(e)&&(e.setLinvel({x:0,y:0},!0),e.setAngvel(0,!0),s(e.userData.id),a?.(e.userData))}),[a,s]);const c=fd/2-ud/2,d=(o?1:-1)*("left"===r||"bottom"===r?-1:1);return ac(ic,{children:[o?null:oc(_v,{x:e,y:n,balls:i,side:r}),oc(zv,{x:l?e:e-c,y:l?n-c:n,rotationSpeed:-cd*d,spokes:dd/2}),oc(zv,{x:l?e:e+c,y:l?n+c:n,rotationSpeed:cd*d,spokes:dd/2})]})}const Fv=1;function Iv(e){let{x:n,y:r,vx:i,vy:o,overrideDamping:a,balls:s}=e;const{createBall:l,msPerBall:u}=ed(),c=(0,t.useRef)(0),d=(0,t.useCallback)((t=>{let{tickMs:e,getCurrentTick:n}=t;const r=vv(s,(t=>{let{rate:e}=t;return e})),i=u/r/e,o=1+(.5-Math.random())*Fv;c.current=n()+Math.round(i*o)}),[u,s]);return Uc(d,[d]),Yc((t=>{if(t.getCurrentTick()>=c.current){const{type:e}=yv()(s,s.map((t=>{let{rate:e}=t;return e})));return l(n,r,e,{vx:i,vy:o,overrideDamping:a}),void d(t)}}),[l,a,d,s,i,o,n,r]),null}function Lv(t){let{x:e,y:n,balls:r,side:i}=t;const o=.75*ud;return ac(ic,{children:[oc(Iv,{x:e+("left"===i?-o:"right"===i?o:0),y:n+("top"===i?-ld:"bottom"===i?ld:2*-ld),balls:r}),oc(Bv,{x:e,y:n,balls:r,side:i,isInput:!0})]})}const Nv=[2,0,3,1];function jv(e){let{tilesX:n,tilesY:r,tileWidth:i,tileHeight:o,stepRateMultiplier:a=1}=e;const{msPerBall:s,simulationBoundsRef:l}=ed(),u=(0,t.useRef)(null),c=n*i,d=r*o,f=c/2,p=d+Cd-kd/2-10,h=f-(4*Pd+300)/2+Pd/2,g=p-Md-400,v=[0,(r-1)*o,c,r*o],m=(0,t.useMemo)((()=>[0,0,c,d+Cd]),[d,c]),{metaMachine:y}=ig({viewBounds:v}),b=(0,t.useCallback)(((t,e,n)=>{const r=h+Nv[n-1]*(Pd+100),[i,o]=_c.toRapier.vector(r,g+50);return(i-t)/Math.sqrt(2*(e-o)/-qc.y)}),[h,g]),x=(0,t.useCallback)((t=>{const{current:e}=u;if(!e)return;const{x:n,y:r}=t.translation();e.createBall(..._c.fromRapier.vector(n,r),t.userData.ballType,{vx:b(n,r,t.userData.ballType),overrideDamping:0})}),[b]);if(!y)return null;const w=[];for(let t=1;t<=4;t++)w.push(oc(hv,{x:h+Nv[t-1]*(Pd+100),y:g+Md/2,type:t},`tank-${t}`));const S=[],k=[];for(let t=0;t<n;t++){const e=y.getMachine(t,r-1);if(e)for(const n of e.puzzle.outputs){if(1!==n.y)continue;const e=t*i+i*n.x,r=d;Cc(e,r,l.current)?S.push(oc(Yg,{x:e,y:r+Rd,angle:zc({x:e,y:r},{x:f,y:p}),onReceiveBall:x},`${t}-${n.x}`)):k.push(oc(Iv,{x:e,y:r,vx:b(..._c.toRapier.vector(e,r+Rd),n.balls[0].type),overrideDamping:0,balls:n.balls},`${t}-${n.x}`))}}return ac(ic,{children:[S,oc(Wc,{stepRateMultiplier:a,children:ac(td,{ref:u,msPerBall:s,initialSimulationBounds:m,initialViewBounds:m,children:[k,w,oc(zg,{id:"boat",x:f,y:p-10}),oc(Xg,{x:f,y:p}),oc(gg,{lifetimeTicks:3.5*dg})]})})]})}function Vv(e){const n=je((()=>ro(e))),{isStatic:r}=(0,t.useContext)(at);if(r){const[,r]=(0,t.useState)(e);(0,t.useEffect)((()=>n.on("change",r)),[])}return n}const qv=t=>(t=>t&&"object"==typeof t&&t.mix)(t)?t.mix:void 0;function Gv(t,e){const n=Vv(e()),r=()=>n.set(e());return r(),ct((()=>{const e=()=>Ye.update(r,!1,!0),n=t.map((t=>t.on("change",e)));return()=>{n.forEach((t=>t())),Xe(r)}})),n}function $v(t,e,n,r){if("function"==typeof t)return function(t){eo.current=[],t();const e=Gv(eo.current,t);return eo.current=void 0,e}(t);const i="function"==typeof e?e:function(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],o=t[2+n],a=t[3+n],s=Oi(i,o,{mixer:qv(o[0]),...a});return e?s(r):s}(e,n,r);return Array.isArray(t)?Wv(t,i):Wv([t],(([t])=>i(t)))}function Wv(t,e){const n=je((()=>[]));return Gv(t,(()=>{n.length=0;const r=t.length;for(let e=0;e<r;e++)n[e]=t[e].get();return e(n)}))}function Uv(t,e,n){var r;if("string"==typeof t){let i=document;e&&(Vn(Boolean(e.current),"Scope provided, but no element detected."),i=e.current),n?(null!==(r=n[t])&&void 0!==r||(n[t]=i.querySelectorAll(t)),t=n[t]):t=i.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}const Hv=zr((()=>void 0!==window.ScrollTimeline));class Yv{constructor(t){this.animations=t.filter(Boolean)}then(t,e){return Promise.all(this.animations).then(t).catch(e)}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t){const e=this.animations.map((e=>{if(!Hv()||!e.attachTimeline)return e.pause(),function(t,e){let n;const r=()=>{const{currentTime:r}=e,i=(null===r?0:r.value)/100;n!==i&&t(i),n=i};return Ye.update(r,!0),()=>Xe(r)}((t=>{e.time=e.duration*t}),t);e.attachTimeline(t)}));return()=>{e.forEach(((t,e)=>{t&&t(),this.animations[e].stop()}))}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach((e=>e[t]()))}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Xv(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Na(t)?new Ms(e,{enableHardwareAcceleration:!1}):new Ps(e,{enableHardwareAcceleration:!0});n.mount(t),xs.set(t,n)}function Qv(t,e=100){const n=Kr({keyframes:[0,e],...t}),r=Math.min(Ii(n),Fi);return{type:"keyframes",ease:t=>n.next(r*t).value/e,duration:Tn(r)}}function Kv(t,e,n,r){var i;return"number"==typeof e?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):"<"===e?n:null!==(i=r.get(e))&&void 0!==i?i:t}const Zv=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function Jv(t,e){return ai(t)?t[Zv(0,t.length,e)]:t}function tm(t,e,n,r,i,o){!function(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(Ji(t,i),r--)}}(t,i,o);for(let a=0;a<e.length;a++)t.push({value:e[a],at:yi(i,o,r[a]),easing:Jv(n,a)})}function em(t,e){return t.at===e.at?null===t.value?1:null===e.value?-1:0:t.at-e.at}const nm="easeInOut";function rm(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function im(t,e){return e[t]||(e[t]=[]),e[t]}function om(t){return Array.isArray(t)?t:[t]}function am(t,e){return t[e]?{...t,...t[e]}:{...t}}const sm=t=>"number"==typeof t,lm=t=>t.every(sm);function um(t,e,n,r){const i=Uv(t,r),o=i.length;Vn(Boolean(o),"No valid element provided.");const a=[];for(let t=0;t<o;t++){const r=i[t];xs.has(r)||Xv(r);const s=xs.get(r),l={...n};"function"==typeof l.delay&&(l.delay=l.delay(t,o)),a.push(...ao(s,{...e,transition:l},{}))}return new Yv(a)}function cm(t,e,n){const r=[],i=function(t,{defaultTransition:e={},...n}={},r){const i=e.duration||.3,o=new Map,a=new Map,s={},l=new Map;let u=0,c=0,d=0;for(let n=0;n<t.length;n++){const o=t[n];if("string"==typeof o){l.set(o,c);continue}if(!Array.isArray(o)){l.set(o.name,Kv(c,o.at,u,l));continue}let[f,p,h={}]=o;void 0!==h.at&&(c=Kv(c,h.at,u,l));let g=0;const v=(t,n,r,o=0,a=0)=>{const s=om(t),{delay:l=0,times:u=Ai(s),type:f="keyframes",...p}=n;let{ease:h=e.ease||"easeOut",duration:v}=n;const m="function"==typeof l?l(o,a):l,y=s.length;if(y<=2&&"spring"===f){let t=100;if(2===y&&lm(s)){const e=s[1]-s[0];t=Math.abs(e)}const e={...p};void 0!==v&&(e.duration=Rn(v));const n=Qv(e,t);h=n.ease,v=n.duration}null!=v||(v=i);const b=c+m,x=b+v;1===u.length&&0===u[0]&&(u[1]=1);const w=u.length-s.length;w>0&&_i(u,w),1===s.length&&s.unshift(null),tm(r,s,h,u,b,x),g=Math.max(m+v,g),d=Math.max(x,d)};if($t(f))v(p,h,im("default",rm(f,a)));else{const t=Uv(f,r,s),e=t.length;for(let n=0;n<e;n++){const r=rm(t[n],a);for(const t in p)v(p[t],am(h,t),im(t,r),n,e)}}u=c,c+=g}return a.forEach(((t,r)=>{for(const i in t){const a=t[i];a.sort(em);const s=[],l=[],u=[];for(let t=0;t<a.length;t++){const{at:e,value:n,easing:r}=a[t];s.push(n),l.push(mi(0,d,e)),u.push(r||"easeOut")}0!==l[0]&&(l.unshift(0),s.unshift(s[0]),u.unshift(nm)),1!==l[l.length-1]&&(l.push(1),s.push(null)),o.has(r)||o.set(r,{keyframes:{},transition:{}});const c=o.get(r);c.keyframes[i]=s,c.transition[i]={...e,duration:d,ease:u,times:l,...n}}})),o}(t,e,n);return i.forEach((({keyframes:t,transition:e},n)=>{let i;i=$t(n)?ja(n,t.default,e.default):um(n,t,e),r.push(i)})),new Yv(r)}const dm=function(t,e,n){let r;var i;return i=t,r=Array.isArray(i)&&Array.isArray(i[0])?cm(t,e,fm):function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?um(t,e,n,fm):ja(t,e,n),fm&&fm.animations.push(r),r};var fm;const pm=(0,t.forwardRef)((function(e,n){let{width:r,height:i,totalWidth:o,totalHeight:a,innerClassName:s,onPosition:l,children:u,initialX:c=0,initialY:d=0,initialZoom:f=1}=e;const p=Vv(f),[h,g]=(0,t.useState)(f),v=Vv(-c*f),m=Vv(-d*f),y=$v((()=>v.get()+.5*r)),b=$v((()=>m.get()+.5*i)),x=(0,t.useCallback)((()=>{const t=y.get(),e=b.get(),n=1/p.get();l([-t*n,-e*n,(-t+r)*n,(-e+i)*n])}),[y,b,p,r,i,l]);(0,t.useEffect)(x,[x]);const w=(0,t.useCallback)((()=>[-v.get()/p.get(),-m.get()/p.get()]),[v,m,p]),S=(0,t.useCallback)((()=>v.isAnimating()||m.isAnimating()),[v,m]),k=(0,t.useCallback)((async function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;await Promise.all([g(n),dm(p,n),dm(v,-t*n),dm(m,-e*n)])}),[p,v,m]),E=(0,t.useCallback)((function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;g(n),p.set(n),v.set(-t*n),m.set(-e*n)}),[p,v,m]);(0,t.useImperativeHandle)(n,(()=>({getPosition:w,isAnimating:S,animateTo:k,jumpTo:E})));const C=(0,t.useMemo)((()=>{const t=-.5*h*r,e=-.5*h*i;return{left:t-(o-r)*h,right:t,top:e-(a-i)*h,bottom:e}}),[i,h,a,o,r]);return oc("div",{css:Ju({overflow:"hidden",width:r,height:i,userSelect:"none",touchAction:"none"},"",""),children:oc(_s.div,{css:Ju({position:"relative",width:o,height:a,overflow:"hidden",contain:"strict"},"",""),style:{x:y,y:b,scale:p,originX:0,originY:0},className:s,whileDrag:{cursor:"grabbing"},onUpdate:x,dragConstraints:C,_dragX:v,_dragY:m,drag:!0,children:u})})}));var hm=c(6192),gm=c.n(hm),vm=c(7777),mm=c.n(vm),ym=c(3166),bm=c.n(ym),xm=c(2575),wm=c.n(xm),Sm=c(7980),km=c.n(Sm),Em=c(1565),Cm=c.n(Em),Rm=c(3146),Tm=c.n(Rm),Pm=c(3883),Mm=c.n(Pm),Dm=c(4680),Om=c.n(Dm);const _m=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t};const Am=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};const zm=function(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=dl(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t};const Bm=function(t,e){return zm(Am(t),_m(e,0,t.length))};const Fm=function(t,e){var n=lg(t);return zm(n,_m(e,0,n.length))};const Im=function(t){var e=xl(t),n=e%1;return e==e?n?e-n:e:0};const Lm=function(t,e,n){return e=(n?yl(t,e,n):void 0===e)?1:Im(e),(dp(t)?Bm:Fm)(t,e)};const Nm=[gm(),mm(),bm(),wm(),km(),Cm(),Tm(),Mm(),Om()];var jm={name:"1m19vma",styles:"position:absolute;left:0;top:0"};function Vm(e){let{tileWidth:n,tileHeight:r,xt:i,yt:o}=e;const a=(0,t.useMemo)((()=>Lm(Nm,El(2,3))),[]);return oc("div",{css:Ju({position:"absolute",background:"white",left:i*n,top:o*r,width:n,height:r,border:"1px solid black",boxSizing:"border-box",pointerEvents:"none",zIndex:20},"",""),children:a.map(((t,e)=>oc(sc,{img:t,css:jm},e)))})}var qm=c(8740),Gm=c(5875),$m=c.n(Gm),Wm=c(9567),Um=c.n(Wm),Hm=c(5278),Ym=c.n(Hm);const Xm=function(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a==a&&!Js(a):n(a,s)))var s=a,l=o}return l};const Qm=function(t,e){return t>e};const Km=function(t){return t&&t.length?Xm(t,Uh,Qm):void 0};function Zm(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return!0;return!1}function Jm(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return t[r];return null}function ty(t){var e=t;if(void 0===e){if("undefined"==typeof navigator||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function ey(t,e){try{return new RegExp(t,"g").exec(e)}catch(t){return null}}function ny(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!(!e||!e.length)}function ry(t){return t.replace(/_/g,".")}function iy(t,e){var n=null,r="-1";return Zm(t,(function(t){var i=ey("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!(!i||t.brand)&&(n=t,r=i[3]||"-1",t.versionAlias?r=t.versionAlias:t.versionTest&&(r=function(t,e){var n=ey("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return n?n[3]:""}(t.versionTest.toLowerCase(),e)||r),r=ry(r),!0)})),{preset:n,version:r}}function oy(t,e){var n={brand:"",version:"-1"};return Zm(t,(function(t){var r=ay(e,t);return!!r&&(n.brand=t.id,n.version=t.versionAlias||r.version,"-1"!==n.version)})),n}function ay(t,e){return Jm(t,(function(t){var n=t.brand;return ey(""+e.test,n.toLowerCase())}))}var sy=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],ly=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],uy=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],cy=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],dy=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function fy(t){return!!iy(cy,t).preset}function py(t){var e=navigator.userAgentData,n=(e.uaList||e.brands).slice(),r=t&&t.fullVersionList,i=e.mobile||!1,o=n[0],a=(t&&t.platform||e.platform||navigator.platform).toLowerCase(),s={name:o.brand,version:o.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!oy(cy,n).brand||fy(ty())},l={name:"unknown",version:"-1",majorVersion:-1};s.webkit=!s.chromium&&Zm(uy,(function(t){return ay(n,t)}));var u=oy(ly,n);if(s.chromium=!!u.brand,s.chromiumVersion=u.version,!s.chromium){var c=oy(uy,n);s.webkit=!!c.brand,s.webkitVersion=c.version}var d=Jm(dy,(function(t){return new RegExp(""+t.test,"g").exec(a)}));if(l.name=d?d.id:"",t&&(l.version=t.platformVersion),r&&r.length){var f=oy(sy,r);s.name=f.brand||s.name,s.version=f.version||s.version}else{var p=oy(sy,n);s.name=p.brand||s.name,s.version=p.brand&&t?t.uaFullVersion:p.version}return s.webkit&&(l.name=i?"ios":"mac"),"ios"===l.name&&s.webview&&(s.version="-1"),l.version=ry(l.version),s.version=ry(s.version),l.majorVersion=parseInt(l.version,10),s.majorVersion=parseInt(s.version,10),{browser:s,os:l,isMobile:i,isHints:!0}}function hy(t){return void 0===t&&ny()?py():function(t){var e=ty(t),n=!!/mobi/g.exec(e),r={name:"unknown",version:"-1",majorVersion:-1,webview:fy(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},o=iy(sy,e),a=o.preset,s=o.version,l=iy(dy,e),u=l.preset,c=l.version,d=iy(ly,e);if(r.chromium=!!d.preset,r.chromiumVersion=d.version,!r.chromium){var f=iy(uy,e);r.webkit=!!f.preset,r.webkitVersion=f.version}return u&&(i.name=u.id,i.version=c,i.majorVersion=parseInt(c,10)),a&&(r.name=a.id,r.version=s,r.webview&&"ios"===i.name&&"safari"!==r.name&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:i,isMobile:n,isHints:!1}}(t)}const gy=hy;function vy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.map((function(e){return e.split(" ").map((function(e){return e?""+t+e:""})).join(" ")})).join(" ")}function my(t,e){return function(n){n&&(t[e]=n)}}function yy(t,e,n){return function(r){r&&(t[e][n]=r)}}var by="function",xy="object",wy="string",Sy="number",ky="undefined",Ey=typeof window!==ky,Cy=typeof document!==ky&&document,Ry=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Ty=1e-7,Py={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return void 0===e&&(e=window.innerWidth),t/100*e},vh:function(t,e){return void 0===e&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return void 0===e&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return void 0===e&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};function My(t,e,n,r){return(t*r+e*n)/(n+r)}function Dy(t){return typeof t===ky}function Oy(t){return t&&typeof t===xy}function _y(t){return Array.isArray(t)}function Ay(t){return typeof t===wy}function zy(t){return typeof t===Sy}function By(t){return typeof t===by}function Fy(t,e,n,r,i){return Iy(t,e,n)?n:function(t,e,n,r,i){for(var o,a=function(n){var a=e[n].trim();if(a===t.close&&!Iy(t,e,n))return{value:n};var s=n,l=Wy(i,(function(t){return t.open===a}));if(l&&(s=Fy(l,e,n,r,i)),-1===s)return o=n,"break";o=n=s},s=n;s<r;++s){var l=a(s);if(s=o,"object"==typeof l)return l.value;if("break"===l)break}return-1}(t,e,n+1,r,i)}function Iy(t,e,n){if(!t.ignore)return null;var r=e.slice(Math.max(n-3,0),n+3).join("");return new RegExp(t.ignore).exec(r)}function Ly(t,e){var n=Ay(e)?{separator:e}:e,r=n.separator,i=void 0===r?",":r,o=n.isSeparateFirst,a=n.isSeparateOnlyOpenClose,s=n.isSeparateOpenClose,l=void 0===s?a:s,u=n.openCloseCharacters,c=void 0===u?Ry:u,d=c.map((function(t){var e=t.open,n=t.close;return e===n?e:e+"|"+n})).join("|"),f=new RegExp("(\\s*"+i+"\\s*|"+d+"|\\s+)","g"),p=t.split(f).filter((function(t){return t&&"undefined"!==t})),h=p.length,g=[],v=[];function m(){return!!v.length&&(g.push(v.join("")),v=[],!0)}for(var y,b=function(e){var n=p[e].trim(),r=e,s=Wy(c,(function(t){return t.open===n})),u=Wy(c,(function(t){return t.close===n}));if(s){if(-1!==(r=Fy(s,p,e,h,c))&&l)return m()&&o?(y=e,"break"):(g.push(p.slice(e,r+1).join("")),e=r,o?(y=e,"break"):(y=e,"continue"))}else{if(u&&!Iy(u,p,e)){var d=
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(c);return d.splice(c.indexOf(u),1),{value:Ly(t,{separator:i,isSeparateFirst:o,isSeparateOnlyOpenClose:a,isSeparateOpenClose:l,openCloseCharacters:d})}}if(function(t,e){return(""===e||" "==e)&&(""===t||" "==t)||t===e}(n,i)&&!a)return m(),o?(y=e,"break"):(y=e,"continue")}-1===r&&(r=h-1),v.push(p.slice(e,r+1).join("")),y=e=r},x=0;x<h;++x){var w=b(x);if(x=y,"object"==typeof w)return w.value;if("break"===w)break}return v.length&&g.push(v.join("")),g}function Ny(t){return Ly(t,"")}function jy(t){return Ly(t,",")}function Vy(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function qy(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2];return{prefix:n,unit:e[3],value:parseFloat(r)}}function Gy(){return Date.now?Date.now():(new Date).getTime()}function $y(t,e,n){void 0===n&&(n=-1);for(var r=t.length,i=0;i<r;++i)if(e(t[i],i,t))return i;return n}function Wy(t,e,n){var r=$y(t,e);return r>-1?t[r]:n}var Uy=function(){var t=Gy(),e=Ey&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(e){var n=Gy();return setTimeout((function(){e(n-t)}),1e3/60)}}(),Hy=function(){var t=Ey&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(t){clearTimeout(t)}}();function Yy(t){return Object.keys(t)}function Xy(t,e){var n=qy(t),r=n.value,i=n.unit;if(Oy(e)){var o=e[i];if(o){if(By(o))return o(r);if(Py[i])return Py[i](r,o)}}else if("%"===i)return r*e/100;return Py[i]?Py[i](r):r}function Qy(t,e,n){return Math.max(e,Math.min(t,n))}function Ky(t,e,n,r){return void 0===r&&(r=t[0]/t[1]),[[rb(e[0],Ty),rb(e[0]/r,Ty)],[rb(e[1]*r,Ty),rb(e[1],Ty)]].filter((function(t){return t.every((function(t,r){var i=e[r],o=rb(i,Ty);return n?t<=i||t<=o:t>=i||t>=o}))}))[0]||t}function Zy(t,e,n,r){if(!r)return t.map((function(t,r){return Qy(t,e[r],n[r])}));var i=t[0],o=t[1],a=!0===r?i/o:r,s=Ky(t,e,!1,a),l=s[0],u=s[1],c=Ky(t,n,!0,a),d=c[0],f=c[1];return i<l||o<u?(i=l,o=u):(i>d||o>f)&&(i=d,o=f),[i,o]}function Jy(t){for(var e=t.length,n=0,r=e-1;r>=0;--r)n+=t[r];return e?n/e:0}function tb(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.atan2(r,n);return i>=0?i:i+2*Math.PI}function eb(t){var e=function(t){return[0,1].map((function(e){return Jy(t.map((function(t){return t[e]})))}))}(t),n=tb(e,t[0]),r=tb(e,t[1]);return n<r&&r-n<Math.PI||n>r&&r-n<-Math.PI?1:-1}function nb(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function rb(t,e){if(!e)return t;var n=1/e;return Math.round(t/e)/n}function ib(t,e){return t.forEach((function(n,r){t[r]=rb(t[r],e)})),t}function ob(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function ab(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function sb(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function lb(t,e,n,r){t.addEventListener(e,n,r)}function ub(t,e,n,r){t.removeEventListener(e,n,r)}function cb(t){return(null==t?void 0:t.ownerDocument)||Cy}function db(t){return cb(t).documentElement}function fb(t){return cb(t).body}function pb(t){var e;return(null===(e=null==t?void 0:t.ownerDocument)||void 0===e?void 0:e.defaultView)||window}function hb(t){return t&&"postMessage"in t&&"blur"in t&&"self"in t}function gb(t){return Oy(t)&&t.nodeName&&t.nodeType&&"ownerDocument"in t}function vb(t,e,n,r,i,o){for(var a=0;a<i;++a){var s=n+a*i,l=r+a*i;t[s]+=t[l]*o,e[s]+=e[l]*o}}function mb(t,e,n,r,i){for(var o=0;o<i;++o){var a=n+o*i,s=r+o*i,l=t[a],u=e[a];t[a]=t[s],t[s]=l,e[a]=e[s],e[s]=u}}function yb(t,e,n,r,i){for(var o=0;o<r;++o){var a=n+o*r;t[a]/=i,e[a]/=i}}function bb(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=t.slice(),i=0;i<n;++i)r[i*n+e-1]=0,r[(e-1)*n+i]=0;return r[(e-1)*(n+1)]=1,r}function xb(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=Lb(e),i=0;i<e;++i){var o=e*i+i;if(!rb(n[o],Ty))for(var a=i+1;a<e;++a)if(n[e*i+a]){mb(n,r,i,a,e);break}if(!rb(n[o],Ty))return[];yb(n,r,i,e,n[o]);for(a=0;a<e;++a){var s=a,l=n[a+i*e];rb(l,Ty)&&i!==a&&vb(n,r,s,i,e,-l)}}return r}function wb(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=t[e*e-1],i=0;i<e-1;++i)n[i]=t[e*(e-1)+i]/r;return n[e-1]=0,n}function Sb(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function kb(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=Lb(n),i=Math.min(e,n),o=0;o<i-1;++o){for(var a=0;a<i-1;++a)r[o*n+a]=t[o*e+a];r[(o+1)*n-1]=t[(o+1)*e-1],r[(n-1)*n+o]=t[(e-1)*e+o]}return r[n*n-1]=t[e*e-1],r}function Eb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Lb(t);return e.forEach((function(e){r=Cb(r,e,t)})),r}function Cb(t,e,n){void 0===n&&(n=Math.sqrt(t.length));var r=[],i=t.length/n,o=e.length/i;if(!i)return e;if(!o)return t;for(var a=0;a<n;++a)for(var s=0;s<o;++s){r[s*n+a]=0;for(var l=0;l<i;++l)r[s*n+a]+=t[l*n+a]*e[s*i+l]}return r}function Rb(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]+e[i];return r}function Tb(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]-e[i];return r}function Pb(t,e){return void 0===e&&(e=9===t.length),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function Mb(t,e,n){void 0===n&&(n=e.length);var r=Cb(t,e,n),i=r[n-1];return r.map((function(t){return t/i}))}function Db(t,e){return Cb(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function Ob(t,e){return Cb(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function _b(t,e){return Cb(t,Ib(e,4))}function Ab(t,e){var n=e[0],r=void 0===n?1:n,i=e[1],o=void 0===i?1:i,a=e[2];return Cb(t,[r,0,0,0,0,o,0,0,0,0,void 0===a?1:a,0,0,0,0,1],4)}function zb(t,e){return Mb(Ib(e,3),Sb(t,3))}function Bb(t,e){var n=e[0],r=void 0===n?0:n,i=e[1],o=void 0===i?0:i,a=e[2];return Cb(t,[1,0,0,0,0,1,0,0,0,0,1,0,r,o,void 0===a?0:a,1],4)}function Fb(t,e){return Cb(t,e,4)}function Ib(t,e){var n=Math.cos(t),r=Math.sin(t),i=Lb(e);return i[0]=n,i[1]=r,i[e]=-r,i[e+1]=n,i}function Lb(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function Nb(t,e){for(var n=Lb(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[(e+1)*i]=t[i];return n}function jb(t,e){for(var n=Lb(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[e*(e-1)+i]=t[i];return n}function Vb(t,e,n,r,i,o,a,s){var l=t[0],u=t[1],c=e[0],d=e[1],f=n[0],p=n[1],h=r[0],g=r[1],v=i[0],m=i[1],y=o[0],b=o[1],x=a[0],w=a[1],S=s[0],k=s[1],E=xb([l,0,c,0,f,0,h,0,u,0,d,0,p,0,g,0,1,0,1,0,1,0,1,0,0,l,0,c,0,f,0,h,0,u,0,d,0,p,0,g,0,1,0,1,0,1,0,1,-v*l,-m*l,-y*c,-b*c,-x*f,-w*f,-S*h,-k*h,-v*u,-m*u,-y*d,-b*d,-x*p,-w*p,-S*g,-k*g],8);if(!E.length)return[];var C=Cb(E,[v,m,y,b,x,w,S,k],8);return C[8]=1,kb(function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var i=0;i<e;++i)n[i*e+r]=t[e*r+i];return n}(C),3,4)}var qb=function(){return qb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},qb.apply(this,arguments)};function Gb(t,e){return void 0===e&&(e=0),$b(Wb(t,e))}function $b(t){var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach((function(t){var n=t.matrixFunction,r=t.functionValue;n&&(e=n(e,r))})),e}function Wb(t,e){return void 0===e&&(e=0),(_y(t)?t:Ny(t)).map((function(t){var n=Vy(t),r=n.prefix,i=n.value,o=null,a=r,s="";if("translate"===r||"translateX"===r||"translate3d"===r){var l=Oy(e)?qb(qb({},e),{"o%":e["%"]}):{"%":e,"o%":e},u=jy(i).map((function(t,n){return l["%"]=0===n&&"x%"in l?e["x%"]:1===n&&"y%"in l?e["y%"]:e["o%"],Xy(t,l)})),c=u[0],d=u[1],f=void 0===d?0:d,p=u[2];o=Bb,s=[c,f,void 0===p?0:p]}else if("translateY"===r){o=Bb,s=[0,f=Xy(i,Oy(e)?qb({"%":e["y%"]},e):{"%":e}),0]}else if("translateZ"===r){o=Bb,s=[0,0,parseFloat(i)]}else if("scale"===r||"scale3d"===r){var h=jy(i).map((function(t){return parseFloat(t)})),g=h[0],v=h[1],m=void 0===v?g:v,y=h[2];o=Ab,s=[g,m,void 0===y?1:y]}else if("scaleX"===r){o=Ab,s=[g=parseFloat(i),1,1]}else if("scaleY"===r){o=Ab,s=[1,m=parseFloat(i),1]}else if("scaleZ"===r){o=Ab,s=[1,1,parseFloat(i)]}else if("rotate"===r||"rotateZ"===r||"rotateX"===r||"rotateY"===r){var b=qy(i),x=b.unit,w=b.value;"rotate"===r||"rotateZ"===r?(a="rotateZ",o=_b):"rotateX"===r?o=Db:"rotateY"===r&&(o=Ob),s="rad"===x?w:w*Math.PI/180}else if("matrix3d"===r)o=Fb,s=jy(i).map((function(t){return parseFloat(t)}));else if("matrix"===r){var S=jy(i).map((function(t){return parseFloat(t)}));o=Fb,s=[S[0],S[1],0,0,S[2],S[3],0,0,0,0,1,0,S[4],S[5],0,1]}else a="";return{name:r,functionName:a,value:i,matrixFunction:o,functionValue:s}}))}var Ub=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,r=this.values,i=n.indexOf(t),o=-1===i?n.length:i;n[o]=t,r[o]=e},t}(),Hb=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),Yb="function"==typeof Map,Xb=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}();var Qb=function(){function t(t,e,n,r,i,o,a,s){this.prevList=t,this.list=e,this.added=n,this.removed=r,this.changed=i,this.maintained=o,this.changedBeforeAdded=a,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=function(t,e){var n=[],r=[];return t.forEach((function(t){var e=t[0],i=t[1],o=new Xb;n[e]=o,r[i]=o})),n.forEach((function(t,e){t.connect(n[e-1])})),t.filter((function(t,n){return!e[n]})).map((function(t,e){var i=t[0],o=t[1];if(i===o)return[0,0];var a=n[i],s=r[o-1],l=a.getIndex();return a.disconnect(),s?a.connect(s,s.next):a.connect(void 0,n[0]),[l,a.getIndex()]}))}(this.changedBeforeAdded,this.fixed),e=this.changed,n=[];this.cacheOrdered=t.filter((function(t,r){var i=t[0],o=t[1],a=e[r],s=a[0],l=a[1];if(i!==o)return n.push([s,l]),!0})),this.cachePureChanged=n},t}();function Kb(t,e,n){var r=Yb?Map:n?Hb:Ub,i=n||function(t){return t},o=[],a=[],s=[],l=t.map(i),u=e.map(i),c=new r,d=new r,f=[],p=[],h={},g=[],v=0,m=0;return l.forEach((function(t,e){c.set(t,e)})),u.forEach((function(t,e){d.set(t,e)})),l.forEach((function(t,e){var n=d.get(t);void 0===n?(++m,a.push(e)):h[n]=m})),u.forEach((function(t,e){var n=c.get(t);void 0===n?(o.push(e),++v):(s.push([n,e]),m=h[e]||0,f.push([n-m,e-v]),p.push(e===n),n!==e&&g.push([n,e]))})),a.reverse(),new Qb(t,e,o,a,g,s,f,p)}var Zb=function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}return t.prototype.update=function(t){var e=[].slice.call(t),n=Kb(this.list,e,this.findKeyCallback);return this.list=e,n},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Jb=function(t,e){return Jb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Jb(t,e)};var tx,ex="function"==typeof Map?void 0:(tx=0,function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++tx)});const nx=function(t){function e(e){return void 0===e&&(e=[]),t.call(this,e,ex)||this}return function(t,e){function n(){this.constructor=t}Jb(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Zb);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var rx=function(){return rx=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},rx.apply(this,arguments)};var ix=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(Oy(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(Oy(t))for(var n in t)this.off(n);else if(e){var r=this._events[t];if(r){var i=$y(r,(function(t){return t.listener===e}));i>-1&&r.splice(i,1)}}else this._events[t]=[];else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){n._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var n=this;void 0===e&&(e={});var r=this._events[t];if(!t||!r)return!0;var i=!1;return e.eventType=t,e.stop=function(){i=!0},e.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(r).forEach((function(r){r.listener(e),r.once&&n.off(t,r.listener)})),!i},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,n){var r=this._events;r[t]=r[t]||[],r[t].push(rx({listener:e},n))},t}();const ox=ix;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var ax=function(t,e){return ax=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},ax(t,e)};var sx=function(){return sx=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},sx.apply(this,arguments)};function lx(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}function ux(t,e){return t.addEventListener("scroll",e),function(){t.removeEventListener("scroll",e)}}function cx(t){return t?Ay(t)?document.querySelector(t):By(t)?t():t instanceof Element?t:"current"in t?t.current:"value"in t?t.value:void 0:null}var dx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._startRect=null,e._startPos=[],e._prevTime=0,e._timer=0,e._prevScrollPos=[0,0],e._isWait=!1,e._flag=!1,e._currentOptions=null,e._lock=!1,e._unregister=null,e._onScroll=function(){var t=e._currentOptions;!e._lock&&t&&e.emit("scrollDrag",{next:function(n){e.checkScroll({container:t.container,inputEvent:n})}})},e}!function(t,e){function n(){this.constructor=t}ax(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.dragStart=function(t,e){var n=cx(e.container);if(n){var r=0,i=0,o=0,a=0;if(n===document.body)o=window.innerWidth,a=window.innerHeight;else{var s=n.getBoundingClientRect();r=s.top,i=s.left,o=s.width,a=s.height}this._flag=!0,this._startPos=[t.clientX,t.clientY],this._startRect={top:r,left:i,width:o,height:a},this._prevScrollPos=this._getScrollPosition([0,0],e),this._currentOptions=e,this._registerScrollEvent(e)}else this._flag=!1},n.drag=function(t,e){if(clearTimeout(this._timer),this._flag){var n=t.clientX,r=t.clientY,i=e.threshold,o=void 0===i?0:i,a=this._startRect,s=this._startPos;this._currentOptions=e;var l=[0,0];return a.top>r-o?(s[1]>a.top||r<s[1])&&(l[1]=-1):a.top+a.height<r+o&&(s[1]<a.top+a.height||r>s[1])&&(l[1]=1),a.left>n-o?(s[0]>a.left||n<s[0])&&(l[0]=-1):a.left+a.width<n+o&&(s[0]<a.left+a.width||n>s[0])&&(l[0]=1),!(!l[0]&&!l[1])&&this._continueDrag(sx(sx({},e),{direction:l,inputEvent:t,isDrag:!0}))}},n.checkScroll=function(t){var e=this;if(this._isWait)return!1;var n=t.prevScrollPos,r=void 0===n?this._prevScrollPos:n,i=t.direction,o=t.throttleTime,a=void 0===o?0:o,s=t.inputEvent,l=t.isDrag,u=this._getScrollPosition(i||[0,0],t),c=u[0]-r[0],d=u[1]-r[1],f=i||[c?Math.abs(c)/c:0,d?Math.abs(d)/d:0];return this._prevScrollPos=u,this._lock=!1,!(!c&&!d)&&(this.emit("move",{offsetX:f[0]?c:0,offsetY:f[1]?d:0,inputEvent:s}),a&&l&&(clearTimeout(this._timer),this._timer=window.setTimeout((function(){e._continueDrag(t)}),a)),!0)},n.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},n._getScrollPosition=function(t,e){var n=e.container,r=e.getScrollPosition;return(void 0===r?lx:r)({container:cx(n),direction:t})},n._continueDrag=function(t){var e,n=this,r=t.container,i=t.direction,o=t.throttleTime,a=t.useScroll,s=t.isDrag,l=t.inputEvent;if(!(!this._flag||s&&this._isWait)){var u=Gy(),c=Math.max(o+this._prevTime-u,0);if(c>0)return clearTimeout(this._timer),this._timer=window.setTimeout((function(){n._continueDrag(t)}),c),!1;this._prevTime=u;var d=this._getScrollPosition(i,t);this._prevScrollPos=d,s&&(this._isWait=!0),a||(this._lock=!0);var f={container:cx(r),direction:i,inputEvent:l};return null===(e=t.requestScroll)||void 0===e||e.call(t,f),this.emit("scroll",f),this._isWait=!1,a||this.checkScroll(sx(sx({},t),{prevScrollPos:d,direction:i,inputEvent:l}))}},n._registerScrollEvent=function(t){this._unregisterScrollEvent();var e=t.checkScrollEvent;if(e){var n=!0===e?ux:e,r=cx(t.container);!0!==e||r!==document.body&&r!==document.documentElement?this._unregister=n(r,this._onScroll):this._unregister=ux(window,this._onScroll)}},n._unregisterScrollEvent=function(){var t;null===(t=this._unregister)||void 0===t||t.call(this),this._unregister=null},e}(ox);const fx=dx;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function px(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function hx(t){return rb(t,Ty)}function gx(t){return t.length<3?0:Math.abs(function(t){for(var e=0,n=t.length-1;n>=0;--n)e+=t[n];return e}(t.map((function(e,n){var r=t[n+1]||t[0];return e[0]*r[1]-r[0]*e[1]}))))/2}function vx(t,e){var n=e.width,r=e.height,i=e.left,o=e.top,a=mx(t),s=a.minX,l=a.minY,u=a.maxX,c=a.maxY,d=n/(u-s),f=r/(c-l);return t.map((function(t){return[i+(t[0]-s)*d,o+(t[1]-l)*f]}))}function mx(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,n)}}function yx(t,e,n){var r=t[0],i=t[1],o=mx(e),a=o.minX,s=o.maxX,l=[[a,i],[s,i]],u=bx(l[0],l[1]),c=Sx(e),d=[];if(c.forEach((function(e){var n,r=bx(e[0],e[1]),o=e[0];(n=r,u.every((function(t,e){return 0===hx(t-n[e])})))?d.push({pos:t,line:e,type:"line"}):wx(xx(u,r),[l,e]).forEach((function(t){e.some((function(e){return r=t,!hx((n=e)[0]-r[0])&&!hx(n[1]-r[1]);var n,r}))?d.push({pos:t,line:e,type:"point"}):0!==hx(o[1]-i)&&d.push({pos:t,line:e,type:"intersection"})}))})),!n&&Wy(d,(function(t){return t[0]===r})))return!0;var f=0,p={};return d.forEach((function(t){var e=t.pos,n=t.type,o=t.line;if(!(e[0]>r))if("intersection"===n)++f;else{if("line"===n)return;if("point"===n){var a=Wy(o,(function(t){return t[1]!==i})),s=p[e[0]],l=a[1]>i?1:-1;s?s!==l&&++f:p[e[0]]=l}}})),f%2==1}function bx(t,e){var n=t[0],r=t[1],i=e[0]-n,o=e[1]-r;Math.abs(i)<Ty&&(i=0),Math.abs(o)<Ty&&(o=0);var a=0,s=0,l=0;return i?o?(s=1,l=-(a=-o/i)*n-r):(s=1,l=-r):o&&(a=-1,l=n),[a,s,l]}function xx(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],l=0===n&&0===o,u=0===r&&0===a,c=[];if(l&&u)return[];if(l){var d=-i/r;return d!==-s/a?[]:[[-1/0,d],[1/0,d]]}if(u){var f=-i/n;return f!==-s/o?[]:[[f,-1/0],[f,1/0]]}if(0===n)c=[[p=-(a*(h=-i/r)+s)/o,h]];else if(0===o){c=[[p=-(r*(h=-s/a)+i)/n,h]]}else if(0===r){c=[[p=-i/n,h=-(o*p+s)/a]]}else if(0===a){c=[[p=-s/o,h=-(n*p+i)/r]]}else{var p,h;c=[[p=(r*s-a*i)/(a*n-r*o),h=-(n*p+i)/r]]}return c.map((function(t){return[t[0],t[1]]}))}function wx(t,e){var n=e.map((function(t){return[0,1].map((function(e){return[Math.min(t[0][e],t[1][e]),Math.max(t[0][e],t[1][e])]}))})),r=[];if(2===t.length){var i=t[0],o=i[0],a=i[1];if(hx(o-t[1][0])){if(!hx(a-t[1][1])){var s=Math.max.apply(Math,n.map((function(t){return t[0][0]}))),l=Math.min.apply(Math,n.map((function(t){return t[0][1]})));if(hx(s-l)>0)return[];r=[[s,a],[l,a]]}}else{var u=Math.max.apply(Math,n.map((function(t){return t[1][0]}))),c=Math.min.apply(Math,n.map((function(t){return t[1][1]})));if(hx(u-c)>0)return[];r=[[o,u],[o,c]]}}return r.length||(r=t.filter((function(t){var e=t[0],r=t[1];return n.every((function(t){return 0<=hx(e-t[0][0])&&0<=hx(t[0][1]-e)&&0<=hx(r-t[1][0])&&0<=hx(t[1][1]-r)}))}))),r.map((function(t){return[hx(t[0]),hx(t[1])]}))}function Sx(t){return px(t.slice(1),[t[0]]).map((function(e,n){return[t[n],e]}))}function kx(t,e){var n=t.slice(),r=e.slice();-1===eb(n)&&n.reverse(),-1===eb(r)&&r.reverse();var i=Sx(n),o=Sx(r),a=i.map((function(t){return bx(t[0],t[1])})),s=o.map((function(t){return bx(t[0],t[1])})),l=[];a.forEach((function(t,e){var n=i[e],a=[];s.forEach((function(r,i){var s=wx(xx(t,r),[n,o[i]]);a.push.apply(a,s.map((function(t){return{index1:e,index2:i,pos:t,type:"intersection"}})))})),a.sort((function(t,e){return nb(n[0],t.pos)-nb(n[0],e.pos)})),l.push.apply(l,a),yx(n[1],r)&&l.push({index1:e,index2:-1,pos:n[1],type:"inside"})})),o.forEach((function(t,e){if(yx(t[1],n)){var r=!1,i=$y(l,(function(t){return t.index2===e?(r=!0,!1):!!r}));-1===i&&(r=!1,i=$y(l,(function(t){var n=t.index1,i=t.index2;return-1===n&&i+1===e?(r=!0,!1):!!r}))),-1===i?l.push({index1:-1,index2:e,pos:t[1],type:"inside"}):l.splice(i,0,{index1:-1,index2:e,pos:t[1],type:"inside"})}}));var u={};return l.filter((function(t){var e=t.pos,n=e[0]+"x"+e[1];return!u[n]&&(u[n]=!0,!0)}))}function Ex(t,e){var n=function(t,e){return kx(t,e).map((function(t){return t.pos}))}(t,e);return gx(n)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Cx=function(t,e){return Cx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Cx(t,e)};var Rx=function(){return Rx=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Rx.apply(this,arguments)};function Tx(t){return 180*(e=[t[0].clientX,t[0].clientY],n=[t[1].clientX,t[1].clientY],r=n[0]-e[0],i=n[1]-e[1],((o=Math.atan2(i,r))>=0?o:o+2*Math.PI)/Math.PI);var e,n,r,i,o}function Px(t){return t?t.touches?function(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(Ox(t[r]));return n}(t.touches):[Ox(t)]:[]}function Mx(t,e,n){var r=n.length,i=_x(t,r),o=i.clientX,a=i.clientY,s=i.originalClientX,l=i.originalClientY,u=_x(e,r),c=u.clientX,d=u.clientY,f=_x(n,r);return{clientX:s,clientY:l,deltaX:o-c,deltaY:a-d,distX:o-f.clientX,distY:a-f.clientY}}function Dx(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Ox(t){return{clientX:t.clientX,clientY:t.clientY}}function _x(t,e){void 0===e&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(t.length,e),i=0;i<r;++i){var o=t[i];n.originalClientX+="originalClientX"in o?o.originalClientX:o.clientX,n.originalClientY+="originalClientY"in o?o.originalClientY:o.clientY,n.clientX+=o.clientX,n.clientY+=o.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var Ax=function(){function t(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return t.prototype.getAngle=function(t){return void 0===t&&(t=this.prevClients),Tx(t)},t.prototype.getRotation=function(t){return void 0===t&&(t=this.prevClients),Tx(t)-Tx(this.startClients)},t.prototype.getPosition=function(t,e){void 0===t&&(t=this.prevClients);var n=Mx(t||this.prevClients,this.prevClients,this.startClients),r=n.deltaX,i=n.deltaY;return this.movement+=Math.sqrt(r*r+i*i),this.prevClients=t,n},t.prototype.getPositions=function(t){void 0===t&&(t=this.prevClients);for(var e=this.prevClients,n=this.startClients,r=Math.min(this.length,e.length),i=[],o=0;o<r;++o)i[o]=Mx([t[o]],[e[o]],[n[o]]);return i},t.prototype.getMovement=function(t){var e=this.movement;if(!t)return e;var n=_x(t,this.length),r=_x(this.prevClients,this.length),i=n.clientX-r.clientX,o=n.clientY-r.clientY;return Math.sqrt(i*i+o*o)+e},t.prototype.getDistance=function(t){return void 0===t&&(t=this.prevClients),Dx(t)},t.prototype.getScale=function(t){return void 0===t&&(t=this.prevClients),Dx(t)/Dx(this.startClients)},t.prototype.move=function(t,e){this.startClients.forEach((function(n){n.clientX-=t,n.clientY-=e})),this.prevClients.forEach((function(n){n.clientX-=t,n.clientY-=e}))},t}(),zx=["textarea","input"],Bx=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;r.options={},r.flag=!1,r.pinchFlag=!1,r.data={},r.isDrag=!1,r.isPinch=!1,r.clientStores=[],r.targets=[],r.prevTime=0,r.doubleFlag=!1,r._useMouse=!1,r._useTouch=!1,r._useDrag=!1,r._dragFlag=!1,r._isTrusted=!1,r._isMouseEvent=!1,r._isSecondaryButton=!1,r._preventMouseEvent=!1,r._prevInputEvent=null,r._isDragAPI=!1,r._isIdle=!0,r._preventMouseEventId=0,r._window=window,r.onDragStart=function(t,e){if(void 0===e&&(e=!0),r.flag||!1!==t.cancelable){var n=t.type.indexOf("drag")>=-1;if(!r.flag||!n){r._isDragAPI=!0;var i=r.options,o=i.container,a=i.pinchOutside,s=i.preventWheelClick,l=i.preventRightClick,u=i.preventDefault,c=i.checkInput,d=i.dragFocusedInput,f=i.preventClickEventOnDragStart,p=i.preventClickEventOnDrag,h=i.preventClickEventByCondition,g=r._useTouch,v=!r.flag;if(r._isSecondaryButton=3===t.which||2===t.button,s&&(2===t.which||1===t.button)||l&&(3===t.which||2===t.button))return r.stop(),!1;if(v){var m=r._window.document.activeElement,y=t.target;if(y){var b=y.tagName.toLowerCase(),x=zx.indexOf(b)>-1,w=y.isContentEditable;if(x||w){if(c||!d&&m===y)return!1;if(m&&(m===y||w&&m.isContentEditable&&m.contains(y))){if(!d)return!1;y.blur()}}else if((u||"touchstart"===t.type)&&m){var S=m.tagName.toLowerCase();(m.isContentEditable||zx.indexOf(S)>-1)&&m.blur()}(f||p||h)&&lb(r._window,"click",r._onClick,!0)}r.clientStores=[new Ax(Px(t))],r._isIdle=!1,r.flag=!0,r.isDrag=!1,r._isTrusted=e,r._dragFlag=!0,r._prevInputEvent=t,r.data={},r.doubleFlag=Gy()-r.prevTime<200,r._isMouseEvent=function(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}(t),!r._isMouseEvent&&r._preventMouseEvent&&r._allowMouseEvent(),!1===(r._preventMouseEvent||r.emit("dragStart",Rx(Rx({data:r.data,datas:r.data,inputEvent:t,isMouseEvent:r._isMouseEvent,isSecondaryButton:r._isSecondaryButton,isTrusted:e,isDouble:r.doubleFlag},r.getCurrentStore().getPosition()),{preventDefault:function(){t.preventDefault()},preventDrag:function(){r._dragFlag=!1}})))&&r.stop(),r._isMouseEvent&&r.flag&&u&&t.preventDefault()}if(!r.flag)return!1;var k=0;if(v?(r._attchDragEvent(),g&&a&&(k=setTimeout((function(){lb(o,"touchstart",r.onDragStart,{passive:!1})})))):g&&a&&ub(o,"touchstart",r.onDragStart),r.flag&&function(t){return t.touches&&t.touches.length>=2}(t)){if(clearTimeout(k),v&&t.touches.length!==t.changedTouches.length)return;r.pinchFlag||r.onPinchStart(t)}}}},r.onDrag=function(t,e){if(r.flag){var n=r.options.preventDefault;!r._isMouseEvent&&n&&t.preventDefault(),r._prevInputEvent=t;var i=Px(t),o=r.moveClients(i,t,!1);if(r._dragFlag){if(r.pinchFlag||o.deltaX||o.deltaY)if(!1===(r._preventMouseEvent||r.emit("drag",Rx(Rx({},o),{isScroll:!!e,inputEvent:t}))))return void r.stop();r.pinchFlag&&r.onPinch(t,i)}r.getCurrentStore().getPosition(i,!0)}},r.onDragEnd=function(t){if(r.flag){var e=r.options,n=e.pinchOutside,i=e.container,o=e.preventClickEventOnDrag,a=e.preventClickEventOnDragStart,s=e.preventClickEventByCondition,l=r.isDrag;(o||a||s)&&requestAnimationFrame((function(){r._allowClickEvent()})),s||a||!o||l||r._allowClickEvent(),r._useTouch&&n&&ub(i,"touchstart",r.onDragStart),r.pinchFlag&&r.onPinchEnd(t);var u=(null==t?void 0:t.touches)?Px(t):[];0!==u.length&&r.options.keepDragging?r._addStore(new Ax(u)):r.flag=!1;var c=r._getPosition(),d=Gy(),f=!l&&r.doubleFlag;r._prevInputEvent=null,r.prevTime=l||f?0:d,r.flag||(r._dettachDragEvent(),r._preventMouseEvent||r.emit("dragEnd",Rx({data:r.data,datas:r.data,isDouble:f,isDrag:l,isClick:!l,isMouseEvent:r._isMouseEvent,isSecondaryButton:r._isSecondaryButton,inputEvent:t,isTrusted:r._isTrusted},c)),r.clientStores=[],r._isMouseEvent||(r._preventMouseEvent=!0,clearTimeout(r._preventMouseEventId),r._preventMouseEventId=setTimeout((function(){r._preventMouseEvent=!1}),200)),r._isIdle=!0)}},r.onBlur=function(){r.onDragEnd()},r._allowClickEvent=function(){ub(r._window,"click",r._onClick,!0)},r._onClick=function(t){r._allowClickEvent(),r._allowMouseEvent();var e=r.options.preventClickEventByCondition;(null==e?void 0:e(t))||(t.stopPropagation(),t.preventDefault())},r._onContextMenu=function(t){r.options.preventRightClick?r.onDragEnd(t):t.preventDefault()},r._passCallback=function(){};var i=[].concat(e),o=i[0];r._window=hb(o)?o:pb(o),r.options=Rx({checkInput:!1,container:o&&!("document"in o)?pb(o):o,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var a=r.options,s=a.container,l=a.events,u=a.checkWindowBlur;if(r._useDrag=l.indexOf("drag")>-1,r._useTouch=l.indexOf("touch")>-1,r._useMouse=l.indexOf("mouse")>-1,r.targets=i,r._useDrag&&i.forEach((function(t){lb(t,"dragstart",r.onDragStart)})),r._useMouse&&(i.forEach((function(t){lb(t,"mousedown",r.onDragStart),lb(t,"mousemove",r._passCallback)})),lb(s,"contextmenu",r._onContextMenu)),u&&lb(pb(),"blur",r.onBlur),r._useTouch){var c={passive:!1};i.forEach((function(t){lb(t,"touchstart",r.onDragStart,c),lb(t,"touchmove",r._passCallback,c)}))}return r}return function(t,e){function n(){this.constructor=t}Cx(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},e.prototype.getMovement=function(t){return this.getCurrentStore().getMovement(t)+this.clientStores.slice(1).reduce((function(t,e){return t+e.movement}),0)},e.prototype.isDragging=function(){return this.isDrag},e.prototype.isIdle=function(){return this._isIdle},e.prototype.isFlag=function(){return this.flag},e.prototype.isPinchFlag=function(){return this.pinchFlag},e.prototype.isDoubleFlag=function(){return this.doubleFlag},e.prototype.isPinching=function(){return this.isPinch},e.prototype.scrollBy=function(t,e,n,r){void 0===r&&(r=!0),this.flag&&(this.clientStores[0].move(t,e),r&&this.onDrag(n,!0))},e.prototype.move=function(t,e){var n=t[0],r=t[1],i=this.getCurrentStore().prevClients;return this.moveClients(i.map((function(t){var e=t.clientX,i=t.clientY;return{clientX:e+n,clientY:i+r,originalClientX:e,originalClientY:i}})),e,!0)},e.prototype.triggerDragStart=function(t){this.onDragStart(t,!1)},e.prototype.setEventData=function(t){var e=this.data;for(var n in t)e[n]=t[n];return this},e.prototype.setEventDatas=function(t){return this.setEventData(t)},e.prototype.getCurrentEvent=function(t){return void 0===t&&(t=this._prevInputEvent),Rx(Rx({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:t})},e.prototype.getEventData=function(){return this.data},e.prototype.getEventDatas=function(){return this.data},e.prototype.unset=function(){var t=this,e=this.targets,n=this.options.container;this.off(),ub(this._window,"blur",this.onBlur),this._useDrag&&e.forEach((function(e){ub(e,"dragstart",t.onDragStart)})),this._useMouse&&(e.forEach((function(e){ub(e,"mousedown",t.onDragStart)})),ub(n,"contextmenu",this._onContextMenu)),this._useTouch&&(e.forEach((function(e){ub(e,"touchstart",t.onDragStart)})),ub(n,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},e.prototype.onPinchStart=function(t){var e=this,n=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>n)){var r=new Ax(Px(t));this.pinchFlag=!0,this._addStore(r),!1===this.emit("pinchStart",Rx(Rx({data:this.data,datas:this.data,angle:r.getAngle(),touches:this.getCurrentStore().getPositions()},r.getPosition()),{inputEvent:t,isTrusted:this._isTrusted,preventDefault:function(){t.preventDefault()},preventDrag:function(){e._dragFlag=!1}}))&&(this.pinchFlag=!1)}},e.prototype.onPinch=function(t,e){if(this.flag&&this.pinchFlag&&!(e.length<2)){var n=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Rx(Rx({data:this.data,datas:this.data,movement:this.getMovement(e),angle:n.getAngle(e),rotation:n.getRotation(e),touches:n.getPositions(e),scale:n.getScale(e),distance:n.getDistance(e)},n.getPosition(e)),{inputEvent:t,isTrusted:this._isTrusted}))}},e.prototype.onPinchEnd=function(t){if(this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.getCurrentStore();this.emit("pinchEnd",Rx(Rx({data:this.data,datas:this.data,isPinch:e,touches:n.getPositions()},n.getPosition()),{inputEvent:t}))}},e.prototype.getCurrentStore=function(){return this.clientStores[0]},e.prototype.moveClients=function(t,e,n){var r=this._getPosition(t,n),i=this.isDrag;(r.deltaX||r.deltaY)&&(this.isDrag=!0);var o=!1;return!i&&this.isDrag&&(o=!0),Rx(Rx({data:this.data,datas:this.data},r),{movement:this.getMovement(t),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:e,isTrusted:this._isTrusted,isFirstDrag:o})},e.prototype._addStore=function(t){this.clientStores.splice(0,0,t)},e.prototype._getPosition=function(t,e){var n=this.getCurrentStore().getPosition(t,e),r=this.clientStores.slice(1).reduce((function(t,e){var n=e.getPosition();return t.distX+=n.distX,t.distY+=n.distY,t}),n),i=r.distX,o=r.distY;return Rx(Rx({},n),{distX:i,distY:o})},e.prototype._attchDragEvent=function(){var t=this._window,e=this.options.container,n={passive:!1};this._isDragAPI&&(lb(e,"dragover",this.onDrag,n),lb(t,"dragend",this.onDragEnd)),this._useMouse&&(lb(e,"mousemove",this.onDrag),lb(t,"mouseup",this.onDragEnd)),this._useTouch&&(lb(e,"touchmove",this.onDrag,n),lb(t,"touchend",this.onDragEnd,n),lb(t,"touchcancel",this.onDragEnd,n))},e.prototype._dettachDragEvent=function(){var t=this._window,e=this.options.container;this._isDragAPI&&(ub(e,"dragover",this.onDrag),ub(t,"dragend",this.onDragEnd)),this._useMouse&&(ub(e,"mousemove",this.onDrag),ub(t,"mouseup",this.onDragEnd)),this._useTouch&&(ub(e,"touchstart",this.onDragStart),ub(e,"touchmove",this.onDrag),ub(t,"touchend",this.onDragEnd),ub(t,"touchcancel",this.onDragEnd))},e.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},e}(ox);var Fx=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function Ix(t,e,n,r,i){var o=cb(r),a=o.createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",t),a.setAttribute("data-styled-count","1"),n.nonce&&a.setAttribute("nonce",n.nonce),a.innerHTML=function(t,e,n){return n.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/gm,(function(e,n){var r=n.trim();return(r?jy(r):[""]).map((function(e){var n=e.trim();return 0===n.indexOf("@")?n:n.indexOf(":global")>-1?n.replace(/\:global/g,""):n.indexOf(":host")>-1?"".concat(n.replace(/\:host/g,".".concat(t))):n?".".concat(t," ").concat(n):".".concat(t)})).join(", ")+" {"}))}(t,e,n),(i||o.head||o.body).appendChild(a),a}const Lx=function(t){var e="rCS"+Fx(t).toString(36);return{className:e,inject:function(n,r){void 0===r&&(r={});var i=function(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(n),o=(i||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(e,'"]'));if(o){var a=parseFloat(o.getAttribute("data-styled-count"))||0;o.setAttribute("data-styled-count","".concat(a+1))}else o=Ix(e,t,r,n,i);return{destroy:function(){var t,e=parseFloat(o.getAttribute("data-styled-count"))||0;e<=1?(o.remove?o.remove():null===(t=o.parentNode)||void 0===t||t.removeChild(o),o=null):o.setAttribute("data-styled-count","".concat(e-1))}}}}};var Nx=function(){return Nx=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Nx.apply(this,arguments)};function jx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Vx(e,n){var r=Lx(n),i=r.className;return(0,t.forwardRef)((function(n,o){var a=n.className,s=void 0===a?"":a,l=(n.cspNonce,jx(n,["className","cspNonce"])),u=(0,t.useRef)();return(0,t.useImperativeHandle)(o,(function(){return u.current}),[]),(0,t.useEffect)((function(){var t=r.inject(u.current,{nonce:n.cspNonce});return function(){t.destroy()}}),[]),(0,t.createElement)(e,Nx({ref:u,"data-styled-id":i,className:"".concat(s," ").concat(i)},l))}))}var qx=function(t,e){return qx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},qx(t,e)};function Gx(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}qx(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $x=function(){return $x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},$x.apply(this,arguments)};function Wx(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Ux(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function Hx(t,e){return $x({events:[],props:[],name:t},e)}var Yx=["n","w","s","e"],Xx=["n","w","s","e","nw","ne","sw","se"];var Qx,Kx,Zx=gy(),Jx=Zx.browser.webkit,tw=Jx&&(Qx="undefined"==typeof window?{userAgent:""}:window.navigator,!!(Kx=/applewebkit\/([^\s]+)/g.exec(Qx.userAgent.toLowerCase()))&&parseFloat(Kx[1])<605),ew=Zx.browser.name,nw=parseInt(Zx.browser.version,10),rw="chrome"===ew,iw=Zx.browser.chromium,ow=parseInt(Zx.browser.chromiumVersion,10)||0,aw=rw&&nw>=109||iw&&ow>=109,sw="firefox"===ew,lw=parseInt(Zx.browser.webkitVersion,10)>=612||nw>=15,uw="moveable-",cw=Xx.map((function(t){var e="",n="",r="center",i="center",o="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(e="top: ".concat(o,";"),i="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",i="top"),t.indexOf("w")>-1&&(n="left: ".concat(o,";"),r="right"),t.indexOf("e")>-1&&(n="left: 0px;",r="left"),'.around-control[data-direction*="'.concat(t,'"] {\n        ').concat(n).concat(e,"\n        transform-origin: ").concat(r," ").concat(i,";\n    }")})).join("\n"),dw="\n{\nposition: absolute;\nwidth: 1px;\nheight: 1px;\nleft: 0;\ntop: 0;\nz-index: 3000;\n--moveable-color: #4af;\n--zoom: 1;\n--zoompx: 1px;\n--moveable-line-padding: 0;\n--moveable-control-padding: 0;\nwill-change: transform;\noutline: 1px solid transparent;\n}\n.control-box {\nz-index: 0;\n}\n.line, .control {\nposition: absolute;\nleft: 0;\ntop: 0;\nwill-change: transform;\n}\n.control {\nwidth: 14px;\nheight: 14px;\nborder-radius: 50%;\nborder: 2px solid #fff;\nbox-sizing: border-box;\nbackground: #4af;\nbackground: var(--moveable-color);\nmargin-top: -7px;\nmargin-left: -7px;\nborder: 2px solid #fff;\nz-index: 10;\n}\n.around-control {\nposition: absolute;\nwill-change: transform;\nwidth: calc(var(--moveable-control-padding, 20) * 1px);\nheight: calc(var(--moveable-control-padding, 20) * 1px);\nleft: calc(var(--moveable-control-padding, 20) * -0.5px);\ntop: calc(var(--moveable-control-padding, 20) * -0.5px);\nbox-sizing: border-box;\nbackground: transparent;\nz-index: 8;\ncursor: alias;\ntransform-origin: center center;\n}\n".concat(cw,"\n.padding {\nposition: absolute;\ntop: 0px;\nleft: 0px;\nwidth: 100px;\nheight: 100px;\ntransform-origin: 0 0;\n}\n.line {\nwidth: 1px;\nheight: 1px;\nbackground: #4af;\nbackground: var(--moveable-color);\ntransform-origin: 0px 50%;\n}\n.line.edge {\nz-index: 1;\nbackground: transparent;\n}\n.line.dashed {\nbox-sizing: border-box;\nbackground: transparent;\n}\n.line.dashed.horizontal {\nborder-top: 1px dashed #4af;\nborder-top-color: #4af;\nborder-top-color: var(--moveable-color);\n}\n.line.dashed.vertical {\nborder-left: 1px dashed #4af;\nborder-left-color: #4af;\nborder-left-color: var(--moveable-color);\n}\n.line.vertical {\ntransform: translateX(-50%);\n}\n.line.horizontal {\ntransform: translateY(-50%);\n}\n.line.vertical.bold {\nwidth: 2px;\n}\n.line.horizontal.bold {\nheight: 2px;\n}\n\n.control.origin {\nborder-color: #f55;\nbackground: #fff;\nwidth: 12px;\nheight: 12px;\nmargin-top: -6px;\nmargin-left: -6px;\npointer-events: none;\n}\n").concat([0,15,30,45,60,75,90,105,120,135,150,165].map((function(t){return'\n.direction[data-rotation="'.concat(t,'"], :global .view-control-rotation').concat(t," {\n").concat(function(t){var e=function(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}(1,t),n=45*Math.round(t/45)%180,r="ns-resize";return 135===n?r="nwse-resize":45===n?r="nesw-resize":90===n&&(r="ew-resize"),"cursor:".concat(r,";cursor: url('").concat(e,"') 16 16, ").concat(r,";")}(t),"\n}\n")})).join("\n"),'\n\n.line.direction:before {\ncontent: "";\nposition: absolute;\nwidth: 100%;\nheight: calc(var(--moveable-line-padding, 0) * 1px);\nbottom: 0;\nleft: 0;\n}\n.group {\nz-index: -1;\n}\n.area {\nposition: absolute;\n}\n.area-pieces {\nposition: absolute;\ntop: 0;\nleft: 0;\ndisplay: none;\n}\n.area.avoid, .area.pass {\npointer-events: none;\n}\n.area.avoid+.area-pieces {\ndisplay: block;\n}\n.area-piece {\nposition: absolute;\n}\n\n').concat(tw?':global svg *:before {\ncontent:"";\ntransform-origin: inherit;\n}':"","\n"),fw=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],pw=1e-4,hw=1e-7,gw=1e-9,vw=Math.pow(10,10),mw=-vw,yw={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},bw={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},xw={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},ww=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function Sw(t,e,n,r,i,o){var a,s;void 0===o&&(o="draggable");var l=null!==(s=null===(a=e.gestos[o])||void 0===a?void 0:a.move(n,t.inputEvent))&&void 0!==s?s:{},u=l.originalDatas||l.datas,c=u[o]||(u[o]={});return $x($x({},i?_E(e,l):l),{isPinch:!!r,parentEvent:!0,datas:c,originalDatas:t.originalDatas})}var kw=function(){function t(t){var e;void 0===t&&(t="draggable"),this.ableName=t,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=((e={})[t]={},e)}return t.prototype.dragStart=function(t,e){this.isDrag=!1,this.isFlag=!1;var n=e.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),$x($x({},this.move(t,e.inputEvent)),{type:"dragstart"})},t.prototype.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},t.prototype.move=function(t,e){var n,r,i=!1;if(this.isFlag){var o=this.isDrag;n=this.prevX+t[0],r=this.prevY+t[1],(t[0]||t[1])&&(this.isDrag=!0),!o&&this.isDrag&&(i=!0)}else this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],r=t[1],this.isFlag=!0;return this.prevX=n,this.prevY=r,{type:"drag",clientX:n,clientY:r,inputEvent:e,isFirstDrag:i,isDrag:this.isDrag,distX:n-this.startX,distY:r-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function Ew(t,e,n,r){var i=16===t.length?4:3,o=Wx(Jk(t,n,r,i),4),a=Wx(o[0],2),s=a[0],l=a[1],u=Wx(o[1],2),c=u[0],d=u[1],f=Wx(o[2],2),p=f[0],h=f[1],g=Wx(o[3],2),v=g[0],m=g[1],y=Wx(Zk(t,e,i),2),b=y[0],x=y[1],w=Math.min(s,c,p,v),S=Math.min(l,d,h,m),k=Math.max(s,c,p,v);return s=s-w||0,{left:w,top:S,right:k,bottom:Math.max(l,d,h,m),origin:[b=b-w||0,x=x-S||0],pos1:[s,l=l-S||0],pos2:[c=c-w||0,d=d-S||0],pos3:[p=p-w||0,h=h-S||0],pos4:[v=v-w||0,m=m-S||0],direction:HE(t[0]*t[i+1])}}function Cw(t,e){var n=e.clientX,r=e.clientY,i=e.datas,o=t.state,a=o.moveableClientRect,s=o.rootMatrix,l=o.is3d,u=o.pos1,c=Wx(Tb(OE(s,[n-a.left,r-a.top],l?4:3),u),2),d=Wx(_w({datas:i,distX:c[0],distY:c[1]}),2);return[d[0],d[1]]}function Rw(t,e){var n=e.datas,r=t.state,i=r.allMatrix,o=r.beforeMatrix,a=r.is3d,s=r.left,l=r.top,u=r.origin,c=r.offsetMatrix,d=r.targetMatrix,f=r.transformOrigin,p=a?4:3;n.is3d=a,n.matrix=i,n.targetMatrix=d,n.beforeMatrix=o,n.offsetMatrix=c,n.transformOrigin=f,n.inverseMatrix=xb(i,p),n.inverseBeforeMatrix=xb(o,p),n.absoluteOrigin=Sb(Rb([s,l],u),p),n.startDragBeforeDist=Mb(n.inverseBeforeMatrix,n.absoluteOrigin,p),n.startDragDist=Mb(n.inverseMatrix,n.absoluteOrigin,p)}function Tw(t,e,n){var r=e.datas,i=e.originalDatas.beforeRenderable,o=r.transformIndex,a=i.nextTransforms,s=a.length,l=i.nextTransformAppendedIndexes,u=-1;-1===o?("translate"===n?u=0:"rotate"===n&&(u=$y(a,(function(t){return t.match(/scale\(/g)}))),-1===u&&(u=a.length),r.transformIndex=u):u=Wy(l,(function(t){return t.index===o&&t.functionName===n}))?o:o+l.filter((function(t){return t.index<o})).length;var c=function(t,e,n){var r,i=Wb(t,{"x%":function(t){return t/100*e.offsetWidth},"y%":function(t){return t/100*e.offsetHeight}}),o=t.slice(0,n<0?void 0:n),a=t.slice(0,n<0?void 0:n+1),s=t[n]||"",l=n<0?[]:t.slice(n),u=n<0?[]:t.slice(n+1),c=i.slice(0,n<0?void 0:n),d=i.slice(0,n<0?void 0:n+1),f=null!==(r=i[n])&&void 0!==r?r:Wb([""])[0],p=n<0?[]:i.slice(n),h=n<0?[]:i.slice(n+1),g=f?[f]:[],v=$b(c),m=$b(d),y=$b(p),b=$b(h),x=Cb(v,y,4);return{transforms:t,beforeFunctionMatrix:v,beforeFunctionMatrix2:m,targetFunctionMatrix:$b(g),afterFunctionMatrix:y,afterFunctionMatrix2:b,allFunctionMatrix:x,beforeFunctions:c,beforeFunctions2:d,targetFunction:g[0],afterFunctions:p,afterFunctions2:h,beforeFunctionTexts:o,beforeFunctionTexts2:a,targetFunctionText:s,afterFunctionTexts:l,afterFunctionTexts2:u}}(a,t.state,u),d=c.targetFunction,f="rotate"===n?"rotateZ":n;r.beforeFunctionTexts=c.beforeFunctionTexts,r.afterFunctionTexts=c.afterFunctionTexts,r.beforeTransform=c.beforeFunctionMatrix,r.beforeTransform2=c.beforeFunctionMatrix2,r.targetTansform=c.targetFunctionMatrix,r.afterTransform=c.afterFunctionMatrix,r.afterTransform2=c.afterFunctionMatrix2,r.targetAllTransform=c.allFunctionMatrix,d.functionName===f?(r.afterFunctionTexts.splice(0,1),r.isAppendTransform=!1):s>u&&(r.isAppendTransform=!0,i.nextTransformAppendedIndexes=Ux(Ux([],Wx(l),!1),[{functionName:n,index:u,isAppend:!0}],!1))}function Pw(t,e,n){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?n:e," ").concat(t.afterFunctionTexts.join(" "))}function Mw(t){var e=t.datas,n=Wx(Ow({datas:e,distX:t.distX,distY:t.distY}),2);return Mb(Dw(e,function(t,e){for(var n=Lb(e),r=0;r<e-1;++r)n[e*(e-1)+r]=t[r]||0;return n}([n[0],n[1]],4)),Sb([0,0,0],4),4)}function Dw(t,e,n){var r=t.beforeTransform,i=t.afterTransform,o=t.beforeTransform2,a=t.afterTransform2,s=t.targetAllTransform,l=n?Cb(s,e,4):Cb(e,s,4),u=Cb(xb(n?o:r,4),l,4);return Cb(u,xb(n?a:i,4),4)}function Ow(t){var e=t.datas,n=t.distX,r=t.distY,i=e.inverseBeforeMatrix,o=e.is3d,a=e.startDragBeforeDist,s=o?4:3;return Tb(Mb(i,Rb(e.absoluteOrigin,[n,r]),s),a)}function _w(t,e){var n=t.datas,r=t.distX,i=t.distY,o=n.inverseBeforeMatrix,a=n.inverseMatrix,s=n.is3d,l=n.startDragBeforeDist,u=n.startDragDist,c=s?4:3;return Tb(Mb(e?o:a,Rb(n.absoluteOrigin,[r,i]),c),e?l:u)}function Aw(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function zw(t,e){var n=(e+1)/2;return[My(t[0][0],t[1][0],n,1-n),My(t[0][1],t[1][1],n,1-n)]}function Bw(t,e){var n=zw([t[0],t[1]],e[0]),r=zw([t[2],t[3]],e[0]);return zw([n,r],e[1])}function Fw(t,e,n,r){return Cb(t,jk(e,r,n),r)}function Iw(t,e){var n=Vw(e);return{setTransform:function(r,i){void 0===i&&(i=-1),n.startTransforms=_y(r)?r:Ny(r),Nw(t,e,i)},setTransformIndex:function(n){Nw(t,e,n)}}}function Lw(t,e,n){Nw(t,e,$y(Vw(e).startTransforms,(function(t){return 0===t.indexOf("".concat(n,"("))})))}function Nw(t,e,n){var r=Vw(e),i=e.datas;if(i.transformIndex=n,-1!==n){var o=r.startTransforms[n];if(o){var a=t.state,s=Wb([o],{"x%":function(t){return t/100*a.offsetWidth},"y%":function(t){return t/100*a.offsetHeight}});i.startValue=s[0].functionValue}}}function jw(t,e){Vw(t).nextTransforms=Ny(e)}function Vw(t){return t.originalDatas.beforeRenderable}function qw(t){return t.originalDatas.beforeRenderable.nextTransforms}function Gw(t){return(qw(t)||[]).join(" ")}function $w(t){return Vw(t).nextStyle}function Ww(t,e,n,r,i){jw(i,e);var o=rk.drag(t,Sw(i,t.state,n,r,!1)),a=o?o.transform:e;return $x($x({transform:e,drag:o},yE({transform:a},i)),{afterTransform:a})}function Uw(t,e,n,r,i,o){var a=function(t,e,n,r){var i,o=t.transformOrigin,a=t.offsetMatrix,s=t.is3d?4:3;if(Ay(n)){var l=e.beforeTransform,u=e.afterTransform;i=kb(r?Gb(n):Cb(Cb(l,Gb([n]),4),u,4),4,s)}else i=n;return Fw(a,i,o,s)}(t.state,i,e,o),s=function(t,e,n,r){void 0===r&&(r=t.state.allMatrix);var i=t.state,o=i.width,a=i.height,s=i.is3d?4:3,l=[o/2*(1+e[0])+n[0],a/2*(1+e[1])+n[1]];return Zk(r,l,s)}(t,n,r,a);return s}function Hw(t,e,n,r,i,o,a){var s=Uw(t,e,n,i,o,a),l=t.state,u=l.left,c=l.top,d=t.props.groupable,f=d?u:0,p=d?c:0,h=Tb(r,s);return Tb(h,[f,p])}function Yw(t,e,n,r,i,o){var a=t.props.groupable,s=t.state,l=s.transformOrigin,u=s.offsetMatrix,c=s.is3d,d=s.width,f=s.height,p=s.left,h=s.top,g=o.fixedDirection,v=o.nextTargetMatrix||s.targetMatrix,m=c?4:3,y=function(t,e,n,r,i,o){return void 0===r&&(r=e),void 0===i&&(i=n),void 0===o&&(o=[0,0]),t?t.map((function(t,a){var s=qy(t),l=s.value,u=s.unit,c=a?i:r,d=a?n:e;return"%"===t||isNaN(l)?d*(c?o[a]/c:0):"%"!==u?l:d*l/100})):o}(i,e,n,d,f,l),b=a?p:0,x=a?h:0,w=function(t,e,n,r,i,o){var a=Bw(Jk(e,n,r,i),o);return[t[0]-a[0],t[1]-a[1]]}(r,Fw(u,v,y,m),e,n,m,g);return Tb(w,[b,x])}function Xw(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}function Qw(t){var e=t("scale"),n=t("rotate"),r=t("translate"),i=[];return r&&"0px"!==r&&"none"!==r&&i.push("translate(".concat(r.split(/\s+/).join(","),")")),n&&"1"!==n&&"none"!==n&&i.push("rotate(".concat(n,")")),e&&"1"!==e&&"none"!==e&&i.push("scale(".concat(e.split(/\s+/).join(","),")")),i}function Kw(t,e,n){for(var r,i,o,a,s,l=t,u=[],c=db(t)||fb(t),d=!n&&t===e||t===c,f=d,p=!1,h=3,g=!1,v=$k(e,e,!0).offsetParent,m=1;l&&!f;){f=d;var y=nS(l),b=y("position"),x=Gk(l),w="fixed"===b,S=Qw(y),k=(a=Nk(x),void 0===(s=void 0)&&(s=6===a.length),s?[a[0],a[1],0,a[2],a[3],0,a[4],a[5],1]:a),E=void 0,C=!1,R=!1,T=0,P=0,M=0,D=0,O={hasTransform:!1,fixedContainer:null};w&&(g=!0,v=(O=Yk(l)).fixedContainer);var _=k.length;p||16!==_&&!S.length||(p=!0,h=4,Hk(u),o&&(o=kb(o,3,4))),p&&9===_&&(k=kb(k,3,4));var A=Wk(l,t),z=A.tagName,B=A.hasOffset,F=A.isSVG,I=A.origin,L=A.targetOrigin,N=Wx(A.offset,2),j=N[0],V=N[1];"svg"===z&&!l.ownerSVGElement&&o&&(u.push({type:"target",target:l,matrix:Kk(l,h)}),u.push({type:"offset",target:l,matrix:Lb(h)}));var q=parseFloat(y("zoom"))||1;if(w)E=O.fixedContainer,C=!0;else{var G=$k(l,e,!1,!0,y),$=G.offsetZoom;if(E=G.offsetParent,C=G.isEnd,R=G.isStatic,m*=$,(G.isCustomElement||1!==$)&&R)j-=E.offsetLeft,V-=E.offsetTop;else if(sw||aw){if(G.parentSlotElement){for(var W=E,U=0,H=0;W&&Xw(W);)U+=W.offsetLeft,H+=W.offsetTop,W=W.offsetParent;j-=U,V-=H}}}if(!Jx||lw||!B||F||!R||"relative"!==b&&"static"!==b||(j-=E.offsetLeft,V-=E.offsetTop,d=d||C),w)B&&O.hasTransform&&(M=E.clientLeft,D=E.clientTop);else if(B&&v!==E&&(T=E.clientLeft,P=E.clientTop),B&&E===c){var Y=Uk(l,!1);j+=Y[0],V+=Y[1]}if(u.push({type:"target",target:l,matrix:jk(k,h,I)}),S.length&&(u.push({type:"offset",target:l,matrix:Lb(h)}),u.push({type:"target",target:l,matrix:jk(Gb(S),h,I)})),B){var X=l===t,Q=X?0:l.scrollLeft,K=X?0:l.scrollTop;u.push({type:"offset",target:l,matrix:jb([j-Q+T-M,V-K+P-D],h)})}else u.push({type:"offset",target:l,origin:I});if(1!==q&&u.push({type:"zoom",target:l,matrix:jk(Nb([q,q],h),h,[0,0])}),o||(o=k),r||(r=I),i||(i=L),f||w)break;l=E,d=C,n&&l!==c||(f=d)}return o||(o=Lb(h)),r||(r=[0,0]),i||(i=[0,0]),{zoom:m,offsetContainer:v,matrixes:u,targetMatrix:o,transformOrigin:r,targetOrigin:i,is3d:p,hasFixed:g}}var Zw=null,Jw=null,tS=null;function eS(t){t?(window.Map&&(Zw=new Map,Jw=new Map),tS=[]):(Zw=null,tS=null,Jw=null)}function nS(t){var e=null==Zw?void 0:Zw.get(t);if(!e){var n=pb(t).getComputedStyle(t);if(!Zw)return function(t){return n[t]};e={style:n,cached:{}},Zw.set(t,e)}var r=e.cached,i=e.style;return function(t){return t in r||(r[t]=i[t]),r[t]}}function rS(t,e,n){var r=n.originalDatas;r.groupable=r.groupable||{};var i=r.groupable;i.childDatas=i.childDatas||[];var o=i.childDatas;return t.moveables.map((function(t,r){return o[r]=o[r]||{},o[r][e]=o[r][e]||{},$x($x({},n),{isRequestChild:!0,datas:o[r][e],originalDatas:o[r]})}))}function iS(t,e,n,r,i,o,a){var s=!!n.match(/Start$/g),l=!!n.match(/End$/g),u=i.isPinch,c=i.datas,d=rS(t,e.name,i),f=t.moveables,p=[],h=d.map((function(t,i){var d=f[i],h=d.state,g=h.gestos,v=t;if(s)v=new kw(a).dragStart(r,t),p.push(v);else{if(g[a]||(g[a]=c.childGestos[i]),!g[a])return;v=Sw(t,h,r,u,o,a),p.push(v)}var m=e[n](d,$x($x({},v),{parentFlag:!0}));return l&&(g[a]=null),m}));return s&&(c.childGestos=f.map((function(t){return t.state.gestos[a]}))),{eventParams:h,childEvents:p}}function oS(t,e,n,r,i,o){void 0===i&&(i=function(t,e){return e});var a=!!n.match(/End$/g),s=rS(t,e.name,r),l=t.moveables;return s.map((function(t,r){var s,u=l[r];s=i(u,t);var c=e[n](u,$x($x({},s),{parentFlag:!0}));return c&&o&&o(u,t,c,r),a&&(u.state.gestos={}),c}))}function aS(t,e,n,r){var i=n.fixedDirection,o=n.fixedPosition,a=Bw(r.datas.startPositions||gE(e.state),i),s=Wx(Mb(Ib(-t.rotation/180*Math.PI,3),[a[0]-o[0],a[1]-o[1],1],3),2),l=s[0],u=s[1];return r.datas.originalX=l,r.datas.originalY=u,r}function sS(t,e,n,r){var i=t.getState(),o=i.renderPoses,a=i.rotation,s=i.direction,l=aE(t.props,e).zoom,u=Mk(a/Math.PI*180),c={},d=t.renderState;d.renderDirectionMap||(d.renderDirectionMap={});var f=d.renderDirectionMap;n.forEach((function(t){var e=t.dir;c[e]=!0}));var p=HE(s);return n.map((function(t){var n=t.data,i=t.classNames,s=t.dir,d=bw[s];if(!d||!c[s])return null;f[s]=!0;var h=(rb(u,15)+p*xw[s]+720)%180,g={};return Yy(n).forEach((function(t){g["data-".concat(t)]=n[t]})),r.createElement("div",$x({className:Ik.apply(void 0,Ux(["control","direction",s,e],Wx(i),!1)),"data-rotation":h,"data-direction":s},g,{key:"direction-".concat(s),style:oE.apply(void 0,Ux([a,l],Wx(d.map((function(t){return o[t]}))),!1))}))}))}function lS(t,e,n,r){var i=aE(t.props,n),o=i.renderDirections,a=void 0===o?e:o,s=i.displayAroundControls;if(!a)return[];var l=!0===a?Xx:a;return Ux(Ux([],Wx(s?pS(t,r,n,l):[]),!1),Wx(sS(t,n,l.map((function(t){return{data:{},classNames:[],dir:t}})),r)),!1)}function uS(t,e,n,r,i,o){for(var a=[],s=6;s<arguments.length;s++)a[s-6]=arguments[s];var l=tb(n,r),u=e?rb(l/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(o),className:Ik.apply(void 0,Ux(["line","direction",e?"edge":"",e],Wx(a),!1)),"data-rotation":u,"data-line-key":o,"data-direction":e,style:iE(n,r,i,l)})}function cS(t,e,n,r,i){return(!0===n?Yx:n).map((function(n,o){var a=Wx(bw[n],2),s=a[0],l=a[1];if(null!=l)return uS(t,n,r[s],r[l],i,"".concat(e,"Edge").concat(o),e)})).filter(Boolean)}function dS(t){return function(e,n){var r=aE(e.props,t).edge;return r&&(!0===r||r.length)?Ux(Ux([],Wx(cS(n,t,r,e.getState().renderPoses,e.props.zoom)),!1),Wx(function(t,e,n){return lS(t,["nw","ne","sw","se"],e,n)}(e,t,n)),!1):fS(e,t,n)}}function fS(t,e,n){return lS(t,Xx,e,n)}function pS(t,e,n,r){var i=t.renderState;i.renderDirectionMap||(i.renderDirectionMap={});var o=t.getState(),a=o.renderPoses,s=o.rotation,l=o.direction,u=i.renderDirectionMap,c=t.props.zoom,d=HE(l),f=s/Math.PI*180;return(r||Yy(u)).map((function(t){var r=bw[t];if(!r)return null;var i=(rb(f,15)+d*xw[t]+720)%180,o=["around-control"];return n&&o.push("direction",n),e.createElement("div",{className:Ik.apply(void 0,Ux([],Wx(o),!1)),"data-rotation":i,"data-direction":t,key:"direction-around-".concat(t),style:oE.apply(void 0,Ux([s,c],Wx(r.map((function(t){return a[t]}))),!1))})}))}function hS(t,e,n){var r=t||{},i=r.position,o=void 0===i?"client":i,a=r.left,s=void 0===a?-1/0:a,l=r.top,u=void 0===l?-1/0:l,c=r.right,d=void 0===c?1/0:c,f=r.bottom,p={position:o,left:s,top:u,right:d,bottom:void 0===f?1/0:f};return{vertical:vS(p,e,!0),horizontal:vS(p,n,!1)}}function gS(t,e){var n=t.state,r=n.containerClientRect,i=r.clientHeight,o=r.clientWidth,a=r.clientLeft,s=r.clientTop,l=n.snapOffset,u=l.left,c=l.top,d=l.right,f=l.bottom,p=e||t.props.bounds||{},h="css"===(p.position||"client"),g=p.left,v=void 0===g?-1/0:g,m=p.top,y=void 0===m?-1/0:m,b=p.right,x=void 0===b?h?-1/0:1/0:b,w=p.bottom,S=void 0===w?h?-1/0:1/0:w;return h&&(x=o+d-u-x,S=i+f-c-S),{left:v+u-a,right:x+u-a,top:y+c-s,bottom:S+c-s}}function vS(t,e,n){var r=t[n?"left":"top"],i=t[n?"right":"bottom"],o=Math.min.apply(Math,Ux([],Wx(e),!1)),a=Math.max.apply(Math,Ux([],Wx(e),!1)),s=[];return r+1>o&&s.push({direction:"start",isBound:!0,offset:o-r,pos:r}),i-1<a&&s.push({direction:"end",isBound:!0,offset:a-i,pos:i}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort((function(t,e){return YE(e.offset)-YE(t.offset)}))}function mS(t,e,n){return(n?t.map((function(t){return zb(t,n)})):t).some((function(t){return t[0]<e.left&&YE(t[0]-e.left)>.1||t[0]>e.right&&YE(t[0]-e.right)>.1||t[1]<e.top&&YE(t[1]-e.top)>.1||t[1]>e.bottom&&YE(t[1]-e.bottom)>.1}))}function yS(t,e,n,r,i){if(!t.props.bounds)return[];var o=i*Math.PI/180,a=gS(t),s=a.left,l=a.top,u=a.right,c=a.bottom,d=s-r[0],f=u-r[0],p=l-r[1],h=c-r[1],g={left:d,top:p,right:f,bottom:h};if(!mS(n,g,0))return[];var v=[];return[[d,0],[f,0],[p,1],[h,1]].forEach((function(t){var r=Wx(t,2),i=r[0],a=r[1];n.forEach((function(t){var n=tb([0,0],t);v.push.apply(v,Ux([],Wx(function(t,e,n){var r=nE(t),i=Math.sqrt(r*r-e*e)||0;return[i,-i].sort((function(e,r){return YE(e-t[n?0:1])-YE(r-t[n?0:1])})).map((function(t){return tb([0,0],n?[t,e]:[e,t])}))}(t,i,a).map((function(t){return o+t-n})).filter((function(t){return!mS(e,g,t)})).map((function(t){return rb(180*t/Math.PI,hw)}))),!1))}))})),v}var bS=["left","right","center"],xS=["top","bottom","middle"],wS={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},SS={start:"left",end:"right",center:"center"},kS={start:"top",end:"bottom",center:"middle"};function ES(t,e){var n=t.props,r=n.snappable,i=n.bounds,o=n.innerBounds,a=n.verticalGuidelines,s=n.horizontalGuidelines,l=n.snapGridWidth,u=n.snapGridHeight,c=t.state,d=c.guidelines,f=c.enableSnap;return!(!r||!f||e&&!0!==r&&r.indexOf(e)<0)&&!!(l||u||i||o||d&&d.length||a&&a.length||s&&s.length)}function CS(t){return!1===t?{}:!0!==t&&t?t:{left:!0,right:!0,top:!0,bottom:!0}}function RS(t,e){var n=function(t,e){var n=CS(t),r={};for(var i in n)i in e&&n[i]&&(r[i]=e[i]);return r}(t,e),r=xS.filter((function(t){return t in n})),i=bS.filter((function(t){return t in n}));return{horizontalNames:r,verticalNames:i,horizontal:r.map((function(t){return n[t]})),vertical:i.map((function(t){return n[t]}))}}var TS="snapRotationThreshold",PS="snapRotationDegrees",MS="snapHorizontalThreshold",DS="snapVerticalThreshold";function OS(t,e,n,r,i,o,a){var s;void 0===r&&(r=[]),void 0===i&&(i=[]);var l=t.props,u=(null===(s=t.state.snapThresholdInfo)||void 0===s?void 0:s.multiples)||[1,1],c=TE(a,l[MS],5),d=TE(o,l[DS],5);return _S(t.state.guidelines,e,n,r,i,c,d,u)}function _S(t,e,n,r,i,o,a,s){return{vertical:FS(t,"vertical",e,a*s[0],r),horizontal:FS(t,"horizontal",n,o*s[1],i)}}function AS(t){var e="";return-1===t||"top"===t||"left"===t?e="start":0===t||"center"===t||"middle"===t?e="center":1!==t&&"right"!==t&&"bottom"!==t||(e="end"),e}function zS(t,e,n,r){var i=RS(t.props.snapDirections,e),o=OS(t,i.vertical,i.horizontal,i.verticalNames.map((function(t){return AS(t)})),i.horizontalNames.map((function(t){return AS(t)})),n,r),a=AS(i.horizontalNames[o.horizontal.index]),s=AS(i.verticalNames[o.vertical.index]);return{vertical:$x($x({},o.vertical),{direction:s}),horizontal:$x($x({},o.horizontal),{direction:a})}}function BS(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],r=n.guidelineInfos[0],i=r.offset,o=r.dist,a=r.guideline;return{isSnap:e,offset:i,dist:o,pos:n.pos,guideline:a}}function FS(t,e,n,r,i){var o,a;if(void 0===i&&(i=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var s="vertical"===e?0:1,l=n.map((function(n,o){var a=i[o]||"",l=t.map((function(t){var e=t.pos,r=n-e[s];return{offset:r,dist:YE(r),guideline:t,direction:a}})).filter((function(t){var n=t.guideline,i=t.dist;return!(n.type!==e||i>r)})).sort((function(t,e){return t.dist-e.dist}));return{pos:n,index:o,guidelineInfos:l,direction:a}})).filter((function(t){return t.guidelineInfos.length>0})).sort((function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist})),u=l.length>0;return{isSnap:u,index:u?l[0].index:-1,direction:null!==(a=null===(o=l[0])||void 0===o?void 0:o.direction)&&void 0!==a?a:"",posInfos:l}}function IS(t,e,n,r,i){var o=[];n[0]&&n[1]?o=[n,[-n[0],n[1]],[n[0],-n[1]]]:n[0]||n[1]?t.props.keepRatio?o.push([-1,-1],[-1,1],[1,-1],[1,1],n):(o.push.apply(o,Ux([],Wx(function(t,e){return Aw(e).map((function(e){return t[e]}))}([[-1,-1],[1,-1],[-1,-1],[1,1]],n)),!1)),o.length>1&&o.push([(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2])):[[-1,-1],[1,-1],[1,1],[-1,1]].forEach((function(t,e,n){var r=n[e+1]||n[0];o.push(t),o.push([(t[0]+r[0])/2,(t[1]+r[1])/2])}));var a=o.map((function(t){return Bw(e,t)})),s=OS(t,a.map((function(t){return t[0]})),a.map((function(t){return t[1]})),o.map((function(t){return AS(t[0])})),o.map((function(t){return AS(t[1])})),r,i),l=AS(o.map((function(t){return t[0]}))[s.vertical.index]),u=AS(o.map((function(t){return t[1]}))[s.horizontal.index]);return{vertical:$x($x({},s.vertical),{direction:l}),horizontal:$x($x({},s.horizontal),{direction:u})}}function LS(t,e){var n=YE(t.offset),r=YE(e.offset);return t.isBound&&e.isBound?r-n:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?r-n:t.isSnap?-1:e.isSnap||n<hw?1:r<hw?-1:n-r}function NS(t,e){return t.slice().sort((function(t,n){var r=t.sign[e],i=n.sign[e],o=t.offset[e],a=n.offset[e];return r?i?LS({isBound:t.isBound,isSnap:t.isSnap,offset:o},{isBound:n.isBound,isSnap:n.isSnap,offset:a}):-1:1}))[0]}function jS(t,e){var n=Jy([e[0][0],e[1][0]]),r=Jy([e[0][1],e[1][1]]);return{vertical:n<=t[0],horizontal:r<=t[1]}}function VS(t,e){var n,r,i=Wx(e,2),o=i[0],a=i[1],s=a[0]-o[0],l=a[1]-o[1];if(YE(s)<hw&&(s=0),YE(l)<hw&&(l=0),s)if(l){n=l/s*(t[0]-o[0])+o[1],r=t[1]}else n=o[1],r=t[1];else n=o[0],r=t[0];return n-r}function qS(t,e,n,r){return void 0===r&&(r=hw),t.every((function(t){var i=VS(t,e);return i<=0===n||YE(i)<=r}))}function GS(t,e,n,r,i){return void 0===i&&(i=0),r&&e-i<=t||!r&&t<=n+i?{isBound:!0,offset:r?e-t:n-t}:{isBound:!1,offset:0}}function $S(t,e,n,r,i,o){var a,s,l=Wx(e,2),u=l[0],c=l[1],d=t[0],f=n[0],p=n[1],h=BE(p[1]-f[1]),g=c,v=u,m=-u/c;return BE(p[0]-f[0])?h||o&&!g?{isBound:!1,offset:0}:v?GS((f[1]-d[1])/m+d[0],f[0],p[0],r,i):{isBound:s=YE(a=f[1]-d[1])<=(i||0),offset:s?a:0}:o&&!v?{isBound:!1,offset:0}:g?GS(m*(f[0]-d[0])+d[1],f[1],p[1],r,i):{isBound:s=YE(a=f[0]-d[0])<=(i||0),offset:s?a:0}}function WS(t,e,n){return e.map((function(e){var r=function(t,e){var n=e.line,r=e.centerSign,i=e.verticalSign,o=e.horizontalSign,a=e.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var l=s.left,u=s.top,c=s.width,d=s.height,f=[[l,u],[l,u+d]],p=[[l,u],[l+c,u]],h=[[l+c,u],[l+c,u+d]],g=[[l,u+d],[l+c,u+d]];if(qS([[l,u],[l+c,u],[l,u+d],[l+c,u+d]],n,r))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var v=$S(n,a,p,i),m=$S(n,a,g,i),y=$S(n,a,f,o),b=$S(n,a,h,o),x=v.isBound&&m.isBound,w=v.isBound||m.isBound,S=y.isBound&&b.isBound,k=y.isBound||b.isBound,E=DE(v.offset,m.offset),C=DE(y.offset,b.offset),R=[0,0],T=!1,P=!1;return YE(C)<YE(E)?(R=[E,0],T=w,P=x):(R=[0,C],T=k,P=S),{isAllBound:P,isVerticalBound:w,isHorizontalBound:k,isBound:T,offset:R}}(t,e),i=r.isBound,o=r.offset,a=r.isVerticalBound,s=r.isHorizontalBound,l=e.multiple,u=_w({datas:n,distX:o[0],distY:o[1]}).map((function(t,e){return t*(l[e]?2/l[e]:0)}));return{sign:l,isBound:i,isVerticalBound:a,isHorizontalBound:s,isSnap:!1,offset:u}}))}function US(t,e,n){var r,i=WS(t,HS(t,e,[0,0],!1).map((function(t){return $x($x({},t),{multiple:t.multiple.map((function(t){return 2*YE(t)}))})})),n),o=NS(i,0),a=NS(i,1),s=0,l=0,u=o.isVerticalBound||a.isVerticalBound,c=o.isHorizontalBound||a.isHorizontalBound;return(u||c)&&(r=Wx(function(t,e){var n=t.datas,r=t.distX,i=t.distY,o=n.beforeMatrix,a=n.matrix,s=n.is3d,l=n.startDragBeforeDist,u=n.startDragDist,c=n.absoluteOrigin,d=s?4:3;return Tb(Mb(e?o:a,Rb(e?l:u,[r,i]),d),c)}({datas:n,distX:-o.offset[0],distY:-a.offset[1]}),2),s=r[0],l=r[1]),{vertical:{isBound:u,offset:s},horizontal:{isBound:c,offset:l}}}function HS(t,e,n,r){var i=t.state,o=Jk(i.allMatrix,100,100,i.is3d?4:3),a=Bw(o,[0,0]);return function(t,e){var n=[],r=t[0],i=t[1];return r&&i?n.push([[0,2*i],t,[-r,i]],[[2*r,0],t,[r,-i]]):r?(n.push([[2*r,0],[r,1],[r,-1]]),e&&n.push([[0,-1],[r,-1],[-r,-1]],[[0,1],[r,1],[-r,1]])):i?(n.push([[0,2*i],[1,i],[-1,i]]),e&&n.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}(n,r).map((function(t){var n=Wx(t,3),r=n[0],i=n[1],s=n[2],l=[Bw(o,i),Bw(o,s)],u=function(t){var e=Wx(t,2),n=e[0],r=e[1],i=r[0]-n[0],o=r[1]-n[1];Math.abs(i)<Ty&&(i=0),Math.abs(o)<Ty&&(o=0);var a=0,s=0,l=0;return i?o?(s=1,l=(a=-o/i)*n[0]-n[1]):(s=1,l=-n[1]):(a=-1,l=n[0]),[a,s,l].map((function(t){return rb(t,Ty)}))}(l),c=jS(a,l),d=c.vertical,f=c.horizontal;return{multiple:r,centerSign:VS(a,l)<=0,verticalSign:d,horizontalSign:f,lineConstants:u,line:[Bw(e,i),Bw(e,s)]}}))}function YS(t,e,n,r){var i=r?t.map((function(t){return zb(t,r)})):t;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some((function(t){var r=VS(n,t)<=0;return!qS(e,t,r)}))}function XS(t,e,n,r,i){var o=t.props.innerBounds,a=i*Math.PI/180;if(!o)return[];var s=o.left,l=o.top,u=o.width,c=o.height,d=s-r[0],f=s+u-r[0],p=l-r[1],h=l+c-r[1],g=[[d,p],[f,p],[d,h],[f,h]],v=Bw(n,[0,0]);if(!YS(n,g,v,0))return[];var m=[],y=g.map((function(t){return[nE(t),tb([0,0],t)]}));return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach((function(t){var n=tb([0,0],function(t){var e=Wx(t,2),n=e[0],r=e[1],i=r[0]-n[0],o=r[1]-n[1];if(!i)return[n[0],0];if(!o)return[0,n[1]];var a=o/i,s=-a*n[0]+n[1];return[-s/(a+1/a),s/(a*a+1)]}(t)),r=function(t){var e=Wx(t,2),n=e[0],r=e[1],i=r[0]-n[0],o=r[1]-n[1];if(!i)return YE(n[0]);if(!o)return YE(n[1]);var a=o/i;return YE((-a*n[0]+n[1])/Math.sqrt(Math.pow(a,2)+1))}(t);m.push.apply(m,Ux([],Wx(y.filter((function(t){var e=Wx(t,1)[0];return e&&r<=e})).map((function(t){var e=Wx(t,2),i=e[0],o=e[1],s=Math.acos(i?r/i:0);return[a+(o+s)-n,a+(o-s)-n]})).reduce((function(t,e){return t.push.apply(t,Ux([],Wx(e),!1)),t}),[]).filter((function(t){return!YS(e,g,v,t)})).map((function(t){return rb(180*t/Math.PI,hw)}))),!1))})),m}function QS(t,e,n,r,i){var o=function(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1];if(YE(i)<Ty&&(i=0),YE(o)<Ty&&(o=0),!i)return r?[0,0]:[0,n];if(!o)return r?[n,0]:[0,0];var a=o/i,s=t[1]-a*t[0];return r?[n,a*(e[0]+n)+s-e[1]]:[(e[1]+n-s)/a-e[0],n]}(t,e,n,r);if(!o)return{isOutside:!1,offset:[0,0]};var a=nb(t,e),s=nb(o,t),l=nb(o,e),u=s>a||l>a,c=Wx(_w({datas:i,distX:o[0],distY:o[1]}),2);return{offset:[c[0],c[1]],isOutside:u}}function KS(t,e){return t.isBound?t.offset:e.isSnap?BS(e).offset:0}function ZS(t,e,n,r,i,o){if(!ES(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var a=hE(o.absolutePoses,[e,n]),s=tE(a),l=s.left,u=s.right,c=s.top,d=s.bottom,f={horizontal:a.map((function(t){return t[1]})),vertical:a.map((function(t){return t[0]}))},p=JS(t,i,RS(CS(t.props.snapDirections),{left:l,right:u,top:c,bottom:d,center:(l+u)/2,middle:(c+d)/2}),f),h=p.vertical,g=p.horizontal,v=US(t,a,o),m=v.vertical,y=v.horizontal,b=h.isSnap,x=g.isSnap,w=h.isBound||m.isBound,S=g.isBound||y.isBound,k=Wx(function(t,e,n,r,i){var o=Wx(e,2),a=o[0],s=o[1],l=Wx(n,2),u=l[0],c=l[1],d=Wx(r,2),f=d[0],p=d[1],h=Wx(i,2),g=h[0],v=h[1],m=-g,y=-v;if(t&&a&&s){m=0,y=0;var b=[];if(u&&c?b.push([0,v],[g,0]):u?b.push([g,0]):c?b.push([0,v]):f&&p?b.push([0,v],[g,0]):f?b.push([g,0]):p&&b.push([0,v]),b.length){b.sort((function(t,e){return nE(Tb([a,s],t))-nE(Tb([a,s],e))}));var x=b[0];if(x[0]&&YE(a)>Ty)m=-x[0],y=s*YE(a+m)/YE(a)-s;else if(x[1]&&YE(s)>Ty){var w=s;y=-x[1],m=a*YE(s+y)/YE(w)-a}if(t&&c&&u)if(YE(m)>Ty&&YE(m)<YE(g))m*=S=YE(g)/YE(m),y*=S;else if(YE(y)>Ty&&YE(y)<YE(v)){var S;m*=S=YE(v)/YE(y),y*=S}else m=DE(-g,m),y=DE(-v,y)}}else m=a||u?-g:0,y=s||c?-v:0;return[m,y]}(r,[e,n],[w,S],[b,x],[DE(h.offset,m.offset),DE(g.offset,y.offset)]),2);return[{isBound:w,isSnap:b,offset:k[0]},{isBound:S,isSnap:x,offset:k[1]}]}function JS(t,e,n,r){void 0===r&&(r=n);var i=hS(gS(t),r.vertical,r.horizontal),o=i.horizontal,a=i.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:OS(t,n.vertical,n.horizontal,void 0,void 0,void 0,void 0),l=s.horizontal,u=s.vertical,c=KS(o[0],l),d=KS(a[0],u),f=YE(c),p=YE(d);return{horizontal:{isBound:o[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:c,dist:f,bounds:o,snap:l},vertical:{isBound:a[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:d,dist:p,bounds:a,snap:u}}}function tk(t,e,n,r,i,o,a){void 0===a&&(a=[1,1]);var s=hS(e,n,r),l=s.horizontal,u=s.vertical,c=_S(t,n,r,[],[],i,o,a),d=c.horizontal,f=c.vertical,p=KS(l[0],d),h=KS(u[0],f),g=YE(p),v=YE(h);return{horizontal:{isBound:l[0].isBound,isSnap:d.isSnap,snapIndex:d.index,offset:p,dist:g,bounds:l,snap:d},vertical:{isBound:u[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:h,dist:v,bounds:u,snap:f}}}function ek(t,e,n,r,i,o){return n.map((function(n){var a=Wx(n,2),s=a[0],l=a[1],u=Bw(e,s),c=Bw(e,l),d=r?function(t,e,n,r){var i=function(t,e,n){var r=gS(t),i=r.left,o=r.top,a=r.right,s=r.bottom,l=Wx(n,2),u=l[0],c=l[1],d=Wx(Tb(n,e),2),f=d[0],p=d[1];YE(f)<hw&&(f=0),YE(p)<hw&&(p=0);var h=p>0,g=f>0,v={isBound:!1,offset:0,pos:0},m={isBound:!1,offset:0,pos:0};if(0===f&&0===p)return{vertical:v,horizontal:m};if(0===f)h?s<c&&(m.pos=s,m.offset=c-s):o>c&&(m.pos=o,m.offset=c-o);else if(0===p)g?a<u&&(v.pos=a,v.offset=u-a):i>u&&(v.pos=i,v.offset=u-i);else{var y=p/f,b=n[1]-y*u,x=0,w=0,S=!1;g&&a<=u?(x=y*a+b,w=a,S=!0):!g&&u<=i&&(x=y*i+b,w=i,S=!0),S&&(x<o||x>s)&&(S=!1),S||(h&&s<=c?(w=((x=s)-b)/y,S=!0):!h&&c<=o&&(w=((x=o)-b)/y,S=!0)),S&&(v.isBound=!0,v.pos=w,v.offset=u-w,m.isBound=!0,m.pos=x,m.offset=c-x)}return{vertical:v,horizontal:m}}(t,e,n),o=i.horizontal,a=i.vertical,s=r?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:function(t,e,n){var r=Wx(n,2),i=r[0],o=r[1],a=Wx(e,2),s=a[0],l=a[1],u=Wx(Tb(n,e),2),c=u[0],d=u[1],f=d>0,p=c>0;c=BE(c),d=BE(d);var h={isSnap:!1,offset:0,pos:0},g={isSnap:!1,offset:0,pos:0};if(0===c&&0===d)return{vertical:h,horizontal:g};var v=OS(t,c?[i]:[],d?[o]:[],[],[],void 0,void 0),m=v.vertical,y=v.horizontal;m.posInfos.filter((function(t){var e=t.pos;return p?e>=s:e<=s})),y.posInfos.filter((function(t){var e=t.pos;return f?e>=l:e<=l})),m.isSnap=m.posInfos.length>0,y.isSnap=y.posInfos.length>0;var b=BS(m),x=b.isSnap,w=b.guideline,S=BS(y),k=S.isSnap,E=S.guideline,C=k?E.pos[1]:0,R=x?w.pos[0]:0;if(0===c)k&&(g.isSnap=!0,g.pos=E.pos[1],g.offset=o-g.pos);else if(0===d)x&&(h.isSnap=!0,h.pos=R,h.offset=i-R);else{var T=d/c,P=n[1]-T*i,M=0,D=0,O=!1;x?(M=T*(D=R)+P,O=!0):k&&(D=((M=C)-P)/T,O=!0),O&&(h.isSnap=!0,h.pos=D,h.offset=i-D,g.isSnap=!0,g.pos=M,g.offset=o-M)}return{vertical:h,horizontal:g}}(t,e,n),l=s.horizontal,u=s.vertical,c=nk(o,l),d=nk(a,u),f=YE(c),p=YE(d);return{horizontal:{isBound:o.isBound,isSnap:l.isSnap,offset:c,dist:f},vertical:{isBound:a.isBound,isSnap:u.isSnap,offset:d,dist:p}}}(t,u,c,i):JS(t,i,{vertical:[c[0]],horizontal:[c[1]]}),f=d.horizontal,p=f.offset,h=f.isBound,g=f.isSnap,v=d.vertical,m=v.offset,y=v.isBound,b=v.isSnap,x=Tb(l,s);if(!m&&!p)return{isBound:y||h,isSnap:b||g,sign:x,offset:[0,0]};var w=function(t,e,n,r){var i=tb(t,e)/Math.PI*180,o=n.vertical,a=o.isBound,s=o.isSnap,l=o.dist,u=n.horizontal,c=u.isBound,d=u.isSnap,f=i%180,p=f<3||f>177,h=f>87&&f<93;return u.dist<l&&(a||s&&!h&&(!r||!p))?"vertical":!c&&(!d||p||r&&h)?"":"horizontal"}(u,c,d,r);if(!w)return{sign:x,isBound:!1,isSnap:!1,offset:[0,0]};var S="vertical"===w,k=[0,0];return k=(k=r||1!==YE(l[0])||1!==YE(l[1])||s[0]===l[0]||s[1]===l[1]?QS(u,c,-(S?m:p),S,o).offset:_w({datas:o,distX:-m,distY:-p})).map((function(t,e){return t*(x[e]?2/x[e]:0)})),{sign:x,isBound:S?y:h,isSnap:S?b:g,offset:k}}))}function nk(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}var rk={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var n=t.props,r=n.hideThrottleDragRotateLine,i=n.throttleDragRotate,o=n.zoom,a=t.getState(),s=a.dragInfo,l=a.beforeOrigin;if(r||!i||!s)return[];var u=s.dist;if(!u[0]&&!u[1])return[];var c=nE(u),d=tb(u,[0,0]);return[e.createElement("div",{className:Ik("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(c,"px"),transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) rotate(").concat(d,"rad) scaleY(").concat(o,")")}})]},dragStart:function(t,e){var n=e.datas,r=e.parentEvent,i=e.parentGesto,o=t.state,a=o.gestos,s=o.style;if(a.draggable)return!1;a.draggable=i||t.targetGesto,n.datas={},n.left=parseFloat(s.left||"")||0,n.top=parseFloat(s.top||"")||0,n.bottom=parseFloat(s.bottom||"")||0,n.right=parseFloat(s.right||"")||0,n.startValue=[0,0],Rw(t,e),Lw(t,e,"translate"),function(t,e){e.absolutePoses=gE(t.state)}(t,n),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,n.deltaOffset=[0,0];var l=xE(t,e,$x({set:function(t){n.startValue=t}},Iw(t,e)));return!1!==(r||kE(t,"onDragStart",l))?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(a.draggable=null,n.isPinch=!1),!!n.isDrag&&l},drag:function(t,e){if(e){Tw(t,e,"translate");var n=e.datas,r=e.parentEvent,i=e.parentFlag,o=e.isPinch,a=e.deltaOffset,s=e.useSnap,l=e.isRequest,u=e.isGroup,c=e.parentThrottleDrag,d=e.distX,f=e.distY,p=n.isDrag,h=n.prevDist,g=n.prevBeforeDist,v=n.startValue;if(p){a&&(d+=a[0],f+=a[1]);var m=t.props,y=m.parentMoveable,b=u?0:m.throttleDrag||c||0,x=r?0:m.throttleDragRotate||0,w=0,S=!1,k=!1,E=!1,C=!1;if(!r&&x>0&&(d||f)){var R=m.startDragRotate||0,T=rb(R+180*tb([0,0],[d,f])/Math.PI,x)-R,P=f*Math.abs(Math.cos((T-90)/180*Math.PI)),M=nE([d*Math.abs(Math.cos(T/180*Math.PI)),P]);w=T*Math.PI/180,d=M*Math.cos(w),f=M*Math.sin(w)}if(!o&&!r&&!i){var D=Wx(ZS(t,d,f,x,!s&&l||a,n),2),O=D[0],_=D[1];S=O.isSnap,k=O.isBound,E=_.isSnap,C=_.isBound,d+=O.offset,f+=_.offset}var A=Rb(Ow({datas:n,distX:d,distY:f}),v),z=Rb(Mw({datas:n,distX:d,distY:f}),v);ib(z,hw),ib(A,hw),x||(S||k||(z[0]=rb(z[0],b),A[0]=rb(A[0],b)),E||C||(z[1]=rb(z[1],b),A[1]=rb(A[1],b)));var B=Tb(A,v),F=Tb(z,v),I=Tb(F,h),L=Tb(B,g);n.prevDist=F,n.prevBeforeDist=B,n.passDelta=I,n.passDist=F;var N=n.left+B[0],j=n.top+B[1],V=n.right-B[0],q=n.bottom-B[1],G=Pw(n,"translate(".concat(z[0],"px, ").concat(z[1],"px)"),"translate(".concat(F[0],"px, ").concat(F[1],"px)"));if(jw(e,G),t.state.dragInfo.dist=r?[0,0]:F,r||y||!I.every((function(t){return!t}))||!L.some((function(t){return!t}))){var $=t.state,W=$.width,U=$.height,H=xE(t,e,$x({transform:G,dist:F,delta:I,translate:z,beforeDist:B,beforeDelta:L,beforeTranslate:A,left:N,top:j,right:V,bottom:q,width:W,height:U,isPinch:o},yE({transform:G},e)));return!r&&kE(t,"onDrag",H),H}}}},dragAfter:function(t,e){var n=e.datas,r=n.deltaOffset;return!(!r[0]&&!r[1])&&(n.deltaOffset=[0,0],this.drag(t,$x($x({},e),{deltaOffset:r})))},dragEnd:function(t,e){var n=e.parentEvent,r=e.datas;if(t.state.dragInfo=null,r.isDrag){r.isDrag=!1;var i=wE(t,e,{});return!n&&kE(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var n,r,i=e.datas,o=e.clientX,a=e.clientY,s=this.dragStart(t,e);if(!s)return!1;var l=iS(t,this,"dragStart",[o||0,a||0],e,!1,"draggable"),u=l.childEvents,c=l.eventParams,d=kE(t,"onDragGroupStart",$x($x({},s),{targets:t.props.targets,events:c}));i.isDrag=!1!==d;var f=null!==(r=null===(n=u[0])||void 0===n?void 0:n.datas.startValue)&&void 0!==r?r:[0,0];return i.throttleOffset=[f[0]%1,f[1]%1],!!i.isDrag&&s},dragGroup:function(t,e){if(e.datas.isDrag){var n=this.drag(t,$x($x({},e),{parentThrottleDrag:t.props.throttleDrag})),r=iS(t,this,"drag",e.datas.passDelta,e,!1,"draggable").eventParams;if(n){var i=$x({targets:t.props.targets,events:r},n);return kE(t,"onDragGroup",i),i}}},dragGroupEnd:function(t,e){var n=e.isDrag;if(e.datas.isDrag){this.dragEnd(t,e);var r=iS(t,this,"dragEnd",[0,0],e,!1,"draggable").eventParams;return kE(t,"onDragGroupEnd",wE(t,e,{targets:t.props.targets,events:r})),n}},request:function(t){var e={},n=t.getRect(),r=0,i=0,o=!1;return{isControl:!1,requestStart:function(t){return o=t.useSnap,{datas:e,useSnap:o}},request:function(t){return"x"in t?r=t.x-n.left:"deltaX"in t&&(r+=t.deltaX),"y"in t?i=t.y-n.top:"deltaY"in t&&(i+=t.deltaY),{datas:e,distX:r,distY:i,useSnap:o}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:o}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function ik(t,e){return{fixedPosition:Bw(t,e),fixedDirection:e,fixedOffset:[0,0]}}function ok(t,e){var n=t.allMatrix,r=t.is3d,i=t.width,o=t.height,a=r?4:3,s=function(t,e,n){return[e?t[0]/(e/2)-1:0,n?t[1]/(n/2)-1:0]}(e,i,o);return{fixedPosition:Zk(n,e,a),fixedDirection:s,fixedOffset:[i?0:e[0],o?0:e[1]]}}var ak=IE("resizable"),sk={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:dS("resizable"),dragControlCondition:ak,viewClassName:FE("resizable"),dragControlStart:function(t,e){var n,r=e.inputEvent,i=e.isPinch,o=e.isGroup,a=e.parentDirection,s=e.parentGesto,l=e.datas,u=e.parentFixedDirection,c=e.parentEvent,d=fE(a,i,r,l),f=t.state,p=f.target,h=f.width,g=f.height,v=f.gestos;if(!d||!p)return!1;if(v.resizable)return!1;v.resizable=s||t.controlGesto,!i&&Rw(t,e),l.datas={},l.direction=d,l.startOffsetWidth=h,l.startOffsetHeight=g,l.prevWidth=0,l.prevHeight=0,l.minSize=[0,0],l.startWidth=f.inlineCSSWidth||f.cssWidth,l.startHeight=f.inlineCSSHeight||f.cssHeight,l.maxSize=[1/0,1/0],o||(l.minSize=[f.minOffsetWidth,f.minOffsetHeight],l.maxSize=[f.maxOffsetWidth,f.maxOffsetHeight]);var m=t.props.transformOrigin||"% %";function y(t){l.ratio=t&&isFinite(t)?t:0}function b(t){var e=ik(l.startPositions,t);l.fixedDirection=e.fixedDirection,l.fixedPosition=e.fixedPosition,l.fixedOffset=e.fixedOffset}function x(e){var n=ok(t.state,e);l.fixedDirection=n.fixedDirection,l.fixedPosition=n.fixedPosition,l.fixedOffset=n.fixedOffset}function w(t){l.minSize=[Xy("".concat(t[0]),0)||0,Xy("".concat(t[1]),0)||0]}function S(t){var e=[t[0]||1/0,t[1]||1/0];zy(e[0])&&!isFinite(e[0])||(e[0]=Xy("".concat(e[0]),0)||1/0),zy(e[1])&&!isFinite(e[1])||(e[1]=Xy("".concat(e[1]),0)||1/0),l.maxSize=e}l.transformOrigin=m&&Ay(m)?m.split(" "):m,l.startOffsetMatrix=f.offsetMatrix,l.startTransformOrigin=f.transformOrigin,l.isWidth=null!==(n=null==e?void 0:e.parentIsWidth)&&void 0!==n?n:!d[0]&&!d[1]||d[0]||!d[1],l.startPositions=gE(t.state),y(h/g),b(u||[-d[0],-d[1]]),l.setFixedDirection=b,l.setFixedPosition=x,l.setMin=w,l.setMax=S;var k=xE(t,e,{direction:d,startRatio:l.ratio,set:function(t){var e=Wx(t,2),n=e[0],r=e[1];l.startWidth=n,l.startHeight=r},setMin:w,setMax:S,setRatio:y,setFixedDirection:b,setFixedPosition:x,setOrigin:function(t){l.transformOrigin=t},dragStart:rk.dragStart(t,(new kw).dragStart([0,0],e))}),E=c||kE(t,"onResizeStart",k);return l.startFixedDirection=l.fixedDirection,l.startFixedPosition=l.fixedPosition,!1!==E&&(l.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:d}),!!l.isResize&&k},dragControl:function(t,e){var n,r=e.datas,i=e.parentFlag,o=e.isPinch,a=e.parentKeepRatio,s=e.dragClient,l=e.parentDist,u=e.useSnap,c=e.isRequest,d=e.isGroup,f=e.parentEvent,p=e.resolveMatrix,h=r.isResize,g=r.transformOrigin,v=r.startWidth,m=r.startHeight,y=r.prevWidth,b=r.prevHeight,x=r.minSize,w=r.maxSize,S=r.ratio,k=r.startOffsetWidth,E=r.startOffsetHeight,C=r.isWidth;if(h){if(p){var R=t.state.is3d,T=r.startOffsetMatrix,P=r.startTransformOrigin,M=R?4:3,D=Gb(qw(e)),O=Math.sqrt(D.length);M!==O&&(D=kb(D,O,M));var _=Fw(T,D,P,M),A=Jk(_,k,E,M);r.startPositions=A,r.nextTargetMatrix=D,r.nextAllMatrix=_}var z=aE(t.props,"resizable"),B=z.resizeFormat,F=z.throttleResize,I=void 0===F?i?0:1:F,L=z.parentMoveable,N=z.keepRatioFinally,j=r.direction,V=j,q=0,G=0;j[0]||j[1]||(V=[1,1]);var $=S&&(null!=a?a:z.keepRatio)||!1,W=Wx(it(),2),U=W[0],H=W[1];f||(r.setFixedDirection(r.fixedDirection),kE(t,"onBeforeResize",xE(t,e,{startFixedDirection:r.startFixedDirection,startFixedPosition:r.startFixedPosition,setFixedDirection:function(t){var e;return r.setFixedDirection(t),e=Wx(it(),2),U=e[0],H=e[1],[U,H]},setFixedPosition:function(t){var e;return r.setFixedPosition(t),e=Wx(it(),2),U=e[0],H=e[1],[U,H]},boundingWidth:U,boundingHeight:H,setSize:function(t){var e;e=Wx(t,2),U=e[0],H=e[1]}},!0)));var Y=s;s||(Y=!i&&o?function(t,e){return Bw(gE(t.state),e)}(t,[0,0]):r.fixedPosition);var X=[0,0];if(o||(X=function(t,e,n,r,i,o,a){if(!ES(t,"resizable"))return[0,0];var s=a.fixedDirection,l=a.nextAllMatrix,u=t.state,c=u.allMatrix,d=u.is3d;return Pk(t,(function(t,r){return Ck(l||c,e+t,n+r,s,i,d)}),e,n,r,i,o,a)}(t,U,H,j,Y,!u&&c,r)),l&&(!l[0]&&(X[0]=0),!l[1]&&(X[1]=0)),$){V[0]&&V[1]&&X[0]&&X[1]&&(YE(X[0])>YE(X[1])?X[1]=0:X[0]=0);var Q=!X[0]&&!X[1];Q&&ot(),V[0]&&!V[1]||X[0]&&!X[1]||Q&&C?(U+=X[0],H=U/S):(!V[0]&&V[1]||!X[0]&&X[1]||Q&&!C)&&(H+=X[1],U=H*S)}else U+=X[0],H+=X[1],U=Math.max(0,U),H=Math.max(0,H);n=Wx(Zy([U,H],x,w,!!$&&S),2),U=n[0],H=n[1],ot(),$&&(d||N)&&(C?H=U/S:U=H*S);var K=[(q=U-k)-y,(G=H-E)-b];r.prevWidth=q,r.prevHeight=G;var Z=Yw(t,U,H,Y,g,r);if(L||!K.every((function(t){return!t}))||!Z.every((function(t){return!t}))){var J=rk.drag(t,Sw(e,t.state,Z,!!o,!1,"draggable")),tt=J.transform,et=v+q,nt=m+G,rt=xE(t,e,$x({width:et,height:nt,offsetWidth:Math.round(U),offsetHeight:Math.round(H),startRatio:S,boundingWidth:U,boundingHeight:H,direction:j,dist:[q,G],delta:K,isPinch:!!o,drag:J},bE({style:{width:"".concat(et,"px"),height:"".concat(nt,"px")},transform:tt},J,e)));return!f&&kE(t,"onResize",rt),rt}}function it(){var t=r.fixedDirection,n=qE(V,$,r,e);q=n.distWidth,G=n.distHeight;var i=V[0]-t[0]||$?Math.max(k+q,hw):k,o=V[1]-t[1]||$?Math.max(E+G,hw):E;return $&&k&&E&&(C?o=i/S:i=o*S),[i,o]}function ot(){var t;B&&(t=Wx(B([U,H]),2),U=t[0],H=t[1]),U=rb(U,I),H=rb(H,I)}},dragControlAfter:function(t,e){var n=e.datas,r=n.isResize,i=n.startOffsetWidth,o=n.startOffsetHeight,a=n.prevWidth,s=n.prevHeight;if(r&&!1!==t.props.checkResizableError){var l=t.state,u=l.width-(i+a),c=l.height-(o+s),d=YE(u)>3,f=YE(c)>3;return d&&(n.startWidth+=u,n.startOffsetWidth+=u,n.prevWidth+=u),f&&(n.startHeight+=c,n.startOffsetHeight+=c,n.prevHeight+=c),d||f?this.dragControl(t,e):void 0}},dragControlEnd:function(t,e){var n=e.datas,r=e.parentEvent;if(n.isResize){n.isResize=!1;var i=wE(t,e,{});return!r&&kE(t,"onResizeEnd",i),i}},dragGroupControlCondition:ak,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,$x($x({},e),{isGroup:!0}));if(!r)return!1;var i=rS(t,"resizable",e),o=n.startOffsetWidth,a=n.startOffsetHeight;function s(){var t=n.minSize;i.forEach((function(e){var n=e.datas,r=n.minSize,i=n.startOffsetWidth,s=n.startOffsetHeight,l=o*(i?r[0]/i:0),u=a*(s?r[1]/s:0);t[0]=Math.max(t[0],l),t[1]=Math.max(t[1],u)}))}function l(){var t=n.maxSize;i.forEach((function(e){var n=e.datas,r=n.maxSize,i=n.startOffsetWidth,s=n.startOffsetHeight,l=o*(i?r[0]/i:0),u=a*(s?r[1]/s:0);t[0]=Math.min(t[0],l),t[1]=Math.min(t[1],u)}))}var u=oS(t,this,"dragControlStart",e,(function(e,r){return aS(t,e,n,r)}));s(),l();var c=function(e){r.setFixedDirection(e),u.forEach((function(r,o){r.setFixedDirection(e),aS(t,r.moveable,n,i[o])}))};n.setFixedDirection=c;var d=$x($x({},r),{targets:t.props.targets,events:u.map((function(t){return $x($x({},t),{setMin:function(e){t.setMin(e),s()},setMax:function(e){t.setMax(e),l()}})})),setFixedDirection:c,setMin:function(t){r.setMin(t),s()},setMax:function(t){r.setMax(t),l()}}),f=kE(t,"onResizeGroupStart",d);return n.isResize=!1!==f,!!n.isResize&&r},dragGroupControl:function(t,e){var n=e.datas;if(n.isResize){var r=aE(t.props,"resizable");SE(t,"onBeforeResize",(function(n){kE(t,"onBeforeResizeGroup",xE(t,e,$x($x({},n),{targets:r.targets}),!0))}));var i=this.dragControl(t,$x($x({},e),{isGroup:!0}));if(i){var o=i.boundingWidth,a=i.boundingHeight,s=i.dist,l=r.keepRatio,u=[o/(o-s[0]),a/(a-s[1])],c=n.fixedPosition,d=oS(t,this,"dragControl",e,(function(e,n){var r=Wx(Mb(Ib(t.rotation/180*Math.PI,3),[n.datas.originalX*u[0],n.datas.originalY*u[1],1],3),2),i=r[0],o=r[1];return $x($x({},n),{parentDist:null,parentScale:u,dragClient:Rb(c,[i,o]),parentKeepRatio:l})})),f=$x({targets:r.targets,events:d},i);return kE(t,"onResizeGroup",f),f}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isResize){this.dragControlEnd(t,e);var r=oS(t,this,"dragControlEnd",e);return kE(t,"onResizeGroupEnd",wE(t,e,{targets:t.props.targets,events:r})),n}},request:function(t){var e={},n=0,r=0,i=!1,o=t.getRect();return{isControl:!0,requestStart:function(t){var n;return i=t.useSnap,{datas:e,parentDirection:t.direction||[1,1],parentIsWidth:null===(n=null==t?void 0:t.horizontal)||void 0===n||n,useSnap:i}},request:function(t){return"offsetWidth"in t?n=t.offsetWidth-o.offsetWidth:"deltaWidth"in t&&(n+=t.deltaWidth),"offsetHeight"in t?r=t.offsetHeight-o.offsetHeight:"deltaHeight"in t&&(r+=t.deltaHeight),{datas:e,parentDist:[n,r],parentKeepRatio:t.keepRatio,useSnap:i}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:i}}}},unset:function(t){t.state.gestos.resizable=null}};function lk(t,e,n,r,i){var o=t.props.groupable,a=t.state,s=a.is3d?4:3,l=e.origin,u=Zk(t.state.rootMatrix,Tb([l[0],l[1]],o?[0,0]:[a.left,a.top]),s),c=Rb([i.left,i.top],u);e.startAbsoluteOrigin=c,e.prevDeg=tb(c,[n,r])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=nb(c,[n,r])}function uk(t,e,n){var r=n.defaultDeg,i=n.prevDeg,o=i%360,a=Math.floor(i/360);o<0&&(o+=360),o>t&&o>270&&t<90?++a:o<t&&o<90&&t>270&&--a;var s=e*(360*a+t-r);return n.prevDeg=r+s,s}function ck(t,e,n,r){return uk(tb(r.startAbsoluteOrigin,[t,e])/Math.PI*180,n,r)}function dk(t,e,n,r,i,o){var a=t.props.throttleRotate,s=void 0===a?0:a,l=n.prevSnapDeg,u=0,c=!1;if(o){var d=function(t,e,n,r){var i,o=t.props,a=null!==(i=o[TS])&&void 0!==i?i:5,s=o[PS];if(ES(t,"rotatable")){var l=e.pos1,u=e.pos2,c=e.pos3,d=e.pos4,f=e.origin,p=n*Math.PI/180,h=[l,u,c,d].map((function(t){return Tb(t,f)})),g=h.map((function(t){return zb(t,p)})),v=Ux(Ux([],Wx(yS(t,h,g,f,n)),!1),Wx(XS(t,h,g,f,n)),!1);v.sort((function(t,e){return YE(t-n)-YE(e-n)}));var m=v.length>0;if(m)return{isSnap:m,dist:m?v[0]:n}}if((null==s?void 0:s.length)&&a){var y=s.slice().sort((function(t,e){return Ok(t,r)-Ok(e,r)}))[0];if(Ok(y,r)<=a)return{isSnap:!0,dist:n+Dk(r,y)-r}}return{isSnap:!1,dist:n}}(t,e,r,i+r);c=d.isSnap,u=i+d.dist}c||(u=rb(i+r,s));var f=u-i;return n.prevSnapDeg=f,[f-l,f,u]}function fk(t,e,n){var r=Wx(e,4),i=r[0],o=r[1],a=r[2],s=r[3];if("none"===t)return[];if(_y(t))return t.map((function(t){return fk(t,[i,o,a,s],n)[0]}));var l=Wx((t||"top").split("-"),2),u=l[0],c=l[1],d=[i,o];"left"===u?d=[a,i]:"right"===u?d=[o,s]:"bottom"===u&&(d=[s,a]);var f=[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2],p=lE(d,n);if(c){var h="top"===c||"left"===c,g="bottom"===u||"left"===u;f=d[h&&!g||!h&&g?0:1]}return[[f,p]]}function pk(t,e){if(e.isRequest)return"rotatable"===e.requestAble;var n=e.inputEvent.target;if(ob(n,Ik("rotation-control"))||t.props.rotateAroundControls&&ob(n,Ik("around-control"))||ob(n,Ik("control"))&&ob(n,Ik("rotatable")))return!0;var r=t.props.rotationTarget;return!!r&&NE(r,!0).some((function(t){return!!t&&(n===t||n.contains(t))}))}var hk={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[".rotation {\nposition: absolute;\nheight: 40px;\nwidth: 1px;\ntransform-origin: 50% 100%;\nheight: calc(40px * var(--zoom));\ntop: auto;\nleft: 0;\nbottom: 100%;\nwill-change: transform;\n}\n.rotation .rotation-line {\ndisplay: block;\nwidth: 100%;\nheight: 100%;\ntransform-origin: 50% 50%;\n}\n.rotation .rotation-control {\nborder-color: #4af;\nborder-color: var(--moveable-color);\nbackground:#fff;\ncursor: alias;\n}\n:global .view-rotation-dragging, .rotatable.direction.control {\ncursor: alias;\n}\n.rotatable.direction.control.move {\ncursor: move;\n}\n"],viewClassName:function(t){return t.isDragging("rotatable")?Ik("view-rotation-dragging"):""},render:function(t,e){var n=aE(t.props,"rotatable"),r=n.rotatable,i=n.rotationPosition,o=n.zoom,a=n.renderDirections,s=n.rotateAroundControls,l=n.resolveAblesWithRotatable,u=t.getState(),c=u.renderPoses,d=u.direction;if(!r)return null;var f=fk(i,c,d),p=[];if(f.forEach((function(t,n){var r=Wx(t,2),i=r[0],a=r[1];p.push(e.createElement("div",{key:"rotation".concat(n),className:Ik("rotation"),style:{transform:"translate(-50%) translate(".concat(i[0],"px, ").concat(i[1],"px) rotate(").concat(a,"rad)")}},e.createElement("div",{className:Ik("line rotation-line"),style:{transform:"scaleX(".concat(o,")")}}),e.createElement("div",{className:Ik("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(o,")")}})))})),a){var h=Yy(l||{}),g={};h.forEach((function(t){l[t].forEach((function(e){g[e]=t}))}));var v=[];_y(a)&&(v=a.map((function(t){var e=g[t];return{data:e?{resolve:e}:{},classNames:e?["move"]:[],dir:t}}))),p.push.apply(p,Ux([],Wx(sS(t,"rotatable",v,e)),!1))}return s&&p.push.apply(p,Ux([],Wx(pS(t,e)),!1)),p},dragControlCondition:pk,dragControlStart:function(t,e){var n,r,i=e.datas,o=e.clientX,a=e.clientY,s=e.parentRotate,l=e.parentFlag,u=e.isPinch,c=e.isRequest,d=t.state,f=d.target,p=d.left,h=d.top,g=d.direction,v=d.beforeDirection,m=d.targetTransform,y=d.moveableClientRect,b=d.offsetMatrix,x=d.targetMatrix,w=d.allMatrix,S=d.width,k=d.height;if(!c&&!f)return!1;var E=t.getRect();i.rect=E,i.transform=m,i.left=p,i.top=h;var C=function(e){var n=ok(t.state,e);i.fixedDirection=n.fixedDirection,i.fixedOffset=n.fixedOffset,i.fixedPosition=n.fixedPosition,I&&I.setFixedPosition(e)},R=function(e){var n=function(t,e){var n=t.allMatrix,r=t.is3d,i=t.width,o=t.height,a=r?4:3;return{fixedPosition:Zk(n,[i/2*(1+e[0]),o/2*(1+e[1])],a),fixedDirection:e,fixedOffset:[0,0]}}(t.state,e);i.fixedDirection=n.fixedDirection,i.fixedOffset=n.fixedOffset,i.fixedPosition=n.fixedPosition,I&&I.setFixedDirection(e)},T=o,P=a;if(c||u||l){var M=s||0;i.beforeInfo={origin:E.beforeOrigin,prevDeg:M,defaultDeg:M,prevSnapDeg:0,startDist:0},i.afterInfo=$x($x({},i.beforeInfo),{origin:E.origin}),i.absoluteInfo=$x($x({},i.beforeInfo),{origin:E.origin,startValue:M})}else{var D=null===(r=e.inputEvent)||void 0===r?void 0:r.target;if(D){var O=D.getAttribute("data-direction")||"",_=yw[O];if(_){i.isControl=!0,i.isAroundControl=ob(D,Ik("around-control")),i.controlDirection=_;var A=D.getAttribute("data-resolve");A&&(i.resolveAble=A);var z=function(t,e,n){var r=16===t.length?4:3,i=e.map((function(e){return Zk(t,e,r)})),o=n.left,a=n.top;return i.map((function(t){return[t[0]+o,t[1]+a]}))}(d.rootMatrix,d.renderPoses,y);n=Wx(Bw(z,_),2),T=n[0],P=n[1]}}i.beforeInfo={origin:E.beforeOrigin},i.afterInfo={origin:E.origin},i.absoluteInfo={origin:E.origin,startValue:E.rotation};var B=C;C=function(e){var n=d.is3d?4:3,r=Wx(Rb(wb(x,n),e),2),o=r[0],a=r[1],s=Mb(b,Sb([o,a],n)),l=Mb(w,Sb([e[0],e[1]],n));B(e);var u=d.posDelta;i.beforeInfo.origin=Tb(s,u),i.afterInfo.origin=Tb(l,u),i.absoluteInfo.origin=Tb(l,u),lk(t,i.beforeInfo,T,P,y),lk(t,i.afterInfo,T,P,y),lk(t,i.absoluteInfo,T,P,y)},R=function(t){var e=Bw([[0,0],[S,0],[0,k],[S,k]],t);C(e)}}i.startClientX=T,i.startClientY=P,i.direction=g,i.beforeDirection=v,i.startValue=0,i.datas={},Lw(t,e,"rotate");var F=!1,I=!1;i.isControl&&i.resolveAble&&("resizable"===i.resolveAble&&(I=sk.dragControlStart(t,$x($x({},new kw("resizable").dragStart([0,0],e)),{parentPosition:i.controlPosition,parentFixedPosition:i.fixedPosition}))));I||(F=rk.dragStart(t,(new kw).dragStart([0,0],e))),C(function(t){var e=t.props,n=e.groupable,r=e.svgOrigin,i=t.getState(),o=i.offsetWidth,a=i.offsetHeight,s=i.svg,l=i.transformOrigin;if(!n&&s&&r)return $E(r,o,a);return l}(t));var L=xE(t,e,$x($x({set:function(t){i.startValue=t*Math.PI/180},setFixedDirection:R,setFixedPosition:C},Iw(t,e)),{dragStart:F,resizeStart:I})),N=kE(t,"onRotateStart",L);return i.isRotate=!1!==N,d.snapRenderInfo={request:e.isRequest},!!i.isRotate&&L},dragControl:function(t,e){var n,r,i,o=e.datas,a=e.clientDistX,s=e.clientDistY,l=e.parentRotate,u=e.parentFlag,c=e.isPinch,d=e.groupDelta,f=e.resolveMatrix,p=o.beforeDirection,h=o.beforeInfo,g=o.afterInfo,v=o.absoluteInfo,m=o.isRotate,y=o.startValue,b=o.rect,x=o.startClientX,w=o.startClientY;if(m){Tw(t,e,"rotate");var S,k,E,C,R,T,P,M,D,O=function(t){return Ew(t.datas.beforeTransform,[50,50],100,100).direction}(e),_=p*O,A=t.props.parentMoveable,z=180/Math.PI*y,B=v.startValue,F=!1,I=x+a,L=w+s;if(!u&&"parentDist"in e){var N=e.parentDist;k=N,R=N,M=N}else c||u?(k=uk(l,p,h),R=uk(l,_,g),M=uk(l,_,v)):(k=ck(I,L,p,h),R=ck(I,L,_,g),M=ck(I,L,_,v),F=!0);if(kE(t,"onBeforeRotate",xE(t,e,{beforeRotation:E=z+k,rotation:T=z+R,absoluteRotation:D=B+M,setRotation:function(t){k=R=t-z,M=R}},!0)),S=(n=Wx(dk(t,b,h,k,z,F),3))[0],k=n[1],E=n[2],C=(r=Wx(dk(t,b,g,R,z,F),3))[0],R=r[1],T=r[2],P=(i=Wx(dk(t,b,v,M,B,F),3))[0],M=i[1],D=i[2],P||C||S||A||f){var j=Pw(o,"rotate(".concat(T,"deg)"),"rotate(".concat(R,"deg)"));f&&(o.fixedPosition=Uw(t,o.targetAllTransform,o.fixedDirection,o.fixedOffset,o));var V=function(t,e,n){var r=n.fixedDirection,i=n.fixedPosition,o=n.fixedOffset;return Hw(t,"rotate(".concat(e,"deg)"),r,i,o,n)}(t,R,o),q=Tb(Rb(d||[0,0],V),o.prevInverseDist||[0,0]);o.prevInverseDist=V,o.requestValue=null;var G=Ww(t,j,q,c,e),$=G,W=nb([I,L],v.startAbsoluteOrigin)-v.startDist,U=void 0;if("resizable"===o.resolveAble){var H=sk.dragControl(t,$x($x({},Sw(e,t.state,[e.deltaX,e.deltaY],!!c,!1,"resizable")),{resolveMatrix:!0,parentDistance:W}));H&&(U=H,$=bE($,H,e))}var Y=xE(t,e,$x($x({delta:C,dist:R,rotate:T,rotation:T,beforeDist:k,beforeDelta:S,beforeRotate:E,beforeRotation:E,absoluteDist:M,absoluteDelta:P,absoluteRotate:D,absoluteRotation:D,isPinch:!!c,resize:U},G),$));return kE(t,"onRotate",Y),Y}}},dragControlEnd:function(t,e){var n=e.datas;if(n.isRotate){n.isRotate=!1;var r=wE(t,e,{});return kE(t,"onRotateEnd",r),r}},dragGroupControlCondition:pk,dragGroupControlStart:function(t,e){var n=e.datas,r=t.state,i=r.left,o=r.top,a=r.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(n.beforeDirection*t.rotation);var l=oS(t,this,"dragControlStart",e,(function(t,e){var n=t.state,r=n.left,s=n.top,l=n.beforeOrigin,u=Rb(Tb([r,s],[i,o]),Tb(l,a));return e.datas.startGroupClient=u,e.datas.groupClient=u,$x($x({},e),{parentRotate:0})})),u=kE(t,"onRotateGroupStart",$x($x({},s),{targets:t.props.targets,events:l}));return n.isRotate=!1!==u,!!n.isRotate&&s},dragGroupControl:function(t,e){var n=e.datas;if(n.isRotate){SE(t,"onBeforeRotate",(function(n){kE(t,"onBeforeRotateGroup",xE(t,e,$x($x({},n),{targets:t.props.targets}),!0))}));var r=this.dragControl(t,e);if(r){var i=n.beforeDirection,o=r.beforeDist,a=o/180*Math.PI,s=oS(t,this,"dragControl",e,(function(t,e){var n=e.datas.startGroupClient,r=Wx(e.datas.groupClient,2),s=r[0],l=r[1],u=Wx(zb(n,a*i),2),c=u[0],d=u[1],f=[c-s,d-l];return e.datas.groupClient=[c,d],$x($x({},e),{parentRotate:o,groupDelta:f})}));t.rotation=i*r.beforeRotation;var l=$x({targets:t.props.targets,events:s,set:function(e){t.rotation=e},setGroupRotation:function(e){t.rotation=e}},r);return kE(t,"onRotateGroup",l),l}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isRotate){this.dragControlEnd(t,e);var r=oS(t,this,"dragControlEnd",e);return kE(t,"onRotateGroupEnd",wE(t,e,{targets:t.props.targets,events:r})),n}},request:function(t){var e={},n=0,r=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaRotate"in t?n+=t.deltaRotate:"rotate"in t&&(n=t.rotate-r),{datas:e,parentDist:n}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function gk(t,e){return function(t,e){var n,r=t.direction,i=t.classNames,o=t.size,a=t.pos,s=t.zoom,l=t.key,u="horizontal"===r,c=u?"Y":"X";return e.createElement("div",{key:l,className:i.join(" "),style:(n={},n[u?"width":"height"]="".concat(o),n.transform="translate(".concat(a[0],", ").concat(a[1],") translate").concat(c,"(-50%) scale").concat(c,"(").concat(s,")"),n)})}($x($x({},t),{classNames:Ux([Ik("line","guideline",t.direction)],Wx(t.classNames),!1).filter((function(t){return t})),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map((function(t){return"".concat(rb(t,.1),"px")}))}),e)}function vk(t,e,n,r,i,o,a,s){var l=t.props.zoom;return n.map((function(t,n){var u=t.type,c=t.pos,d=[0,0];return d[a]=r,d[a?0:1]=-i+c,gk({key:"".concat(e,"TargetGuideline").concat(n),classNames:[Ik("target","bold",u)],posValue:d,sizeValue:o,zoom:l,direction:e},s)}))}function mk(t,e,n,r,i,o){var a=t.props,s=a.zoom,l=a.isDisplayInnerSnapDigit,u="horizontal"===e?SS:kS,c=i[u.start],d=i[u.end];return n.filter((function(t){var e=t.hide,n=t.elementRect;if(e)return!1;if(l&&n){var r=n.rect;if(r[u.start]<=c&&d<=r[u.end])return!1}return!0})).map((function(t,n){var i=t.pos,a=t.size,l=t.element,u=t.className,c=[-r[0]+i[0],-r[1]+i[1]];return gk({key:"".concat(e,"-default-guideline-").concat(n),classNames:l?[Ik("bold"),u]:[Ik("normal"),u],direction:e,posValue:c,sizeValue:a,zoom:s},o)}))}function yk(t,e,n,r,i,o,a,s){var l,u=t.props,c=u.snapDigit,d=void 0===c?0:c,f=u.isDisplaySnapDigit,p=void 0===f||f,h=u.snapDistFormat,g=void 0===h?function(t,e){return t}:h,v=u.zoom,m="horizontal"===e?"X":"Y",y="vertical"===e?"height":"width",b=Math.abs(i),x=p?parseFloat(b.toFixed(d)):0;return s.createElement("div",{key:"".concat(e,"-").concat(n,"-guideline-").concat(r),className:Ik("guideline-group",e),style:(l={left:"".concat(o[0],"px"),top:"".concat(o[1],"px")},l[y]="".concat(b,"px"),l)},gk({direction:e,classNames:[Ik(n),a],size:"100%",posValue:[0,0],sizeValue:b,zoom:v},s),s.createElement("div",{className:Ik("size-value","gap"),style:{transform:"translate".concat(m,"(-50%) scale(").concat(v,")")}},x>0?g(x,e):""))}function bk(t,e,n,r,i){var o=t.props.isDisplayInnerSnapDigit,a=[];return["vertical","horizontal"].forEach((function(s){var l=e.filter((function(t){return t.type===s})),u="vertical"===s?1:0,c=u?0:1,d=function(t,e,n,r){var i="vertical"===t?0:1,o="vertical"===t?1:0,a=i?SS:kS,s=n[a.start],l=n[a.end];return PE(e,(function(t){return t.pos[i]})).map((function(e){var n=[],u=[];return e.forEach((function(e){var c,d,f=e.element,p=e.elementRect.rect;if(p[a.end]<s)n.push(e);else if(l<p[a.start])u.push(e);else if(p[a.start]<=s&&l<=p[a.end]&&r){var h=e.pos,g={element:f,rect:$x($x({},p),(c={},c[a.end]=p[a.start],c))},v={element:f,rect:$x($x({},p),(d={},d[a.start]=p[a.end],d))},m=[0,0],y=[0,0];m[i]=h[i],m[o]=h[o],y[i]=h[i],y[o]=h[o]+e.size,n.push({type:t,pos:m,size:0,elementRect:g,direction:"",elementDirection:"end"}),u.push({type:t,pos:y,size:0,elementRect:v,direction:"",elementDirection:"start"})}})),n.sort((function(t,e){return e.pos[o]-t.pos[o]})),u.sort((function(t,e){return t.pos[o]-e.pos[o]})),{total:e,start:n,end:u,inner:[]}}))}(s,l,r,o),f=u?kS:SS,p=u?SS:kS,h=r[f.start],g=r[f.end];d.forEach((function(e){var o=e.total,l=e.start,d=e.end,v=e.inner,m=n[c]+o[0].pos[c]-r[p.start],y=r;l.forEach((function(e){var r=e.elementRect.rect,o=y[f.start]-r[f.end];if(o>0){var l=[0,0];l[u]=n[u]+y[f.start]-h-o,l[c]=m,a.push(yk(t,s,"dashed",a.length,o,l,e.className,i))}y=r})),y=r,d.forEach((function(e){var r=e.elementRect.rect,o=r[f.start]-y[f.end];if(o>0){var l=[0,0];l[u]=n[u]+y[f.end]-h,l[c]=m,a.push(yk(t,s,"dashed",a.length,o,l,e.className,i))}y=r})),v.forEach((function(e){var r=e.elementRect.rect,o=h-r[f.start],l=r[f.end]-g,d=[0,0],p=[0,0];d[u]=n[u]-o,d[c]=m,p[u]=n[u]+g-h,p[c]=m,a.push(yk(t,s,"dashed",a.length,o,d,e.className,i)),a.push(yk(t,s,"dashed",a.length,l,p,e.className,i))}))}))})),a}function xk(t){var e,n,r=t.state,i=r.containerClientRect,o=r.hasFixed,a=i.overflow,s=i.scrollHeight,l=i.scrollWidth,u=i.clientHeight,c=i.clientWidth,d=i.clientLeft,f=i.clientTop,p=t.props,h=p.snapGap,g=void 0===h||h,v=p.verticalGuidelines,m=p.horizontalGuidelines,y=p.snapThreshold,b=void 0===y?5:y,x=p.maxSnapElementGuidelineDistance,w=void 0===x?1/0:x,S=p.isDisplayGridGuidelines,k=tE(gE(t.state)),E=k.top,C=k.left,R=k.bottom,T=k.right,P={top:E,left:C,bottom:R,right:T,center:(C+T)/2,middle:(E+R)/2},M=function(t){var e=t.state,n=t.props.elementGuidelines,r=void 0===n?[]:n;if(!r.length)return e.elementRects=[],[];var i=(e.elementRects||[]).filter((function(t){return!t.refresh})),o=r.map((function(t){return Oy(t)&&"element"in t?$x($x({},t),{element:LE(t.element,!0)}):{element:LE(t,!0)}})).filter((function(t){return t.element})),a=(c=i.map((function(t){return t.element})),d=o.map((function(t){return t.element})),Kb(c,d,ex)),s=a.maintained,l=a.added,u=[];var c,d;s.forEach((function(t){var e=Wx(t,2),n=e[0],r=e[1];u[r]=i[n]})),function(t,e){if(!e.length)return[];var n=t.props.groupable,r=t.state,i=r.containerClientRect,o=r.rootMatrix,a=r.is3d,s=r.offsetDelta,l=a?4:3,u=Wx(function(t,e,n){var r=Zk(t,[e.clientLeft,e.clientTop],n);return[e.left+r[0],e.top+r[1]]}(o,i,l),2),c=u[0],d=u[1],f=n?0:s[0],p=n?0:s[1];return e.map((function(t){var e=t.element.getBoundingClientRect(),n=e.left-c-f,r=e.top-d-p,i=r+e.height,a=n+e.width,s=Wx(OE(o,[n,r],l),2),u=s[0],h=s[1],g=Wx(OE(o,[a,i],l),2),v=g[0],m=g[1];return $x($x({},t),{rect:{left:u,right:v,top:h,bottom:m,center:(u+v)/2,middle:(h+m)/2}})}))}(t,l.map((function(t){return o[t]}))).map((function(t,e){u[l[e]]=t})),e.elementRects=u;var f=CS(t.props.elementSnapDirections),p=[];return u.forEach((function(t){var e=t.element,n=t.top,r=void 0===n?f.top:n,i=t.left,o=void 0===i?f.left:i,a=t.right,s=void 0===a?f.right:a,l=t.bottom,u=void 0===l?f.bottom:l,c=t.center,d=void 0===c?f.center:c,h=t.middle,g=void 0===h?f.middle:h,v=t.className,m=t.rect,y=RS({top:r,right:s,left:o,bottom:u,center:d,middle:g},m),b=y.horizontal,x=y.vertical,w=y.horizontalNames,S=y.verticalNames,k=m.top,E=m.left,C=m.right-E,R=m.bottom-k,T=[C,R];x.forEach((function(n,r){p.push({type:"vertical",element:e,pos:[rb(n,.1),k],size:R,sizes:T,className:v,elementRect:t,elementDirection:wS[S[r]]||S[r],direction:""})})),b.forEach((function(n,r){p.push({type:"horizontal",element:e,pos:[E,rb(n,.1)],size:C,sizes:T,className:v,elementRect:t,elementDirection:wS[w[r]]||w[r],direction:""})}))})),p}(t),D=Ux([],Wx(M),!1),O=(null!==(n=null===(e=r.snapThresholdInfo)||void 0===e?void 0:e.multiples)&&void 0!==n?n:[1,1]).map((function(t){return t*b}));g&&D.push.apply(D,Ux([],Wx(function(t,e,n){var r=t.props,i=r.maxSnapElementGuidelineDistance,o=void 0===i?1/0:i,a=r.maxSnapElementGapDistance,s=void 0===a?1/0:a,l=t.state.elementRects,u=[];return[["vertical",SS,kS],["horizontal",kS,SS]].forEach((function(t){var r=Wx(t,3),i=r[0],a=r[1],c=r[2],d=e[a.start],f=e[a.end],p=e[a.center],h=e[c.start],g=e[c.end],v={left:n[0],top:n[1]};function m(t){var e=t.rect,n=v[a.start];return e[a.end]<d+n?d-e[a.end]:f-n<e[a.start]?e[a.start]-f:-1}var y=l.filter((function(t){var e=t.rect;return!(e[c.start]>g||e[c.end]<h)&&m(t)>0})).sort((function(t,e){return m(t)-m(e)})),b=[];y.forEach((function(t){y.forEach((function(e){if(t!==e){var n=t.rect,r=e.rect,i=n[c.start],o=n[c.end],a=r[c.start];i>r[c.end]||a>o||b.push([t,e])}}))})),b.forEach((function(t){var n=Wx(t,2),r=n[0],l=n[1],c=r.rect,h=l.rect,g=c[a.start],m=c[a.end],y=h[a.start],b=h[a.end],x=v[a.start],w=0,S=0,k=!1,E=!1,C=!1;if(m<=d&&f<=y){if(E=!0,YE((S=m+(w=(y-m-(f-d))/2)+(f-d)/2)-p)>x)return}else if(m<y&&b<d+x){if(k=!0,YE((S=b+(w=y-m))-d)>x)return}else{if(!(m<y&&f-x<g))return;if(C=!0,YE((S=g-(w=y-m))-f)>x)return}w&&wk(e,h,i,o)&&(w>s||u.push({type:i,pos:"vertical"===i?[S,0]:[0,S],element:l.element,size:0,className:l.className,isStart:k,isCenter:E,isEnd:C,gap:w,hide:!0,gapRects:[r,l],direction:"",elementDirection:""}))}))})),u}(t,P,O)),!1));var _=$x({},r.snapOffset||{left:0,top:0,bottom:0,right:0});if(D.push.apply(D,Ux([],Wx(function(t,e,n,r,i,o,a){void 0===r&&(r=0);void 0===i&&(i=0);var s=t.props,l=t.state,u=s.snapGridWidth,c=void 0===u?0:u,d=s.snapGridHeight,f=void 0===d?0:d,p=[],h=o.left,g=o.top,v=[0,0];!function(t,e,n,r){var i,o,a=t.props,s=t.state,l=a.snapGridAll,u=a.snapGridWidth,c=void 0===u?0:u,d=a.snapGridHeight,f=void 0===d?0:d,p=s.snapRenderInfo,h=p&&((null===(i=p.direction)||void 0===i?void 0:i[0])||(null===(o=p.direction)||void 0===o?void 0:o[1])),g=t.moveables;if(l&&g&&h&&(c||f)){if(s.snapThresholdInfo)return;s.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var v=t.getRect(),m=v.children,y=p.direction;if(m){var b=y.map((function(t,i){var o=0===i?{snapSize:c,posName:"left",sizeName:"width",clientOffset:r.left-e}:{snapSize:f,posName:"top",sizeName:"height",clientOffset:r.top-n},a=o.snapSize,s=o.posName,l=o.sizeName,u=o.clientOffset;if(!a)return{dir:t,multiple:1,snapSize:a,snapOffset:0};var d,p=v[l],h=v[s],g=(d=m.map((function(t){return[t[s]-h,t[l],p-t[l]-t[s]+h]})),d.reduce((function(t,e){return t.concat(e)}),[])).filter((function(t){return t})).sort((function(t,e){return t-e})),y=g[0],b=g.map((function(t){return rb(t/y,.1)*a})),x=1,w=rb(p/y,.1);for(x=1;x<=10&&!b.every((function(t){return t*x%1==0}));++x);var S=(1-t)/2,k=My(h-u,h-u+p,S,1-S);return{multiple:w*x,dir:t,snapSize:a,snapOffset:Math.round(k/a)}})),x=b.map((function(t){return t.multiple||1}));s.snapThresholdInfo.multiples=x,s.snapThresholdInfo.offset=b.map((function(t){return t.snapOffset})),b.forEach((function(t,e){t.snapSize}))}}else s.snapThresholdInfo=null}(t,r,i,o);var m=l.snapThresholdInfo,y=c,b=f;m&&(c*=m.multiples[0]||1,f*=m.multiples[1]||1,v=m.offset);if(f){for(var x=function(t){p.push({type:"horizontal",pos:[h,rb(v[1]*b+t-i+g,.1)],className:Ik("grid-guideline"),size:e,hide:!a,direction:"",grid:!0})},w=0;w<=2*n;w+=f)x(w);for(w=-f;w>=-n;w-=f)x(w)}if(c){for(x=function(t){p.push({type:"vertical",pos:[rb(v[0]*y+t-r+h,.1),g],className:Ik("grid-guideline"),size:n,hide:!a,direction:"",grid:!0})},w=0;w<=2*e;w+=c)x(w);for(w=-c;w>=-e;w-=c)x(w)}return p}(t,a?l:c,a?s:u,d,f,_,S)),!1)),o){var A=i.left,z=i.top;_.left+=A,_.top+=z,_.right+=A,_.bottom+=z}return D.push.apply(D,Ux([],Wx(kk(m||!1,v||!1,a?l:c,a?s:u,d,f,_)),!1)),D=D.filter((function(t){var e=t.element,n=t.elementRect,r=t.type;if(!e||!n)return!0;var i=n.rect;return wk(P,i,r,w)})),D}function wk(t,e,n,r){return"horizontal"===n?YE(t.right-e.left)<=r||YE(t.left-e.right)<=r||t.left<=e.right&&e.left<=t.right:"vertical"!==n||(YE(t.bottom-e.top)<=r||YE(t.top-e.bottom)<=r||t.top<=e.bottom&&e.top<=t.bottom)}function Sk(t,e){return t?t.map((function(t){var n=Oy(t)?t:{pos:t},r=n.pos;return zy(r)?n:$x($x({},n),{pos:Xy(r,e)})})):[]}function kk(t,e,n,r,i,o,a){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a={left:0,top:0,right:0,bottom:0});var s=[],l=a.left,u=a.top,c=a.bottom,d=n+a.right-l,f=r+c-u;return Sk(t,f).forEach((function(t){s.push({type:"horizontal",pos:[l,rb(t.pos-o+u,.1)],size:d,className:t.className,direction:""})})),Sk(e,d).forEach((function(t){s.push({type:"vertical",pos:[rb(t.pos-i+l,.1),u],size:f,className:t.className,direction:""})})),s}function Ek(t){var e=t.state,n=e.container,r=t.props.snapContainer||n;if(e.snapContainer===r&&e.guidelines&&e.guidelines.length)return!1;var i=e.containerClientRect,o={left:0,top:0,bottom:0,right:0};if(n!==r){var a=LE(r,!0);if(a){var s=dE(a),l=jE(e,[s.left-i.left,s.top-i.top]),u=jE(e,[s.right-i.right,s.bottom-i.bottom]);o.left=rb(l[0],1e-5),o.top=rb(l[1],1e-5),o.right=rb(u[0],1e-5),o.bottom=rb(u[1],1e-5)}}return e.snapContainer=r,e.snapOffset=o,e.guidelines=xk(t),e.enableSnap=!0,!0}function Ck(t,e,n,r,i,o){var a=Jk(t,e,n,o?4:3);return hE(a,Tb(i,Bw(a,r)))}function Rk(t){return t?t/YE(t):0}function Tk(t,e,n,r,i,o){var a=function(t,e,n){var r=[];if(n)1!==YE(e[0])||1!==YE(e[1])?r.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):r.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),r.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var i=t[0]?t:[1,1];[1,-1].forEach((function(t){[1,-1].forEach((function(n){var o=[t*i[0],n*i[1]];e[0]===o[0]&&e[1]===o[1]||r.push([e,o])}))}))}else t[0]?(1===YE(e[0])?[1]:[1,-1]).forEach((function(n){r.push([[e[0],-1],[n*t[0],-1]],[[e[0],0],[n*t[0],0]],[[e[0],1],[n*t[0],1]])})):t[1]&&(1===YE(e[1])?[1]:[1,-1]).forEach((function(n){r.push([[-1,e[1]],[-1,n*t[1]]],[[0,e[1]],[0,n*t[1]]],[[1,e[1]],[1,n*t[1]]])}));return r}(n,o.fixedDirection,r),s=HS(t,e,n,r),l=Ux(Ux([],Wx(ek(t,e,a,r,i,o)),!1),Wx(WS(t,s,o)),!1),u=NS(l,0),c=NS(l,1);return{width:{isBound:u.isBound,offset:u.offset[0]},height:{isBound:c.isBound,offset:c.offset[1]}}}function Pk(t,e,n,r,i,o,a,s){for(var l=gE(t.state),u=t.props.keepRatio,c=0,d=0,f=0;f<2;++f){var p=Tk(t,e(c,d),i,u,a,s),h=p.width,g=p.height,v=h.isBound,m=g.isBound,y=h.offset,b=g.offset;if(1===f&&(v||(y=0),m||(b=0)),0===f&&a&&!v&&!m)return[0,0];if(u){var x=YE(y)*(n?1/n:1),w=YE(b)*(r?1/r:1);(v&&m?x<w:m||!v&&x<w)?y=n*b/r:b=r*y/n}c+=y,d+=b}if(!u&&i[0]&&i[1]){var S=function(t,e,n,r,i){var o=[-n[0],-n[1]],a=t.state,s=a.width,l=a.height,u=t.props.bounds,c=1/0,d=1/0;if(u){var f=[[n[0],-n[1]],[-n[0],n[1]]],p=u.left,h=void 0===p?-1/0:p,g=u.top,v=void 0===g?-1/0:g,m=u.right,y=void 0===m?1/0:m,b=u.bottom,x=void 0===b?1/0:b;f.forEach((function(t){var n=t[0]!==o[0],a=t[1]!==o[1],u=Bw(e,t),f=360*tb(r,u)/Math.PI;if(a){var p=u.slice();(YE(f-360)<2||YE(f-180)<2)&&(p[1]=r[1]);var g=QS(r,p,(r[1]<u[1]?x:v)-u[1],!1,i),m=Wx(g.offset,2)[1],b=g.isOutside;isNaN(m)||(d=l+(b?1:-1)*YE(m))}if(n){p=u.slice(),(YE(f-90)<2||YE(f-270)<2)&&(p[0]=r[0]);var w=QS(r,p,(r[0]<u[0]?y:h)-u[0],!0,i),S=Wx(w.offset,1)[0],k=w.isOutside;isNaN(S)||(c=s+(k?1:-1)*YE(S))}}))}return{maxWidth:c,maxHeight:d}}(t,l,i,o,s),k=S.maxWidth,E=S.maxHeight,C=Wx(function(t,e,n,r,i,o,a,s,l){var u=Bw(e,a),c=JS(t,s,{vertical:[u[0]],horizontal:[u[1]]}),d=c.horizontal.offset,f=c.vertical.offset;if(rb(f,pw)||rb(d,pw)){var p=Wx(_w({datas:l,distX:-f,distY:-d}),2),h=p[0],g=p[1];return[Math.min(i||1/0,n+a[0]*h)-n,Math.min(o||1/0,r+a[1]*g)-r]}return[0,0]}(t,e(c,d).map((function(t){return t.map((function(t){return rb(t,pw)}))})),n+c,r+d,k,E,i,a,s),2);c+=y=C[0],d+=b=C[1]}return[c,d]}function Mk(t){return t<0&&(t=t%360+360),t%=360}function Dk(t,e){e=Mk(e);var n=Math.floor(t/360),r=360*n+360-e,i=360*n+e;return YE(t-r)<YE(t-i)?r:i}function Ok(t,e){t=Mk(t),e=Mk(e);var n=Mk(t-e);return Math.min(n,360-n)}function _k(t,e,n,r,i){if(!ES(t,"scalable"))return[0,0];var o=i.startOffsetWidth,a=i.startOffsetHeight,s=i.fixedPosition,l=i.fixedDirection,u=i.is3d,c=Pk(t,(function(t,n){return Ck(function(t,e){var n=t.transformOrigin,r=t.offsetMatrix,i=t.is3d,o=t.targetMatrix,a=i?4:3;return Fw(r,Cb(t.targetAllTransform||o,Nb(e,a),a),n,a)}(i,Rb(e,[t/o,n/a])),o,a,l,s,u)}),o,a,n,s,r,i);return[c[0]/o,c[1]/a]}function Ak(t){var e=[];return t.forEach((function(t){t.guidelineInfos.forEach((function(n){var r=n.guideline;Wy(e,(function(t){return t.guideline===r}))||(r.direction="",e.push({guideline:r,posInfo:t}))}))})),e.map((function(t){var e=t.guideline,n=t.posInfo;return $x($x({},e),{direction:n.direction})}))}function zk(t,e,n,r,i,o){var a=hS(gS(t,o),e,n),s=a.vertical,l=a.horizontal,u={left:!1,top:!1,right:!1,bottom:!1};s.forEach((function(t){t.isBound&&("start"===t.direction&&(u.left=!0),"end"===t.direction&&(u.right=!0),r.push({type:"bounds",pos:t.pos}))})),l.forEach((function(t){t.isBound&&("start"===t.direction&&(u.top=!0),"end"===t.direction&&(u.bottom=!0),i.push({type:"bounds",pos:t.pos}))}));var c=function(t){var e=t.props.innerBounds,n={left:!1,top:!1,right:!1,bottom:!1};if(!e)return{boundMap:n,vertical:[],horizontal:[]};var r=t.getRect(),i=[r.pos1,r.pos2,r.pos3,r.pos4],o=Bw(i,[0,0]),a=e.left,s=e.top,l=e.width,u=e.height,c=[[a,s],[a,s+u]],d=[[a,s],[a+l,s]],f=[[a+l,s],[a+l,s+u]],p=[[a,s+u],[a+l,s+u]],h=HS(t,i,[0,0],!1),g=[],v=[];return h.forEach((function(t){var e=t.line,r=t.lineConstants,i=jS(o,e),h=i.horizontal,m=i.vertical,y=$S(e,r,d,m,1,!0),b=$S(e,r,p,m,1,!0),x=$S(e,r,c,h,1,!0),w=$S(e,r,f,h,1,!0);y.isBound&&!n.top&&(g.push(s),n.top=!0),b.isBound&&!n.bottom&&(g.push(s+u),n.bottom=!0),x.isBound&&!n.left&&(v.push(a),n.left=!0),w.isBound&&!n.right&&(v.push(a+l),n.right=!0)})),{boundMap:n,horizontal:g,vertical:v}}(t),d=c.boundMap,f=c.vertical,p=c.horizontal;return f.forEach((function(t){$y(r,(function(e){var n=e.type,r=e.pos;return"bounds"===n&&r===t}))>=0||r.push({type:"bounds",pos:t})})),p.forEach((function(t){$y(i,(function(e){var n=e.type,r=e.pos;return"bounds"===n&&r===t}))>=0||i.push({type:"bounds",pos:t})})),{boundMap:u,innerBoundMap:d}}var Bk=IE("",["resizable","scalable"]),Fk={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",TS,PS,MS,DS,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[":host {\n--bounds-color: #d66;\n}\n.guideline {\npointer-events: none;\nz-index: 2;\n}\n.guideline.bounds {\nbackground: #d66;\nbackground: var(--bounds-color);\n}\n.guideline-group {\nposition: absolute;\ntop: 0;\nleft: 0;\n}\n.guideline-group .size-value {\nposition: absolute;\ncolor: #f55;\nfont-size: 12px;\nfont-size: calc(12px * var(--zoom));\nfont-weight: bold;\n}\n.guideline-group.horizontal .size-value {\ntransform-origin: 50% 100%;\ntransform: translateX(-50%);\nleft: 50%;\nbottom: 5px;\nbottom: calc(2px + 3px * var(--zoom));\n}\n.guideline-group.vertical .size-value {\ntransform-origin: 0% 50%;\ntop: 50%;\ntransform: translateY(-50%);\nleft: 5px;\nleft: calc(2px + 3px * var(--zoom));\n}\n.guideline.gap {\nbackground: #f55;\n}\n.size-value.gap {\ncolor: #f55;\n}\n"],render:function(t,e){var n=t.state,r=n.top,i=n.left,o=n.pos1,a=n.pos2,s=n.pos3,l=n.pos4,u=n.snapRenderInfo,c=t.props.snapRenderThreshold,d=void 0===c?1:c;if(!u||!u.render||!ES(t,""))return UE(t,"boundMap",{left:!1,top:!1,right:!1,bottom:!1},(function(t){return JSON.stringify(t)})),UE(t,"innerBoundMap",{left:!1,top:!1,right:!1,bottom:!1},(function(t){return JSON.stringify(t)})),[];n.guidelines=xk(t);var f=Math.min(o[0],a[0],s[0],l[0]),p=Math.min(o[1],a[1],s[1],l[1]),h=u.externalPoses||[],g=gE(t.state),v=[],m=[],y=[],b=[],x=[],w=tE(g),S=w.width,k=w.height,E=w.top,C=w.left,R=w.bottom,T=w.right,P={left:C,right:T,top:E,bottom:R,center:(C+T)/2,middle:(E+R)/2},M=h.length>0,D=M?tE(h):{};if(!u.request){if(u.direction&&x.push(IS(t,g,u.direction,d,d)),u.snap){var O=tE(g);u.center&&(O.middle=(O.top+O.bottom)/2,O.center=(O.left+O.right)/2),x.push(zS(t,O,d,d))}M&&(u.center&&(D.middle=(D.top+D.bottom)/2,D.center=(D.left+D.right)/2),x.push(zS(t,D,d,d))),x.forEach((function(t){var e=t.vertical.posInfos,n=t.horizontal.posInfos;v.push.apply(v,Ux([],Wx(e.filter((function(t){return t.guidelineInfos.some((function(t){return!t.guideline.hide}))})).map((function(t){return{type:"snap",pos:t.pos}}))),!1)),m.push.apply(m,Ux([],Wx(n.filter((function(t){return t.guidelineInfos.some((function(t){return!t.guideline.hide}))})).map((function(t){return{type:"snap",pos:t.pos}}))),!1)),y.push.apply(y,Ux([],Wx(Ak(e)),!1)),b.push.apply(b,Ux([],Wx(Ak(n)),!1))}))}var _=zk(t,[C,T],[E,R],v,m),A=_.boundMap,z=_.innerBoundMap;M&&zk(t,[D.left,D.right],[D.top,D.bottom],v,m,u.externalBounds);var B=Ux(Ux([],Wx(y),!1),Wx(b),!1),F=B.filter((function(t){return t.element&&!t.gapRects})),I=B.filter((function(t){return t.gapRects})).sort((function(t,e){return t.gap-e.gap}));kE(t,"onSnap",{guidelines:B.filter((function(t){return!t.element})),elements:F,gaps:I},!0);var L=UE(t,"boundMap",A,(function(t){return JSON.stringify(t)}),{left:!1,top:!1,right:!1,bottom:!1}),N=UE(t,"innerBoundMap",z,(function(t){return JSON.stringify(t)}),{left:!1,top:!1,right:!1,bottom:!1});return A!==L&&z!==N||kE(t,"onBound",{bounds:A,innerBounds:z},!0),Ux(Ux(Ux(Ux(Ux(Ux([],Wx(bk(t,F,[f,p],P,e)),!1),Wx(function(t,e,n,r,i){var o=[];return["horizontal","vertical"].forEach((function(a){var s=e.filter((function(t){return t.type===a})).slice(0,1),l="vertical"===a?0:1,u=l?0:1,c=l?kS:SS,d=l?SS:kS,f=r[c.start],p=r[c.end],h=r[d.start],g=r[d.end];s.forEach((function(e){var r=e.gap,a=e.gapRects,s=Math.max.apply(Math,Ux([h],Wx(a.map((function(t){return t.rect[d.start]}))),!1)),v=Math.min.apply(Math,Ux([g],Wx(a.map((function(t){return t.rect[d.end]}))),!1)),m=(s+v)/2;s!==v&&m!==(h+g)/2&&a.forEach((function(e){var a=e.rect,s=e.className,d=[n[0],n[1]];if(a[c.end]<f)d[l]+=a[c.end]-f;else{if(!(p<a[c.start]))return;d[l]+=a[c.start]-f-r}d[u]+=m-h,o.push(yk(t,l?"vertical":"horizontal","gap",o.length,r,d,s,i))}))}))})),o}(t,I,[f,p],P,e)),!1),Wx(mk(t,"horizontal",b,[i,r],P,e)),!1),Wx(mk(t,"vertical",y,[i,r],P,e)),!1),Wx(vk(t,"horizontal",m,f,r,S,0,e)),!1),Wx(vk(t,"vertical",v,p,i,k,1,e)),!1)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},Ek(t)},drag:function(t){var e=t.state;Ek(t)||(e.guidelines=xk(t)),e.snapRenderInfo&&(e.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){return!(!Bk(t,e)&&!pk(t,e))||(!e.isRequest&&e.inputEvent?ob(e.inputEvent.target,Ik("snap-control")):void 0)},dragControlStart:function(t){t.state.snapRenderInfo=null,Ek(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,Ek(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function Ik(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return vy.apply(void 0,Ux([uw],Wx(t),!1))}function Lk(t){t()}function Nk(t){return t&&"none"!==t?Oy(t)?t:Gb(t):[1,0,0,1,0,0]}function jk(t,e,n){return Eb(e,jb(n,e),t,jb(n.map((function(t){return-t})),e))}function Vk(t){return qk(EE(t,":before").transformOrigin).map((function(e,n){var r=qy(e),i=r.value,o=r.unit;return i*function(t,e,n){return"%"===e?Qk(t.ownerSVGElement)[n?"width":"height"]/100:1}(t,o,0===n)}))}function qk(t){return t?t.split(" "):["0","0"]}function Gk(t){var e=nS(t)("transform");if(e&&"none"!==e)return e;if("transform"in t){var n=t.transform.baseVal;if(!n)return"";var r=n.length;if(!r)return"";for(var i=[],o=function(t){var e=n[t].matrix;i.push("matrix(".concat(["a","b","c","d","e","f"].map((function(t){return e[t]})).join(", "),")"))},a=0;a<r;++a)o(a);return i.join(" ")}return""}function $k(t,e,n,r,i){var o,a,s,l,u=db(t)||fb(t),c=!1;if(!t||n)s=t;else{var d=null===(o=null==t?void 0:t.assignedSlot)||void 0===o?void 0:o.parentElement,f=t.parentElement;d?(c=!0,l=f,s=d):s=f}for(var p=!1,h=t===e||s===e,g="relative",v=1,m=parseFloat(null==i?void 0:i("zoom"))||1,y=null==i?void 0:i("position");s&&s!==u;){e===s&&(h=!0);var b=nS(s),x=s.tagName.toLowerCase(),w=Gk(s),S=b("willChange"),k=parseFloat(b("zoom"))||1;if(g=b("position"),r&&1!==k){v=k;break}if(!n&&r&&1!==m&&y&&"absolute"!==y||"svg"===x||"foreignobject"===x||"static"!==g||w&&"none"!==w||"transform"===S)break;var E=null===(a=null==t?void 0:t.assignedSlot)||void 0===a?void 0:a.parentNode,C=s.parentNode;E&&(c=!0,l=C);var R=C;if(R&&11===R.nodeType){p=!0,g=nS(s=R.host)("position");break}s=R,g="relative"}return{offsetZoom:v,hasSlot:c,parentSlotElement:l,isCustomElement:p,isStatic:"static"===g,isEnd:h||!s||s===u,offsetParent:s||u}}function Wk(t,e){var n,r,i,o=t.tagName.toLowerCase(),a=t.offsetLeft,s=t.offsetTop,l=nS(t),u=Dy(a),c=!u;return c||"svg"===o&&!t.ownerSVGElement?i=(r=qk(l("transformOrigin")).map((function(t){return parseFloat(t)}))).slice():(i=(r=tw?Vk(t):qk(l("transformOrigin")).map((function(t){return parseFloat(t)}))).slice(),c=!0,"svg"===o?(a=0,s=0):(n=Wx(function(t,e,n){var r=t.tagName.toLowerCase();if(!t.getBBox||!n&&"g"===r)return[0,0,0,0];var i=nS(t),o="fill-box"===i("transform-box"),a=t.getBBox(),s=Qk(t.ownerSVGElement),l=a.x,u=a.y;"foreignobject"!==r||l||u||(l=parseFloat(t.getAttribute("x"))||0,u=parseFloat(t.getAttribute("y"))||0);var c=l-s.x,d=u-s.y,f=o?e[0]:e[0]-c,p=o?e[1]:e[1]-d;return[c,d,f,p]}(t,r,t===e&&"g"===e.tagName.toLowerCase()),4),a=n[0],s=n[1],r[0]=n[2],r[1]=n[3])),{tagName:o,isSVG:u,hasOffset:c,offset:[a||0,s||0],origin:r,targetOrigin:i}}function Uk(t,e){var n=nS(t),r=nS(fb(t)),i=r("position");if(!(e||i&&"static"!==i))return[0,0];var o=parseInt(r("marginLeft"),10),a=parseInt(r("marginTop"),10);return"absolute"===n("position")&&("auto"===n("top")&&"auto"===n("bottom")||(a=0),"auto"===n("left")&&"auto"===n("right")||(o=0)),[o,a]}function Hk(t){t.forEach((function(t){var e=t.matrix;e&&(t.matrix=kb(e,3,4))}))}function Yk(t){for(var e=t.parentElement,n=!1,r=fb(t);e;){var i=EE(e).transform;if(i&&"none"!==i){n=!0;break}if(e===r)break;e=e.parentElement}return{fixedContainer:e||r,hasTransform:n}}function Xk(t,e){return void 0===e&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(Pb(t,!e).join(","),")")}function Qk(t){var e=t.clientWidth,n=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:n};var r=t.viewBox,i=r&&r.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||n,clientWidth:e,clientHeight:n}}function Kk(t,e){var n,r=Qk(t),i=r.width,o=r.height,a=r.clientWidth,s=r.clientHeight,l=a/i,u=s/o,c=t.preserveAspectRatio.baseVal,d=c.align,f=c.meetOrSlice,p=[0,0],h=[l,u],g=[0,0];if(1!==d){var v=(d-2)%3,m=Math.floor((d-2)/3);p[0]=i*v/2,p[1]=o*m/2;var y=2===f?Math.max(u,l):Math.min(l,u);h[0]=y,h[1]=y,g[0]=(a-i)/2*v,g[1]=(s-o)/2*m}var b=Nb(h,e);return n=Wx(g,2),b[e*(e-1)]=n[0],b[e*(e-1)+1]=n[1],jk(b,e,p)}function Zk(t,e,n){return Mb(t,Sb(e,n),n)}function Jk(t,e,n,r){return[[0,0],[e,0],[0,n],[e,n]].map((function(e){return Zk(t,e,r)}))}function tE(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]})),r=Math.min.apply(Math,Ux([],Wx(e),!1)),i=Math.min.apply(Math,Ux([],Wx(n),!1)),o=Math.max.apply(Math,Ux([],Wx(e),!1)),a=Math.max.apply(Math,Ux([],Wx(n),!1));return{left:r,top:i,right:o,bottom:a,width:o-r,height:a-i}}function eE(t,e,n,r){return tE(Jk(t,e,n,r))}function nE(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function rE(t,e){return nE([e[0]-t[0],e[1]-t[1]])}function iE(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=tb(t,e));var i=rE(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(r,"rad) scaleY(").concat(n,")"),width:"".concat(i,"px")}}function oE(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n.length,o=n.reduce((function(t,e){return t+e[0]}),0)/i,a=n.reduce((function(t,e){return t+e[1]}),0)/i;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(a,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function aE(t,e){var n=t[e];return Oy(n)?$x($x({},t),n):t}function sE(t){var e=t&&!Dy(t.offsetWidth),n=0,r=0,i=0,o=0,a=0,s=0,l=0,u=0,c=0,d=0,f=0,p=0,h=1/0,g=1/0,v=1/0,m=1/0,y=0,b=0,x=!1;if(t)if(!e&&t.ownerSVGElement){var w=t.getBBox();x=!0,a=n=w.width,s=r=w.height,l=n,u=r,i=n,o=r}else{var S=nS(t),k=t.style,E="border-box"===S("boxSizing"),C=parseFloat(S("borderLeftWidth"))||0,R=parseFloat(S("borderRightWidth"))||0,T=parseFloat(S("borderTopWidth"))||0,P=parseFloat(S("borderBottomWidth"))||0,M=(parseFloat(S("paddingLeft"))||0)+(parseFloat(S("paddingRight"))||0),D=(parseFloat(S("paddingTop"))||0)+(parseFloat(S("paddingBottom"))||0),O=M+(C+R),_=D+(T+P),A=S("position"),z=0,B=0;if("clientLeft"in t){var F=null;if("absolute"===A)F=$k(t,fb(t)).offsetParent;else F=t.parentElement;if(F){var I=nS(F);z=parseFloat(I("width")),B=parseFloat(I("height"))}}c=Math.max(M,Xy(S("minWidth"),z)||0),d=Math.max(D,Xy(S("minHeight"),B)||0),h=Xy(S("maxWidth"),z),g=Xy(S("maxHeight"),B),isNaN(h)&&(h=1/0),isNaN(g)&&(g=1/0),y=Xy(k.width,0)||0,b=Xy(k.height,0)||0,a=parseFloat(S("width"))||0,s=parseFloat(S("height"))||0,n=l=YE(a-y)<1?Qy(c,y||a,h):a,r=u=YE(s-b)<1?Qy(d,b||s,g):s,i=l,o=u,E?(v=h,m=g,f=c,p=d,l=n-O,u=r-_):(v=h+O,m=g+_,f=c+O,p=d+_,n=l+O,r=u+_),i=l+M,o=u+D}return{svg:x,offsetWidth:n,offsetHeight:r,clientWidth:i,clientHeight:o,contentWidth:l,contentHeight:u,inlineCSSWidth:y,inlineCSSHeight:b,cssWidth:a,cssHeight:s,minWidth:c,minHeight:d,maxWidth:h,maxHeight:g,minOffsetWidth:f,minOffsetHeight:p,maxOffsetWidth:v,maxOffsetHeight:m}}function lE(t,e){return tb(e>0?t[0]:t[1],e>0?t[1]:t[0])}function uE(t,e){var n=t===fb(t)||t===db(t),r={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return n&&(r.clientHeight=Math.max(e.height,r.clientHeight),r.scrollHeight=Math.max(e.height,r.scrollHeight)),r.overflow="visible"!==nS(t)("overflow"),$x($x({},e),r)}function cE(t,e,n,r){var i=t.left,o=t.right,a=t.top,s=t.bottom,l=e.top,u=e.left,c={left:u+i,top:l+a,right:u+o,bottom:l+s,width:o-i,height:s-a};return n&&r?uE(n,c):c}function dE(t,e){var n=0,r=0,i=0,o=0;if(t){var a=t.getBoundingClientRect();n=a.left,r=a.top,i=a.width,o=a.height}var s={left:n,top:r,width:i,height:o,right:n+i,bottom:r+o};return t&&e?uE(t,s):s}function fE(t,e,n,r){var i;if(t)i=t;else if(e)i=[0,0];else{i=pE(n.target,r)}return i}function pE(t,e){if(t){var n=t.getAttribute("data-rotation")||"",r=t.getAttribute("data-direction");if(e.deg=n,r){var i=[0,0];return r.indexOf("w")>-1&&(i[0]=-1),r.indexOf("e")>-1&&(i[0]=1),r.indexOf("n")>-1&&(i[1]=-1),r.indexOf("s")>-1&&(i[1]=1),i}}}function hE(t,e){return[Rb(e,t[0]),Rb(e,t[1]),Rb(e,t[2]),Rb(e,t[3])]}function gE(t){var e=t.left,n=t.top;return hE([t.pos1,t.pos2,t.pos3,t.pos4],[e,n])}function vE(t,e){t[e?"controlAbles":"targetAbles"].forEach((function(e){e.unset&&e.unset(t)}))}function mE(t,e){var n=e?"controlGesto":"targetGesto",r=t[n];!1===(null==r?void 0:r.isIdle())&&vE(t,e),null==r||r.unset(),t[n]=null}function yE(t,e){if(e){var n=Vw(e);n.nextStyle=$x($x({},n.nextStyle),t)}return{style:t,cssText:Yy(t).map((function(e){return"".concat((n=e,r="-",void 0===r&&(r="-"),n.replace(/([a-z])([A-Z])/g,(function(t,e,n){return""+e+r+n.toLowerCase()}))),": ").concat(t[e],";");var n,r})).join("")}}function bE(t,e,n){var r=e.afterTransform||e.transform;return $x($x({},yE($x($x($x({},t.style),e.style),{transform:r}),n)),{afterTransform:r,transform:t.transform})}function xE(t,e,n,r){var i=e.datas;i.datas||(i.datas={});var o=$x($x({},n),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isRequest:e.isRequest,isRequestChild:e.isRequestChild,isFirstDrag:!!e.isFirstDrag,isTrusted:!1!==e.isTrusted,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var t;null===(t=e.stop)||void 0===t||t.call(e)}});return i.isStartEvent?r||(i.lastEvent=o):i.isStartEvent=!0,o}function wE(t,e,n){var r=e.datas,i="isDrag"in n?n.isDrag:e.isDrag;return r.datas||(r.datas={}),$x($x({isDrag:i},n),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:r.lastEvent,isDouble:e.isDouble,datas:r.datas,isFirstDrag:!!e.isFirstDrag})}function SE(t,e,n){t._emitter.on(e,n)}function kE(t,e,n,r,i){return t.triggerEvent(e,n,r,i)}function EE(t,e){return pb(t).getComputedStyle(t,e)}function CE(t,e,n){var r={},i={};return t.filter((function(t){var o=t.name;if(r[o]||!e.some((function(e){return t[e]})))return!1;if(!n&&t.ableGroup){if(i[t.ableGroup])return!1;i[t.ableGroup]=!0}return r[o]=!0,!0}))}function RE(t,e){return t===e||null==t&&null==e}function TE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,r=0;r<n;++r){var i=t[r];if(!Dy(i))return i}return t[n]}function PE(t,e){var n=[],r=[];return t.forEach((function(i,o){var a=e(i,o,t),s=r.indexOf(a),l=n[s]||[];-1===s&&(r.push(a),n.push(l)),l.push(i)})),n}function ME(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function DE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return YE(e)-YE(t)})),t[0]}function OE(t,e,n){return Mb(xb(t,n),Sb(e,n),n)}function _E(t,e){var n,r=t.is3d?4:3;return n=Wx(OE(t.rootMatrix,[e.distX,e.distY],r),2),e.distX=n[0],e.distY=n[1],e}function AE(t,e,n,r){if(!n[0]&&!n[1])return e;var i=Zk(t,[Rk(n[0]||1),0],r),o=Zk(t,[0,Rk(n[1]||1)],r);return Rb(e,Zk(t,[n[0]/nE(i),n[1]/nE(o)],r))}function zE(t,e,n){return n?"".concat(t/e*100,"%"):"".concat(t,"px")}function BE(t){return YE(t)<=hw?0:t}function FE(t){return function(e){if(!e.isDragging(t))return"";var n=function(t,e){var n,r=t.targetGesto,i=t.controlGesto;return(null==r?void 0:r.isFlag())&&(n=r.getEventData()[e]),!n&&(null==i?void 0:i.isFlag())&&(n=i.getEventData()[e]),n||{}}(e,t),r=n.deg;return r?Ik("view-control-rotation".concat(r)):""}}function IE(t,e){return void 0===e&&(e=[t]),function(n,r){if(r.isRequest)return!!e.some((function(t){return r.requestAble===t}))&&r.parentDirection;var i=r.inputEvent.target;return ob(i,Ik("direction"))&&(!t||ob(i,Ik(t)))}}function LE(t,e){return t?gb(t)?t:Ay(t)?e?document.querySelector(t):t:By(t)?t():hb(t)?t:"current"in t?t.current:t:null}function NE(t,e){return t?((n=t)&&Oy(n)&&!gb(n)&&(_y(n)||"length"in n)?[].slice.call(t):[t]).reduce((function(t,n){return Ay(n)&&e?Ux(Ux([],Wx(t),!1),Wx([].slice.call(document.querySelectorAll(n))),!1):(_y(n)?t.push(NE(n,e)):t.push(LE(n,e)),t)}),[]):[];var n}function jE(t,e){var n=t.rootMatrix,r=t.is3d,i=xb(n,r?4:3);return r||(i=kb(i,3,4)),i[12]=0,i[13]=0,i[14]=0,function(t,e){var n=Mb(t,[e[0],e[1]||0,e[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}(i,e)}function VE(t,e,n,r,i){var o=Wx(t,2),a=o[0],s=o[1],l=0,u=0;if(i&&a&&s){var c=tb([0,0],e),d=tb([0,0],r),f=nE(e),p=Math.cos(c-d)*f;if(r[0])if(r[1]){var h=r[0]*a,g=r[1]*s,v=Math.atan2(h+e[0],g+e[1]),m=Math.atan2(h,g);v<0&&(v+=2*Math.PI),m<0&&(m+=2*Math.PI);var y=0;(y=YE(v-m)<Math.PI/2||YE(v-m)>Math.PI/2*3?v-m:v-(m+=Math.PI))>2*Math.PI?y-=2*Math.PI:y>Math.PI?y=2*Math.PI-y:y<-Math.PI&&(y=-2*Math.PI-y);var b=nE([h+e[0],g+e[1]])*Math.cos(y);l=b*Math.sin(m)-h,u=b*Math.cos(m)-g,r[0]<0&&(l*=-1),r[1]<0&&(u*=-1)}else u=(l=p)/n;else l=(u=p)*n}else l=r[0]*e[0],u=r[1]*e[1];return[l,u]}function qE(t,e,n,r){var i,o=n.ratio,a=n.startOffsetWidth,s=n.startOffsetHeight,l=0,u=0,c=r.distX,d=r.distY,f=r.pinchScale,p=r.parentDistance,h=r.parentDist,g=r.parentScale,v=n.fixedDirection,m=[0,1].map((function(e){return YE(t[e]-v[e])})),y=[0,1].map((function(t){var e=m[t];return 0!==e&&(e=2/e),e}));if(h)l=h[0],u=h[1],e&&(l?u||(u=l/o):l=u*o);else if(zy(f))l=(f-1)*a,u=(f-1)*s;else if(g)l=(g[0]-1)*a,u=(g[1]-1)*s;else if(p){var b=a*m[0],x=s*m[1],w=nE([b,x]);l=p/w*b*y[0],u=p/w*x*y[1]}else{var S=_w({datas:n,distX:c,distY:d});S=y.map((function(t,e){return S[e]*t})),l=(i=Wx(VE([a,s],S,o,t,e),2))[0],u=i[1]}return{distWidth:l,distHeight:u}}function GE(t,e){if(e){if("left"===t)return{x:"0%",y:"50%"};if("top"===t)return{x:"50%",y:"50%"};if("center"===t)return{x:"50%",y:"50%"};if("right"===t)return{x:"100%",y:"50%"};if("bottom"===t)return{x:"50%",y:"100%"};var n=Wx(t.split(" "),2),r=n[0],i=n[1],o=GE(r||""),a=GE(i||""),s=$x($x({},o),a),l={x:"50%",y:"50%"};return s.x&&(l.x=s.x),s.y&&(l.y=s.y),s.value&&(s.x&&!s.y&&(l.y=s.value),!s.x&&s.y&&(l.x=s.value)),l}return"left"===t?{x:"0%"}:"right"===t?{x:"100%"}:"top"===t?{y:"0%"}:"bottom"===t?{y:"100%"}:t?"center"===t?{value:"50%"}:{value:t}:{}}function $E(t,e,n){var r=GE(t,!0),i=r.x,o=r.y;return[Xy(i,e)||0,Xy(o,n)||0]}function WE(t,e){return t.length===e.length&&t.every((function(t,n){var r=e[n],i=_y(t),o=_y(r);return i&&o?WE(t,r):!i&&!o&&t===r}))}function UE(t,e,n,r,i){var o=t._store,a=o[e];if(!(e in o)){if(null==i)return o[e]=n,n;o[e]=i,a=i}return a===n||r(a)===r(n)?a:(o[e]=n,n)}function HE(t){return t>=0?1:-1}function YE(t){return Math.abs(t)}function XE(t,e){return function(t){for(var e=[],n=0;n<t;++n)e.push(n);return e}(t).map((function(t){return e(t)}))}function QE(t){return zy(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}var KE=Hx("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,e){var n=e.datas,r=e.targets,i=e.angle,o=e.originalDatas,a=t.props,s=a.pinchable,l=a.ables;if(!s)return!1;var u="onPinch".concat(r?"Group":"","Start"),c="drag".concat(r?"Group":"","ControlStart"),d=(!0===s?t.controlAbles:l.filter((function(t){return s.indexOf(t.name)>-1}))).filter((function(t){return t.canPinch&&t[c]})),f=xE(t,e,{});r&&(f.targets=r);var p=kE(t,u,f);n.isPinch=!1!==p,n.ables=d;var h=n.isPinch;return!!h&&(d.forEach((function(n){if(o[n.name]=o[n.name]||{},n[c]){var r=$x($x({},e),{datas:o[n.name],parentRotate:i,isPinch:!0});n[c](t,r)}})),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},h)},pinch:function(t,e){var n=e.datas,r=e.scale,i=e.distance,o=e.originalDatas,a=e.inputEvent,s=e.targets,l=e.angle;if(n.isPinch){var u=i*(1-1/r),c=xE(t,e,{});s&&(c.targets=s);var d="onPinch".concat(s?"Group":"");kE(t,d,c);var f=n.ables,p="drag".concat(s?"Group":"","Control");return f.forEach((function(n){n[p]&&n[p](t,$x($x({},e),{datas:o[n.name],inputEvent:a,resolveMatrix:!0,pinchScale:r,parentDistance:u,parentRotate:l,isPinch:!0}))})),c}},pinchEnd:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,o=e.targets,a=e.originalDatas;if(n.isPinch){var s="onPinch".concat(o?"Group":"","End"),l=wE(t,e,{isDrag:r});o&&(l.targets=o),kE(t,s,l);var u=n.ables,c="drag".concat(o?"Group":"","ControlEnd");return u.forEach((function(n){n[c]&&n[c](t,$x($x({},e),{isDrag:r,datas:a[n.name],inputEvent:i,isPinch:!0}))})),r}},pinchGroupStart:function(t,e){return this.pinchStart(t,$x($x({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,$x($x({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,$x($x({},e),{targets:t.props.targets}))}}),ZE=IE("scalable"),JE={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:dS("scalable"),dragControlCondition:ZE,viewClassName:FE("scalable"),dragControlStart:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,o=fE(e.parentDirection,r,i,n),a=t.state,s=a.width,l=a.height,u=a.targetTransform,c=a.target,d=a.pos1,f=a.pos2,p=a.pos4;if(!o||!c)return!1;r||Rw(t,e),n.datas={},n.transform=u,n.prevDist=[1,1],n.direction=o,n.startOffsetWidth=s,n.startOffsetHeight=l,n.startValue=[1,1];var h=!o[0]&&!o[1]||o[0]||!o[1];function g(t){n.ratio=t&&isFinite(t)?t:0}function v(t){var e=ik(n.startPositions,t);n.fixedDirection=e.fixedDirection,n.fixedPosition=e.fixedPosition,n.fixedOffset=e.fixedOffset}Lw(t,e,"scale"),n.isWidth=h,n.startPositions=gE(t.state),n.setFixedDirection=v,g(nb(d,f)/nb(f,p)),v([-o[0],-o[1]]);var m=function(t){n.minScaleSize=t},y=function(t){n.maxScaleSize=t};m([-1/0,-1/0]),y([1/0,1/0]);var b=xE(t,e,$x($x({direction:o,set:function(t){n.startValue=t},setRatio:g,setFixedDirection:v,setMinScaleSize:m,setMaxScaleSize:y},Iw(t,e)),{dragStart:rk.dragStart(t,(new kw).dragStart([0,0],e))})),x=kE(t,"onScaleStart",b);return n.startFixedDirection=n.fixedDirection,!1!==x&&(n.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:o}),!!n.isScale&&b},dragControl:function(t,e){Tw(t,e,"scale");var n=e.datas,r=e.parentKeepRatio,i=e.parentFlag,o=e.isPinch,a=e.dragClient,s=e.isRequest,l=e.useSnap,u=e.resolveMatrix,c=n.prevDist,d=n.direction,f=n.startOffsetWidth,p=n.startOffsetHeight,h=n.isScale,g=n.startValue,v=n.isWidth,m=n.ratio;if(!h)return!1;var y=t.props,b=y.throttleScale,x=y.parentMoveable,w=d;d[0]||d[1]||(w=[1,1]);var S=m&&(null!=r?r:y.keepRatio)||!1,k=t.state,E=[g[0],g[1]];function C(){var t=qE(w,S,n,e),r=t.distWidth,i=t.distHeight,o=f?(f+r)/f:1,a=p?(p+i)/p:1;g[0]||(E[0]=r/f),g[1]||(E[1]=i/p);var s=(w[0]||S?o:1)*E[0],l=(w[1]||S?a:1)*E[1];return 0===s&&(s=HE(c[0])*gw),0===l&&(l=HE(c[1])*gw),[s,l]}var R=C();if(!o&&t.props.groupable){var T=(k.snapRenderInfo||{}).direction;_y(T)&&(T[0]||T[1])&&(k.snapRenderInfo={direction:d,request:e.isRequest})}kE(t,"onBeforeScale",xE(t,e,{scale:R,setFixedDirection:function(t){return n.setFixedDirection(t),R=C()},startFixedDirection:n.startFixedDirection,setScale:function(t){R=t}},!0));var P,M,D=[R[0]/E[0],R[1]/E[1]],O=a,_=[0,0],A=HE(D[0]*D[1]),z=!a&&!i&&o;if(z||u?O=Uw(t,n.targetAllTransform,[0,0],[0,0],n):a||(O=n.fixedPosition),o||(_=_k(t,D,d,!l&&s,n)),S){w[0]&&w[1]&&_[0]&&_[1]&&(Math.abs(_[0]*f)>Math.abs(_[1]*p)?_[1]=0:_[0]=0);var B=!_[0]&&!_[1];if(B&&(v?D[0]=rb(D[0]*E[0],b)/E[0]:D[1]=rb(D[1]*E[1],b)/E[1]),w[0]&&!w[1]||_[0]&&!_[1]||B&&v){D[0]+=_[0];var F=f*D[0]*E[0]/m;D[1]=HE(A*D[0])*YE(F/p/E[1])}else if(!w[0]&&w[1]||!_[0]&&_[1]||B&&!v){D[1]+=_[1];var I=p*D[1]*E[1]*m;D[0]=HE(A*D[1])*YE(I/f/E[0])}}else D[0]+=_[0],D[1]+=_[1],_[0]||(D[0]=rb(D[0]*E[0],b)/E[0]),_[1]||(D[1]=rb(D[1]*E[1],b)/E[1]);0===D[0]&&(D[0]=HE(c[0])*gw),0===D[1]&&(D[1]=HE(c[1])*gw),P=D,M=[E[0],E[1]],R=[P[0]*M[0],P[1]*M[1]];var L=[f,p],N=[f*R[0],p*R[1]];N=Zy(N,n.minScaleSize,n.maxScaleSize,!!S&&m),R=XE(2,(function(t){return L[t]?N[t]/L[t]:N[t]})),D=XE(2,(function(t){return R[t]/E[t]}));var j=XE(2,(function(t){return c[t]?D[t]/c[t]:D[t]})),V="scale(".concat(D.join(", "),")"),q="scale(".concat(R.join(", "),")"),G=Pw(n,q,V),$=!g[0]||!g[1],W=function(t,e,n,r,i,o,a){return Hw(t,e,n,r,i,o,a)}(t,$?q:V,n.fixedDirection,O,n.fixedOffset,n,$),U=z?W:Tb(W,n.prevInverseDist||[0,0]);if(n.prevDist=D,n.prevInverseDist=W,R[0]===c[0]&&R[1]===c[1]&&U.every((function(t){return!t}))&&!x&&!z)return!1;var H=xE(t,e,$x({offsetWidth:f,offsetHeight:p,direction:d,scale:R,dist:D,delta:j,isPinch:!!o},Ww(t,G,U,o,e)));return kE(t,"onScale",H),H},dragControlEnd:function(t,e){var n=e.datas;if(!n.isScale)return!1;n.isScale=!1;var r=wE(t,e,{});return kE(t,"onScaleEnd",r),r},dragGroupControlCondition:ZE,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,e);if(!r)return!1;var i=rS(t,"resizable",e);n.moveableScale=t.scale;var o=oS(t,this,"dragControlStart",e,(function(e,r){return aS(t,e,n,r)})),a=function(e){r.setFixedDirection(e),o.forEach((function(r,o){r.setFixedDirection(e),aS(t,r.moveable,n,i[o])}))};n.setFixedDirection=a;var s=$x($x({},r),{targets:t.props.targets,events:o,setFixedDirection:a}),l=kE(t,"onScaleGroupStart",s);return n.isScale=!1!==l,!!n.isScale&&s},dragGroupControl:function(t,e){var n=e.datas;if(n.isScale){SE(t,"onBeforeScale",(function(n){kE(t,"onBeforeScaleGroup",xE(t,e,$x($x({},n),{targets:t.props.targets}),!0))}));var r=this.dragControl(t,e);if(r){var i=r.dist,o=n.moveableScale;t.scale=[i[0]*o[0],i[1]*o[1]];var a=t.props.keepRatio,s=n.fixedPosition,l=oS(t,this,"dragControl",e,(function(e,n){var r=Wx(Mb(Ib(t.rotation/180*Math.PI,3),[n.datas.originalX*i[0],n.datas.originalY*i[1],1],3),2),o=r[0],l=r[1];return $x($x({},n),{parentDist:null,parentScale:i,parentKeepRatio:a,dragClient:Rb(s,[o,l])})})),u=$x({targets:t.props.targets,events:l},r);return kE(t,"onScaleGroup",u),u}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isScale){this.dragControlEnd(t,e);var r=oS(t,this,"dragControlEnd",e);return kE(t,"onScaleGroupEnd",wE(t,e,{targets:t.props.targets,events:r})),n}},request:function(){var t={},e=0,n=0,r=!1;return{isControl:!0,requestStart:function(e){return r=e.useSnap,{datas:t,parentDirection:e.direction||[1,1],useSnap:r}},request:function(i){return e+=i.deltaWidth,n+=i.deltaHeight,{datas:t,parentDist:[e,n],parentKeepRatio:i.keepRatio,useSnap:r}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:r}}}}};function tC(t,e){return t.map((function(t,n){return My(t,e[n],1,2)}))}function eC(t,e,n){var r=tb(t,e),i=tb(t,n)-r;return i>=0?i:i+2*Math.PI}var nC={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:FE("warpable"),render:function(t,e){var n=t.props,r=n.resizable,i=n.scalable,o=n.warpable,a=n.zoom;if(r||i||!o)return[];var s=t.state,l=s.pos1,u=s.pos2,c=s.pos3,d=s.pos4,f=tC(l,u),p=tC(u,l),h=tC(l,c),g=tC(c,l),v=tC(c,d),m=tC(d,c),y=tC(u,d),b=tC(d,u);return Ux([e.createElement("div",{className:Ik("line"),key:"middeLine1",style:iE(f,v,a)}),e.createElement("div",{className:Ik("line"),key:"middeLine2",style:iE(p,m,a)}),e.createElement("div",{className:Ik("line"),key:"middeLine3",style:iE(h,y,a)}),e.createElement("div",{className:Ik("line"),key:"middeLine4",style:iE(g,b,a)})],Wx(fS(t,"warpable",e)),!1)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var n=e.inputEvent.target;return ob(n,Ik("direction"))&&ob(n,Ik("warpable"))},dragControlStart:function(t,e){var n=e.datas,r=e.inputEvent,i=t.props.target,o=pE(r.target,n);if(!o||!i)return!1;var a=t.state,s=a.transformOrigin,l=a.is3d,u=a.targetTransform,c=a.targetMatrix,d=a.width,f=a.height,p=a.left,h=a.top;return n.datas={},n.targetTransform=u,n.warpTargetMatrix=l?c:kb(c,3,4),n.targetInverseMatrix=bb(xb(n.warpTargetMatrix,4),3,4),n.direction=o,n.left=p,n.top=h,n.poses=[[0,0],[d,0],[0,f],[d,f]].map((function(t){return Tb(t,s)})),n.nextPoses=n.poses.map((function(t){var e=Wx(t,2),r=e[0],i=e[1];return Mb(n.warpTargetMatrix,[r,i,0,1],4)})),n.startValue=Lb(4),n.prevMatrix=Lb(4),n.absolutePoses=gE(a),n.posIndexes=Aw(o),Rw(t,e),Lw(t,e,"matrix3d"),a.snapRenderInfo={request:e.isRequest,direction:o},!1!==kE(t,"onWarpStart",xE(t,e,$x({set:function(t){n.startValue=t}},Iw(t,e))))&&(n.isWarp=!0),n.isWarp},dragControl:function(t,e){var n=e.datas,r=e.isRequest,i=e.distX,o=e.distY,a=n.targetInverseMatrix,s=n.prevMatrix,l=n.isWarp,u=n.startValue,c=n.poses,d=n.posIndexes,f=n.absolutePoses;if(!l)return!1;if(Tw(t,e,"matrix3d"),ES(t,"warpable")){var p=d.map((function(t){return f[t]}));p.length>1&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var h=JS(t,r,{horizontal:p.map((function(t){return t[1]+o})),vertical:p.map((function(t){return t[0]+i}))}),g=h.horizontal,v=h.vertical;o-=g.offset,i-=v.offset}var m=_w({datas:n,distX:i,distY:o},!0),y=n.nextPoses.slice();if(d.forEach((function(t){y[t]=Rb(y[t],m)})),!fw.every((function(t){return e=t.map((function(t){return c[t]})),n=t.map((function(t){return y[t]})),r=eC(e[0],e[1],e[2]),i=eC(n[0],n[1],n[2]),o=Math.PI,!(r>=o&&i<=o||r<=o&&i>=o);var e,n,r,i,o})))return!1;var b=Vb(c[0],c[2],c[1],c[3],y[0],y[2],y[1],y[3]);if(!b.length)return!1;var x=Dw(n,Cb(a,b,4),!0),w=Cb(xb(s,4),x,4);n.prevMatrix=x;var S=Cb(u,x,4),k=Pw(n,"matrix3d(".concat(S.join(", "),")"),"matrix3d(".concat(x.join(", "),")"));return jw(e,k),kE(t,"onWarp",xE(t,e,$x({delta:w,matrix:S,dist:x,multiply:Cb,transform:k},yE({transform:k},e)))),!0},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isWarp&&(n.isWarp=!1,kE(t,"onWarpEnd",wE(t,e,{})),r)}},rC=Ik("area-pieces"),iC=Ik("area-piece"),oC=Ik("avoid"),aC=Ik("view-dragging");function sC(t){var e=t.areaElement;if(e){var n=t.state,r=n.width,i=n.height;sb(e,oC),e.style.cssText+="left: 0px; top: 0px; width: ".concat(r,"px; height: ").concat(i,"px")}}function lC(t){return t.createElement("div",{key:"area_pieces",className:rC},t.createElement("div",{className:iC}),t.createElement("div",{className:iC}),t.createElement("div",{className:iC}),t.createElement("div",{className:iC}))}var uC={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(t,e){var n=t.props,r=n.target,i=n.dragArea,o=n.groupable,a=n.passDragArea,s=t.getState(),l=s.width,u=s.height,c=s.renderPoses,d=a?Ik("area","pass"):Ik("area");if(o)return[e.createElement("div",{key:"area",ref:my(t,"areaElement"),className:d}),lC(e)];if(!r||!i)return[];var f=Vb([0,0],[l,0],[0,u],[l,u],c[0],c[1],c[2],c[3]),p=f.length?Xk(f,!0):"none";return[e.createElement("div",{key:"area",ref:my(t,"areaElement"),className:d,style:{top:"0px",left:"0px",width:"".concat(l,"px"),height:"".concat(u,"px"),transformOrigin:"0 0",transform:p}}),lC(e)]},dragStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY;if(!e.inputEvent)return!1;n.isDragArea=!1;var o=t.areaElement,a=t.state,s=a.moveableClientRect,l=a.renderPoses,u=a.rootMatrix,c=a.is3d,d=s.left,f=s.top,p=tE(l),h=p.left,g=p.top,v=p.width,m=p.height,y=Wx(OE(u,[r-d,i-f],c?4:3),2),b=y[0],x=y[1],w=[{left:h,top:g,width:v,height:(x-=g)-10},{left:h,top:g,width:(b-=h)-10,height:m},{left:h,top:g+x+10,width:v,height:m-x-10},{left:h+b+10,top:g,width:v-b-10,height:m}],S=[].slice.call(o.nextElementSibling.children);w.forEach((function(t,e){S[e].style.cssText="left: ".concat(t.left,"px;top: ").concat(t.top,"px; width: ").concat(t.width,"px; height: ").concat(t.height,"px;")})),ab(o,oC),a.disableNativeEvent=!0},drag:function(t,e){var n=e.datas,r=e.inputEvent;if(this.enableNativeEvent(t),!r)return!1;n.isDragArea||(n.isDragArea=!0,sC(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var n=e.inputEvent,r=e.datas;if(!n)return!1;r.isDragArea||sC(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){sC(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&Uy((function(){e.disableNativeEvent=!1}))}},cC=Hx("origin",{props:["origin","svgOrigin"],render:function(t,e){var n,r=t.props,i=r.zoom,o=r.svgOrigin,a=r.groupable,s=t.getState(),l=s.beforeOrigin,u=s.rotation,c=s.svg,d=s.allMatrix,f=s.is3d,p=s.left,h=s.top,g=s.offsetWidth,v=s.offsetHeight;if(!a&&c&&o){var m=Wx($E(o,g,v),2);n=oE(u,i,Tb(Zk(d,[m[0],m[1]],f?4:3),[p,h]))}else n=oE(u,i,l);return[e.createElement("div",{className:Ik("control","origin"),style:n,key:"beforeOrigin"})]}});function dC(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var fC={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(t,e){var n=t.props,r=n.scrollContainer,i=void 0===r?t.getContainer():r,o=n.scrollOptions,a=new fx,s=LE(i,!0);e.datas.dragScroll=a,t.state.dragScroll=a;var l=e.isControl?"controlGesto":"targetGesto",u=e.targets;a.on("scroll",(function(n){var r=n.container,i=n.direction,o=xE(t,e,{scrollContainer:r,direction:i}),a=u?"onScrollGroup":"onScroll";u&&(o.targets=u),kE(t,a,o)})).on("move",(function(e){var n=e.offsetX,r=e.offsetY,i=e.inputEvent;t[l].scrollBy(n,r,i.inputEvent,!1)})).on("scrollDrag",(function(e){(0,e.next)(t[l].getCurrentEvent())})),a.dragStart(e,$x({container:s},o))},checkScroll:function(t,e){var n=e.datas.dragScroll;if(n){var r=t.props,i=r.scrollContainer,o=void 0===i?t.getContainer():i,a=r.scrollThreshold,s=void 0===a?0:a,l=r.scrollThrottleTime,u=void 0===l?0:l,c=r.getScrollPosition,d=void 0===c?dC:c,f=r.scrollOptions;return n.drag(e,$x({container:o,threshold:s,throttleTime:u,getScrollPosition:function(t){return d({scrollContainer:t.container,direction:t.direction})}},f)),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,$x($x({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,$x($x({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,$x($x({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,$x($x({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,$x($x({},e),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,e){return this.drag(t,$x($x({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,$x($x({},e),{targets:t.props.targets}))},unset:function(t){var e,n=t.state;null===(e=n.dragScroll)||void 0===e||e.dragEnd(),n.dragScroll=null}},pC={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},hC=Hx("padding",{props:["padding"],render:function(t,e){var n=t.props;if(n.dragArea)return[];var r=QE(n.padding||{}),i=r.left,o=r.top,a=r.right,s=r.bottom,l=t.getState(),u=l.renderPoses,c=[l.pos1,l.pos2,l.pos3,l.pos4],d=[];return i>0&&d.push([0,2]),o>0&&d.push([0,1]),a>0&&d.push([1,3]),s>0&&d.push([2,3]),d.map((function(t,n){var r=Wx(t,2),i=r[0],o=r[1],a=Vb([0,0],[100,0],[0,100],[100,100],c[i],c[o],u[i],u[o]);if(a.length)return e.createElement("div",{key:"padding".concat(n),className:Ik("padding"),style:{transform:Xk(a,!0)}})}))}}),gC=["nw","ne","se","sw"];function vC(t,e){var n=t[0]+t[1],r=n>e?e/n:1;return t[0]*=r,t[1]=e-t[1]*r,t}var mC=[1,2,5,6],yC=[0,3,4,7],bC=[1,-1,-1,1],xC=[1,1,-1,-1];function wC(t,e,n,r,i,o,a,s){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=n),void 0===s&&(s=r);var l=[],u=!1,c=t.filter((function(t){return!t.virtual})),d=c.map((function(t){var c=t.horizontal,d=t.vertical,f=t.pos;if(d&&!u&&(u=!0,l.push("/")),u){var p=Math.max(0,1===d?f[1]-o:s-f[1]);return l.push(zE(p,r,e)),p}p=Math.max(0,1===c?f[0]-i:a-f[0]);return l.push(zE(p,n,e)),p}));return{radiusPoses:c,styles:l,raws:d}}function SC(t){for(var e=[0,0],n=[0,0],r=t.length,i=0;i<r;++i){var o=t[i];o.sub&&(o.horizontal&&(0===e[1]&&(e[0]=i),e[1]=i-e[0]+1,n[0]=i+1),o.vertical&&(0===n[1]&&(n[0]=i),n[1]=i-n[0]+1))}return{horizontalRange:e,verticalRange:n}}function kC(t,e,n,r,i,o,a){var s,l,u,c;void 0===o&&(o=[0,0]),void 0===a&&(a=!1);var d=t.indexOf("/"),f=(d>-1?t.slice(0,d):t).length,p=t.slice(0,f),h=t.slice(f+1),g=p.length,v=h.length,m=v>0,y=Wx(p,4),b=y[0],x=void 0===b?"0px":b,w=y[1],S=void 0===w?x:w,k=y[2],E=void 0===k?x:k,C=y[3],R=void 0===C?S:C,T=Wx(h,4),P=T[0],M=void 0===P?x:P,D=T[1],O=void 0===D?m?M:S:D,_=T[2],A=void 0===_?m?M:E:_,z=T[3],B=void 0===z?m?O:R:z,F=[x,S,E,R].map((function(t){return Xy(t,e)})),I=[M,O,A,B].map((function(t){return Xy(t,n)})),L=F.slice(),N=I.slice();s=Wx(vC([L[0],L[1]],e),2),L[0]=s[0],L[1]=s[1],l=Wx(vC([L[3],L[2]],e),2),L[3]=l[0],L[2]=l[1],u=Wx(vC([N[0],N[3]],n),2),N[0]=u[0],N[3]=u[1],c=Wx(vC([N[1],N[2]],n),2),N[1]=c[0],N[2]=c[1];var j=a?L:L.slice(0,Math.max(o[0],g)),V=a?N:N.slice(0,Math.max(o[1],v));return Ux(Ux([],Wx(j.map((function(t,e){var o=gC[e];return{virtual:e>=g,horizontal:bC[e],vertical:0,pos:[r+t,i+(-1===xC[e]?n:0)],sub:!0,raw:F[e],direction:o}}))),!1),Wx(V.map((function(t,n){var o=gC[n];return{virtual:n>=v,horizontal:0,vertical:xC[n],pos:[r+(-1===bC[n]?e:0),i+t],sub:!0,raw:I[n],direction:o}}))),!1)}var EC=[[0,-1,"n"],[1,0,"e"]],CC=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function RC(t,e,n){var r=t.props.clipRelative,i=t.state,o=i.width,a=i.height,s=e,l=s.type,u=s.poses,c="rect"===l,d="circle"===l;if("polygon"===l)return n.map((function(t){return"".concat(zE(t[0],o,r)," ").concat(zE(t[1],a,r))}));if(c||"inset"===l){var f=n[1][1],p=n[3][0],h=n[7][0],g=n[5][1];if(c)return[f,p,g,h].map((function(t){return"".concat(t,"px")}));var v=[f,o-p,a-g,h].map((function(t,e){return zE(t,e%2?o:a,r)}));if(n.length>8){var m=Wx(Tb(n[4],n[0]),2),y=m[0],b=m[1];v.push.apply(v,Ux(["round"],Wx(wC(u.slice(8).map((function(t,e){return $x($x({},t),{pos:n[e]})})),r,y,b,h,f,p,g).styles),!1))}return v}if(d||"ellipse"===l){var x=n[0],w=zE(YE(n[1][1]-x[1]),d?Math.sqrt((o*o+a*a)/2):a,r);return(v=d?[w]:[zE(YE(n[2][0]-x[0]),o,r),w]).push("at",zE(x[0],o,r),zE(x[1],a,r)),v}}function TC(t,e,n,r){var i=[r,(r+e)/2,e],o=[t,(t+n)/2,n];return CC.map((function(t){var e=Wx(t,3),n=e[0],r=e[1],a=e[2],s=i[n+1],l=o[r+1];return{vertical:YE(r),horizontal:YE(n),direction:a,pos:[s,l]}}))}function PC(t){var e=[1/0,-1/0],n=[1/0,-1/0];return t.forEach((function(t){var r=t.pos;e[0]=Math.min(e[0],r[0]),e[1]=Math.max(e[1],r[0]),n[0]=Math.min(n[0],r[1]),n[1]=Math.max(n[1],r[1])})),[YE(e[1]-e[0]),YE(n[1]-n[0])]}function MC(t,e,n,r,i){var o,a,s,l,u,c,d,f,p;if(t){var h=i;if(!h){var g=nS(t),v=g("clipPath");h="none"!==v?v:g("clip")}if(h&&"none"!==h&&"auto"!==h||(h=r)){var m=Vy(h),y=m.prefix,b=void 0===y?h:y,x=m.value,w=void 0===x?"":x,S="circle"===b,k=" ";if("polygon"===b){k=",";var E=(D=jy(w||"0% 0%, 100% 0%, 100% 100%, 0% 100%")).map((function(t){var r=Wx(t.split(" "),2),i=r[0],o=r[1];return{vertical:1,horizontal:1,pos:[Xy(i,e),Xy(o,n)]}})),C=mx(E.map((function(t){return t.pos})));return{type:b,clipText:h,poses:E,splitter:k,left:C.minX,right:C.maxX,top:C.minY,bottom:C.maxY}}if(S||"ellipse"===b){var R="",T="",P=0,M=0,D=Ny(w);if(S){var O;O=void 0===(a=(o=Wx(D,4))[0])?"50%":a,R=void 0===(s=o[2])?"50%":s,T=void 0===(l=o[3])?"50%":l,P=Xy(O,Math.sqrt((e*e+n*n)/2)),M=P}else{var _,A;_=void 0===(c=(u=Wx(D,5))[0])?"50%":c,A=void 0===(d=u[1])?"50%":d,R=void 0===(f=u[3])?"50%":f,T=void 0===(p=u[4])?"50%":p,P=Xy(_,e),M=Xy(A,n)}var z=[Xy(R,e),Xy(T,n)];E=Ux([{vertical:1,horizontal:1,pos:z,direction:"nesw"}],Wx(EC.slice(0,S?1:2).map((function(t){return{vertical:YE(t[1]),horizontal:t[0],direction:t[2],sub:!0,pos:[z[0]+t[0]*P,z[1]+t[1]*M]}}))),!1);return{type:b,clipText:h,radiusX:P,radiusY:M,left:z[0]-P,top:z[1]-M,right:z[0]+P,bottom:z[1]+M,poses:E,splitter:k}}if("inset"===b){var B=(D=Ny(w||"0 0 0 0")).indexOf("round"),F=(B>-1?D.slice(0,B):D).length,I=D.slice(F+1),L=Wx(D.slice(0,F),4),N=L[0],j=L[1],V=void 0===j?N:j,q=L[2],G=void 0===q?N:q,$=L[3],W=void 0===$?V:$,U=Wx([N,G].map((function(t){return Xy(t,n)})),2),H=U[0],Y=U[1],X=Wx([W,V].map((function(t){return Xy(t,e)})),2),Q=X[0],K=X[1],Z=e-K,J=n-Y,tt=kC(I,Z-Q,J-H,Q,H);return{type:"inset",clipText:h,poses:E=Ux(Ux([],Wx(TC(H,Z,J,Q)),!1),Wx(tt),!1),top:H,left:Q,right:Z,bottom:J,radius:I,splitter:k}}if("rect"===b){k=",";var et=Wx((D=jy(w||"0px, ".concat(e,"px, ").concat(n,"px, 0px"))).map((function(t){return qy(t).value})),4),nt=et[0];return{type:"rect",clipText:h,poses:E=TC(nt,K=et[1],Y=et[2],Q=et[3]),top:nt,right:K,bottom:Y,left:Q,values:D,splitter:k}}}}}function DC(t,e){var n=Wx(Cw(t,e),2),r=n[0],i=n[1],o=e.datas,a=o.clipPath,s=o.clipIndex,l=a,u=l.type,c=l.poses,d=l.splitter,f=c.map((function(t){return t.pos}));if("polygon"===u)f.splice(s,0,[r,i]);else{if("inset"!==u)return;var p=mC.indexOf(s),h=yC.indexOf(s),g=c.length;if(function(t,e,n,r,i,o,a,s,l,u,c){void 0===u&&(u=0),void 0===c&&(c=0);var d=SC(t.slice(n)),f=d.horizontalRange,p=d.verticalRange;if(r>-1)for(var h=1===bC[r]?o-u:s-o,g=f[1];g<=r;++g){var v=1===xC[g]?c:l,m=0;if(r===g?m=o:0===g?m=u+h:-1===bC[g]&&(m=s-(e[n][0]-u)),t.splice(n+g,0,{horizontal:bC[g],vertical:0,pos:[m,v]}),e.splice(n+g,0,[m,v]),0===g)break}else if(i>-1){var y=1===xC[i]?a-c:l-a;if(0===f[1]&&0===p[1]){var b=[u+y,c];t.push({horizontal:bC[0],vertical:0,pos:b}),e.push(b)}var x=p[0];for(g=p[1];g<=i&&(m=1===bC[g]?u:s,v=0,i===g?v=a:0===g?v=c+y:1===xC[g]?v=e[n+x][1]:-1===xC[g]&&(v=l-(e[n+x][1]-c)),t.push({horizontal:0,vertical:xC[g],pos:[m,v]}),e.push([m,v]),0!==g);++g);}}(c,f,8,p,h,r,i,f[4][0],f[4][1],f[0][0],f[0][1]),g===c.length)return}var v=RC(t,a,f),m="".concat(u,"(").concat(v.join(d),")");kE(t,"onClip",xE(t,e,$x({clipEventType:"added",clipType:u,poses:f,clipStyles:v,clipStyle:m,distX:0,distY:0},yE({clipPath:m},e))))}function OC(t,e){var n=e.datas,r=n.clipPath,i=n.clipIndex,o=r,a=o.type,s=o.poses,l=o.splitter,u=s.map((function(t){return t.pos})),c=u.length;if("polygon"===a)s.splice(i,1),u.splice(i,1);else{if("inset"!==a)return;if(i<8)return;if(function(t,e,n,r,i){void 0===i&&(i=e.length);var o=SC(t.slice(r)),a=o.horizontalRange,s=o.verticalRange,l=n-r,u=0;if(0===l)u=i;else if(l>0&&l<a[1])u=a[1]-l;else{if(!(l>=s[0]))return;u=s[0]+s[1]-l}t.splice(n,u),e.splice(n,u)}(s,u,i,8,c),c===s.length)return}var d=RC(t,r,u),f="".concat(a,"(").concat(d.join(l),")");kE(t,"onClip",xE(t,e,$x({clipEventType:"removed",clipType:a,poses:u,clipStyles:d,clipStyle:f,distX:0,distY:0},yE({clipPath:f},e))))}var _C={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[".control.clip-control {\nbackground: #6d6;\ncursor: pointer;\n}\n.control.clip-control.clip-radius {\nbackground: #d66;\n}\n.line.clip-line {\nbackground: #6e6;\ncursor: move;\nz-index: 1;\n}\n.clip-area {\nposition: absolute;\ntop: 0;\nleft: 0;\n}\n.clip-ellipse {\nposition: absolute;\ncursor: move;\nborder: 1px solid #6d6;\nborder: var(--zoompx) solid #6d6;\nborder-radius: 50%;\ntransform-origin: 0px 0px;\n}",":host {\n--bounds-color: #d66;\n}",".guideline {\npointer-events: none;\nz-index: 2;\n}",".line.guideline.bounds {\nbackground: #d66;\nbackground: var(--bounds-color);\n}"],render:function(t,e){var n=t.props,r=n.customClipPath,i=n.defaultClipPath,o=n.clipArea,a=n.zoom,s=n.groupable,l=t.getState(),u=l.target,c=l.width,d=l.height,f=l.allMatrix,p=l.is3d,h=l.left,g=l.top,v=l.pos1,m=l.pos2,y=l.pos3,b=l.pos4,x=l.clipPathState,w=l.snapBoundInfos,S=l.rotation;if(!u||s)return[];var k=MC(u,c,d,i||"inset",x||r);if(!k)return[];var E=p?4:3,C=k.type,R=k.poses.map((function(t){var e=Zk(f,t.pos,E);return[e[0]-h,e[1]-g]})),T=[],P=[],M="rect"===C,D="inset"===C,O="polygon"===C;if(M||D||O){var _=D?R.slice(0,8):R;P=_.map((function(t,n){var r=0===n?_[_.length-1]:_[n-1],i=tb(r,t),o=rE(r,t);return e.createElement("div",{key:"clipLine".concat(n),className:Ik("line","clip-line","snap-control"),"data-clip-index":n,style:{width:"".concat(o,"px"),transform:"translate(".concat(r[0],"px, ").concat(r[1],"px) rotate(").concat(i,"rad) scaleY(").concat(a,")")}})}))}if(T=R.map((function(t,n){return e.createElement("div",{key:"clipControl".concat(n),className:Ik("control","clip-control","snap-control"),"data-clip-index":n,style:{transform:"translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(S,"rad) scale(").concat(a,")")}})})),D&&T.push.apply(T,Ux([],Wx(R.slice(8).map((function(t,n){return e.createElement("div",{key:"clipRadiusControl".concat(n),className:Ik("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+n,style:{transform:"translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(S,"rad) scale(").concat(a,")")}})}))),!1)),"circle"===C||"ellipse"===C){var A=k.left,z=k.top,B=k.radiusX,F=k.radiusY,I=Wx(Tb(Zk(f,[A,z],E),Zk(f,[0,0],E)),2),L=I[0],N=I[1],j="none";if(!o){for(var V=Math.max(10,B/5,F/5),q=[],G=0;G<=V;++G){var $=2*Math.PI/V*G;q.push([B+(B-a)*Math.cos($),F+(F-a)*Math.sin($)])}q.push([B,-2]),q.push([-2,-2]),q.push([-2,2*F+2]),q.push([2*B+2,2*F+2]),q.push([2*B+2,-2]),q.push([B,-2]),j="polygon(".concat(q.map((function(t){return"".concat(t[0],"px ").concat(t[1],"px")})).join(", "),")")}T.push(e.createElement("div",{key:"clipEllipse",className:Ik("clip-ellipse","snap-control"),style:{width:"".concat(2*B,"px"),height:"".concat(2*F,"px"),clipPath:j,transform:"translate(".concat(-h+L,"px, ").concat(-g+N,"px) ").concat(Xk(f))}}))}if(o){var W=tE(Ux([v,m,y,b],Wx(R),!1)),U=W.width,H=W.height,Y=W.left,X=W.top;if(O||M||D){q=D?R.slice(0,8):R;T.push(e.createElement("div",{key:"clipArea",className:Ik("clip-area","snap-control"),style:{width:"".concat(U,"px"),height:"".concat(H,"px"),transform:"translate(".concat(Y,"px, ").concat(X,"px)"),clipPath:"polygon(".concat(q.map((function(t){return"".concat(t[0]-Y,"px ").concat(t[1]-X,"px")})).join(", "),")")}}))}}return w&&["vertical","horizontal"].forEach((function(t){var n=w[t],r="horizontal"===t;n.isSnap&&P.push.apply(P,Ux([],Wx(n.snap.posInfos.map((function(n,i){var o=n.pos,s=Tb(Zk(f,r?[0,o]:[o,0],E),[h,g]),l=Tb(Zk(f,r?[c,o]:[o,d],E),[h,g]);return uS(e,"",s,l,a,"clip".concat(t,"snap").concat(i),"guideline")}))),!1)),n.isBound&&P.push.apply(P,Ux([],Wx(n.bounds.map((function(n,i){var o=n.pos,s=Tb(Zk(f,r?[0,o]:[o,0],E),[h,g]),l=Tb(Zk(f,r?[c,o]:[o,d],E),[h,g]);return uS(e,"",s,l,a,"clip".concat(t,"bounds").concat(i),"guideline","bounds","bold")}))),!1))})),Ux(Ux([],Wx(T),!1),Wx(P),!1)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var n=t.props.dragWithClip;return!(void 0===n||n)&&this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,$x($x({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var n=t.state,r=t.props,i=r.defaultClipPath,o=r.customClipPath,a=n.target,s=n.width,l=n.height,u=e.inputEvent?e.inputEvent.target:null,c=u&&u.getAttribute("class")||"",d=e.datas,f=MC(a,s,l,i||"inset",o);if(!f)return!1;var p=f.clipText;return!1===kE(t,"onClipStart",xE(t,e,{clipType:f.type,clipStyle:p,poses:f.poses.map((function(t){return t.pos}))}))?(d.isClipStart=!1,!1):(d.isControl=c&&c.indexOf("clip-control")>-1,d.isLine=c.indexOf("clip-line")>-1,d.isArea=c.indexOf("clip-area")>-1||c.indexOf("clip-ellipse")>-1,d.clipIndex=u?parseInt(u.getAttribute("data-clip-index"),10):-1,d.clipPath=f,d.isClipStart=!0,n.clipPathState=p,Rw(t,e),!0)},dragControl:function(t,e){var n,r,i,o=e.datas,a=e.originalDatas,s=e.isDragTarget;if(!o.isClipStart)return!1;var l=o,u=l.isControl,c=l.isLine,d=l.isArea,f=l.clipIndex,p=l.clipPath;if(!p)return!1;var h=aE(t.props,"clippable"),g=h.keepRatio,v=0,m=0,y=a.draggable,b=_w(e);s&&y?(n=Wx(y.prevBeforeDist,2),v=n[0],m=n[1]):(r=Wx(b,2),v=r[0],m=r[1]);var x=[v,m],w=t.state,S=w.width,k=w.height,E=!d&&!u&&!c,C=p.type,R=p.poses,T=p.splitter,P=R.map((function(t){return t.pos}));E&&(v=-v,m=-m);var M=!u||"nesw"===R[f].direction,D="inset"===C||"rect"===C,O=R.map((function(){return[0,0]}));if(u&&!M){var _=R[f],A=_.horizontal,z=_.vertical,B=[v*YE(A),m*YE(z)];O=function(t,e,n,r,i){var o=t[e],a=o.direction,s=o.sub,l=t.map((function(){return[0,0]})),u=a?a.split(""):[];if(r&&e<8){var c=u.filter((function(t){return"w"===t||"e"===t})),d=u.filter((function(t){return"n"===t||"s"===t})),f=c[0],p=d[0];l[e]=n;var h=Wx(PC(t),2),g=h[0],v=h[1],m=g&&v?g/v:0;if(m&&i){var y=t[(e+4)%8].pos,b=[0,0];a.indexOf("w")>-1?b[0]=-1:a.indexOf("e")>-1&&(b[0]=1),a.indexOf("n")>-1?b[1]=-1:a.indexOf("s")>-1&&(b[1]=1);var x=VE([g,v],n,m,b,!0),w=g+x[0],S=v+x[1],k=y[1],E=y[1],C=y[0],R=y[0];-1===b[0]?C=R-w:1===b[0]?R=C+w:(C-=w/2,R+=w/2),-1===b[1]?k=E-S:E=1===b[1]?k+S:(k=E-S/2)+S;var T=TC(k,R,E,C);t.forEach((function(t,e){l[e][0]=T[e].pos[0]-t.pos[0],l[e][1]=T[e].pos[1]-t.pos[1]}))}else t.forEach((function(t,e){var r=t.direction;r&&(r.indexOf(f)>-1&&(l[e][0]=n[0]),r.indexOf(p)>-1&&(l[e][1]=n[1]))})),f&&(l[1][0]=n[0]/2,l[5][0]=n[0]/2),p&&(l[3][1]=n[1]/2,l[7][1]=n[1]/2)}else a&&!s?u.forEach((function(e){var r="n"===e||"s"===e;t.forEach((function(t,i){var o=t.direction,a=t.horizontal,s=t.vertical;o&&-1!==o.indexOf(e)&&(l[i]=[r||!a?0:n[0],r&&s?n[1]:0])}))})):l[e]=n;return l}(R,f,B,D,g)}else M&&(O=P.map((function(){return[v,m]})));var F=P.map((function(t,e){return Rb(t,O[e])})),I=Ux([],Wx(F),!1);w.snapBoundInfos=null;var L="circle"===p.type,N="ellipse"===p.type;if(L||N){var j=YE((nt=tE(F)).bottom-nt.top),V=YE(N?nt.right-nt.left:j),q=F[0][1]+j,G=F[0][0]-V,$=F[0][0]+V;L&&(I.push([$,nt.bottom]),O.push([1,0])),I.push([nt.left,q]),O.push([0,1]),I.push([G,nt.bottom]),O.push([1,0])}var W=kk((h.clipHorizontalGuidelines||[]).map((function(t){return Xy("".concat(t),k)})),(h.clipVerticalGuidelines||[]).map((function(t){return Xy("".concat(t),S)})),S,k),U=[],H=[];if(L||N)U=[I[4][0],I[2][0]],H=[I[1][1],I[3][1]];else if(D){var Y=[I[0],I[2],I[4],I[6]],X=[O[0],O[2],O[4],O[6]];U=Y.filter((function(t,e){return X[e][0]})).map((function(t){return t[0]})),H=Y.filter((function(t,e){return X[e][1]})).map((function(t){return t[1]}))}else U=I.filter((function(t,e){return O[e][0]})).map((function(t){return t[0]})),H=I.filter((function(t,e){return O[e][1]})).map((function(t){return t[1]}));var Q=[0,0],K=tk(W,h.clipTargetBounds&&{left:0,top:0,right:S,bottom:k},U,H,5,5),Z=K.horizontal,J=K.vertical,tt=Z.offset,et=J.offset;if(Z.isBound&&(Q[1]+=tt),J.isBound&&(Q[0]+=et),(N||L)&&0===O[0][0]&&0===O[0][1]){var nt,rt=(nt=tE(F)).bottom-nt.top,it=N?nt.right-nt.left:rt;it-=J.isBound?YE(et):0===J.snapIndex?-et:et,rt-=Z.isBound?YE(tt):0===Z.snapIndex?-tt:tt,L&&(it=rt=LS(J,Z)>0?rt:it);var ot=I[0];I[1][1]=ot[1]-rt,I[2][0]=ot[0]+it,I[3][1]=ot[1]+rt,I[4][0]=ot[0]-it}else if(D&&g&&u){var at=Wx(PC(R),2),st=at[0],lt=at[1],ut=st&&lt?st/lt:0,ct=R[f].direction||"",dt=I[1][1];q=I[5][1],G=I[7][0],$=I[3][0];YE(tt)<=YE(et)?tt=HE(tt)*YE(et)/ut:et=HE(et)*YE(tt)*ut,ct.indexOf("w")>-1?G-=et:ct.indexOf("e")>-1?$-=et:(G+=et/2,$-=et/2),ct.indexOf("n")>-1?dt-=tt:ct.indexOf("s")>-1?q-=tt:(dt+=tt/2,q-=tt/2);var ft=TC(dt,$,q,G);I.forEach((function(t,e){var n;n=Wx(ft[e].pos,2),t[0]=n[0],t[1]=n[1]}))}else I.forEach((function(t,e){var n=O[e];n[0]&&(t[0]-=et),n[1]&&(t[1]-=tt)}));var pt=RC(t,p,F),ht="".concat(C,"(").concat(pt.join(T),")");if(w.clipPathState=ht,L||N)U=[I[4][0],I[2][0]],H=[I[1][1],I[3][1]];else if(D){U=(Y=[I[0],I[2],I[4],I[6]]).map((function(t){return t[0]})),H=Y.map((function(t){return t[1]}))}else U=I.map((function(t){return t[0]})),H=I.map((function(t){return t[1]}));if(w.snapBoundInfos=tk(W,h.clipTargetBounds&&{left:0,top:0,right:S,bottom:k},U,H,1,1),y){var gt=w.is3d,vt=w.allMatrix,mt=gt?4:3,yt=Q;s&&(yt=[x[0]+Q[0]-b[0],x[1]+Q[1]-b[1]]),y.deltaOffset=Cb(vt,[yt[0],yt[1],0,0],mt)}return kE(t,"onClip",xE(t,e,$x({clipEventType:"changed",clipType:C,poses:F,clipStyle:ht,clipStyles:pt,distX:v,distY:m},yE(((i={})["rect"===C?"clip":"clipPath"]=ht,i),e)))),!0},dragControlEnd:function(t,e){this.unset(t);var n=e.isDrag,r=e.datas,i=e.isDouble,o=r.isLine,a=r.isClipStart,s=r.isControl;return!!a&&(kE(t,"onClipEnd",wE(t,e,{})),i&&(s?OC(t,e):o&&DC(t,e)),i||n)},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},AC={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[":host[data-able-origindraggable] .control.origin {\npointer-events: auto;\n}"],dragControlCondition:function(t,e){return e.isRequest?"originDraggable"===e.requestAble:ob(e.inputEvent.target,Ik("origin"))},dragControlStart:function(t,e){var n=e.datas;Rw(t,e);var r=xE(t,e,{dragStart:rk.dragStart(t,(new kw).dragStart([0,0],e))}),i=kE(t,"onDragOriginStart",r);return n.startOrigin=t.state.transformOrigin,n.startTargetOrigin=t.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,!1===i?(n.isDragOrigin=!1,!1):r},dragControl:function(t,e){var n=e.datas,r=e.isPinch,i=e.isRequest;if(!n.isDragOrigin)return!1;var o=Wx(_w(e),2),a=o[0],s=o[1],l=t.state,u=l.width,c=l.height,d=l.offsetMatrix,f=l.targetMatrix,p=l.is3d,h=t.props.originRelative,g=void 0===h||h,v=p?4:3,m=[a,s];if(i){var y=e.distOrigin;(y[0]||y[1])&&(m=y)}var b=Rb(n.startOrigin,m),x=Rb(n.startTargetOrigin,m),w=Tb(m,n.prevOrigin),S=Fw(d,f,b,v),k=t.getRect(),E=tE(Jk(S,u,c,v)),C=[k.left-E.left,k.top-E.top];n.prevOrigin=m;var R=[zE(x[0],u,g),zE(x[1],c,g)].join(" "),T=rk.drag(t,Sw(e,t.state,C,!!r,!1)),P=xE(t,e,$x($x({width:u,height:c,origin:b,dist:m,delta:w,transformOrigin:R,drag:T},yE({transformOrigin:R,transform:T.transform},e)),{afterTransform:T.transform}));return kE(t,"onDragOrigin",P),P},dragControlEnd:function(t,e){return!!e.datas.isDragOrigin&&(kE(t,"onDragOriginEnd",wE(t,e,{})),!0)},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){return!!this.dragControlStart(t,e)},dragGroupControl:function(t,e){var n=this.dragControl(t,e);return!!n&&(t.transformOrigin=n.transformOrigin,!0)},request:function(t){var e={},n=t.getRect(),r=0,i=0,o=n.transformOrigin,a=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaOrigin"in t?(a[0]+=t.deltaOrigin[0],a[1]+=t.deltaOrigin[1]):"origin"in t?(a[0]=t.origin[0]-o[0],a[1]=t.origin[1]-o[1]):("x"in t?r=t.x-n.left:"deltaX"in t&&(r+=t.deltaX),"y"in t?i=t.y-n.top:"deltaY"in t&&(i+=t.deltaY)),{datas:e,distX:r,distY:i,distOrigin:a}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function zC(t,e,n,r,i){void 0===r&&(r=[0,0]);return kC(t&&"0px"!==t?Ny(t):[],e,n,0,0,r,i)}function BC(t,e,n,r,i){var o=t.state,a=o.width,s=o.height,l=wC(i,t.props.roundRelative,a,s),u=l.raws,c=l.styles,d=function(t,e){return void 0===e&&(e=t.map((function(t){return t.raw}))),{horizontals:t.map((function(t,n){return t.horizontal?e[n]:null})).filter((function(t){return null!=t})),verticals:t.map((function(t,n){return t.vertical?e[n]:null})).filter((function(t){return null!=t}))}}(l.radiusPoses,u),f=d.horizontals,p=d.verticals,h=c.join(" ");o.borderRadiusState=h;var g=xE(t,e,$x({horizontals:f,verticals:p,borderRadius:h,width:a,height:s,delta:r,dist:n},yE({borderRadius:h},e)));return kE(t,"onRound",g),g}function FC(t){var e,n,r=t.getState().style,i=r.borderRadius||"";if(!i&&t.props.groupable){var o=t.moveables[0],a=t.getTargets()[0];a&&((null==o?void 0:o.props.target)===a?(i=null!==(n=null===(e=t.moveables[0])||void 0===e?void 0:e.state.style.borderRadius)&&void 0!==n?n:"",r.borderRadius=i):(i=EE(a).borderRadius,r.borderRadius=i))}return i}var IC={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[".control.border-radius {\nbackground: #d66;\ncursor: pointer;\nz-index: 3;\n}",".control.border-radius.vertical {\nbackground: #d6d;\nz-index: 2;\n}",".control.border-radius.virtual {\nopacity: 0.5;\nz-index: 1;\n}",":host.round-line-clickable .line.direction {\ncursor: pointer;\n}"],className:function(t){var e=t.props.roundClickable;return!0===e||"line"===e?Ik("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(t,e){var n=t.getState(),r=n.target,i=n.width,o=n.height,a=n.allMatrix,s=n.is3d,l=n.left,u=n.top,c=n.borderRadiusState,d=t.props,f=d.minRoundControls,p=void 0===f?[0,0]:f,h=d.maxRoundControls,g=void 0===h?[4,4]:h,v=d.zoom,m=d.roundPadding,y=void 0===m?0:m,b=d.isDisplayShadowRoundControls,x=d.groupable;if(!r)return null;var w=c||FC(t),S=s?4:3,k=zC(w,i,o,p,!0);if(!k)return null;var E=0,C=0,R=x?[0,0]:[l,u];return k.map((function(t,n){var r=t.horizontal,i=t.vertical,o=t.direction||"",s=Ux([],Wx(t.pos),!1);C+=Math.abs(r),E+=Math.abs(i),r&&o.indexOf("n")>-1&&(s[1]-=y),i&&o.indexOf("w")>-1&&(s[0]-=y),r&&o.indexOf("s")>-1&&(s[1]+=y),i&&o.indexOf("e")>-1&&(s[0]+=y);var l=Tb(Zk(a,s,S),R),u=b&&"horizontal"!==b,c=t.vertical?E<=g[1]&&(u||!t.virtual):C<=g[0]&&(b||!t.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(n),className:Ik("control","border-radius",t.vertical?"vertical":"",t.virtual?"virtual":""),"data-radius-index":n,style:{display:c?"block":"none",transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) scale(").concat(v,")")}})}))},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var n=e.inputEvent.target.getAttribute("class")||"";return n.indexOf("border-radius")>-1||n.indexOf("moveable-line")>-1&&n.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragControlStart:function(t,e){var n=e.inputEvent,r=e.datas,i=n.target,o=i.getAttribute("class")||"",a=o.indexOf("border-radius")>-1,s=o.indexOf("moveable-line")>-1&&o.indexOf("moveable-direction")>-1,l=a?parseInt(i.getAttribute("data-radius-index"),10):-1,u=-1;if(s){var c=i.getAttribute("data-line-key")||"";c&&(u=parseInt(c.replace(/render-line-/g,""),10),isNaN(u)&&(u=-1))}if(!a&&!s)return!1;var d=xE(t,e,{});if(!1===kE(t,"onRoundStart",d))return!1;r.lineIndex=u,r.controlIndex=l,r.isControl=a,r.isLine=s,Rw(t,e);var f=t.props,p=f.roundRelative,h=f.minRoundControls,g=void 0===h?[0,0]:h,v=t.state,m=v.width,y=v.height;r.isRound=!0,r.prevDist=[0,0];var b=zC(FC(t)||"",m,y,g,!0)||[];return r.controlPoses=b,v.borderRadiusState=wC(b,p,m,y).styles.join(" "),d},dragControl:function(t,e){var n=e.datas,r=n.controlPoses;if(!n.isRound||!n.isControl||!r.length)return!1;var i=n.controlIndex,o=Wx(_w(e),2),a=o[0],s=o[1],l=[a,s],u=Tb(l,n.prevDist),c=t.props.maxRoundControls,d=void 0===c?[4,4]:c,f=t.state,p=f.width,h=f.height,g=r[i],v=g.vertical,m=g.horizontal,y=r.map((function(t){var e=t.horizontal,n=t.vertical,r=[e*m*l[0],n*v*l[1]];if(e){if(1===d[0])return r;if(d[0]<4&&e!==m)return r}else{if(0===d[1])return r[1]=n*m*l[0]/p*h,r;if(v){if(1===d[1])return r;if(d[1]<4&&n!==v)return r}}return[0,0]}));y[i]=l;var b=r.map((function(t,e){return $x($x({},t),{pos:Rb(t.pos,y[e])})}));return i<4?b.slice(0,i+1).forEach((function(t){t.virtual=!1})):b.slice(4,i+1).forEach((function(t){t.virtual=!1})),n.prevDist=[a,s],BC(t,e,l,u,b)},dragControlEnd:function(t,e){var n=t.state;n.borderRadiusState="";var r=e.datas,i=e.isDouble;if(!r.isRound)return!1;var o=r.isControl,a=r.controlIndex,s=r.isLine,l=r.lineIndex,u=r.controlPoses,c=u.filter((function(t){return t.virtual})).length,d=t.props.roundClickable,f=void 0===d||d;if(i&&f){if(!o||!0!==f&&"control"!==f){if(s&&(!0===f||"line"===f)){var p=Wx(Cw(t,e),2);!function(t,e,n,r){var i=t.filter((function(t){var e=t.virtual;return t.horizontal&&!e})).length,o=t.filter((function(t){var e=t.virtual;return t.vertical&&!e})).length,a=-1;if(0===e&&(0===i?a=0:1===i&&(a=1)),2===e&&(i<=2?a=2:i<=3&&(a=3)),3===e&&(0===o?a=4:o<4&&(a=7)),1===e&&(o<=1?a=5:o<=2&&(a=6)),-1!==a&&t[a].virtual){var s=t[a];!function(t,e){e<4?t.slice(0,e+1).forEach((function(t){t.virtual=!1})):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach((function(t){t.virtual=!1})))}(t,a),a<4?s.pos[0]=n:s.pos[1]=r}}(u,l,p[0],p[1])}}else!function(t,e){e<4?t.slice(e,4).forEach((function(t){t.virtual=!0})):t.slice(e).forEach((function(t){t.virtual=!0}))}(u,a);c!==u.filter((function(t){return t.virtual})).length&&BC(t,e,[0,0],[0,0],u)}var h=wE(t,e,{});return kE(t,"onRoundEnd",h),n.borderRadiusState="",h},dragGroupControlStart:function(t,e){var n=this.dragControlStart(t,e);if(!n)return!1;var r=t.moveables,i=t.props.targets,o=rS(t,"roundable",e);return kE(t,"onRoundGroupStart",$x({targets:t.props.targets,events:o.map((function(t,e){return $x($x({},t),{target:i[e],moveable:r[e],currentTarget:r[e]})}))},n)),n},dragGroupControl:function(t,e){var n=this.dragControl(t,e);if(!n)return!1;var r=t.moveables,i=t.props.targets,o=rS(t,"roundable",e),a=$x({targets:t.props.targets,events:o.map((function(t,e){return $x($x($x({},t),{target:i[e],moveable:r[e],currentTarget:r[e]}),yE({borderRadius:n.borderRadius},t))}))},n);return kE(t,"onRoundGroup",a),a},dragGroupControlEnd:function(t,e){var n=t.moveables,r=t.props.targets,i=rS(t,"roundable",e);SE(t,"onRound",(function(e){var o=$x({targets:t.props.targets,events:i.map((function(t,i){return $x($x($x({},t),{target:r[i],moveable:n[i],currentTarget:n[i]}),yE({borderRadius:e.borderRadius},t))}))},e);kE(t,"onRoundGroup",o)}));var o=this.dragControlEnd(t,e);if(!o)return!1;var a=$x({targets:t.props.targets,events:i.map((function(t,e){var i;return $x($x({},t),{target:r[e],moveable:n[e],currentTarget:n[e],lastEvent:null===(i=t.datas)||void 0===i?void 0:i.lastEvent})}))},o);return kE(t,"onRoundGroupEnd",a),a},unset:function(t){t.state.borderRadiusState=""}};var LC={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(t,e){var n=t.state,r=n.is3d,i=n.targetMatrix,o=n.inlineTransform,a=r?"matrix3d(".concat(i.join(","),")"):"matrix(".concat(Pb(i,!0),")"),s=o&&"none"!==o?o:a;e.datas.startTransforms=function(t,e){var n=Lb(e?4:3);return t==="matrix".concat(e?"3d":"","(").concat(n.join(","),")")||"matrix(1,0,0,1,0,0)"===t}(s,r)?[]:Ny(s)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return xE(t,e,{setTransform:function(t){e.datas.startTransforms=_y(t)?t:Ny(t)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return xE(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),kE(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){e.datas.startTransforms||this.setTransform(t,e),this.resetStyle(e),kE(t,"onBeforeRender",xE(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){e.datas.startTransforms||(this.setTransform(t,e),this.resetStyle(e)),kE(t,"onBeforeRenderEnd",xE(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var n=this;this.dragStart(t,e);var r=rS(t,"beforeRenderable",e),i=t.moveables,o=r.map((function(t,e){var r=i[e];return n.setTransform(r,t),n.resetStyle(t),n.fillDragStartParams(r,t)}));kE(t,"onBeforeRenderGroupStart",xE(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:o}))},dragGroup:function(t,e){var n=this;this.drag(t,e);var r=rS(t,"beforeRenderable",e),i=t.moveables,o=r.map((function(t,e){var r=i[e];return n.resetStyle(t),n.fillDragParams(r,t)}));kE(t,"onBeforeRenderGroup",xE(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:o}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),kE(t,"onBeforeRenderGroupEnd",xE(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},NC={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(t,e){kE(t,"onRenderStart",xE(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){kE(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){return this.drag(t,e)},dragEnd:function(t,e){kE(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){kE(t,"onRenderGroupStart",xE(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var n=this,r=rS(t,"beforeRenderable",e),i=t.moveables,o=r.map((function(t,e){var r=i[e];return n.fillDragParams(r,t)}));kE(t,"onRenderGroup",xE(t,e,$x($x({isPinch:!!e.isPinch,targets:t.props.targets,transform:Gw(e),transformObject:{}},yE($w(e))),{events:o})))},dragGroupEnd:function(t,e){var n=this,r=rS(t,"beforeRenderable",e),i=t.moveables,o=r.map((function(t,e){var r=i[e];return n.fillDragEndParams(r,t)}));kE(t,"onRenderGroupEnd",xE(t,e,$x({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:o,transformObject:{},transform:Gw(e)},yE($w(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){var n={};return Wb(qw(e)||[]).forEach((function(t){n[t.name]=t.functionValue})),xE(t,e,$x({isPinch:!!e.isPinch,transformObject:n,transform:Gw(e)},yE($w(e))))},fillDragEndParams:function(t,e){var n={};return Wb(qw(e)||[]).forEach((function(t){n[t.name]=t.functionValue})),xE(t,e,$x({isPinch:!!e.isPinch,isDrag:e.isDrag,transformObject:n,transform:Gw(e)},yE($w(e))))}};function jC(t,e,n,r,i,o,a){o.clientDistX=o.distX,o.clientDistY=o.distY;var s="Start"===i,l="End"===i,u="After"===i,c=t.state.target,d=o.isRequest,f=r.indexOf("Control")>-1;if(!c||s&&f&&!d&&t.areaElement===o.inputEvent.target)return!1;var p=Ux([],Wx(e),!1);if(d){var h=o.requestAble;p.some((function(t){return t.name===h}))||p.push.apply(p,Ux([],Wx(t.props.ables.filter((function(t){return t.name===h}))),!1))}if(!p.length||p.every((function(t){return t.dragRelation})))return!1;var g,v=o.inputEvent;l&&v&&(g=document.elementFromPoint(o.clientX,o.clientY)||v.target);var m=!1,y=function(){var t;m=!0,null===(t=o.stop)||void 0===t||t.call(o)},b=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());b&&t.updateRect(i,!0,!1);var x=o.datas,w=f?"controlGesto":"targetGesto",S=t[w],k=function(e,n,r){if(!(n in e)||S!==t[w])return!1;var i=e.name,a=x[i]||(x[i]={});if(s&&(a.isEventStart=!r||!e[r]||e[r](t,o)),!a.isEventStart)return!1;var l=e[n](t,$x($x({},o),{stop:y,datas:a,originalDatas:x,inputTarget:g}));return t._emitter.off(),s&&!1===l&&(a.isEventStart=!1),l};b&&p.forEach((function(e){e.unset&&e.unset(t)})),k(LC,"drag".concat(r).concat(i));var E=0,C=0;n.forEach((function(e){if(m)return!1;var n="".concat(e).concat(r).concat(i),a="".concat(e).concat(r,"Condition");""!==i||d||_E(t.state,o);var l=p.filter((function(t){return t[n]})),u=(l=l.filter((function(t,e){return t.name&&l.indexOf(t)===e}))).filter((function(t){return k(t,n,a)})).length;m&&++E,u&&++C,!m&&s&&l.length&&!u&&(E+=l.filter((function(t){var e=t.name;return!!x[e].isEventStart&&"strong"!==t.dragRelation})).length?1:0)})),u&&!C||k(NC,"drag".concat(r).concat(i));var R=S!==t[w]||E===n.length;if((l||m||R)&&(t.state.gestos={},t.moveables&&t.moveables.forEach((function(t){t.state.gestos={}})),p.forEach((function(e){e.unset&&e.unset(t)}))),s&&!R&&!d&&C&&t.props.preventDefault&&(null==o||o.preventDefault()),t.isUnmounted||R)return!1;(!s&&C&&!a||l)&&(t.props.flushSync||Lk)((function(){t.updateRect(l?i:"",!0,!1),t.forceUpdate()}));return s||l||u||!C||a||jC(t,e,n,r,i+"After",o),!0}function VC(t,e){return function(n,r){var i;void 0===r&&(r=n.inputEvent.target);var o=r,a=t.areaElement,s=t._dragTarget;return!(!s||!e&&(null===(i=t.controlGesto)||void 0===i?void 0:i.isFlag()))&&(o===s||s.contains(o)||o===a||!t.isMoveableElement(o)&&!t.controlBox.contains(o)||ob(o,"moveable-area")||ob(o,"moveable-padding")||ob(o,"moveable-edgeDraggable"))}}function qC(t,e,n){var r=t.controlBox,i=[],o=t.props,a=o.dragArea,s=t.state.target,l=o.dragTarget;i.push(r),a&&!l||i.push(e),!a&&l&&s&&e!==s&&o.dragTargetSelf&&i.push(s);var u=VC(t);return $C(t,i,"targetAbles",n,{dragStart:u,pinchStart:u})}function GC(t,e){var n=t.controlBox,r=[];r.push(n);var i=VC(t,!0),o=function(t,e){return void 0===e&&(e=t.inputEvent.target),e===n||!i(t,e)};return $C(t,r,"controlAbles",e,{dragStart:o,pinchStart:o})}function $C(t,e,n,r,i){void 0===i&&(i={});var o="targetAbles"===n,a=t.props,s=a.pinchOutside,l=a.pinchThreshold,u=a.preventClickEventOnDrag,c=a.preventClickDefault,d=a.checkInput,f=a.dragFocusedInput,p=a.preventDefault,h=void 0===p||p,g=a.preventRightClick,v=void 0===g||g,m=a.preventWheelClick,y={preventDefault:h,preventRightClick:v,preventWheelClick:void 0===m||m,container:LE(a.dragContainer,!0)||pb(t.getControlBoxElement()),pinchThreshold:l,pinchOutside:s,preventClickEventOnDrag:!!o&&u,preventClickEventOnDragStart:!!o&&c,preventClickEventByCondition:o?null:function(e){return t.controlBox.contains(e.target)},checkInput:!!o&&d,dragFocusedInput:f},b=new Bx(e,y),x="Control"===r;return["drag","pinch"].forEach((function(e){["Start","","End"].forEach((function(o){b.on("".concat(e).concat(o),(function(a){var s,l=a.eventType,u="drag"===e&&a.isPinch;if(!i[l]||i[l](a)){if(!u){var c="drag"===e?[e]:["drag",e],d=Ux([],Wx(t[n]),!1);jC(t,d,c,r,o,a)?(t.props.stopPropagation||"Start"===o&&x)&&(null===(s=null==a?void 0:a.inputEvent)||void 0===s||s.stopPropagation()):a.stop()}}else a.stop()}))}))})),b}var WC=function(){function t(t,e,n){var r=this;this.target=t,this.moveable=e,this.eventName=n,this.ables=[],this._onEvent=function(t){var e=r.eventName,n=r.moveable;n.state.disableNativeEvent||r.ables.forEach((function(r){r[e](n,{inputEvent:t})}))},t.addEventListener(n.toLowerCase(),this._onEvent)}return t.prototype.setAbles=function(t){this.ables=t},t.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function UC(t,e,n,r){var i;void 0===n&&(n=e);var o=Kw(t,e),a=o.matrixes,s=o.is3d,l=o.targetMatrix,u=o.transformOrigin,c=o.targetOrigin,d=o.offsetContainer,f=o.hasFixed,p=o.zoom,h=function(t,e){if(tS){var n=Wy(tS,(function(n){return n[0][0]==t&&n[0][1]==e}));if(n)return n[1]}var r=Kw(t,e,!0);return tS&&tS.push([[t,e],r]),r}(d,n),g=h.matrixes,v=h.is3d,m=h.offsetContainer,y=h.zoom,b=r||v||s,x=b?4:3,w="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,S=l,k=Lb(x),E=Lb(x),C=Lb(x),R=Lb(x),T=a.length,P=g.map((function(t){return $x($x({},t),{matrix:t.matrix?Ux([],Wx(t.matrix),!1):void 0})})).reverse();a.reverse(),!s&&b&&(S=kb(S,3,4),Hk(a)),!v&&b&&Hk(P),P.forEach((function(t){E=Cb(E,t.matrix,x)}));var M=n||fb(t),D=(null===(i=P[0])||void 0===i?void 0:i.target)||$k(M,M,!0).offsetParent,O=P.slice(1).reduce((function(t,e){return Cb(t,e.matrix,x)}),Lb(x));a.forEach((function(t,e){if(T-2===e&&(C=k.slice()),T-1===e&&(R=k.slice()),!t.matrix){var n=function(t,e,n,r,i){var o,a=t.target,s=t.origin,l=e.matrix,u=sE(a),c=u.offsetWidth,d=u.offsetHeight,f=n.getBoundingClientRect(),p=[0,0];n===fb(n)&&(p=Uk(a,!0));for(var h=a.getBoundingClientRect(),g=h.left-f.left+n.scrollLeft-(n.clientLeft||0)+p[0],v=h.top-f.top+n.scrollTop-(n.clientTop||0)+p[1],m=h.width,y=h.height,b=Eb(r,i,l),x=eE(b,c,d,r),w=x.left,S=x.top,k=x.width,E=x.height,C=Zk(b,s,r),R=Tb(C,[w,S]),T=[g+R[0]*m/k,v+R[1]*y/E],P=[0,0],M=0;++M<10;){var D=xb(i,r);o=Wx(Tb(Zk(D,T,r),Zk(D,C,r)),2),P[0]=o[0],P[1]=o[1];var O=eE(Eb(r,i,jb(P,r),l),c,d,r),_=O.left-g,A=O.top-v;if(YE(_)<2&&YE(A)<2)break;T[0]-=_,T[1]-=A}return P.map((function(t){return Math.round(t)}))}(t,a[e+1],D,x,Cb(O,k,x));t.matrix=jb(n,x)}k=Cb(k,t.matrix,x)}));var _=!w&&s;S||(S=Lb(_?4:3));var A=Xk(w&&16===S.length?kb(S,4,3):S,_),z=E;return E=bb(E,x,x),{hasZoom:1!==p||1!==y,hasFixed:f,matrixes:a,rootMatrix:E,originalRootMatrix:z,beforeMatrix:C,offsetMatrix:R,allMatrix:k,targetMatrix:S,targetTransform:A,inlineTransform:t.style.transform,transformOrigin:u,targetOrigin:c,is3d:b,offsetContainer:d,offsetRootContainer:m}}function HC(t,e,n,r){void 0===n&&(n=e);var i=0,o=0,a=0,s={},l=sE(t);if(t&&(i=l.offsetWidth,o=l.offsetHeight),t){var u=UC(t,e,n,r),c=Ew(u.allMatrix,u.transformOrigin,i,o);s=$x($x({},u),c);var d=Ew(u.allMatrix,[50,50],100,100);a=lE([d.pos1,d.pos2],d.direction)}var f=r?4:3;return $x($x($x({hasZoom:!1,width:i,height:o,rotation:a},l),{originalRootMatrix:Lb(f),rootMatrix:Lb(f),beforeMatrix:Lb(f),offsetMatrix:Lb(f),allMatrix:Lb(f),targetMatrix:Lb(f),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!r,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),s)}function YC(t,e,n,r,i,o){void 0===o&&(o=[]);var a=1,s=[0,0],l={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},u={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},c={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},d={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},f=[0,0],p={},h=HC(e,n,i,!0);if(e){var g=nS(e);o.forEach((function(t){p[t]=g(t)}));var v=h.is3d?4:3,m=Ew(h.offsetMatrix,Rb(h.transformOrigin,wb(h.targetMatrix,v)),h.width,h.height);a=m.direction,s=Rb(m.origin,[m.left-h.left,m.top-h.top]),d=dE(h.offsetRootContainer);var y=$k(r,r,!0).offsetParent||h.offsetRootContainer;if(h.hasZoom){var b=Ew(Cb(h.originalRootMatrix,h.allMatrix),h.transformOrigin,h.width,h.height),x=Ew(h.originalRootMatrix,qk(nS(y)("transformOrigin")).map((function(t){return parseFloat(t)})),y.offsetWidth,y.offsetHeight);if(l=cE(b,d),c=cE(x,d,y,!0),t){var w=b.left,S=b.top;u=cE({left:w,top:S,bottom:S,right:S},d)}}else{l=dE(e),c=function(t){var e=null==Jw?void 0:Jw.get(t);if(e)return e;var n=dE(t,!0);return Jw&&Jw.set(t,n),n}(y),t&&(u=dE(t));var k=c.left,E=c.top,C=c.clientLeft,R=c.clientTop,T=[l.left-k,l.top-E];f=Tb(OE(h.rootMatrix,T,4),[C+h.left,R+h.top])}}return $x({targetClientRect:l,containerClientRect:c,moveableClientRect:u,rootContainerClientRect:d,beforeDirection:a,beforeOrigin:s,originalBeforeOrigin:s,target:e,style:p,offsetDelta:f},h)}function XC(t){var e=t.pos1,n=t.pos2,r=t.pos3,i=t.pos4;if(!(e&&n&&r&&i))return null;var o=mx([e,n,r,i]),a=[o.minX,o.minY],s=Tb(t.origin,a);return e=Tb(e,a),n=Tb(n,a),r=Tb(r,a),i=Tb(i,a),$x($x({},t),{left:t.left,top:t.top,posDelta:a,pos1:e,pos2:n,pos3:r,pos4:i,origin:s,beforeOrigin:s,isPersisted:!0})}var QC=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=$x({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},YC(null)),t.renderState={},t.enabledAbles=[],t.targetAbles=[],t.controlAbles=[],t.rotation=0,t.scale=[1,1],t.isMoveableMounted=!1,t.isUnmounted=!1,t.events={mouseEnter:null,mouseLeave:null},t._emitter=new ox,t._prevOriginalDragTarget=null,t._originalDragTarget=null,t._prevDragTarget=null,t._dragTarget=null,t._prevPropTarget=null,t._propTarget=null,t._prevDragArea=!1,t._isPropTargetChanged=!1,t._hasFirstTarget=!1,t._reiszeObserver=null,t._observerId=0,t._mutationObserver=null,t._rootContainer=null,t._viewContainer=null,t._viewClassNames=[],t._store={},t.checkUpdateRect=function(){if(!t.isDragging()){var e=t.props.parentMoveable;e?e.checkUpdateRect():(Hy(t._observerId),t._observerId=Uy((function(){t.isDragging()||t.updateRect()})))}},t._onPreventClick=function(t){t.stopPropagation(),t.preventDefault()},t}return Gx(n,e),n.prototype.render=function(){var e=this.props,n=this.getState(),r=e.parentPosition,i=e.className,o=e.target,a=e.zoom,s=e.cspNonce,l=e.translateZ,u=e.cssStyled,c=e.groupable,d=e.linePadding,f=e.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var p=Wx(r||[0,0],2),h=p[0],g=p[1],v=n.left,m=n.top,y=n.target,b=n.direction,x=n.hasFixed,w=n.offsetDelta,S=e.targets,k=this.isDragging(),E={};this.getEnabledAbles().forEach((function(t){E["data-able-".concat(t.name.toLowerCase())]=!0}));var C=this._getAbleClassName(),R=S&&S.length&&(y||c)||o||!this._hasFirstTarget&&this.state.isPersisted,T=this.controlBox||this.props.firstRenderState||this.props.persistData,P=[v-h,m-g];!c&&e.useAccuratePosition&&(P[0]+=w[0],P[1]+=w[1]);var M={position:x?"fixed":"absolute",display:R?"block":"none",visibility:T?"visible":"hidden",transform:"translate3d(".concat(P[0],"px, ").concat(P[1],"px, ").concat(l,")"),"--zoom":a,"--zoompx":"".concat(a,"px")};return d&&(M["--moveable-line-padding"]=d),f&&(M["--moveable-control-padding"]=f),t.createElement(u,$x({cspNonce:s,ref:my(this,"controlBox"),className:"".concat(Ik("control-box",-1===b?"reverse":"",k?"dragging":"")," ").concat(C," ").concat(i)},E,{onClick:this._onPreventClick,style:M}),this.renderAbles(),this._renderLines())},n.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var t=this.props,e=t.parentMoveable,n=t.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),n||e||this.state.isPersisted||(this.updateRect("",!1,!1),this.forceUpdate())},n.prototype.componentDidUpdate=function(t){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(t)},n.prototype.componentWillUnmount=function(){var t,e;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),null===(t=this._reiszeObserver)||void 0===t||t.disconnect(),null===(e=this._mutationObserver)||void 0===e||e.disconnect(),this._viewContainer&&this._changeAbleViewClassNames([]),mE(this,!1),mE(this,!0);var n=this.events;for(var r in n){var i=n[r];i&&i.destroy()}},n.prototype.getTargets=function(){var t=this.props.target;return t?[t]:[]},n.prototype.getAble=function(t){return Wy(this.props.ables||[],(function(e){return e.name===t}))},n.prototype.getContainer=function(){var t=this.props,e=t.parentMoveable,n=t.wrapperMoveable;return t.container||n&&n.getContainer()||e&&e.getContainer()||this.controlBox.parentElement},n.prototype.getControlBoxElement=function(){return this.controlBox},n.prototype.getDragElement=function(){return this._dragTarget},n.prototype.isMoveableElement=function(t){var e;return t&&((null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"class"))||"").indexOf(uw)>-1},n.prototype.dragStart=function(t,e){void 0===e&&(e=t.target);var n=this.targetGesto,r=this.controlGesto;return n&&VC(this)({inputEvent:t},e)?n.isFlag()||n.triggerDragStart(t):r&&this.isMoveableElement(e)&&(r.isFlag()||r.triggerDragStart(t)),this},n.prototype.hitTest=function(t){var e,n=this.state,r=n.target,i=n.pos1,o=n.pos2,a=n.pos3,s=n.pos4,l=n.targetClientRect;if(!r)return 0;if(gb(t)){var u=t.getBoundingClientRect();e={left:u.left,top:u.top,width:u.width,height:u.height}}else e=$x({width:0,height:0},t);var c=e.left,d=e.top,f=e.width,p=e.height,h=vx([i,o,s,a],l),g=Ex(h,[[c,d],[c+f,d],[c+f,d+p],[c,d+p]]),v=gx(h);return g&&v?Math.min(100,g/v*100):0},n.prototype.isInside=function(t,e){var n=this.state,r=n.target,i=n.pos1,o=n.pos2,a=n.pos3,s=n.pos4,l=n.targetClientRect;return!!r&&yx([t,e],vx([i,o,s,a],l))},n.prototype.updateRect=function(t,e,n){void 0===n&&(n=!0);var r=this.props,i=!r.parentPosition&&!r.wrapperMoveable;i&&eS(!0);var o=r.parentMoveable,a=this.state.target||r.target,s=this.getContainer(),l=o?o._rootContainer:this._rootContainer,u=YC(this.controlBox,a,s,s,l||s,this._getRequestStyles());if(!a&&this._hasFirstTarget&&r.persistData){var c=XC(r.persistData);for(var d in c)u[d]=c[d]}i&&eS(),this.updateState(u,!o&&n)},n.prototype.isDragging=function(t){var e,n,r=this.targetGesto,i=this.controlGesto;return(null==r?void 0:r.isFlag())?!t||!!(null===(e=r.getEventData()[t])||void 0===e?void 0:e.isEventStart):!!(null==i?void 0:i.isFlag())&&(!t||!!(null===(n=i.getEventData()[t])||void 0===n?void 0:n.isEventStart))},n.prototype.updateTarget=function(t){this.updateRect(t,!0)},n.prototype.getRect=function(){var t=this.state,e=gE(this.state),n=Wx(e,4),r=n[0],i=n[1],o=n[2],a=n[3],s=tE(e),l=t.width,u=t.height,c=s.width,d=s.height,f=s.left,p=s.top,h=[t.left,t.top],g=Rb(h,t.origin);return{width:c,height:d,left:f,top:p,pos1:r,pos2:i,pos3:o,pos4:a,offsetWidth:l,offsetHeight:u,beforeOrigin:Rb(h,t.beforeOrigin),origin:g,transformOrigin:t.transformOrigin,rotation:this.getRotation()}},n.prototype.getManager=function(){return this},n.prototype.stopDrag=function(t){var e;t&&"target"!==t||(!1===(null==(e=this.targetGesto)?void 0:e.isIdle())&&vE(this,!1),null==e||e.stop());t&&"control"!==t||(!1===(null==(e=this.controlGesto)?void 0:e.isIdle())&&vE(this,!0),null==e||e.stop())},n.prototype.getRotation=function(){var t=this.state;return function(t,e,n){var r=tb(t,e)/Math.PI*180;return(r=n>=0?r:180-r)>=0?r:360+r}(t.pos1,t.pos2,t.direction)},n.prototype.request=function(t,e,n){void 0===e&&(e={});var r=this,i=r.props,o=i.parentMoveable||i.wrapperMoveable||r,a=o.props.ables,s=i.groupable,l=Wy(a,(function(e){return e.name===t}));if(this.isDragging()||!l||!l.request)return{request:function(){return this},requestEnd:function(){return this}};var u=l.request(r),c=n||e.isInstant,d=u.isControl?"controlAbles":"targetAbles",f="".concat(s?"Group":"").concat(u.isControl?"Control":""),p=Ux([],Wx(o[d]),!1),h={request:function(e){return jC(r,p,["drag"],f,"",$x($x({},u.request(e)),{requestAble:t,isRequest:!0}),c),h},requestEnd:function(){return jC(r,p,["drag"],f,"End",$x($x({},u.requestEnd()),{requestAble:t,isRequest:!0}),c),h}};return jC(r,p,["drag"],f,"Start",$x($x({},u.requestStart(e)),{requestAble:t,isRequest:!0}),c),c?h.request(e).requestEnd():h},n.prototype.getMoveables=function(){return[this]},n.prototype.destroy=function(){this.componentWillUnmount()},n.prototype.updateRenderPoses=function(){var t=this.getState(),e=this.props,n=e.padding,r=t.originalBeforeOrigin,i=t.transformOrigin,o=t.allMatrix,a=t.is3d,s=t.pos1,l=t.pos2,u=t.pos3,c=t.pos4,d=t.left,f=t.top,p=t.isPersisted,h=e.zoom||1;if(!n&&h<=1)return t.renderPoses=[s,l,u,c],void(t.renderLines=[[s,l],[l,c],[c,u],[u,s]]);var g=QE(n||{}),v=g.left,m=g.top,y=g.bottom,b=g.right,x=a?4:3,w=Eb(x,jb((p?i:this.controlBox&&e.groupable?r:Rb(r,[d,f])).map((function(t){return-t})),x),o,jb(i,x)),S=AE(w,s,[-v,-m],x),k=AE(w,l,[b,-m],x),E=AE(w,u,[-v,y],x),C=AE(w,c,[b,y],x);if(t.renderPoses=[S,k,E,C],t.renderLines=[[S,k],[k,C],[C,E],[E,S]],h){var R=h/2;t.renderLines=[[AE(w,s,[-v-R,-m],x),AE(w,l,[b+R,-m],x)],[AE(w,l,[b,-m-R],x),AE(w,c,[b,y+R],x)],[AE(w,c,[b+R,y],x),AE(w,u,[-v-R,y],x)],[AE(w,u,[-v,y+R],x),AE(w,s,[-v,-m-R],x)]]}},n.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var t=this.props,e=t.target,n=t.container,r=t.parentMoveable,i=this.state,o=i.target,a=i.container;if(o||e){this.updateAbles();var s=!RE(o,e);if(s||!RE(a,n)){var l=n||this.controlBox;l&&this.unsetAbles(),this.updateState({target:e,container:n}),!r&&l&&this.updateRect("End",!1,!1),this._isPropTargetChanged=s}}},n.prototype.waitToChangeTarget=function(){return new Promise((function(){}))},n.prototype.triggerEvent=function(t,e){var n=this.props;if(this._emitter.trigger(t,e),n.parentMoveable&&e.isRequest&&!e.isRequestChild)return n.parentMoveable.triggerEvent(t,e,!0);var r=n[t];return r&&r(e)},n.prototype.useCSS=function(t,e){var n=this.props.customStyledMap,r=t+e;return n[r]||(n[r]=Vx(t,e)),n[r]},n.prototype.getState=function(){var t,e=this.props;(e.target||(null===(t=e.targets)||void 0===t?void 0:t.length))&&(this._hasFirstTarget=!0);var n=this.controlBox,r=e.persistData,i=e.firstRenderState;if(i&&!n)return i;if(!this._hasFirstTarget&&r){var o=XC(r);if(o)return this.updateState(o,!1),this.state}return this.state.isPersisted=!1,this.state},n.prototype.updateSelectors=function(){},n.prototype.unsetAbles=function(){var t=this;this.targetAbles.forEach((function(e){e.unset&&e.unset(t)}))},n.prototype.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var n=this.props.triggerAblesSimultaneously,r=this.getEnabledAbles(t),i="drag".concat(e,"Start"),o="pinch".concat(e,"Start"),a="drag".concat(e,"ControlStart"),s=CE(r,[i,o],n),l=CE(r,[a],n);this.enabledAbles=r,this.targetAbles=s,this.controlAbles=l},n.prototype.updateState=function(t,e){if(e){if(this.isUnmounted)return;this.setState(t)}else{var n=this.state;for(var r in t)n[r]=t[r]}},n.prototype.getEnabledAbles=function(t){void 0===t&&(t=this.props.ables);var e=this.props;return t.filter((function(t){return t&&(t.always&&!1!==e[t.name]||e[t.name])}))},n.prototype.renderAbles=function(){var e,n,r,i,o=this,a=this.props.triggerAblesSimultaneously,s={createElement:t.createElement};return this.renderState={},(e=ME(CE(this.getEnabledAbles(),["render"],a).map((function(t){return(0,t.render)(o,s)||[]}))).filter((function(t){return t})),n=function(t){return t.key},r=[],i={},e.forEach((function(t,o){var a=n(t,o,e),s=i[a];s||(s=[],i[a]=s,r.push(s)),s.push(t)})),r).map((function(t){return t[0]}))},n.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},n.prototype._getRequestStyles=function(){return this.getEnabledAbles().reduce((function(t,e){var n,r,i=null!==(r=null===(n=e.requestStyle)||void 0===n?void 0:n.call(e))&&void 0!==r?r:[];return Ux(Ux([],Wx(t),!1),Wx(i),!1)}),Ux([],Wx(this.props.requestStyles||[]),!1))},n.prototype._updateObserver=function(t){this._updateResizeObserver(t),this._updateMutationObserver(t)},n.prototype._updateEvents=function(){var t=this.targetAbles.length,e=this.controlAbles.length,n=this._dragTarget;(!t&&this.targetGesto||this._isTargetChanged(!0))&&(mE(this,!1),this.updateState({gestos:{}})),e||mE(this,!0),n&&t&&!this.targetGesto&&(this.targetGesto=qC(this,n,"")),!this.controlGesto&&e&&(this.controlGesto=GC(this,"Control"))},n.prototype._updateTargets=function(){var t=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=t.dragArea,this._propTarget=t.target,this._originalDragTarget=t.dragTarget||t.target,this._dragTarget=LE(this._originalDragTarget,!0)},n.prototype._renderLines=function(){var e=this.props,n=e.zoom,r=e.hideDefaultLines,i=e.hideChildMoveableDefaultLines,o=e.parentMoveable;if(r||o&&i)return[];var a=this.getState(),s={createElement:t.createElement};return a.renderLines.map((function(t,e){return uS(s,"",t[0],t[1],n,"render-line-".concat(e))}))},n.prototype._isTargetChanged=function(t){var e=this.props,n=e.dragTarget||e.target,r=this._prevOriginalDragTarget,i=this._prevDragArea,o=e.dragArea;return!o&&r!==n||(t||o)&&i!==o||this._prevPropTarget!=this._propTarget},n.prototype._updateNativeEvents=function(){var t=this,e=this.props.dragArea?this.areaElement:this.state.target,n=this.events,r=Yy(n);if(this._isTargetChanged())for(var i in n){var o=n[i];o&&o.destroy(),n[i]=null}if(e){var a=this.enabledAbles;r.forEach((function(r){var i=CE(a,[r]),o=i.length>0,s=n[r];o?(s||(s=new WC(e,t,r),n[r]=s),s.setAbles(i)):s&&(s.destroy(),n[r]=null)}))}},n.prototype._checkUpdateRootContainer=function(){var t=this.props.rootContainer;!this._rootContainer&&t&&(this._rootContainer=LE(t,!0))},n.prototype._checkUpdateViewContainer=function(){var t=this.props.viewContainer;!this._viewContainer&&t&&(this._viewContainer=LE(t,!0)),this._viewContainer&&this._changeAbleViewClassNames(Ux(Ux([],Wx(this._getAbleViewClassNames()),!1),[this.isDragging()?aC:""],!1))},n.prototype._changeAbleViewClassNames=function(t){var e=this._viewContainer,n=PE(t.filter(Boolean),(function(t){return t})).map((function(t){return Wx(t,1)[0]})),r=this._viewClassNames,i=Kb(r,n),o=i.removed,a=i.added;o.forEach((function(t){sb(e,r[t])})),a.forEach((function(t){ab(e,n[t])})),this._viewClassNames=n},n.prototype._getAbleViewClassNames=function(){var t=this;return(this.getEnabledAbles().map((function(e){var n;return(null===(n=e.viewClassName)||void 0===n?void 0:n.call(e,t))||""})).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},n.prototype._getAbleClassName=function(t){var e=this;void 0===t&&(t="");var n=this.getEnabledAbles(),r=this.targetGesto,i=this.controlGesto,o=(null==r?void 0:r.isFlag())?r.getEventData():{},a=(null==i?void 0:i.isFlag())?i.getEventData():{};return n.map((function(n){var r,i,s,l=n.name,u=(null===(r=n.className)||void 0===r?void 0:r.call(n,e))||"";return((null===(i=o[l])||void 0===i?void 0:i.isEventStart)||(null===(s=a[l])||void 0===s?void 0:s.isEventStart))&&(u+=" ".concat(Ik("".concat(l).concat(t,"-dragging")))),u.trim()})).filter(Boolean).join(" ")},n.prototype._updateResizeObserver=function(t){var e,n=this.props,r=n.target,i=pb(this.getControlBoxElement());if(i.ResizeObserver&&r&&n.useResizeObserver){if(t.target!==r||!this._reiszeObserver){var o=new i.ResizeObserver(this.checkUpdateRect);o.observe(r,{box:"border-box"}),this._reiszeObserver=o}}else null===(e=this._reiszeObserver)||void 0===e||e.disconnect()},n.prototype._updateMutationObserver=function(t){var e,n=this,r=this.props,i=r.target,o=pb(this.getControlBoxElement());if(o.MutationObserver&&i&&r.useMutationObserver){if(t.target!==i||!this._mutationObserver){var a=new o.MutationObserver((function(t){var e,r;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=i.next();!o.done;o=i.next()){var a=o.value;"attributes"===a.type&&"style"===a.attributeName&&n.checkUpdateRect()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}));a.observe(i,{attributes:!0}),this._mutationObserver=a}}else null===(e=this._mutationObserver)||void 0===e||e.disconnect()},n.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:Lk,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},n}(t.PureComponent),KC={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(t,e){var n,r=t.props,i=r.targets||[],o=t.getState(),a=o.left,s=o.top,l=o.isPersisted,u=r.zoom||1,c=t.renderGroupRects,d=(null===(n=r.persistData)||void 0===n?void 0:n.children)||[];l?i=d.map((function(){return null})):d=[];var f=UE(t,"parentPosition",[a,s],(function(t){return t.join(",")})),p=UE(t,"requestStyles",t.getRequestChildStyles(),(function(t){return t.join(",")}));return t.moveables=t.moveables.slice(0,i.length),Ux(Ux([],Wx(i.map((function(n,i){return e.createElement(QC,{key:"moveable"+i,ref:yy(t,"moveables",i),target:n,origin:!1,requestStyles:p,cssStyled:r.cssStyled,customStyledMap:r.customStyledMap,useResizeObserver:r.useResizeObserver,useMutationObserver:r.useMutationObserver,hideChildMoveableDefaultLines:r.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:[a,s],persistData:d[i],zoom:u})}))),!1),Wx(ME(c.map((function(t,n){var r=[t.pos1,t.pos2,t.pos3,t.pos4];return[[0,1],[1,3],[3,2],[2,0]].map((function(t,i){var o=Wx(t,2),a=o[0],s=o[1];return uS(e,"",Tb(r[a],f),Tb(r[s],f),u,"group-rect-".concat(n,"-").concat(i))}))})))),!1)}},ZC=Hx("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var n=t.props.target,r=e.inputEvent,i=e.inputTarget,o=!t.isMoveableElement(i)&&t.controlBox.contains(i);if(r&&i&&!e.isDrag&&!t.isMoveableElement(i)&&!o){var a=n.contains(i);kE(t,"onClick",xE(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:n===i,moveableTarget:t.props.target,containsTarget:a}))}},dragGroupEnd:function(t,e){var n=e.inputEvent,r=e.inputTarget;if(n&&r&&!e.isDrag&&!t.isMoveableElement(r)&&e.datas.inputTarget!==r){var i=t.props.targets,o=i.indexOf(r),a=o>-1,s=!1;-1===o&&(s=(o=$y(i,(function(t){return t.contains(r)})))>-1),kE(t,"onClickGroup",xE(t,e,{isDouble:e.isDouble,targets:i,inputTarget:r,targetIndex:o,isTarget:a,containsTarget:s,moveableTarget:i[o]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function JC(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),$x($x({},t),{datas:e})}var tR=Hx("edgeDraggable",{css:[".edge.edgeDraggable.line {\ncursor: move;\n}"],render:function(t,e){var n=t.props,r=n.edgeDraggable;return r?cS(e,"edgeDraggable",r,t.getState().renderPoses,n.zoom):[]},dragCondition:function(t,e){var n,r=t.props,i=null===(n=e.inputEvent)||void 0===n?void 0:n.target;return!(!r.edgeDraggable||!i)&&(!r.draggable&&ob(i,Ik("direction"))&&ob(i,Ik("edge"))&&ob(i,Ik("edgeDraggable")))},dragStart:function(t,e){return rk.dragStart(t,JC(e))},drag:function(t,e){return rk.drag(t,JC(e))},dragEnd:function(t,e){return rk.dragEnd(t,JC(e))},dragGroupCondition:function(t,e){var n,r=t.props,i=null===(n=e.inputEvent)||void 0===n?void 0:n.target;return!(!r.edgeDraggable||!i)&&(!r.draggable&&ob(i,Ik("direction"))&&ob(i,Ik("line")))},dragGroupStart:function(t,e){return rk.dragGroupStart(t,JC(e))},dragGroup:function(t,e){return rk.dragGroup(t,JC(e))},dragGroupEnd:function(t,e){return rk.dragGroupEnd(t,JC(e))},unset:function(t){return rk.unset(t)}}),eR={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},nR=[LC,pC,Fk,KE,rk,tR,sk,JE,nC,hk,fC,hC,cC,AC,_C,IC,KC,eR,ZC,uC,NC];function rR(t,e){var n=Wx(t,3),r=n[0],i=n[1],o=n[2];return(r*e[0]+i*e[1]+o)/Math.sqrt(r*r+i*i)}function iR(t,e){var n=Wx(t,2),r=n[0],i=n[1];return-r*e[0]-i*e[1]}function oR(t,e){return Math.max.apply(Math,Ux([],Wx(t.map((function(t){var n=Wx(t,4),r=n[0],i=n[1],o=n[2],a=n[3];return Math.max(r[e],i[e],o[e],a[e])}))),!1))}function aR(t,e){return Math.min.apply(Math,Ux([],Wx(t.map((function(t){var n=Wx(t,4),r=n[0],i=n[1],o=n[2],a=n[3];return Math.min(r[e],i[e],o[e],a[e])}))),!1))}function sR(t,e){var n=e.map((function(e){if(_y(e)){var n=sR(t,e),r=n.length;return r>1?n:1===r?n[0]:null}var i=Wy(t,(function(t){return t.manager.props.target===e}));return i?(i.finded=!0,i.manager):null})).filter(Boolean);return 1===n.length&&_y(n[0])?n[0]:n}var lR=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.differ=new nx,e.moveables=[],e.transformOrigin="50% 50%",e.renderGroupRects=[],e._targetGroups=[],e._hasFirstTargets=!1,e}return Gx(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this)},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(t,e,n){var r;void 0===n&&(n=!0);var i=this.state;if(this.controlBox&&!i.isPersisted){eS(!0),this.moveables.forEach((function(e){e.updateRect(t,!1,!1)}));var o=this.props,a=this.moveables,s=i.target||o.target,l=a.map((function(t){return{finded:!1,manager:t}})),u=this.props.targetGroups||[],c=sR(l,u),d=o.useDefaultGroupRotate;c.push.apply(c,Ux([],Wx(l.filter((function(t){return!t.finded})).map((function(t){return t.manager}))),!1));var f=[],p=!e||""!==t&&o.updateGroup,h=o.defaultGroupRotate||0;if(!this._hasFirstTargets){var g=null===(r=o.persistData)||void 0===r?void 0:r.rotation;null!=g&&(h=g)}var v=function t(e,n,r){var i=e.map((function(e){if(_y(e)){var r=t(e,n),i=[r.pos1,r.pos2,r.pos3,r.pos4];return f.push(r),{poses:i,rotation:r.rotation}}return{poses:gE(e.state),rotation:e.getRotation()}})),o=i.map((function(t){return t.rotation})),a=0,s=o[0],l=o.every((function(t){return Math.abs(s-t)<.1}));a=p?!d&&l?s:h:d||r||!l?n:s;var u=i.map((function(t){return t.poses})),c=function(t,e){var n,r,i,o=[0,0],a=[0,0],s=[0,0],l=[0,0],u=0,c=0;if(!t.length)return{pos1:o,pos2:a,pos3:s,pos4:l,minX:0,minY:0,maxX:0,maxY:0,width:u,height:c,rotation:e};var d=rb(e,hw);if(d%90){var f=d/180*Math.PI,p=Math.tan(f),h=-1/p,g=[vw,mw],v=[[0,0],[0,0]],m=[vw,mw],y=[[0,0],[0,0]];t.forEach((function(t){t.forEach((function(t){var e=rR([-p,1,0],t),n=rR([-h,1,0],t);g[0]>e&&(v[0]=t,g[0]=e),g[1]<e&&(v[1]=t,g[1]=e),m[0]>n&&(y[0]=t,m[0]=n),m[1]<n&&(y[1]=t,m[1]=n)}))}));var b=Wx(v,2),x=b[0],w=b[1],S=Wx(y,2),k=S[0],E=S[1],C=[-p,1,iR([-p,1],x)],R=[-p,1,iR([-p,1],w)],T=[-h,1,iR([-h,1],k)],P=[-h,1,iR([-h,1],E)];n=Wx([[C,T],[C,P],[R,T],[R,P]].map((function(t){var e=Wx(t,2);return xx(e[0],e[1])[0]})),4),o=n[0],a=n[1],s=n[2],l=n[3],u=m[1]-m[0],c=g[1]-g[0]}else{var M=aR(t,0),D=aR(t,1),O=oR(t,0),_=oR(t,1);o=[M,D],a=[O,D],s=[M,_],l=[O,_],u=O-M,c=_-D,d%180&&(o=(r=Wx([s,o,l,a],4))[0],a=r[1],s=r[2],l=r[3],u=_-D,c=O-M)}d%360>180&&(o=(i=Wx([l,s,a,o],4))[0],a=i[1],s=i[2],l=i[3]);var A=mx([o,a,s,l]);return{pos1:o,pos2:a,pos3:s,pos4:l,width:u,height:c,minX:A.minX,minY:A.minY,maxX:A.maxX,maxY:A.maxY,rotation:e}}(u,a);return c}(c,this.rotation,!0);p&&(this.rotation=v.rotation,this.transformOrigin=o.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=u,this.renderGroupRects=f;var m,y,b,x,w,S=this.transformOrigin,k=this.rotation,E=this.scale,C=v.width,R=v.height,T=v.minX,P=v.minY,M=(m=[[0,0],[C,0],[0,R],[C,R]],y=$E(S,C,R),b=this.rotation/180*Math.PI,x=m.map((function(t){return Tb(t,y)})),w=x.map((function(t){return zb(t,b)})),{prev:x,next:w,result:w.map((function(t){return Rb(t,y)}))}),D=mx(M.result),O=D.minX,_=D.minY,A=" rotate(".concat(k,"deg)")+" scale(".concat(HE(E[0]),", ").concat(HE(E[1]),")"),z="translate(".concat(-O,"px, ").concat(-_,"px)").concat(A);this.controlBox.style.transform="translate3d(".concat(T,"px, ").concat(P,"px, ").concat(this.props.translateZ||0,")"),s.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(S,";")+"width:".concat(C,"px;height:").concat(R,"px;")+"transform: ".concat(z),i.width=C,i.height=R;var B=this.getContainer(),F=YC(this.controlBox,s,this.controlBox,this.getContainer(),this._rootContainer||B,[]),I=[F.left,F.top],L=Wx(gE(F),4),N=L[0],j=L[1],V=L[2],q=L[3],G=mx([N,j,V,q]),$=[G.minX,G.minY],W=HE(E[0]*E[1]);F.pos1=Tb(N,$),F.pos2=Tb(j,$),F.pos3=Tb(V,$),F.pos4=Tb(q,$),F.left=T-F.left+$[0],F.top=P-F.top+$[1],F.origin=Tb(Rb(I,F.origin),$),F.beforeOrigin=Tb(Rb(I,F.beforeOrigin),$),F.originalBeforeOrigin=Rb(I,F.originalBeforeOrigin),F.transformOrigin=Tb(Rb(I,F.transformOrigin),$),s.style.transform="translate(".concat(-O-$[0],"px, ").concat(-_-$[1],"px)")+A,eS(),this.updateState($x($x({},F),{posDelta:$,direction:W,beforeDirection:W}),n)}},e.prototype.getRect=function(){return $x($x({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},e.prototype.triggerEvent=function(e,n,r){if(r||e.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,e,n);this._emitter.trigger(e,n)},e.prototype.getRequestChildStyles=function(){return this.getEnabledAbles().reduce((function(t,e){var n,r,i=null!==(r=null===(n=e.requestChildStyle)||void 0===n?void 0:n.call(e))&&void 0!==r?r:[];return Ux(Ux([],Wx(t),!1),Wx(i),!1)}),[])},e.prototype.getMoveables=function(){return Ux([],Wx(this.moveables),!1)},e.prototype.updateAbles=function(){t.prototype.updateAbles.call(this,Ux(Ux([],Wx(this.props.ables),!1),[KC],!1),"Group")},e.prototype._updateTargets=function(){t.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=LE(this._originalDragTarget,!0)},e.prototype._updateEvents=function(){var t=this.state,e=this.props,n=this._prevDragTarget,r=e.dragTarget||this.areaElement,i=e.targets,o=this.differ.update(i),a=o.added,s=o.changed,l=o.removed,u=a.length||l.length;(u||this._prevOriginalDragTarget!==this._originalDragTarget)&&(mE(this,!1),mE(this,!0),this.updateState({gestos:{}})),n!==r&&(t.target=null),t.target||(t.target=this.areaElement,this.controlBox.style.display="block"),t.target&&(this.targetGesto||(this.targetGesto=qC(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=GC(this,"GroupControl")));var c=!RE(t.container,e.container);c&&(t.container=e.container),(c||u||this.transformOrigin!==(e.defaultGroupOrigin||"50% 50%")||s.length||i.length&&!WE(this._targetGroups,e.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!u},e.prototype._updateObserver=function(){},e.defaultProps=$x($x({},QC.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(QC),uR=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveables=[],t}return Gx(n,e),n.prototype.render=function(){var e,n=this,r=this.props,i=r.cspNonce,o=r.cssStyled,a=r.persistData,s=r.targets||[],l=s.length,u=this.isUnmounted||!l,c=null!==(e=null==a?void 0:a.children)&&void 0!==e?e:[];return u&&!l&&c.length?s=c.map((function(){return null})):u||(c=[]),t.createElement(o,{cspNonce:i,ref:my(this,"controlBox"),className:Ik("control-box")},s.map((function(e,i){var o,a,s=null!==(a=null===(o=r.individualGroupableProps)||void 0===o?void 0:o.call(r,e,i))&&void 0!==a?a:{};return t.createElement(QC,$x({key:"moveable"+i,ref:yy(n,"moveables",i)},r,s,{target:e,wrapperMoveable:n,isWrapperMounted:n.isMoveableMounted,persistData:c[i]}))})))},n.prototype.componentDidMount=function(){},n.prototype.componentDidUpdate=function(){},n.prototype.getTargets=function(){return this.props.targets},n.prototype.updateRect=function(t,e,n){void 0===n&&(n=!0),eS(!0),this.moveables.forEach((function(r){r.updateRect(t,e,n)})),eS()},n.prototype.getRect=function(){return $x($x({},e.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},n.prototype.request=function(t,e,n){void 0===e&&(e={});var r=this.moveables.map((function(n){return n.request(t,$x($x({},e),{isInstant:!1}),!1)})),i={request:function(t){return r.forEach((function(e){return e.request(t)})),this},requestEnd:function(){return r.forEach((function(t){return t.requestEnd()})),this}};return n||e.isInstant?i.request(e).requestEnd():i},n.prototype.dragStart=function(t,e){void 0===e&&(e=t.target);var n=e,r=Wy(this.moveables,(function(t){var e=t.getTargets()[0],r=t.getControlBoxElement(),i=t.getDragElement();return!(!e||!i)&&(i===n||i.contains(n)||i!==e&&e===n||e.contains(n)||r===n||r.contains(n))}));return r&&r.dragStart(t,e),this},n.prototype.hitTest=function(){return 0},n.prototype.isInside=function(){return!1},n.prototype.isDragging=function(){return!1},n.prototype.getDragElement=function(){return null},n.prototype.getMoveables=function(){return Ux([],Wx(this.moveables),!1)},n.prototype.updateRenderPoses=function(){},n.prototype.checkUpdate=function(){},n.prototype.triggerEvent=function(){},n.prototype.updateAbles=function(){},n.prototype._updateEvents=function(){},n.prototype._updateObserver=function(){},n}(QC);function cR(t,e){var n=[];return t.forEach((function(t){t&&(Ay(t)?e[t]&&n.push.apply(n,Ux([],Wx(e[t]),!1)):_y(t)?n.push.apply(n,Ux([],Wx(cR(t,e)),!1)):n.push(t))})),n}function dR(t,e){var n=[];return t.forEach((function(t){t&&(Ay(t)?e[t]&&n.push.apply(n,Ux([],Wx(e[t]),!1)):_y(t)?n.push(dR(t,e)):n.push(t))})),n}function fR(t,e){return t.length!==e.length||t.some((function(t,n){var r=e[n];return!(!t&&!r)&&(t!=r&&(!_y(t)||!_y(r)||fR(t,r)))}))}var pR=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.refTargets=[],t.selectorMap={},t._differ=new nx,t._elementTargets=[],t._tmpRefTargets=[],t._tmpSelectorMap={},t._onChangeTargets=null,t}var r,i;return Gx(n,e),n.makeStyled=function(){var t={};this.getTotalAbles().forEach((function(e){var n=e.css;n&&n.forEach((function(e){t[e]=!0}))}));var e=Yy(t).join("\n");this.defaultStyled=Vx("div",function(t,e){return e.replace(/([^}{]*){/gm,(function(e,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"}))}(uw,dw+e))},n.getTotalAbles=function(){return Ux([pC,KC,eR,uC],Wx(this.defaultAbles),!1)},n.prototype.render=function(){var e,n=this.constructor;n.defaultStyled||n.makeStyled();var r=this.props,i=r.ables,o=r.props,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(r,["ables","props"]),s=Wx(this._updateRefs(!0),2),l=s[0],u=s[1],c=cR(l,u),d=c.length>1,f=Ux(Ux([],Wx(n.getTotalAbles()),!1),Wx(i||[]),!1),p=$x($x($x({},a),o||{}),{ables:f,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});this._elementTargets=c;var h=null,g=this.moveable,v=a.persistData;if((null==v?void 0:v.children)&&(d=!0),a.individualGroupable)return t.createElement(uR,$x({key:"individual-group",ref:my(this,"moveable")},p,{target:null,targets:c}));if(d){var m=dR(l,u);if(g&&!g.props.groupable&&!g.props.individualGroupable){var y=g.props.target;y&&c.indexOf(y)>-1&&(h=$x({},g.state))}return t.createElement(lR,$x({key:"group",ref:my(this,"moveable")},p,null!==(e=a.groupableProps)&&void 0!==e?e:{},{target:null,targets:c,targetGroups:m,firstRenderState:h}))}var b=c[0];if(g&&(g.props.groupable||g.props.individualGroupable)){var x=Wy(g.moveables||[],(function(t){return t.props.target===b}));x&&(h=$x({},x.state))}return t.createElement(QC,$x({key:"single",ref:my(this,"moveable")},p,{target:b,firstRenderState:h}))},n.prototype.componentDidMount=function(){this._checkChangeTargets()},n.prototype.componentDidUpdate=function(){this._checkChangeTargets()},n.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},n.prototype.getTargets=function(){var t,e;return null!==(e=null===(t=this.moveable)||void 0===t?void 0:t.getTargets())&&void 0!==e?e:[]},n.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},n.prototype.waitToChangeTarget=function(){var t,e=this;return this._onChangeTargets=function(){e._onChangeTargets=null,t()},new Promise((function(e){t=e}))},n.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},n.prototype.getManager=function(){return this.moveable},n.prototype.getMoveables=function(){return this.moveable.getMoveables()},n.prototype.getDragElement=function(){return this.moveable.getDragElement()},n.prototype._updateRefs=function(t){var e=this.refTargets,n=NE(this.props.target||this.props.targets),r="undefined"!=typeof document,i=fR(e,n),o=this.selectorMap,a={};return this.refTargets.forEach((function t(e){Ay(e)?o[e]?a[e]=o[e]:r&&(i=!0,a[e]=[].slice.call(document.querySelectorAll(e))):_y(e)&&e.forEach(t)})),this._tmpRefTargets=n,this._tmpSelectorMap=a,[n,a,!t&&i]},n.prototype._checkChangeTargets=function(){var t,e,n;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var r=this._differ.update(this._elementTargets),i=r.added,o=r.removed;(i.length||o.length)&&(null===(e=(t=this.props).onChangeTargets)||void 0===e||e.call(t,{moveable:this.moveable,targets:this._elementTargets}),null===(n=this._onChangeTargets)||void 0===n||n.call(this));var a=Wx(this._updateRefs(),3),s=a[0],l=a[1],u=a[2];this.refTargets=s,this.selectorMap=l,u&&this.forceUpdate()},n.defaultAbles=[],n.customStyledMap={},n.defaultStyled=null,function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);o>3&&a&&Object.defineProperty(e,n,a)}([(r=ww,void 0===i&&(i={}),function(t,e){r.forEach((function(n){var r=i[n]||n;r in t||(t[r]=function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=(t=this[e])[n].apply(t,r);return o===this[e]?this:o})}))})],n.prototype,"moveable",void 0),n}(t.PureComponent),hR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gx(e,t),e.defaultAbles=nR,e}(pR);var gR={name:"1k3tz3n",styles:"position:relative;width:100%;height:100%;pointer-events:none;z-index:100"};function vR(e){let{ticksBetweenUpdates:n=0}=e;const r=(0,t.useRef)(null),{width:i,height:o}=(0,t.useContext)(Rg),a=(0,t.useRef)(null);return Yc((t=>{let{world:e}=t;const s=r.current?.getContext("2d");if(!s)return;const{current:l}=a;if(n>0&&null!=l&&l<n)return void(a.current=l+1);s.clearRect(0,0,i,o);const{vertices:u,colors:c}=e.debugRender();for(let t=0;t<u.length/4;t+=1){const e=255*c[4*t+0],n=255*c[4*t+1],r=255*c[4*t+2],i=255*c[4*t+3];s.beginPath(),s.strokeStyle=`rgba(${e}, ${n}, ${r}, ${i})`,s.lineWidth=1.5,s.moveTo(..._c.fromRapier.vector(u[4*t+0],u[4*t+1])),s.lineTo(..._c.fromRapier.vector(u[4*t+2],u[4*t+3])),s.closePath(),s.stroke()}a.current=0}),[i,o,a,n]),oc("div",{css:gR,children:oc("canvas",{ref:r,height:i,width:o})})}var mR=c(6639),yR=c.n(mR),bR=c(5745),xR=c.n(bR),wR=c(7597),SR=c.n(wR);function kR(){const e=(0,t.useRef)(!1);return ct((()=>(e.current=!0,()=>{e.current=!1})),[]),e}class ER extends t.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function CR({children:e,isPresent:n}){const r=(0,t.useId)(),i=(0,t.useRef)(null),o=(0,t.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,t.useContext)(at);return(0,t.useInsertionEffect)((()=>{const{width:t,height:e,top:s,left:l}=o.current;if(n||!i.current||!t||!e)return;i.current.dataset.motionPopId=r;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${t}px !important;\n            height: ${e}px !important;\n            top: ${s}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(u)}}),[n]),t.createElement(ER,{isPresent:n,childRef:i,sizeRef:o},t.cloneElement(e,{ref:i}))}const RR=({children:e,initial:n,isPresent:r,onExitComplete:i,custom:o,presenceAffectsLayout:a,mode:s})=>{const l=je(TR),u=(0,t.useId)(),c=(0,t.useMemo)((()=>({id:u,initial:n,isPresent:r,custom:o,onExitComplete:t=>{l.set(t,!0);for(const t of l.values())if(!t)return;i&&i()},register:t=>(l.set(t,!1),()=>l.delete(t))})),a?void 0:[r]);return(0,t.useMemo)((()=>{l.forEach(((t,e)=>l.set(e,!1)))}),[r]),t.useEffect((()=>{!r&&!l.size&&i&&i()}),[r]),"popLayout"===s&&(e=t.createElement(CR,{isPresent:r},e)),t.createElement(lt.Provider,{value:c},e)};function TR(){return new Map}const PR=t=>t.key||"";const MR=({children:e,custom:n,initial:r=!0,onExitComplete:i,exitBeforeEnter:o,presenceAffectsLayout:a=!0,mode:s="sync"})=>{Vn(!o,"Replace exitBeforeEnter with mode='wait'");const l=(0,t.useContext)(_t).forceRender||function(){const e=kR(),[n,r]=(0,t.useState)(0),i=(0,t.useCallback)((()=>{e.current&&r(n+1)}),[n]);return[(0,t.useCallback)((()=>Ye.postRender(i)),[i]),n]}()[0],u=kR(),c=function(e){const n=[];return t.Children.forEach(e,(e=>{(0,t.isValidElement)(e)&&n.push(e)})),n}(e);let d=c;const f=(0,t.useRef)(new Map).current,p=(0,t.useRef)(d),h=(0,t.useRef)(new Map).current,g=(0,t.useRef)(!0);var v;if(ct((()=>{g.current=!1,function(t,e){t.forEach((t=>{const n=PR(t);e.set(n,t)}))}(c,h),p.current=d})),v=()=>{g.current=!0,h.clear(),f.clear()},(0,t.useEffect)((()=>()=>v()),[]),g.current)return t.createElement(t.Fragment,null,d.map((e=>t.createElement(RR,{key:PR(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:a,mode:s},e))));d=[...d];const m=p.current.map(PR),y=c.map(PR),b=m.length;for(let t=0;t<b;t++){const e=m[t];-1!==y.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===s&&f.size&&(d=[]),f.forEach(((e,r)=>{if(-1!==y.indexOf(r))return;const o=h.get(r);if(!o)return;const g=m.indexOf(r);let v=e;if(!v){const e=()=>{f.delete(r);const t=Array.from(h.keys()).filter((t=>!y.includes(t)));if(t.forEach((t=>h.delete(t))),p.current=c.filter((e=>{const n=PR(e);return n===r||t.includes(n)})),!f.size){if(!1===u.current)return;l(),i&&i()}};v=t.createElement(RR,{key:PR(o),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:a,mode:s},o),f.set(r,v)}d.splice(g,0,v)})),d=d.map((e=>{const n=e.key;return f.has(n)?e:t.createElement(RR,{key:PR(e),isPresent:!0,presenceAffectsLayout:a,mode:s},e)})),t.createElement(t.Fragment,null,f.size?d:d.map((e=>(0,t.cloneElement)(e))))};const DR={name:"ltoh7s",styles:"border:2px solid black;background:white;box-shadow:5px 5px 0 rgba(0, 0, 0, 0.5);border-radius:4px"};var OR={name:"1u0ycie",styles:"position:absolute;display:flex;align-items:center;justify-content:center;width:100%;height:100%;z-index:50;.wrapper{display:flex;position:relative;}"};function _R(e){let{className:n,onDismiss:r,children:i}=e;const o=(0,t.useRef)(null),a=(0,t.useCallback)((t=>{t.target===t.currentTarget&&r?.()}),[r]);return oc(_s.div,{ref:o,onClick:a,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",duration:.65},css:OR,className:n,children:i})}const AR={routed:SR(),expiry:xR(),submit:yR()},zR=Object.keys(AR),BR="contraptionTips";function FR(){let t={};try{const e=localStorage.getItem(BR);t=JSON.parse(e??"{}")}catch{}return Object.fromEntries(zR.map((e=>[e,Boolean(t[e])??!1])))}function IR(){const[e,n]=(0,t.useState)(FR),[r,i]=(0,t.useState)(null),o=(0,t.useCallback)((t=>{e[t]||null!=r||i(t)}),[e,r]),a=(0,t.useCallback)((t=>{i(null);const r={...e,[t]:!0};var o;n(r),o=r,localStorage[BR]=JSON.stringify(o)}),[e]);return(0,t.useMemo)((()=>({seenTutorials:e,visibleTutorial:r,showTutorial:o,dismissTutorial:a})),[a,e,o,r])}var LR={name:"5ob2ly",styles:"display:flex;position:relative"},NR={name:"k1zpx0",styles:"filter:drop-shadow(5px 5px 0 rgba(0, 0, 0, 0.5))"},jR={name:"1k70ovh",styles:"position:absolute;background:none;border:none;top:0;right:0;width:24px;height:24px;cursor:pointer"};function VR(e){let{visibleTutorial:n,onDismissTutorial:r}=e;const i=(0,t.useCallback)((()=>{n&&r(n)}),[r,n]);return oc(MR,{children:n?oc(_R,{onDismiss:i,children:ac("div",{css:LR,children:[oc(sc,{img:AR[n],css:NR}),oc("button",{css:jR,onClick:i,"aria-label":"Close"})]})}):null})}var qR=c(1591),GR=c.n(qR),$R=c(5699),WR=c.n($R);const UR={name:"1r4the7",styles:"filter:drop-shadow(2px 2px 0 rgba(0, 0, 0, 0.5))"};function HR(t){let{disabled:e,className:n,"aria-label":r,onClick:i,children:o,...a}=t;return oc(_s.button,{...a,onClick:i,disabled:e,css:Ju({padding:0,border:"none",background:"none",cursor:e?"default":"pointer",zIndex:20},"",""),className:n,"aria-label":r,children:o})}var YR={name:"1s7wlyv",styles:"display:flex;align-items:center;justify-content:center;aspect-ratio:1;cursor:pointer;:hover{background:#ccc;}"},XR={name:"t5h7jh",styles:"border-bottom:1px dashed black;padding-top:10px;margin-bottom:10px;margin-left:4px;margin-right:4px"};function QR(t){let{className:e,widgetCount:n,onAdd:r,onTrash:i,onEmergencyStop:o}=t;const a=n<pd;function s(t){return Object.entries(t).map((t=>{let[e,{preview:n,create:i}]=t;return oc("div",{onClick:()=>r(i),css:YR,children:oc(n,{})},e)}))}return ac("div",{css:[DR,"display:flex;flex-direction:column;gap:12px;padding-bottom:12px;z-index:70;",""],className:e,children:[ac("div",{css:Ju({flex:1,overflow:"auto",scrollbarWidth:"thin",opacity:a?1:.5,pointerEvents:a?"all":"none"},"",""),children:[s(gD),oc("div",{css:XR}),s(vD)]}),n>.75*pd&&ac("div",{css:Ju({display:"flex",height:26,alignItems:"center",justifyContent:"center",borderTop:"2px solid black",color:a?"black":"red"},"",""),children:[n," / ",pd]}),oc(HR,{onClick:i,"aria-label":"Delete selection",css:Ju({height:WR().height},"",""),children:oc(sc,{img:WR()})}),oc(HR,{onClick:o,"aria-label":"Emergency stop",css:Ju({height:GR().height},"",""),children:oc(sc,{img:GR()})})]})}var KR=qs?qs.isConcatSpreadable:void 0;const ZR=function(t){return dp(t)||kp(t)||!!(KR&&t&&t[KR])};const JR=function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=ZR),o||(o=[]);++a<s;){var l=e[a];n>0&&r(l)?n>1?t(l,n-1,r,i,o):cp(o,l):i||(o[o.length]=l)}return o};const tT=function(t,e){return function(n,r){if(null==n)return n;if(!gl(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(wg);const eT=function(t,e){var n=-1,r=gl(t)?Array(t.length):[];return tT(t,(function(t,i,o){r[++n]=e(t,i,o)})),r};const nT=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t};const rT=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Js(t),a=void 0!==e,s=null===e,l=e==e,u=Js(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0};const iT=function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=rT(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return t.index-e.index};const oT=function(t,e,n){e=e.length?Ah(e,(function(t){return dp(t)?function(e){return jh(e,1===t.length?t[0]:t)}:t})):[Uh];var r=-1;e=Ah(e,Op(Qh));var i=eT(t,(function(t,n,i){return{criteria:Ah(e,(function(e){return e(t)})),index:++r,value:t}}));return nT(i,(function(t,e){return iT(t,e,n)}))};const aT=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var sT=Math.max;const lT=function(t,e,n){return e=sT(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=sT(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),aT(t,this,s)}};const uT=function(t){return function(){return t}};const cT=yg?function(t,e){return yg(t,"toString",{configurable:!0,enumerable:!1,value:uT(e),writable:!0})}:Uh;var dT=Date.now;const fT=function(t){var e=0,n=0;return function(){var r=dT(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(cT);const pT=function(t,e){return fT(lT(t,e,Uh),t+"")}((function(t,e){if(null==t)return[];var n=e.length;return n>1&&yl(t,e[0],e[1])?e=[]:n>2&&yl(e[0],e[1],e[2])&&(e=[e[0]]),oT(t,JR(e,1),[])}));const hT=function(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r};const gT=function(t,e,n,r){return tT(t,(function(t,i,o){e(r,t,n(t),o)})),r};const vT=function(t,e){return function(n,r){var i=dp(n)?hT:gT,o=e?e():{};return i(n,t,Qh(r,2),o)}};var mT=Object.prototype.hasOwnProperty;const yT=vT((function(t,e,n){mT.call(t,n)?t[n].push(e):bg(t,n,[e])}));var bT=c(6160),xT=c.n(bT),wT=c(4375),ST=c.n(wT);const kT=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=il(n))==n?n:0),void 0!==e&&(e=(e=il(e))==e?e:0),_m(il(t),e,n)},ET=2*Math.PI;function CT(t){let{value:e,lineWidth:n=.2,...r}=t;const i=kT(e,0,1),o=i>.5?1:0,a=n/2,s=1-a,l=s*Math.sin(i*ET)+1,u=1-s*Math.cos(i*ET);return oc("svg",{...r,viewBox:"0 0 2 2",children:1===i?oc("circle",{r:s,cx:1,cy:1,strokeWidth:n,fill:"transparent"}):oc("path",{d:`M 1 ${a} A ${s} ${s} 0 ${o} 1 ${l} ${u}`,strokeWidth:n,fill:"transparent"})})}const RT=[xT(),ST()],TT=1e3/15,PT=1e4;var MT={name:"a4hmbt",styles:"position:absolute"};function DT(e){let{x:n,y:r,balls:i,side:o,id:a,onValidate:s}=e;const{msPerBall:l,exitBall:u}=ed(),[c,d]=(0,t.useState)(0),f=(0,t.useMemo)((()=>new Set(i.map((t=>{let{type:e}=t;return e})))),[i]),p=vv(i,(t=>{let{rate:e}=t;return e})),h=l/p,g=PT/h,v=g+3+.5*Fv,m=c/g,y=m>=1,b=(0,t.useCallback)((t=>{const e=f.has(t.ballType)?1:-1;d((t=>Math.min(t+2*e,v))),u(t.id)}),[u,f,v]);return(0,t.useEffect)((()=>{const t=setInterval((()=>{d((t=>Math.max(0,t-g*(TT/PT))))}),TT);return()=>{clearInterval(t)}}),[g,h]),(0,t.useEffect)((()=>{s?.(a,y)}),[a,y,s]),ac(ic,{children:[ac("div",{css:Ju({display:"flex",alignItems:"center",justifyContent:"center",width:26,height:26,marginLeft:"bottom"===o?-32:"right"===o?-40:40,marginTop:"bottom"===o?-40:-32,borderRadius:"100%",outline:"2px solid white",pointerEvents:"none",opacity:.75,zIndex:10},"",""),style:Og(n,r),children:[oc(lc,{css:MT,imgs:RT,showIdx:y?0:1}),oc(CT,{value:m,lineWidth:.25,css:Ju({position:"absolute",stroke:y?"darkgreen":"darkred",fill:"transparent"},"","")})]}),oc(Bv,{x:n,y:r,balls:i,side:o,isInput:!1,onReceiveBall:b})]})}var OT={name:"j7x51j",styles:"background:black"};function _T(t){let{left:e,top:n,width:r,height:i}=t;return Hc((t=>{let{ColliderDesc:o}=t;return o.cuboid(..._c.toRapier.lengths(r/2,i/2)).setTranslation(..._c.toRapier.vector(e+r/2,n+i/2)).setRestitution(.5)}),[i,r,e,n]),oc("div",{css:OT,style:{position:"absolute",left:e,top:n,width:r,height:i}})}function AT(t,e,n,r){const i=[];let o=0;const a=pT(t,(t=>t.x));for(let t=0;t<a.length;t++){const{x:s}=a[t];i.push(oc(_T,{left:e+o,top:n,width:s*r-o-fd/2,height:1},t)),o=s*r+fd/2}return i.push(oc(_T,{left:e+o,top:n,width:r-o,height:1},"line-end")),i}function zT(t,e,n,r){const i=[];let o=0;const a=pT(t,(t=>t.y));for(let t=0;t<a.length;t++){const{y:s}=a[t];i.push(oc(_T,{left:e,top:n+o,width:1,height:s*r-o-fd/2},t)),o=s*r+fd/2}return i.push(oc(_T,{left:e,top:n+o,width:1,height:r-o},"line-end")),i}function BT(e){let{inputs:n,outputs:r,title:i,spawnBallsTop:o,spawnBallsLeft:a,spawnBallsRight:s,validateOutputs:l,onValidate:u}=e;const{bounds:[c,d],width:f,height:p}=Dg(),h=(0,t.useRef)({}),g=(0,t.useRef)(!1),v=(0,t.useCallback)(((t,e)=>{h.current[t]=e;const n=Object.values(h.current).every(Boolean);n!==g.current&&(u?.(n),g.current=n)}),[u]),m=l?DT:Bv,y=yT(n,Dv),b=yT(r,Dv);function x(t,e){return e?e.map(((e,n)=>{let{x:r,y:i,balls:o}=e;return oc(Lv,{x:c+f*r,y:d+p*i,balls:o,side:t},`${t}-${n}`)})):null}return ac(ic,{children:[i&&ac("div",{css:Ju({position:"absolute",left:c,top:d,fontFamily:"xkcd-Regular-v3",fontSize:16,marginLeft:6,marginTop:4,zIndex:1},"",""),children:["",i,""]}),o&&x("top",y.top),a&&x("left",y.left),s&&x("right",y.right),Object.entries(b).flatMap((t=>{let[e,n]=t;return n.map(((t,n)=>{let{x:r,y:i,balls:o}=t;return oc(m,{id:`${e}-${n}`,x:c+f*r,y:d+p*i,balls:o,isInput:!1,side:e,onValidate:v},`${e}-${n}`)}))})),AT(y.top??[],c,d,f),AT(b.bottom??[],c,d+p-1,f),zT([...y.left??[],...b.left??[]],c,d,p),zT([...y.right??[],...b.right??[]],c+f-1,d,p)]})}var FT=c(7461),IT=c.n(FT),LT=c(1576),NT=c.n(LT);var jT={name:"1msik9t",styles:"width:80%;height:auto"};function VT(t,e,n){let{xBasis:r,yBasis:i}=t;return _c.toRapier.vectorObject(e-r,n-i)}const qT=NT().width,GT=NT().height,$T=.1,WT=2;function UT(t,e,n,r,i,o){const a=r.parent();if(null==a||!Cg(a)||null==n)return null;const s=n.contactCollider(r,$T);if(null==s)return null;const l=i?s.normal1:s.normal2,u=i?s.normal2:s.normal1,c=a.linvel(),d=a.mass(),f=Math.atan2(l.y,l.x),p=Math.atan2(-1*c.y,-1*c.x),h=p-f,g=Math.asin(Math.max(Math.min(Math.sin(h)/t(a),1),-1));o&&console.log(`** ${o}\n        surfaceNormal: ${s.normal1.x.toFixed(3)}, ${s.normal1.y.toFixed(3)}\n        surfaceNormal2: ${s.normal2.x.toFixed(3)}, ${s.normal2.y.toFixed(3)}\n        prismRot: ${(n.rotation()/Math.PI).toFixed(3)}\n        surfNorm: x:${l.x.toFixed(3)}, y:${l.y.toFixed(3)}\n        surfAngle/pi: ${(f/Math.PI).toFixed(3)}\n        velocityAngle/pi: ${(p/Math.PI).toFixed(3)}\n        ballType: ${a.userData.ballType}\n        ballMass: ${d}\n        angleInc/pi: ${(h/Math.PI).toFixed(3)}\n        angleRefr/pi: ${(g/Math.PI).toFixed(3)}\n        ballVelocity: ${c.x.toFixed(3)}, ${c.y.toFixed(3)}\n        indexRatio: ${t(a)}\n      `);const v=u.x*Math.cos(g)-u.y*Math.sin(g),m=u.x*Math.sin(g)+u.y*Math.cos(g),y=Math.sqrt(c.x**2+c.y**2)*e(a);o&&console.log(`<<${o}\n          new normal: x:${v.toFixed(3)}, y:${m.toFixed(3)}\n    >>`),a.setLinvel({x:v*y,y:m*y},!0)}function HT(e){let{id:n,onSelect:r,x:i,y:o,angle:a}=e;const s=Hc((t=>{let{ColliderDesc:e,ActiveEvents:n}=t;const r=VT.bind(void 0,{xBasis:qT/2,yBasis:GT/2});return e.triangle(r(0,GT),r(qT,GT),r(qT/2,0)).setSensor(!0).setTranslation(..._c.toRapier.vector(i,o)).setRotation(_c.toRapier.angle(a)).setActiveEvents(n.COLLISION_EVENTS|n.CONTACT_FORCE_EVENTS)}),[i,o,a]),l=(0,t.useCallback)((t=>{UT((t=>WT),(t=>1),s,t,!0)}),[s]),u=(0,t.useCallback)((t=>{UT((t=>1/WT),(t=>1),s,t,!1)}),[s]);return Xc("start",s,l,[]),Xc("end",s,u,[]),oc(sc,{...sP(n,r),img:NT(),style:Og(i,o,a)})}var YT={name:"szj5pf",styles:"width:85%;height:auto"};const XT=40,QT=38,KT=79,ZT=7,JT={boundRect:{width:9,height:10},distanceFromTop:12},tP={x:76,y:18,topWidth:7,bottomWidth:4.5,height:11},eP={x:77,y:28,topWidth:4.5,bottomWidth:8,height:10};function nP(t,e){const{x:n,y:r,topWidth:i,bottomWidth:o,height:a}=t;Tc.bind(void 0,e);const s=(t,n)=>Tc(e,VT({xBasis:rP,yBasis:iP},t,n)),l=(i-o)/2;return[s(n,r),s(n+i,r),s(n+l,r+a),s(n+l+o,r+a)].flatMap((t=>{let{x:e,y:n}=t;return[e,n]}))}const rP=IT().width/2,iP=IT().height/2;function oP(e){let{id:n,onSelect:r,x:i,y:o,isSelected:a,speed:s}=e;const l=Pg((t=>{let{RigidBodyDesc:e,ColliderDesc:r,RigidBodyType:i}=t;const o=_c.toRapier.vectorObject(KT,QT+XT,{xBasis:rP,yBasis:iP});return{key:n,bodyDesc:new e(i.Dynamic).lockTranslations().setAdditionalMassProperties(2,o,2).setAngularDamping(1),colliderDescs:[...Array(ZT).fill(0).flatMap(((t,e)=>function(t,e){const n=2*t*Math.PI/ZT,r=Tc(n,_c.toRapier.vectorObject(0,JT.distanceFromTop,{xBasis:0,yBasis:iP}));return[e.capsule(..._c.toRapier.lengths(JT.boundRect.height/2,JT.boundRect.width/2)).setRotation(n).setTranslation(r.x,r.y),e.convexHull(new Float32Array(nP(tP,n))),e.convexHull(new Float32Array(nP(eP,n)))]}(e,r))).filter((t=>null!=t)),r.ball(_c.toRapier.length(XT)).setTranslation(o.x,o.y)]}}),[n]);Uc((()=>{const{current:t}=l;t&&t.setTranslation(_c.toRapier.vectorObject(i,o),!0)}),[l,i,o]);return(0,t.useRef)(a).current=a,Uc((()=>{const{current:t}=l;t&&(t.resetTorques(!0),t.addTorque(s,!0))}),[l,s]),oc(sc,{ref:_g(l,{width:IT().width,height:IT().height,initialX:i,initialY:o}),...sP(n,r),img:IT()})}const aP=Math.PI/180;function sP(e,n){const r=(0,t.useCallback)((t=>{n?.(t,e)}),[e,n]);return{onMouseDown:r,onTouchStart:r}}const lP={left:0,top:0,right:0,bottom:0,position:"css"};var uP={name:"1ccjyer",styles:".moveable-control.moveable-origin{display:none;}"};function cP(e){let{puzzle:n,initialWidgets:r,onSubmit:i}=e;const{clearBalls:o,events:a}=ed(),{width:s,height:l}=Dg(),u=(0,t.useRef)(null),[c,d]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[h,g]=(0,t.useState)(),[v,m]=(0,t.useState)(!1),y=Sc((()=>Km(Object.keys(r).map(Number))??0)),[b,x]=(0,t.useState)(r),w=Vc(b),S=Object.keys(b).length,k=IR(),E=v&&S<=pd;(0,t.useEffect)((()=>{function t(){k.showTutorial("expiry")}function e(){k.showTutorial("routed")}return a.on("ballExpired",t),a.on("exitBall",e),()=>{a.off("ballExpired",t),a.off("exitBall",e)}}),[a,k]),(0,t.useEffect)((()=>{E&&k.showTutorial("submit")}),[E,k]);const C=(0,t.useCallback)((()=>{p(!0)}),[]),R=(0,t.useCallback)((()=>{p(!1)}),[]);Yc((()=>{const{current:t}=u;t&&setTimeout((()=>{t.updateRect()}),0)}),[]);const T=(0,t.useCallback)(((t,e)=>{let{x:n,y:r,angle:i}=e;const o=w.current[t.id],a="angle"in o?o.angle:0;Object.assign(t.el,Og(n??o.x,r??o.y,i??a))}),[w]),P=(0,t.useCallback)(((t,e)=>{!async function(){const{current:n}=u;n&&(g({id:e,el:t.currentTarget}),await n.waitToChangeTarget(),n.dragStart(t.nativeEvent))}()}),[g]),M=(0,t.useCallback)((t=>{let{translate:[e,n]}=t;h&&(T(h,{x:e,y:n}),x((t=>{const r=t[h.id];return{...t,[h.id]:{...r,x:e,y:n}}})))}),[T,h]),D=(0,t.useCallback)((t=>{let{rotation:e}=t;if(!h)return;const n=e*aP;T(h,{angle:n}),x((t=>{const e=t[h.id];return{...t,[h.id]:{...e,angle:n}}}))}),[T,h]),O=(0,t.useCallback)((t=>{let{target:e,width:n,height:r,drag:{translate:[i,o],transform:a}}=t;h&&(e.style.transform=a,e.style.width=kc(n),e.style.height=kc(r),x((t=>{const e=t[h.id];return{...t,[h.id]:{...e,x:i,y:o,width:n,height:r}}})))}),[h]),_=(0,t.useCallback)((t=>{t.setMin([25,25]),p(!0)}),[]),A=(0,t.useCallback)((t=>{t.target===t.currentTarget&&(g(void 0),d(!1))}),[]),z=(0,t.useCallback)((()=>{d(!0)}),[]),B=(0,t.useCallback)((t=>{x((e=>({...e,[y()]:t(s/2,l/2)})))}),[l,y,s]),F=(0,t.useCallback)((()=>{h&&(x((t=>{let{[h.id]:e,...n}=t;return n})),g(void 0))}),[h]),[I,L]=(0,t.useState)(0),N=(0,t.useCallback)((()=>{L((t=>t+1)),o()}),[o]),j=(0,t.useCallback)((()=>{i?.(b)}),[i,b]),[V,q]=(0,t.useState)(!1);(0,t.useEffect)((()=>{function t(t){"Delete"===t.key?F():"d"===t.key.toLowerCase()&&t.shiftKey&&t.ctrlKey&&t.metaKey?q((t=>!t)):"Escape"===t.key&&q(!1)}return window.addEventListener("keydown",t,!1),()=>{window.removeEventListener("keydown",t,!1)}}),[F,h,q]),function(e,n){const r=(0,t.useRef)(n);r.current=n,(0,t.useEffect)((()=>{function t(t){const n=t.key.toLowerCase(),{current:i}=r;null!=i&&e((t=>{const e=t[i.id];if("spokedwheel"===e.type){const r=function(t,e){const n=t.speed;return"arrowleft"===e||"arrowdown"===e&&n<0||"arrowup"===e&&n>0?n+1:"arrowright"===e||"arrowup"===e&&n<0||"arrowdown"===e&&n>0?n-1:null}(e,n);if(null!=r)return{...t,[i.id]:{...e,speed:r}}}return t}))}return window.addEventListener("keydown",t,!1),()=>{window.removeEventListener("keydown",t,!1)}}),[r,e])}(x,h);const G=h?b[h.id]:null,$=null==G?null:"sticker"===G.type?vD[G.sticker]:gD[G.type];return ac("div",{onMouseDown:A,css:Ju({position:"relative",width:s,height:l,overflow:"hidden",userSelect:"none"},"",""),children:[oc(VR,{visibleTutorial:k.visibleTutorial,onDismissTutorial:k.dismissTutorial}),oc(hR,{ref:u,css:uP,target:h?.el,onDrag:M,onRotate:D,onResize:O,onResizeStart:_,onDragStart:C,onDragEnd:R,onRotateStart:C,onRotateEnd:R,onResizeEnd:R,keepRatio:$?.isSquare,rotatable:$?.canRotate,resizable:$?.canResize,bounds:lP,draggable:!0,snappable:!0}),oc(bD,{widgets:b,onSelect:P,selectedId:h?.id},I),oc(gg,{}),oc(_s.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:oc(BT,{inputs:n.inputs,outputs:n.outputs,onValidate:m,spawnBallsTop:!0,spawnBallsLeft:!0,spawnBallsRight:!0,validateOutputs:!0})}),ac(_s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:1},children:[oc(HR,{onClick:z,css:[{position:"absolute",right:10,top:10,opacity:c?0:1,transition:"opacity 100ms ease-out"},UR,"",""],"aria-label":"Toolbox",children:oc(sc,{img:Ym()})}),oc(HR,{initial:!1,animate:{scale:k.seenTutorials.submit||"submit"===k.visibleTutorial?1:0,opacity:E?1:.5},onClick:j,disabled:!E,"aria-label":"Submit your blueprint",css:[{position:"absolute",left:10,top:10,width:50,height:50,cursor:E?"pointer":"not-allowed"},UR,"",""],children:oc(sc,{img:Um()})})]}),oc(QR,{onAdd:B,onTrash:F,onEmergencyStop:N,widgetCount:S,css:Ju({position:"absolute",right:10,top:10,bottom:10,width:72,transform:c?"":"translateX(calc(100% + 10px))",opacity:f?.1:1,transition:"transform 250ms ease, opacity 100ms ease-out",pointerEvents:f?"none":"all"},"","")}),V&&oc(vR,{})]})}var dP={name:"15ravyc",styles:"width:70%;height:auto"};function fP(t){let{id:e,onSelect:n,x:r,y:i,angle:o}=t;const a=$m().width,s=$m().height;return Pg((t=>{let{RigidBodyDesc:e,ColliderDesc:n,RigidBodyType:l}=t;return{key:null,bodyDesc:new e(l.Fixed).setTranslation(..._c.toRapier.vector(r,i)).setRotation(_c.toRapier.angle(o)),colliderDescs:[n.triangle(_c.toRapier.vectorObject(-a/2,-s/2),_c.toRapier.vectorObject(a/2,-s/2),_c.toRapier.vectorObject(0,0)).setRestitution(.7),n.triangle(_c.toRapier.vectorObject(-23,s/2),_c.toRapier.vectorObject(34,s/2),_c.toRapier.vectorObject(-14,0)).setRestitution(.7),n.cuboid(..._c.toRapier.lengths(11,10)).setTranslation(..._c.toRapier.vector(-6,0)).setRestitution(.7)]}}),[o,s,a,r,i]),oc(sc,{...sP(e,n),img:$m(),style:Og(r,i,o)})}var pP=c(5777),hP=c.n(pP),gP=c(3485),vP=c.n(gP);const mP=performance.now();function yP(e){let{id:n,onSelect:r,isSelected:i,className:o,x:a,y:s,width:l,strength:u}=e;const c=l,d=u<0?hP():vP(),f=Hc((t=>{let{ColliderDesc:e}=t;return e.ball(_c.toRapier.length(10)).setTranslation(..._c.toRapier.vector(a,s)).setRestitution(.5)}),[10,a,s]),p=Hc((t=>{let{ColliderDesc:e}=t;return e.ball(_c.toRapier.length(c)).setTranslation(..._c.toRapier.vector(a,s)).setSensor(!0)}),[c,a,s]),h=_c.toRapier.length(c),[g,v]=(0,t.useState)(0),[m,y]=(0,t.useState)(1);return Mg(p,(t=>{const e=t.parent();if(!f||!e)return;const n=Ac(f.translation(),e.translation()),r=zc(f.translation(),e.translation()),i=Math.max(0,Math.pow((h-n)/h,2)),o={x:u*i*Math.cos(r),y:u*i*Math.sin(r)};e.applyImpulse(o,!0)}),[f,h,u]),Yc((()=>{const t=performance.now();u<0?v(360*(t-mP)/4e3%360):y(1+.05*Math.sin(Math.PI*(t-mP)/500))}),[u]),ac("div",{...sP(n,r),css:Ju({display:"flex",alignItems:"center",justifyContent:"center",background:i?"radial-gradient(circle closest-side at center, transparent, rgba(0, 0, 0, .25))":"transparent",width:c,height:c,borderRadius:"100%"},"",""),style:Og(a,s,0),children:[oc(sc,{img:d,style:{transform:`rotate(-${g}deg) scale(${m})`}}),oc("div",{css:Ju({position:"absolute",width:10,height:10},"",""),className:o,style:{borderRadius:"100%"}})]})}var bP={name:"0",styles:""};function xP(t){return oc(yP,{css:bP,...t,strength:-.1})}var wP={name:"0",styles:""};function SP(t){return oc(yP,{css:wP,...t,strength:.5})}var kP=c(8323),EP=c.n(kP);var CP={name:"2a0ktv",styles:"width:auto;height:80%"};function RP(t){let{id:e,onSelect:n,x:r,y:i,angle:o}=t;const a=EP().width,s=EP().height;return Pg((t=>{let{RigidBodyDesc:e,ColliderDesc:n,RigidBodyType:l}=t;return{key:null,bodyDesc:new e(l.Fixed).setTranslation(..._c.toRapier.vector(r,i)).setRotation(_c.toRapier.angle(o)),colliderDescs:[n.cuboid(..._c.toRapier.lengths(a/4,s/2-6)).setTranslation(..._c.toRapier.vector(0,4)).setRestitution(.75),n.cuboid(..._c.toRapier.lengths(a/2,s/12)).setTranslation(..._c.toRapier.vector(0,s/2-s/12)).setRestitution(.75),n.triangle(_c.toRapier.vectorObject(a/5,-s/2),_c.toRapier.vectorObject(0,-s/2+10),_c.toRapier.vectorObject(0,-s/2+4)).setRestitution(.1),n.triangle(_c.toRapier.vectorObject(-a/5,-s/2),_c.toRapier.vectorObject(0,-s/2+10),_c.toRapier.vectorObject(0,-s/2+4)).setRestitution(.1)]}}),[o,s,a,r,i]),oc(sc,{...sP(e,n),img:EP(),style:Og(r,i,o)})}var TP=c(1277),PP=c.n(TP);var MP={name:"16px4m8",styles:"width:100%;height:auto;transform:rotate(-45deg)"};function DP(t){let{id:e,onSelect:n,x:r,y:i,angle:o}=t;const a=PP().width,s=PP().height;return Hc((t=>{let{ColliderDesc:e}=t;return e.cuboid(..._c.toRapier.lengths(a/2,s/2)).setTranslation(..._c.toRapier.vector(r,i)).setRotation(_c.toRapier.angle(o)).setRestitution(.5)}),[o,s,a,r,i]),oc(sc,{...sP(e,n),img:PP(),style:Og(r,i,o)})}var OP=c(5896),_P=c.n(OP);var AP={name:"1msik9t",styles:"width:80%;height:auto"};function zP(t){let{id:e,onSelect:n,x:r,y:i,angle:o}=t;const a=_P().width,s=_P().height;return Hc((t=>{let{ColliderDesc:e}=t;return e.cuboid(..._c.toRapier.lengths(a/2,s/2)).setTranslation(..._c.toRapier.vector(r,i)).setRotation(_c.toRapier.angle(o)).setRestitution(.75)}),[o,s,a,r,i]),oc(sc,{...sP(e,n),img:_P(),style:Og(r,i,o)})}var BP=c(4937),FP=c.n(BP);var IP={name:"12z1lhc",styles:"width:50%;height:auto"};function LP(t){let{id:e,onSelect:n,x:r,y:i,angle:o}=t;const a=FP().width,s=FP().height;return Pg((t=>{let{RigidBodyDesc:e,ColliderDesc:n,RigidBodyType:l}=t;return{key:null,bodyDesc:new e(l.Fixed).setTranslation(..._c.toRapier.vector(r,i)).setRotation(_c.toRapier.angle(o)),colliderDescs:[n.cuboid(..._c.toRapier.lengths(a/3,s/12)).setTranslation(..._c.toRapier.vector(0,s/2-s/12)).setRestitution(.9),n.cuboid(..._c.toRapier.lengths(a/16,s/2-2)).setTranslation(..._c.toRapier.vector(-a/3,0)).setRotation(_c.toRapier.angle(-Math.PI/16)).setRestitution(.9),n.cuboid(..._c.toRapier.lengths(a/16,s/2-2)).setTranslation(..._c.toRapier.vector(a/3,0)).setRotation(_c.toRapier.angle(Math.PI/16)).setRestitution(.9)]}}),[o,s,a,r,i]),oc(sc,{...sP(e,n),img:FP(),style:Og(r,i,o)})}var NP=c(6718),jP=c.n(NP);var VP={name:"15ravyc",styles:"width:70%;height:auto"};function qP(t){let{id:e,onSelect:n,x:r,y:i,angle:o}=t;const a=jP().width,s=jP().height,l=a/328,u=s/157;return Hc((t=>{let{ColliderDesc:e,CoefficientCombineRule:n}=t;const c=(t,e)=>_c.toRapier.vector(-.5*a+t*l,-.5*s+e*u);return e.roundConvexHull(new Float32Array([...c(6,40),...c(112,10),...c(214,10),...c(321,42),...c(317,55),...c(320,76),...c(315,100),...c(322,114),...c(220,146),...c(139,149),...c(10,120),...c(13,101),...c(12,58)]),_c.toRapier.length(5.5*l)).setTranslation(..._c.toRapier.vector(r,i)).setRotation(_c.toRapier.angle(o)).setRestitutionCombineRule(n.Min).setFrictionCombineRule(n.Max).setRestitution(0).setFriction(.999)}),[o,a,s,r,i,l,u]),oc(sc,{...sP(e,n),img:jP(),style:Og(r,i,o)})}var GP=c(566),$P=c.n(GP),WP=c(6747),UP=c.n(WP),HP=c(1992),YP=c.n(HP),XP=c(9045),QP=c.n(XP);const KP=[$P(),UP(),YP(),QP()];var ZP={name:"12z1lhc",styles:"width:50%;height:auto"};function JP(t){let{id:e,onSelect:n,isSelected:r,x:i,y:o,angle:a}=t;const s=$P().width,l=$P().height,u=s/5,c=l/3,d=10,f=300,p=Pg((t=>{let{RigidBodyDesc:e,ColliderDesc:n,RigidBodyType:r}=t;return{key:null,bodyDesc:new e(r.Fixed).setTranslation(..._c.toRapier.vector(i,o)).setRotation(_c.toRapier.angle(a)),colliderDescs:[n.roundCuboid(..._c.toRapier.lengths(s/2-d,c/2-d),_c.toRapier.length(d)).setRestitution(.5),n.roundCuboid(..._c.toRapier.lengths(u/2-d,l/2-d),_c.toRapier.length(d)).setTranslation(..._c.toRapier.vector(s/2-u/2,0)).setRestitution(2.5)]}}),[a,u,c,l,s,i,o]),h=Hc((t=>{let{ColliderDesc:e}=t;return e.cuboid(..._c.toRapier.lengths(140,l/2)).setTranslation(..._c.toRapier.vector(i+150*Math.cos(a),o+150*Math.sin(a))).setRotation(_c.toRapier.angle(a)).setSensor(!0)}),[a,l,i,o]),g=Math.cos(_c.toRapier.angle(a)),v=Math.sin(_c.toRapier.angle(a)),m=_c.toRapier.length(f);Mg(h,(t=>{const{current:e}=p,n=t.parent();if(!e||!n)return;const r=Ac(n.translation(),e.translation()),i=Math.max(0,Math.pow((m-r)/m,2)),o={x:.05*i*g,y:.05*i*v};n.applyImpulse(o,!0)}),[p,m,g,v]);const y=Qc();return ac("div",{...sP(e,n),css:Ju({width:s,height:l},"",""),style:Og(i,o,a),children:[oc(lc,{css:Ju({position:"absolute",height:l},"",""),imgs:KP,rateMS:y?60:0}),r&&oc("div",{css:Ju({position:"absolute",background:"linear-gradient(to right, rgba(0, 0, 0, .5), transparent)",pointerEvents:"none",width:f,height:l,marginLeft:40,opacity:.25},"","")})]})}var tM=c(8621),eM=c.n(tM);var nM={name:"16px4m8",styles:"width:100%;height:auto;transform:rotate(-45deg)"};function rM(t){let{id:e,onSelect:n,x:r,y:i,angle:o}=t;const a=eM().width,s=eM().height;return Pg((t=>{let{RigidBodyDesc:e,ColliderDesc:n,RigidBodyType:l}=t;return{key:null,bodyDesc:new e(l.Fixed).setTranslation(..._c.toRapier.vector(r,i)).setRotation(_c.toRapier.angle(o)),colliderDescs:[n.cuboid(..._c.toRapier.lengths(a/2,5)).setRestitution(.7),n.roundCuboid(..._c.toRapier.lengths(13,4,2)).setTranslation(..._c.toRapier.vector(-a/2+15+4,0)).setRestitution(.7),n.cuboid(..._c.toRapier.lengths(11.5,s/2)).setTranslation(..._c.toRapier.vector(a/2-11.5,0)).setRestitution(.8)]}}),[o,s,a,r,i]),oc(sc,{...sP(e,n),img:eM(),style:Og(r,i,o)})}var iM=c(6096),oM=c.n(iM);var aM={name:"16px4m8",styles:"width:100%;height:auto;transform:rotate(-45deg)"};var sM={name:"qr83b6",styles:"width:100%;height:auto;transform:scaleX(-1) rotate(-45deg)"};const lM=[{x1:1,y1:9,x2:190,y2:9,thickness:9},{x1:188,y1:9,x2:206,y2:9,thickness:12},{x1:202,y1:16,x2:222,y2:26,thickness:6},{x1:220,y1:26,x2:237,y2:14,thickness:6},{x1:237,y1:16,x2:237,y2:2,thickness:6}],uM=oM().width/2,cM=oM().height/2;const dM=lM.map((t=>({x1:oM().width-t.x1,y1:t.y1,x2:oM().width-t.x2,y2:t.y2,thickness:t.thickness})));function fM(t){let{id:e,onSelect:n,x:r,y:i,mass:o=1.3,restitution:a=.1,damping:s=.999,disableSpring:l=!1,isLeft:u}=t;const c=Pg((t=>{let{RigidBodyDesc:n,ColliderDesc:r,RigidBodyType:i}=t;return{key:e,bodyDesc:new n(i.Dynamic).lockTranslations().setAdditionalMassProperties(o,u?_c.toRapier.vectorObject(-170.5+uM,9.5-cM):_c.toRapier.vectorObject(170.5-uM,9.5-cM),o).setAngularDamping(s).setCcdEnabled(!0),colliderDescs:[...(u?dM:lM).map((t=>cv(r,t,{xBasis:uM,yBasis:cM}).setRestitution(a).setDensity(0)))]}}),[e,o,u,s,a]);return Yc((t=>{const{current:e}=c;if(null==e)return;if(l)return void e.resetTorques(!1);const n=e.rotation();if(Math.abs(n)>.001){const t=-o*s;e.resetTorques(!0),e.applyTorqueImpulse(n*t,!1)}}),[c,s,l,o]),Uc((()=>{const{current:t}=c;t&&t.setTranslation(_c.toRapier.vectorObject(r,i),!0)}),[c,r,i]),oc("div",{ref:_g(c,{width:oM().width,height:oM().height,initialX:r,initialY:i}),...sP(e,n),children:oc(sc,{img:oM(),style:{transform:u?"scaleX(-1)":void 0}})})}function pM(t){return oc(fM,{...t,isLeft:!0})}var hM=c(2871),gM=c.n(hM),vM=c(59),mM=c.n(vM);const yM=[gM(),mM()];var bM={name:"12z1lhc",styles:"width:50%;height:auto"};function xM(e){let{id:n,onSelect:r,isSelected:i,x:o,y:a,angle:s}=e;const l=gM().width,u=gM().height,c=l*gd,d=c*hd,f=Pg((t=>{let{RigidBodyDesc:e,ColliderDesc:n,RigidBodyType:r}=t;return{key:null,bodyDesc:new e(r.Fixed).setTranslation(..._c.toRapier.vector(o,a)).setRotation(_c.toRapier.angle(s)).setCcdEnabled(!0),colliderDescs:[n.roundTriangle(_c.toRapier.vectorObject(.5*l-c,-.5*u+c),_c.toRapier.vectorObject(-.5*l+c,.5*u-c),_c.toRapier.vectorObject(.5*l-c,.5*u-c),_c.toRapier.length(c)).setRestitution(.1)]}}),[s,c,u,l,o,a]),p=Hc((t=>{let{ColliderDesc:e,ActiveEvents:n,ActiveCollisionTypes:r}=t;return e.roundConvexPolyline(new Float32Array([..._c.toRapier.vector(.5*l-c*vd,-.5*u+c),..._c.toRapier.vector(-.5*l,.5*u-c)]),_c.toRapier.length(d)).setTranslation(..._c.toRapier.vector(o,a)).setRotation(_c.toRapier.angle(s)).setSensor(!0).setActiveEvents(n.COLLISION_EVENTS|n.CONTACT_FORCE_EVENTS).setActiveCollisionTypes(r.ALL)}),[s,c,d,l,u,o,a]),h=md,g=yd,[v,m]=(0,t.useState)(0);return Xc("start",p,(t=>{const e=t.parent();if(!p||!e)return;const n=p.contactCollider(t,bd);if(null==n)return;const r=Bc(n.normal1,h/Math.max(e.invMass(),Number.MIN_VALUE));e.applyImpulseAtPoint(r,n.point2,!0),m((t=>t+1)),setTimeout((()=>m((t=>Math.max(t-1,0)))),g)}),[f,h,v,g]),oc(lc,{...sP(n,r),imgs:yM,showIdx:v>0?1:0,style:Og(o,a,s)})}var wM=c(3498),SM=c.n(wM),kM=c(9872),EM=c.n(kM);const CM=[SM(),EM()],RM=md,TM=yd;var PM={name:"12z1lhc",styles:"width:50%;height:auto"};function MM(e){let{id:n,onSelect:r,isSelected:i,x:o,y:a,angle:s}=e;const l=SM().width,u=SM().height,c=l*gd,d=c*hd,f=Pg((t=>{let{RigidBodyDesc:e,ColliderDesc:n,RigidBodyType:r}=t;return{key:null,bodyDesc:new e(r.Fixed).setTranslation(..._c.toRapier.vector(o,a)).setRotation(_c.toRapier.angle(s)).setCcdEnabled(!0),colliderDescs:[n.roundTriangle(_c.toRapier.vectorObject(-.5*l+c,-.5*u+c),_c.toRapier.vectorObject(.5*l-c,.5*u-c),_c.toRapier.vectorObject(-.5*l+c,.5*u-c),_c.toRapier.length(c)).setRestitution(.1)]}}),[s,c,u,l,o,a]),p=Hc((t=>{let{ColliderDesc:e,ActiveEvents:n,ActiveCollisionTypes:r}=t;return e.roundConvexPolyline(new Float32Array([..._c.toRapier.vector(-.5*l+c*vd,-.5*u+c),..._c.toRapier.vector(.5*l,.5*u-c)]),_c.toRapier.length(d)).setTranslation(..._c.toRapier.vector(o,a)).setRotation(_c.toRapier.angle(s)).setSensor(!0).setActiveEvents(n.COLLISION_EVENTS|n.CONTACT_FORCE_EVENTS).setActiveCollisionTypes(r.ALL)}),[s,c,d,l,u,o,a]),[h,g]=(0,t.useState)(0);return Xc("start",p,(t=>{const e=t.parent();if(!p||!e)return;const n=p.contactCollider(t,bd);if(null==n)return;const r=Bc(n.normal1,RM/Math.max(e.invMass(),Number.MIN_VALUE));e.applyImpulseAtPoint(r,n.point2,!0),g((t=>t+1)),setTimeout((()=>g((t=>Math.max(t-1,0)))),TM)}),[f,RM,h,TM]),oc(lc,{...sP(n,r),imgs:CM,showIdx:h>0?1:0,style:Og(o,a,s)})}var DM=c(4452),OM=c.n(DM),_M=c(8682),AM=c.n(_M);const zM=[OM(),AM()],BM=35,FM=yd;var IM={name:"z3lwl3",styles:"width:65%;height:auto"};function LM(e){let{id:n,onSelect:r,isSelected:i,x:o,y:a}=e;const s=OM().width*xd,l=Pg((t=>{let{RigidBodyDesc:e,ColliderDesc:n,RigidBodyType:r}=t;return{key:null,bodyDesc:new e(r.Fixed).setTranslation(..._c.toRapier.vector(o,a)).setCcdEnabled(!0),colliderDescs:[n.capsule(0,_c.toRapier.length(s*wd)).setRestitution(1)]}}),[s,o,a]),u=Hc((t=>{let{ColliderDesc:e,ActiveEvents:n,ActiveCollisionTypes:r}=t;return e.capsule(0,_c.toRapier.length(s)).setTranslation(..._c.toRapier.vector(o,a)).setSensor(!0).setActiveEvents(n.COLLISION_EVENTS|n.CONTACT_FORCE_EVENTS).setActiveCollisionTypes(r.ALL)}),[s,o,a]),[c,d]=(0,t.useState)(0);return Xc("start",u,(t=>{const{current:e}=l;if(!u||!e)return;const n=t.parent();if(!n)return;const r=u.contactCollider(t,bd);if(null!==r){const e=Cg(n);n.applyImpulseAtPoint(Bc(function(t){const e=1/Math.sqrt(t.x*t.x+t.y*t.y);return{x:t.x*e,y:t.y*e}}((i=t.translation(),o=u.translation(),{x:i.x-o.x,y:i.y-o.y})),BM/Math.max(e?n.invMass():n.mass(),Number.MIN_VALUE)),r?.point2,!0),d((t=>t+1)),setTimeout((()=>d((t=>Math.max(t-1,0)))),FM)}var i,o}),[l,BM,c,FM]),oc(lc,{...sP(n,r),imgs:zM,showIdx:c>0?1:0,style:Og(o,a,0)})}var NM=c(2209),jM=c.n(NM),VM=c(9390),qM=c.n(VM),GM=c(9793),$M=c.n(GM),WM=c(6991),UM=c.n(WM),HM=c(512),YM=c.n(HM),XM=c(9346),QM=c.n(XM),KM=c(3931),ZM=c.n(KM),JM=c(3965),tD=c.n(JM),eD=c(8337),nD=c.n(eD),rD=c(9499),iD=c.n(rD),oD=c(2077),aD=c.n(oD);const sD={"figure1-happy":$M(),"figure1-sad":UM(),"figure2-happy":YM(),"figure2-sad":QM(),"figure3-happy":ZM(),"figure3-sad":tD(),knievel:iD(),squobject:aD(),determinism:qM(),kingbun:nD(),cat:jM()},lD=new Set(["cat","kingbun"]);function uD(t){let{sticker:e}=t;return oc(sc,{img:sD[e],css:Ju({maxWidth:lD.has(e)?"40%":"75%",maxHeight:"80%",width:"auto",height:"auto"},"","")})}function cD(t){let{id:e,onSelect:n,x:r,y:i,angle:o,sticker:a}=t;return oc(sc,{...sP(e,n),img:sD[a],style:Og(r,i,o)})}var dD=c(6316),fD=c.n(dD);var pD={name:"16px4m8",styles:"width:100%;height:auto;transform:rotate(-45deg)"};function hD(t){let{id:e,onSelect:n,x:r,y:i,angle:o}=t;const a=fD().width,s=fD().height;return Pg((t=>{let{RigidBodyDesc:e,ColliderDesc:n,RigidBodyType:l}=t;return{key:null,bodyDesc:new e(l.Fixed).setTranslation(..._c.toRapier.vector(r,i)).setRotation(_c.toRapier.angle(o)),colliderDescs:[n.cuboid(..._c.toRapier.lengths(a/2-5,5)).setTranslation(..._c.toRapier.vector(-10,0)).setRestitution(.9),n.triangle(_c.toRapier.vectorObject(a/2-10,-5),_c.toRapier.vectorObject(a/2,0),_c.toRapier.vectorObject(a/2-10,5)).setRestitution(.9),n.cuboid(..._c.toRapier.lengths(4.5,s/2)).setTranslation(..._c.toRapier.vector(-35,0)).setRestitution(.9)]}}),[o,s,a,r,i]),oc(sc,{...sP(e,n),img:fD(),style:Og(r,i,o)})}const gD={board:{preview:function(){return oc(sc,{img:PP(),css:MP})},create:(t,e)=>({type:"board",x:t,y:e,angle:0}),canRotate:!0},hammer:{preview:function(){return oc(sc,{img:eM(),css:nM})},create:(t,e)=>({type:"hammer",x:t,y:e,angle:0}),canRotate:!0},sword:{preview:function(){return oc(sc,{img:fD(),css:pD})},create:(t,e)=>({type:"sword",x:t,y:e,angle:0}),canRotate:!0},hook:{preview:function(){return oc(sc,{img:oM(),css:aM})},create:(t,e)=>({type:"hook",x:t,y:e,angle:0})},lefthook:{preview:function(){return oc(sc,{img:oM(),css:sM})},create:(t,e)=>({type:"lefthook",x:t,y:e,angle:0})},anvil:{preview:function(){return oc(sc,{img:$m(),css:dP})},create:(t,e)=>({type:"anvil",x:t,y:e,angle:0}),canRotate:!0},brick:{preview:function(){return oc(sc,{img:_P(),css:AP})},create:(t,e)=>({type:"brick",x:t,y:e,angle:0}),canRotate:!0},fan:{preview:function(){return oc(sc,{img:$P(),css:ZP})},create:(t,e)=>({type:"fan",x:t,y:e,angle:0}),canRotate:!0},cushion:{preview:function(){return oc(sc,{img:jP(),css:VP})},create:(t,e)=>({type:"cushion",x:t,y:e,angle:0}),canRotate:!0},roundbumper:{preview:function(){return oc(sc,{img:OM(),css:IM})},create:(t,e)=>({type:"roundbumper",x:t,y:e})},rightbumper:{preview:function(){return oc(sc,{img:SM(),css:PM})},create:(t,e)=>({type:"rightbumper",x:t,y:e,angle:0}),canRotate:!0},leftbumper:{preview:function(){return oc(sc,{img:gM(),css:bM})},create:(t,e)=>({type:"leftbumper",x:t,y:e,angle:0}),canRotate:!0},attractor:{preview:function(){return oc(sc,{img:hP()})},create:(t,e)=>({type:"attractor",x:t,y:e,width:150,height:10}),canResize:!0,isSquare:!0},repulsor:{preview:function(){return oc(sc,{img:vP()})},create:(t,e)=>({type:"repulsor",x:t,y:e,width:150,height:10}),canResize:!0,isSquare:!0},prism:{preview:function(){return oc(sc,{img:NT(),css:jT})},create:(t,e)=>({type:"prism",x:t,y:e,angle:0}),canRotate:!0},spokedwheel:{preview:function(){return oc(sc,{img:IT(),css:YT})},create:(t,e)=>({type:"spokedwheel",x:t,y:e,speed:25,angle:0})},ballstand:{preview:function(){return oc(sc,{img:EP(),css:CP})},create:(t,e)=>({type:"ballstand",x:t,y:e,angle:0}),canRotate:!0},cup:{preview:function(){return oc(sc,{img:FP(),css:IP})},create:(t,e)=>({type:"cup",x:t,y:e,angle:0}),canRotate:!0}},vD=Sg(sD,((t,e)=>({preview:()=>oc(uD,{sticker:e}),create:(t,n)=>({type:"sticker",sticker:e,x:t,y:n,angle:0}),canRotate:!0})));function mD(t){const{type:e}=t;return"board"===e?oc(DP,{...t}):"brick"===e?oc(zP,{...t}):"hammer"===e?oc(rM,{...t}):"sword"===e?oc(hD,{...t}):"anvil"===e?oc(fP,{...t}):"fan"===e?oc(JP,{...t}):"leftbumper"===e?oc(xM,{...t}):"rightbumper"===e?oc(MM,{...t}):"hook"===e?oc(fM,{...t}):"lefthook"===e?oc(pM,{...t}):"roundbumper"===e?oc(LM,{...t}):"cushion"===e?oc(qP,{...t}):"prism"===e?oc(HT,{...t}):"spokedwheel"===e?oc(oP,{...t}):"attractor"===e?oc(xP,{...t}):"repulsor"===e?oc(SP,{...t}):"ballstand"===e?oc(RP,{...t}):"cup"===e?oc(LP,{...t}):"sticker"===e?oc(cD,{...t}):void(0,qm.Ay)(e,!0)}function yD(t){let{widgets:e,onSelect:n,selectedId:r}=t;const{bounds:[i,o]}=Dg();return Object.entries(e).map((t=>{let[e,a]=t,{x:s,y:l}=a;return s+=i,l+=o,oc(mD,{...a,id:e,x:s,y:l,onSelect:n,isSelected:r===e},e)}))}const bD=t.memo(yD),xD=t.memo((function(e){let{puzzle:n,widgets:r,snapshot:i,title:o,tileWidth:a,tileHeight:s,xt:l,yt:u,spawnBallsTop:c,spawnBallsLeft:d,spawnBallsRight:f}=e;const[p,h]=(0,t.useState)(!1);if((0,t.useEffect)((()=>{const t=(e=function(){h(!0)},setTimeout((()=>{e()}),El(Gc)));var e;return()=>{clearTimeout(t)}}),[]),p)return ac(Tg,{initialSnapshot:i,bounds:[l*a,u*s,(l+1)*a,(u+1)*s],children:[oc(BT,{title:o,inputs:n.inputs,outputs:n.outputs,spawnBallsTop:c,spawnBallsLeft:d,spawnBallsRight:f}),oc(bD,{widgets:r})]})})),wD=(0,t.forwardRef)((function(e,n){let{getMachine:r,tilesX:i,tilesY:o,tileWidth:a,tileHeight:s,msPerBall:l,initialX:u=0,initialY:c=0,initialZoom:d=1,simulateOutset:f=150,onPosition:p}=e;const h=(0,t.useRef)(null),g=(0,t.useRef)(null),[v,m]=(0,t.useState)(0),[y,b]=(0,t.useState)(0),[x,w]=(0,t.useState)(1),[S,k]=(0,t.useState)(1),E=a*i,C=s*o+Cd,[R,T]=(0,t.useState)(!1),P=(0,t.useMemo)((()=>ll((t=>{const{current:e}=g;if(!e)return;e.viewBoundsRef.current=t;const[n,r,l,u]=Mc(t,i,o,a,s,f);m(n),b(r),w(l),k(u),e.simulationBoundsRef.current=[n*a,r*s,(l+1)*a,(u+1)*s],p?.(t);const[,,,c]=t;T(c>C-Cd)}),1e3/60)),[i,o,a,s,f,p,C]);return(0,t.useImperativeHandle)(n,(()=>({mapRef:h,machineRef:g}))),oc(rc,{children:t=>{let{css:e}=t;return oc(pm,{ref:h,width:a,height:s,totalWidth:E,totalHeight:C,innerClassName:e({outline:"1px solid black"}),onPosition:P,initialX:u,initialY:c,initialZoom:d,children:ac(td,{ref:g,msPerBall:l,children:[Array.from(Pc(v,y,x,S),(t=>{let[e,n]=t;const i=r(e,n);if(!i)return oc(Vm,{tileWidth:a,tileHeight:s,xt:e,yt:n},Dc(e,n));const{blueprintId:o,title:l,puzzle:u,widgets:c,snapshot:d}=i;return oc(xD,{puzzle:u,widgets:c,snapshot:d,title:l,tileWidth:a,tileHeight:s,xt:e,yt:n,spawnBallsTop:n===y||!r(e,n-1),spawnBallsLeft:e===v||!r(e-1,n),spawnBallsRight:e===x||!r(e+1,n)},`${Dc(e,n)}-${o}`)})),oc(jv,{tileWidth:a,tileHeight:s,tilesX:i,tilesY:o,stepRateMultiplier:R?1:.05}),oc(gg,{})]})})}})}));function SD(e){let{lastSubmission:n,metaMachine:r,isActive:i,onPosition:o,hashLink:a,setHashLink:s}=e;const l=(0,t.useRef)(null),u=()=>l?.current?.mapRef?.current,c=()=>l?.current?.machineRef?.current,{tileWidth:d,tileHeight:f,tilesX:p,tilesY:h}=r;const[g,v]=function(t){let{xt:e,yt:n}=t;return[e*d+d/2,n*f+f/2]}(n??a??function(t){const{tilesX:e,tilesY:n}=t;for(let r=0;r<16;r++){const r=El(0,e-1),i=El(0,n-1);if(t.hasBlueprint(r,i))return{xt:r,yt:i}}return{xt:2,yt:2}}(r)),m=(0,t.useRef)(!1);(0,t.useLayoutEffect)((()=>{!async function(){n&&(m.current=!0,c()?.unfollowBall(),u()?.jumpTo(g,v,1),await new Promise((t=>setTimeout(t,150))),await(u()?.animateTo(g,v,.8)),s({xt:n.xt,yt:n.yt}),m.current=!1)}()}),[n,g,v,s]);const y=(0,t.useCallback)((t=>{if(o?.(t),u()?.isAnimating()||m.current||!i)return;const[e,n,r,a]=t,l=(e+r)/2,c=(n+a)/2,g=Math.floor(l/d),v=Math.floor(c/f);g<0||g>p-1||v<0||v>h-1||s({xt:g,yt:v})}),[i,o,s,f,d,p,h]);return(0,t.useEffect)((()=>{const t=u();if(!a||!t)return;const[e,n]=t.getPosition(),r=Math.floor(e/d),i=Math.floor(n/f);a.xt===r&&a.yt===i||(c()?.unfollowBall(),t.animateTo(a.xt*d+d/2,a.yt*f+f/2,.8))}),[a,f,d]),(0,t.useEffect)((()=>{function t(t){if("b"===t.key.toLowerCase()&&t.ctrlKey&&t.altKey){const t=u(),e=c();if(!t||!e)return;e.followBall(((e,n)=>{t.jumpTo(e,n,.8)}))}}return window.addEventListener("keydown",t,!1),()=>{window.removeEventListener("keydown",t,!1)}}),[]),oc(Wc,{stepRateMultiplier:i?1:0,children:oc(Kc,{spinner:oc(wc,{}),children:oc(wD,{ref:l,...r,initialX:g,initialY:v,initialZoom:.8,onPosition:y})})})}const kD={};const ED=["illustrious","magnificent","peculiar","fascinating","marvelous","confounding"],CD=["invention","device","machine","contraption"],RD={name:"13i4bqv",styles:"font-family:xkcd-Regular-v3;padding:16px;user-select:none;display:flex;flex-direction:column;gap:16px;width:350px;.title{font-size:20px;line-height:135%;}button, input{font-family:xkcd-Regular-v3;border:2px solid black;padding:8px;border-radius:4px;}input{font-size:20px;background:#eee;}button{font-size:16px;background:white;box-shadow:3px 3px 0 rgba(0, 0, 0, 0.5);cursor:pointer;&:active{transform:translate(3px, 3px);background:#eee;box-shadow:none;}&:disabled{pointer-events:none;}}"};var TD={name:"1jsu5g9",styles:"text-align:center;font-size:20px"},PD={name:"nb1xun",styles:"display:flex;justify-content:center;gap:12px"};function MD(e){let{onSubmit:n,onCancel:r}=e;const i=(0,t.useMemo)((()=>`${cg(ED)} ${cg(CD)}`),[]),[o,a]=(0,t.useState)(""),s=(0,t.useCallback)((t=>{a(t.target.value)}),[]),l=(0,t.useCallback)((()=>{n(o)}),[o,n]);return oc(_R,{onDismiss:r,children:ac("div",{className:"wrapper",css:[DR,RD,"",""],children:[ac("span",{className:"title",children:["What will you name this",oc("br",{}),i,"?"]}),oc("input",{css:TD,value:o,onChange:s}),ac("div",{css:PD,children:[oc("button",{onClick:r,children:"Cancel"}),oc("button",{disabled:0===o.length,onClick:l,children:"Submit"})]})]})})}function DD(e){let{puzzle:n,metaMachine:r,isActive:i,onSubmit:o}=e;const a=(0,t.useRef)(),s=og(),[l,u]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),f=(0,t.useCallback)((t=>{d(t),u(!0)}),[]),p=(0,t.useCallback)((()=>{u(!1)}),[]),h=(0,t.useCallback)((t=>{!async function(){rg(c,"widgets cannot be null"),rg(n,"puzzle cannot be null");const e=await s.mutateAsync({puzzleId:n.id,workOrder:n.workOrder,title:t,widgets:c});if(e){const r=a.current?.snapshot();o({...e,title:t,widgets:c,puzzle:n,snapshot:r})}}()}),[o,n,s,c]),g=(0,t.useMemo)((()=>r?[0,0,r.tileWidth,r.tileHeight]:null),[r]);return r&&n&&g?oc(Wc,{stepRateMultiplier:i?1:0,children:oc(Kc,{spinner:oc(wc,{}),children:oc(td,{initialSimulationBounds:g,initialViewBounds:g,msPerBall:r.msPerBall,children:ac(Tg,{ref:a,bounds:g,children:[oc(MR,{children:l?oc(MD,{onSubmit:h,onCancel:p}):null}),oc(cP,{puzzle:n,initialWidgets:kD,onSubmit:f},n.id)]})})})}):oc(wc,{})}var OD,_D=[],AD="ResizeObserver loop completed with undelivered notifications.";!function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(OD||(OD={}));var zD,BD=function(t){return Object.freeze(t)},FD=function(t,e){this.inlineSize=t,this.blockSize=e,BD(this)},ID=function(){function t(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,BD(this)}return t.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),LD=function(t){return t instanceof SVGElement&&"getBBox"in t},ND=function(t){if(LD(t)){var e=t.getBBox(),n=e.width,r=e.height;return!n&&!r}var i=t,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||t.getClientRects().length)},jD=function(t){var e;if(t instanceof Element)return!0;var n=null===(e=null==t?void 0:t.ownerDocument)||void 0===e?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},VD="undefined"!=typeof window?window:{},qD=new WeakMap,GD=/auto|scroll/,$D=/^tb|vertical/,WD=/msie|trident/i.test(VD.navigator&&VD.navigator.userAgent),UD=function(t){return parseFloat(t||"0")},HD=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=!1),new FD((n?e:t)||0,(n?t:e)||0)},YD=BD({devicePixelContentBoxSize:HD(),borderBoxSize:HD(),contentBoxSize:HD(),contentRect:new ID(0,0,0,0)}),XD=function(t,e){if(void 0===e&&(e=!1),qD.has(t)&&!e)return qD.get(t);if(ND(t))return qD.set(t,YD),YD;var n=getComputedStyle(t),r=LD(t)&&t.ownerSVGElement&&t.getBBox(),i=!WD&&"border-box"===n.boxSizing,o=$D.test(n.writingMode||""),a=!r&&GD.test(n.overflowY||""),s=!r&&GD.test(n.overflowX||""),l=r?0:UD(n.paddingTop),u=r?0:UD(n.paddingRight),c=r?0:UD(n.paddingBottom),d=r?0:UD(n.paddingLeft),f=r?0:UD(n.borderTopWidth),p=r?0:UD(n.borderRightWidth),h=r?0:UD(n.borderBottomWidth),g=d+u,v=l+c,m=(r?0:UD(n.borderLeftWidth))+p,y=f+h,b=s?t.offsetHeight-y-t.clientHeight:0,x=a?t.offsetWidth-m-t.clientWidth:0,w=i?g+m:0,S=i?v+y:0,k=r?r.width:UD(n.width)-w-x,E=r?r.height:UD(n.height)-S-b,C=k+g+x+m,R=E+v+b+y,T=BD({devicePixelContentBoxSize:HD(Math.round(k*devicePixelRatio),Math.round(E*devicePixelRatio),o),borderBoxSize:HD(C,R,o),contentBoxSize:HD(k,E,o),contentRect:new ID(d,l,k,E)});return qD.set(t,T),T},QD=function(t,e,n){var r=XD(t,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(e){case OD.DEVICE_PIXEL_CONTENT_BOX:return a;case OD.BORDER_BOX:return i;default:return o}},KD=function(t){var e=XD(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=BD([e.borderBoxSize]),this.contentBoxSize=BD([e.contentBoxSize]),this.devicePixelContentBoxSize=BD([e.devicePixelContentBoxSize])},ZD=function(t){if(ND(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},JD=function(){var t=1/0,e=[];_D.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(e){var n=new KD(e.target),i=ZD(e.target);r.push(n),e.lastReportedSize=QD(e.target,e.observedBox),i<t&&(t=i)})),e.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=e;n<r.length;n++){(0,r[n])()}return t},tO=function(t){_D.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(n){n.isActive()&&(ZD(n.target)>t?e.activeTargets.push(n):e.skippedTargets.push(n))}))}))},eO=function(){var t,e=0;for(tO(e);_D.some((function(t){return t.activeTargets.length>0}));)e=JD(),tO(e);return _D.some((function(t){return t.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:AD}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=AD),window.dispatchEvent(t)),e>0},nO=[],rO=function(t){if(!zD){var e=0,n=document.createTextNode("");new MutationObserver((function(){return nO.splice(0).forEach((function(t){return t()}))})).observe(n,{characterData:!0}),zD=function(){n.textContent="".concat(e?e--:e++)}}nO.push(t),zD()},iO=0,oO={attributes:!0,characterData:!0,childList:!0,subtree:!0},aO=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],sO=function(t){return void 0===t&&(t=0),Date.now()+t},lO=!1,uO=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!lO){lO=!0;var n,r=sO(t);n=function(){var n=!1;try{n=eO()}finally{if(lO=!1,t=r-sO(),!iO)return;n?e.run(1e3):t>0?e.run(t):e.start()}},rO((function(){requestAnimationFrame(n)}))}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,oO)};document.body?e():VD.addEventListener("DOMContentLoaded",e)},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),aO.forEach((function(e){return VD.addEventListener(e,t.listener,!0)})))},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),aO.forEach((function(e){return VD.removeEventListener(e,t.listener,!0)})),this.stopped=!0)},t}()),cO=function(t){!iO&&t>0&&uO.start(),!(iO+=t)&&uO.stop()},dO=function(){function t(t,e){this.target=t,this.observedBox=e||OD.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var t,e=QD(this.target,this.observedBox,!0);return t=this.target,LD(t)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),fO=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e},pO=new WeakMap,hO=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},gO=function(){function t(){}return t.connect=function(t,e){var n=new fO(t,e);pO.set(t,n)},t.observe=function(t,e,n){var r=pO.get(t),i=0===r.observationTargets.length;hO(r.observationTargets,e)<0&&(i&&_D.push(r),r.observationTargets.push(new dO(e,n&&n.box)),cO(1),uO.schedule())},t.unobserve=function(t,e){var n=pO.get(t),r=hO(n.observationTargets,e),i=1===n.observationTargets.length;r>=0&&(i&&_D.splice(_D.indexOf(n),1),n.observationTargets.splice(r,1),cO(-1))},t.disconnect=function(t){var e=this,n=pO.get(t);n.observationTargets.slice().forEach((function(n){return e.unobserve(t,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},t}(),vO=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");gO.connect(this,t)}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!jD(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");gO.observe(this,t,e)},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!jD(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");gO.unobserve(this,t)},t.prototype.disconnect=function(){gO.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();const mO=t["undefined"!=typeof document&&void 0!==document.createElement?"useLayoutEffect":"useEffect"],yO="undefined"!=typeof window&&"ResizeObserver"in window?window.ResizeObserver:vO;function bO(){}let xO;const wO=()=>xO||(xO=function(){let t=!1,e=[];const n=new Map,r=new yO(((r,i)=>{e=e.concat(r),t||window.requestAnimationFrame((function(){const r=new Set;for(let t=0;t<e.length;t++){if(r.has(e[t].target))continue;r.add(e[t].target);const o=n.get(e[t].target);null==o||o.forEach((n=>n(e[t],i)))}e=[],t=!1})),t=!0}));return{observer:r,subscribe(t,e){var i;r.observe(t);const o=null!==(i=n.get(t))&&void 0!==i?i:[];o.push(e),n.set(t,o)},unsubscribe(t,e){var i;const o=null!==(i=n.get(t))&&void 0!==i?i:[];if(1===o.length)return r.unobserve(t),void n.delete(t);const a=o.indexOf(e);-1!==a&&o.splice(a,1),n.set(t,o)}}}()),SO=function(t,e){const n=wO(),r=Vc(e);return mO((()=>{let e=!1;const i=t&&"current"in t?t.current:t;if(!i)return bO;function o(t,n){e||r.current(t,n)}return n.subscribe(i,o),()=>{e=!0,n.unsubscribe(i,o)}}),[t,n,r]),n.observer},kO=(e,n)=>{const[r,i]=t.useState((()=>{var t,r;const i=e&&"current"in e?e.current:e;return i?[i.offsetWidth,i.offsetHeight]:[null!==(t=null==n?void 0:n.initialWidth)&&void 0!==t?t:0,null!==(r=null==n?void 0:n.initialHeight)&&void 0!==r?r:0]}));return mO((()=>{const t=e&&"current"in e?e.current:e;t&&i([t.offsetWidth,t.offsetHeight])}),[e]),SO(e,(t=>{const e=t.target;i([e.offsetWidth,e.offsetHeight])})),r};function EO(t){let{style:e,children:n}=t;return oc("div",{css:Ju({position:"relative",width:s.VL,height:s.uJ,"&:after":{content:'""',position:"absolute",border:"2px solid black",inset:0,zIndex:100,pointerEvents:"none"}},"",""),style:e,children:n})}var CO={name:"1hr0c97",styles:"position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:white"},RO={name:"1svo38z",styles:"z-index:100"},TO={name:"jep2qk",styles:"width:365px;padding:16px;font-family:xkcd-Regular-v3;font-size:50px;background:rgba(0, 0, 0, .75);color:white;border:none;border-radius:16px"};function PO(e){let{children:n}=e;const r=(0,t.useRef)(null),[i,o]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),[u,c]=kO(r),d=function(){const[e,n]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{function t(){n(Boolean(document.fullscreenElement??document.webkitFullscreenElement))}return document.addEventListener("fullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t)}})),e}(),[f]=(0,t.useState)((()=>window.matchMedia("(pointer: coarse)").matches));(0,t.useEffect)((()=>{const{current:t}=r;t&&o("requestFullscreen"in t||"webkitRequestFullscreen"in t)}),[]);const p=(0,t.useCallback)((()=>{const{current:t}=r;!async function(){if(t&&document.fullscreenElement!==t&&document.webkitFullscreenElement!==t)try{"requestFullscreen"in t?await(t.requestFullscreen?.()):"webkitRequestFullscreen"in t&&await(t.webkitRequestFullscreen?.())}catch{l(!0)}}()}),[]),h=Math.min(u/s.VL,c/s.uJ);return oc("div",{ref:r,css:CO,children:ac(EO,{style:1!==h?{transform:`scale(${h})`}:void 0,children:[f&&!d&&!a&&i&&oc(_R,{css:RO,onDismiss:p,children:oc("button",{onClick:p,css:TO,children:"tap to enter fullscreen"})}),n]})})}function MO(t){if(null==t)return;const e=Number(t);return isNaN(e)?void 0:e}function DO(){const{locationHashParams:e,setLocationHashParams:n}=function(){const[,e]=(0,t.useState)(0);(0,t.useEffect)((()=>{function t(){e((t=>t+1))}return window.addEventListener("hashchange",t),()=>{window.removeEventListener("hashchange",t)}}),[]);const n=(0,t.useMemo)((()=>new URLSearchParams(location.hash.slice(1))),[location.hash]),r=(0,t.useCallback)((t=>{const e=new URLSearchParams;for(const[n,r]of Object.entries(t))null!=r&&e.set(n,r);location.hash=new URLSearchParams(e).toString()}),[]);return{locationHashParams:n,setLocationHashParams:r}}(),r=(0,t.useMemo)((()=>{const t=MO(e.get("xt")),n=MO(e.get("yt")),r=MO(e.get("version"));return null==t||null==n?null:{xt:t,yt:n,v:r}}),[e]),i=(0,t.useCallback)((t=>{let{xt:e,yt:r,v:i}=t;n({xt:String(e),yt:String(r),v:null!=i?String(i):void 0})}),[n]);return{hashLink:r,setHashLink:i}}var OO={name:"tma5n1",styles:"position:absolute;left:0;top:0;width:100%;height:100%;background-color:white"},_O={name:"13fgltl",styles:"display:flex;align-items:center;justify-content:center;position:absolute;right:10px;bottom:10px;width:50px;height:50px;transform-style:preserve-3d"};function AO(){const{hashLink:e,setHashLink:n}=DO(),[r,i]=(0,t.useState)(e?"browse":"create"),[o,a]=(0,t.useState)((()=>[0,0,s.VL,s.uJ])),l=(0,t.useMemo)((()=>ll(a,250)),[]),[u,c]=(0,t.useState)(),{metaMachine:d,allTilesLoaded:f}=ig({viewBounds:o,lastSubmission:u}),[p,h]=(0,t.useState)(!0);(0,t.useEffect)((()=>{f&&h(!1)}),[f]);const g=function(){const{data:t,isStale:e}=Xd({queryKey:["puzzle"],queryFn:async t=>{let{signal:e}=t;const{data:n,response:r}=await J.GET("/puzzle",{signal:e}),i=r.headers.get("X-WorkOrder");if(!i)return;const o=n?Object.entries(n).map((t=>{let[e,n]=t;return{id:e,workOrder:i,inputs:n.inputs,outputs:n.outputs}})):void 0;return o},staleTime:1/0});return e?void 0:t}(),[v,m]=(0,t.useState)(0);(0,t.useEffect)((()=>{g&&m(El(g.length-1))}),[g]);const y=(0,t.useCallback)((t=>{c(t),i("browse")}),[]),b=(0,t.useCallback)((()=>{i((t=>"create"===t?"browse":"create"))}),[]);if(!d)return oc(wc,{});const x=g?g[v]:void 0;return ac(PO,{children:[oc(_s.div,{initial:{opacity:0},animate:{opacity:p?0:1},transition:{delay:.25},children:oc(SD,{metaMachine:d,lastSubmission:u,onPosition:l,hashLink:e,setHashLink:n,isActive:"browse"===r})}),x&&oc(_s.div,{css:OO,initial:{opacity:"create"===r?1:0},animate:{opacity:"create"===r?1:0,scale:"create"===r?1:.9},transition:{type:"spring",duration:.25},style:{pointerEvents:"create"===r&&x?"all":"none"},children:oc(DD,{puzzle:x,metaMachine:d,onSubmit:y,isActive:"create"===r},`${x.id}-${u?.blueprintId}`)}),x&&ac(HR,{initial:{scale:0},animate:"create"===r?{scale:1}:{scale:1,rotateY:180},transition:{scale:{delay:.5}},onClick:b,"aria-label":"browse"===r?"Build another blueprint":"View the machine",css:_O,children:[oc(sc,{img:rt(),css:["position:absolute;transform:rotateY(180deg) translateZ(0.01px);backface-visibility:hidden;",UR,"",""]}),oc(sc,{img:ot(),css:["backface-visibility:hidden;",UR,"",""]})]})]})}!function(){const e=document.getElementById("comic");if(!e)return;e.style.cssText=`\n  position: relative;\n  width: ${s.VL}px;\n  height: ${s.uJ}px;\n  margin: 0 auto;\n  font-variant: normal;\n`,(0,n.H)(e).render(oc(t.StrictMode,{children:oc(a,{client:et,children:oc(AO,{})})}))}()})()})();
//# sourceMappingURL=index.js.map