{"version":3,"file":"index.js","mappings":"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","sources":["webpack://incredible/webpack/runtime/async module","webpack://incredible/webpack/runtime/create fake namespace object","webpack://incredible/webpack/runtime/load script","webpack://incredible/./art/anvil_4x.png","webpack://incredible/./art/attractor_4x.png","webpack://incredible/./art/ball-blue_4x.png","webpack://incredible/./art/ball-green_4x.png","webpack://incredible/./art/ball-red_4x.png","webpack://incredible/./art/ball-stand_4x.png","webpack://incredible/./art/ball-yellow_4x.png","webpack://incredible/./art/board_4x.png","webpack://incredible/./art/boat_4x.png","webpack://incredible/./art/bonker-off_4x.png","webpack://incredible/./art/bonker-on_4x.png","webpack://incredible/./art/bottom_pit_4x.png","webpack://incredible/./art/brick_4x.png","webpack://incredible/./art/cat_4x.png","webpack://incredible/./art/check-circle_4x.png","webpack://incredible/./art/chute-0v_4x.png","webpack://incredible/./art/chute-25l_4x.png","webpack://incredible/./art/chute-25r_4x.png","webpack://incredible/./art/chute-50l_4x.png","webpack://incredible/./art/chute-50r_4x.png","webpack://incredible/./art/chute-75l_4x.png","webpack://incredible/./art/chute-75r_4x.png","webpack://incredible/./art/construction-1_4x.png","webpack://incredible/./art/construction-2_4x.png","webpack://incredible/./art/construction-3_4x.png","webpack://incredible/./art/construction-4_4x.png","webpack://incredible/./art/construction-5_4x.png","webpack://incredible/./art/construction-6_4x.png","webpack://incredible/./art/construction-7_4x.png","webpack://incredible/./art/construction-8_4x.png","webpack://incredible/./art/construction-9_4x.png","webpack://incredible/./art/cup_4x.png","webpack://incredible/./art/cushion_4x.png","webpack://incredible/./art/determinism-sign_4x.png","webpack://incredible/./art/edit-icon_4x.png","webpack://incredible/./art/emergency-stop_4x.png","webpack://incredible/./art/fan-blade1_4x.png","webpack://incredible/./art/fan-blade2_4x.png","webpack://incredible/./art/fan-blade3_4x.png","webpack://incredible/./art/fan-blade4_4x.png","webpack://incredible/./art/figure1-happy_4x.png","webpack://incredible/./art/figure1-sad_4x.png","webpack://incredible/./art/figure2-happy_4x.png","webpack://incredible/./art/figure2-sad_4x.png","webpack://incredible/./art/figure3-happy_4x.png","webpack://incredible/./art/figure3-sad_4x.png","webpack://incredible/./art/hammer_4x.png","webpack://incredible/./art/hook_4x.png","webpack://incredible/./art/kingbun_4x.png","webpack://incredible/./art/knievel_4x.png","webpack://incredible/./art/mirrortribonker-off_4x.png","webpack://incredible/./art/mirrortribonker-on_4x.png","webpack://incredible/./art/one-roller-1_4x.png","webpack://incredible/./art/one-roller-2_4x.png","webpack://incredible/./art/one-roller-3_4x.png","webpack://incredible/./art/one-roller-4_4x.png","webpack://incredible/./art/one-roller-5_4x.png","webpack://incredible/./art/prism_4x.png","webpack://incredible/./art/repulsor_4x.png","webpack://incredible/./art/spoked-wheel_4x.png","webpack://incredible/./art/squobject_4x.png","webpack://incredible/./art/submit_4x.png","webpack://incredible/./art/sword_4x.png","webpack://incredible/./art/tank-blue-open_4x.png","webpack://incredible/./art/tank-blue_4x.png","webpack://incredible/./art/tank-green-open_4x.png","webpack://incredible/./art/tank-green_4x.png","webpack://incredible/./art/tank-red-open_4x.png","webpack://incredible/./art/tank-red_4x.png","webpack://incredible/./art/tank-yellow-open_4x.png","webpack://incredible/./art/tank-yellow_4x.png","webpack://incredible/./art/trash_4x.png","webpack://incredible/./art/tribonker-off_4x.png","webpack://incredible/./art/tribonker-on_4x.png","webpack://incredible/./art/tutorial_congrats_4x.png","webpack://incredible/./art/tutorial_expiry_4x.png","webpack://incredible/./art/tutorial_routed_4x.png","webpack://incredible/./art/view-icon_4x.png","webpack://incredible/./art/wrench_4x.png","webpack://incredible/./art/wrong-circle_4x.png","webpack://incredible/./node_modules/assert-never/index.js","webpack://incredible/./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","webpack://incredible/./node_modules/react-dom/cjs/react-dom.production.min.js","webpack://incredible/./node_modules/react-dom/client.js","webpack://incredible/./node_modules/react-dom/index.js","webpack://incredible/./node_modules/react-is/cjs/react-is.production.min.js","webpack://incredible/./node_modules/react-is/index.js","webpack://incredible/./node_modules/react/cjs/react-jsx-runtime.production.min.js","webpack://incredible/./node_modules/react/cjs/react.production.min.js","webpack://incredible/./node_modules/react/index.js","webpack://incredible/./node_modules/react/jsx-runtime.js","webpack://incredible/./node_modules/scheduler/cjs/scheduler.production.min.js","webpack://incredible/./node_modules/scheduler/index.js","webpack://incredible/./node_modules/weighted/index.js","webpack://incredible/./node_modules/weighted/lib/weighted.js","webpack://incredible/webpack/bootstrap","webpack://incredible/webpack/runtime/compat get default export","webpack://incredible/webpack/runtime/define property getters","webpack://incredible/webpack/runtime/ensure chunk","webpack://incredible/webpack/runtime/get javascript chunk filename","webpack://incredible/webpack/runtime/harmony module decorator","webpack://incredible/webpack/runtime/hasOwnProperty shorthand","webpack://incredible/webpack/runtime/make namespace object","webpack://incredible/webpack/runtime/wasm loading","webpack://incredible/webpack/runtime/publicPath","webpack://incredible/webpack/runtime/jsonp chunk loading","webpack://incredible/./node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/utils.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/notifyManager.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/subscribable.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/focusManager.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/onlineManager.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/retryer.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/removable.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/query.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/queryCache.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/mutation.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/mutationCache.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js","webpack://incredible/./node_modules/openapi-fetch/dist/index.js","webpack://incredible/./src/api.ts","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/queryClient.js","webpack://incredible/./node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/context/MotionContext/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/context/PresenceContext.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/is-browser.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/context/LazyContext.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/optimized-appear/data-id.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/GlobalConfig.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/frameloop/render-step.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/frameloop/batcher.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/frameloop/microtask.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/is-ref-object.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/utils/is-variant-label.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/utils/variant-props.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/utils/is-controlling-variants.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/context/MotionContext/create.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/context/MotionContext/utils.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/features/definitions.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/context/SwitchLayoutGroupContext.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/utils/symbol.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/features/load-features.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/utils/use-visual-element.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/motion-proxy.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/svg/lowercase-elements.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/styles/scale-correction.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/html/utils/transform.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/utils/is-motion-value.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/html/utils/build-transform.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/utils/is-css-variable.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/value-types/get-as-type.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/clamp.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/types/numbers/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/types/utils.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/types/numbers/units.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/value-types/type-int.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/value-types/number.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/html/utils/build-styles.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/html/utils/create-render-state.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/html/use-props.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/utils/valid-prop.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/utils/filter-props.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/svg/utils/transform-origin.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/svg/utils/path.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/svg/utils/is-svg-tag.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/svg/use-props.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/use-render.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/html/utils/render.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/svg/utils/render.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/utils/resolve-variants.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/use-constant.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/resolve-value.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/utils/use-visual-state.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/noop.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/frameloop/frame.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/svg/config-motion.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/html/config-motion.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/events/add-dom-event.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/events/utils/is-primary-pointer.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/events/event-info.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/events/add-pointer-event.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/pipe.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/gestures/drag/utils/lock.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/features/Feature.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/gestures/hover.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/gestures/utils/is-node-or-child.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/gestures/press.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/features/viewport/observers.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/features/viewport/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/features/gestures.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/gestures/focus.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/shallow-compare.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/utils/resolve-dynamic-variants.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/time-conversion.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/utils/default-transitions.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/utils/transitions.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/use-instant-transition-state.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/animators/waapi/utils/get-final-keyframe.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/frameloop/sync-time.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/is-zero-value-string.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/errors.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/is-numerical-string.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/utils/css-variables-conversion.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/utils/unit-conversion.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/value-types/test.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/value-types/dimensions.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/value-types/type-auto.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/utils/KeyframesResolver.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/types/color/utils.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/types/color/rgba.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/types/color/hex.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/types/color/hsla.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/types/color/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/types/complex/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/types/complex/filter.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/value-types/defaults.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/DOMKeyframesResolver.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/utils/is-none.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/html/utils/make-none-animatable.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/memo.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/utils/is-animatable.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/animators/BaseAnimation.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/animators/utils/can-animate.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/velocity-per-second.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/generators/utils/velocity.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/generators/spring/find.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/generators/spring/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/generators/inertia.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/easing/cubic-bezier.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/easing/ease.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/easing/utils/is-easing-array.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/easing/modifiers/mirror.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/easing/modifiers/reverse.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/easing/circ.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/easing/back.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/easing/utils/map.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/easing/anticipate.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/progress.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/mix/number.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/hsla-to-rgba.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/mix/color.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/mix/complex.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/mix/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/interpolate.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/offsets/fill.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/offsets/default.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/generators/keyframes.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/offsets/time.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/generators/utils/calc-duration.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/animators/drivers/driver-frameloop.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/animators/MainThreadAnimation.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/easing/utils/is-bezier-definition.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/animators/waapi/easing.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/animators/AcceleratedAnimation.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/animators/waapi/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/interfaces/motion-value.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/use-will-change/is.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/array.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/subscription-manager.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/utils/setters.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/interfaces/visual-element-target.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/interfaces/visual-element-variant.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/utils/animation-state.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/interfaces/visual-element.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/features/animation/exit.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/features/animations.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/features/animation/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/distance.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/gestures/pan/PanSession.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/geometry/delta-calc.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/geometry/models.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/utils/each-axis.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/geometry/conversion.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/utils/has-transform.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/geometry/delta-apply.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/utils/measure.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/get-context-window.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/gestures/pan/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/node/state.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/styles/scale-border-radius.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/styles/scale-box-shadow.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/features/layout/MeasureLayout.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/animation/mix-values.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/geometry/copy.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/geometry/delta-remove.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/geometry/utils.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/shared/stack.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/styles/transform.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/utils/compare-by-depth.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/utils/flat-tree.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/utils/is-svg-element.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/interfaces/single-value.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/node/create-projection-node.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/debug/record.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/delay.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/node/DocumentProjectionNode.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/projection/node/HTMLProjectionNode.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/features/drag.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/gestures/drag/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/reduced-motion/state.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/store.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/value-types/find.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/VisualElement.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/reduced-motion/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/utils/motion-values.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/DOMVisualElement.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/html/HTMLVisualElement.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/svg/SVGVisualElement.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/create-visual-element.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/motion.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/motion/features/layout.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/utils/create-config.mjs","webpack://incredible/./node_modules/lodash-es/isObject.js","webpack://incredible/./node_modules/lodash-es/_freeGlobal.js","webpack://incredible/./node_modules/lodash-es/_root.js","webpack://incredible/./node_modules/lodash-es/now.js","webpack://incredible/./node_modules/lodash-es/_trimmedEndIndex.js","webpack://incredible/./node_modules/lodash-es/_baseTrim.js","webpack://incredible/./node_modules/lodash-es/_Symbol.js","webpack://incredible/./node_modules/lodash-es/_getRawTag.js","webpack://incredible/./node_modules/lodash-es/_objectToString.js","webpack://incredible/./node_modules/lodash-es/_baseGetTag.js","webpack://incredible/./node_modules/lodash-es/isObjectLike.js","webpack://incredible/./node_modules/lodash-es/isSymbol.js","webpack://incredible/./node_modules/lodash-es/toNumber.js","webpack://incredible/./node_modules/lodash-es/debounce.js","webpack://incredible/./node_modules/lodash-es/throttle.js","webpack://incredible/./node_modules/lodash-es/_baseRandom.js","webpack://incredible/./node_modules/lodash-es/eq.js","webpack://incredible/./node_modules/lodash-es/isFunction.js","webpack://incredible/./node_modules/lodash-es/isLength.js","webpack://incredible/./node_modules/lodash-es/isArrayLike.js","webpack://incredible/./node_modules/lodash-es/_isIndex.js","webpack://incredible/./node_modules/lodash-es/_isIterateeCall.js","webpack://incredible/./node_modules/lodash-es/toFinite.js","webpack://incredible/./node_modules/lodash-es/random.js","webpack://incredible/./node_modules/@emotion/sheet/dist/emotion-sheet.browser.esm.js","webpack://incredible/./node_modules/stylis/src/Utility.js","webpack://incredible/./node_modules/stylis/src/Tokenizer.js","webpack://incredible/./node_modules/stylis/src/Enum.js","webpack://incredible/./node_modules/stylis/src/Serializer.js","webpack://incredible/./node_modules/stylis/src/Parser.js","webpack://incredible/./node_modules/@emotion/cache/dist/emotion-cache.browser.esm.js","webpack://incredible/./node_modules/stylis/src/Middleware.js","webpack://incredible/./node_modules/@emotion/utils/dist/emotion-utils.browser.esm.js","webpack://incredible/./node_modules/@emotion/unitless/dist/emotion-unitless.esm.js","webpack://incredible/./node_modules/@emotion/memoize/dist/emotion-memoize.esm.js","webpack://incredible/./node_modules/@emotion/serialize/dist/emotion-serialize.browser.esm.js","webpack://incredible/./node_modules/@emotion/hash/dist/emotion-hash.esm.js","webpack://incredible/./node_modules/@emotion/use-insertion-effect-with-fallbacks/dist/emotion-use-insertion-effect-with-fallbacks.browser.esm.js","webpack://incredible/./node_modules/@emotion/react/dist/emotion-element-43c6fea0.browser.esm.js","webpack://incredible/./node_modules/@emotion/react/dist/emotion-react.browser.esm.js","webpack://incredible/./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js","webpack://incredible/./src/components/ComicImage.tsx","webpack://incredible/./src/components/LoadingSpinner.tsx","webpack://incredible/./src/lib/utils.ts","webpack://incredible/./src/lib/tiles.tsx","webpack://incredible/./src/lib/coords.ts","webpack://incredible/./node_modules/lodash-es/noop.js","webpack://incredible/./node_modules/mitt/dist/mitt.mjs","webpack://incredible/./src/lib/snapshot.tsx","webpack://incredible/./node_modules/@react-hook/latest/dist/module/index.js","webpack://incredible/./src/components/PhysicsContext.tsx","webpack://incredible/./src/components/MachineContext.tsx","webpack://incredible/./src/components/constants.tsx","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/queryObserver.js","webpack://incredible/./node_modules/@tanstack/react-query/build/modern/QueryErrorResetBoundary.js","webpack://incredible/./node_modules/@tanstack/react-query/build/modern/isRestoring.js","webpack://incredible/./node_modules/@tanstack/react-query/build/modern/utils.js","webpack://incredible/./node_modules/@tanstack/react-query/build/modern/errorBoundaryUtils.js","webpack://incredible/./node_modules/@tanstack/react-query/build/modern/suspense.js","webpack://incredible/./node_modules/@tanstack/react-query/build/modern/useQuery.js","webpack://incredible/./node_modules/@tanstack/react-query/build/modern/useBaseQuery.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/queriesObserver.js","webpack://incredible/./node_modules/@tanstack/query-core/build/modern/mutationObserver.js","webpack://incredible/./node_modules/lodash-es/_listCacheClear.js","webpack://incredible/./node_modules/lodash-es/_assocIndexOf.js","webpack://incredible/./node_modules/lodash-es/_listCacheDelete.js","webpack://incredible/./node_modules/lodash-es/_listCacheGet.js","webpack://incredible/./node_modules/lodash-es/_listCacheHas.js","webpack://incredible/./node_modules/lodash-es/_listCacheSet.js","webpack://incredible/./node_modules/lodash-es/_ListCache.js","webpack://incredible/./node_modules/lodash-es/_stackClear.js","webpack://incredible/./node_modules/lodash-es/_stackDelete.js","webpack://incredible/./node_modules/lodash-es/_stackGet.js","webpack://incredible/./node_modules/lodash-es/_stackHas.js","webpack://incredible/./node_modules/lodash-es/_coreJsData.js","webpack://incredible/./node_modules/lodash-es/_isMasked.js","webpack://incredible/./node_modules/lodash-es/_toSource.js","webpack://incredible/./node_modules/lodash-es/_baseIsNative.js","webpack://incredible/./node_modules/lodash-es/_getValue.js","webpack://incredible/./node_modules/lodash-es/_getNative.js","webpack://incredible/./node_modules/lodash-es/_Map.js","webpack://incredible/./node_modules/lodash-es/_nativeCreate.js","webpack://incredible/./node_modules/lodash-es/_hashClear.js","webpack://incredible/./node_modules/lodash-es/_hashDelete.js","webpack://incredible/./node_modules/lodash-es/_hashGet.js","webpack://incredible/./node_modules/lodash-es/_hashHas.js","webpack://incredible/./node_modules/lodash-es/_hashSet.js","webpack://incredible/./node_modules/lodash-es/_Hash.js","webpack://incredible/./node_modules/lodash-es/_mapCacheClear.js","webpack://incredible/./node_modules/lodash-es/_isKeyable.js","webpack://incredible/./node_modules/lodash-es/_getMapData.js","webpack://incredible/./node_modules/lodash-es/_mapCacheDelete.js","webpack://incredible/./node_modules/lodash-es/_mapCacheGet.js","webpack://incredible/./node_modules/lodash-es/_mapCacheHas.js","webpack://incredible/./node_modules/lodash-es/_mapCacheSet.js","webpack://incredible/./node_modules/lodash-es/_MapCache.js","webpack://incredible/./node_modules/lodash-es/_stackSet.js","webpack://incredible/./node_modules/lodash-es/_Stack.js","webpack://incredible/./node_modules/lodash-es/_setCacheAdd.js","webpack://incredible/./node_modules/lodash-es/_setCacheHas.js","webpack://incredible/./node_modules/lodash-es/_SetCache.js","webpack://incredible/./node_modules/lodash-es/_arraySome.js","webpack://incredible/./node_modules/lodash-es/_cacheHas.js","webpack://incredible/./node_modules/lodash-es/_equalArrays.js","webpack://incredible/./node_modules/lodash-es/_Uint8Array.js","webpack://incredible/./node_modules/lodash-es/_mapToArray.js","webpack://incredible/./node_modules/lodash-es/_setToArray.js","webpack://incredible/./node_modules/lodash-es/_equalByTag.js","webpack://incredible/./node_modules/lodash-es/_arrayPush.js","webpack://incredible/./node_modules/lodash-es/isArray.js","webpack://incredible/./node_modules/lodash-es/_baseGetAllKeys.js","webpack://incredible/./node_modules/lodash-es/_arrayFilter.js","webpack://incredible/./node_modules/lodash-es/stubArray.js","webpack://incredible/./node_modules/lodash-es/_getSymbols.js","webpack://incredible/./node_modules/lodash-es/_baseTimes.js","webpack://incredible/./node_modules/lodash-es/_baseIsArguments.js","webpack://incredible/./node_modules/lodash-es/isArguments.js","webpack://incredible/./node_modules/lodash-es/stubFalse.js","webpack://incredible/./node_modules/lodash-es/isBuffer.js","webpack://incredible/./node_modules/lodash-es/_baseIsTypedArray.js","webpack://incredible/./node_modules/lodash-es/_baseUnary.js","webpack://incredible/./node_modules/lodash-es/_nodeUtil.js","webpack://incredible/./node_modules/lodash-es/isTypedArray.js","webpack://incredible/./node_modules/lodash-es/_arrayLikeKeys.js","webpack://incredible/./node_modules/lodash-es/_isPrototype.js","webpack://incredible/./node_modules/lodash-es/_overArg.js","webpack://incredible/./node_modules/lodash-es/_nativeKeys.js","webpack://incredible/./node_modules/lodash-es/_baseKeys.js","webpack://incredible/./node_modules/lodash-es/keys.js","webpack://incredible/./node_modules/lodash-es/_getAllKeys.js","webpack://incredible/./node_modules/lodash-es/_equalObjects.js","webpack://incredible/./node_modules/lodash-es/_DataView.js","webpack://incredible/./node_modules/lodash-es/_Promise.js","webpack://incredible/./node_modules/lodash-es/_Set.js","webpack://incredible/./node_modules/lodash-es/_WeakMap.js","webpack://incredible/./node_modules/lodash-es/_getTag.js","webpack://incredible/./node_modules/lodash-es/_baseIsEqualDeep.js","webpack://incredible/./node_modules/lodash-es/_baseIsEqual.js","webpack://incredible/./node_modules/lodash-es/_baseIsMatch.js","webpack://incredible/./node_modules/lodash-es/_isStrictComparable.js","webpack://incredible/./node_modules/lodash-es/_getMatchData.js","webpack://incredible/./node_modules/lodash-es/_matchesStrictComparable.js","webpack://incredible/./node_modules/lodash-es/_baseMatches.js","webpack://incredible/./node_modules/lodash-es/_isKey.js","webpack://incredible/./node_modules/lodash-es/memoize.js","webpack://incredible/./node_modules/lodash-es/_memoizeCapped.js","webpack://incredible/./node_modules/lodash-es/_stringToPath.js","webpack://incredible/./node_modules/lodash-es/_arrayMap.js","webpack://incredible/./node_modules/lodash-es/_baseToString.js","webpack://incredible/./node_modules/lodash-es/toString.js","webpack://incredible/./node_modules/lodash-es/_castPath.js","webpack://incredible/./node_modules/lodash-es/_toKey.js","webpack://incredible/./node_modules/lodash-es/_baseGet.js","webpack://incredible/./node_modules/lodash-es/get.js","webpack://incredible/./node_modules/lodash-es/_baseHasIn.js","webpack://incredible/./node_modules/lodash-es/_hasPath.js","webpack://incredible/./node_modules/lodash-es/hasIn.js","webpack://incredible/./node_modules/lodash-es/_baseMatchesProperty.js","webpack://incredible/./node_modules/lodash-es/identity.js","webpack://incredible/./node_modules/lodash-es/_baseProperty.js","webpack://incredible/./node_modules/lodash-es/_basePropertyDeep.js","webpack://incredible/./node_modules/lodash-es/property.js","webpack://incredible/./node_modules/lodash-es/_baseIteratee.js","webpack://incredible/./node_modules/lodash-es/_baseSlice.js","webpack://incredible/./node_modules/lodash-es/_baseWhile.js","webpack://incredible/./node_modules/lodash-es/dropRightWhile.js","webpack://incredible/./node_modules/lodash-es/isNull.js","webpack://incredible/./node_modules/tiny-invariant/dist/esm/tiny-invariant.js","webpack://incredible/./src/components/useMetaMachineClient.ts","webpack://incredible/./node_modules/@tanstack/react-query/build/modern/useQueries.js","webpack://incredible/./node_modules/@tanstack/react-query/build/modern/useMutation.js","webpack://incredible/./node_modules/lodash-es/_arraySample.js","webpack://incredible/./node_modules/lodash-es/_baseValues.js","webpack://incredible/./node_modules/lodash-es/values.js","webpack://incredible/./node_modules/lodash-es/_baseSample.js","webpack://incredible/./node_modules/lodash-es/sample.js","webpack://incredible/./src/components/widgets/Balls.tsx","webpack://incredible/./node_modules/lodash-es/_defineProperty.js","webpack://incredible/./node_modules/lodash-es/_baseAssignValue.js","webpack://incredible/./node_modules/lodash-es/_baseFor.js","webpack://incredible/./node_modules/lodash-es/_createBaseFor.js","webpack://incredible/./node_modules/lodash-es/_baseForOwn.js","webpack://incredible/./node_modules/lodash-es/mapValues.js","webpack://incredible/./node_modules/lodash-es/isNumber.js","webpack://incredible/./node_modules/lodash-es/isString.js","webpack://incredible/./src/types.ts","webpack://incredible/./src/components/MachineTileContext.tsx","webpack://incredible/./src/components/positionStyles.ts","webpack://incredible/./src/components/widgets/Boat.tsx","webpack://incredible/./src/components/widgets/BottomChute.tsx","webpack://incredible/./src/components/widgets/BottomPit.tsx","webpack://incredible/./src/components/widgets/lib/lineCuboid.ts","webpack://incredible/./src/components/widgets/BottomTank.tsx","webpack://incredible/./node_modules/lodash-es/_baseSum.js","webpack://incredible/./node_modules/lodash-es/sumBy.js","webpack://incredible/./src/components/widgets/InputOutput.tsx","webpack://incredible/./src/components/widgets/SpawnInput.tsx","webpack://incredible/./src/components/BallPitMechanism.tsx","webpack://incredible/./node_modules/framer-motion/dist/es/value/use-motion-value.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/transform.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/use-combine-values.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/use-transform.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/value/use-computed.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/utils/resolve-element.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/scroll/supports.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/GroupPlaybackControls.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/render/dom/scroll/observe.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/utils/create-visual-element.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/easing/utils/create-generator-easing.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/sequence/utils/calc-time.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/wrap.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/easing/utils/get-easing-for-segment.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/sequence/utils/edit.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/sequence/utils/sort.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/sequence/create.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/animate.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/animation/utils/is-dom-keyframes.mjs","webpack://incredible/./src/components/CenteredSlippyMap.tsx","webpack://incredible/./node_modules/lodash-es/_baseClamp.js","webpack://incredible/./node_modules/lodash-es/_copyArray.js","webpack://incredible/./node_modules/lodash-es/_shuffleSelf.js","webpack://incredible/./node_modules/lodash-es/_arraySampleSize.js","webpack://incredible/./node_modules/lodash-es/_baseSampleSize.js","webpack://incredible/./node_modules/lodash-es/toInteger.js","webpack://incredible/./node_modules/lodash-es/sampleSize.js","webpack://incredible/./src/components/MachineTilePlaceholder.tsx","webpack://incredible/./node_modules/lodash-es/_baseExtremum.js","webpack://incredible/./node_modules/lodash-es/_baseGt.js","webpack://incredible/./node_modules/lodash-es/max.js","webpack://incredible/./node_modules/@egjs/agent/dist/agent.esm.js","webpack://incredible/./node_modules/framework-utils/dist/utils.esm.js","webpack://incredible/./node_modules/@daybrush/utils/dist/utils.esm.js","webpack://incredible/./node_modules/@scena/matrix/dist/matrix.esm.js","webpack://incredible/./node_modules/css-to-mat/dist/css-to-mat.esm.js","webpack://incredible/./node_modules/@egjs/list-differ/dist/list-differ.esm.js","webpack://incredible/./node_modules/@egjs/children-differ/dist/children-differ.esm.js","webpack://incredible/./node_modules/@scena/event-emitter/dist/event-emitter.esm.js","webpack://incredible/./node_modules/@scena/dragscroll/dist/dragscroll.esm.js","webpack://incredible/./node_modules/overlap-area/dist/overlap-area.esm.js","webpack://incredible/./node_modules/gesto/dist/gesto.esm.js","webpack://incredible/./node_modules/css-styled/dist/styled.esm.js","webpack://incredible/./node_modules/react-css-styled/dist/styled.esm.js","webpack://incredible/./node_modules/react-moveable/dist/moveable.esm.js","webpack://incredible/./src/components/DebugOverlay.tsx","webpack://incredible/./node_modules/framer-motion/dist/es/utils/use-is-mounted.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/components/AnimatePresence/PopChild.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/use-force-update.mjs","webpack://incredible/./node_modules/framer-motion/dist/es/utils/use-unmount-effect.mjs","webpack://incredible/./src/components/SwooshyDialog.tsx","webpack://incredible/./src/components/EditorTutorials.tsx","webpack://incredible/./src/components/WidgetPalette.tsx","webpack://incredible/./node_modules/lodash-es/_isFlattenable.js","webpack://incredible/./node_modules/lodash-es/_baseFlatten.js","webpack://incredible/./node_modules/lodash-es/_baseEach.js","webpack://incredible/./node_modules/lodash-es/_createBaseEach.js","webpack://incredible/./node_modules/lodash-es/_baseMap.js","webpack://incredible/./node_modules/lodash-es/_baseSortBy.js","webpack://incredible/./node_modules/lodash-es/_compareAscending.js","webpack://incredible/./node_modules/lodash-es/_compareMultiple.js","webpack://incredible/./node_modules/lodash-es/_baseOrderBy.js","webpack://incredible/./node_modules/lodash-es/_apply.js","webpack://incredible/./node_modules/lodash-es/_overRest.js","webpack://incredible/./node_modules/lodash-es/constant.js","webpack://incredible/./node_modules/lodash-es/_baseSetToString.js","webpack://incredible/./node_modules/lodash-es/_shortOut.js","webpack://incredible/./node_modules/lodash-es/_setToString.js","webpack://incredible/./node_modules/lodash-es/sortBy.js","webpack://incredible/./node_modules/lodash-es/_baseRest.js","webpack://incredible/./node_modules/lodash-es/_arrayAggregator.js","webpack://incredible/./node_modules/lodash-es/_baseAggregator.js","webpack://incredible/./node_modules/lodash-es/_createAggregator.js","webpack://incredible/./node_modules/lodash-es/groupBy.js","webpack://incredible/./node_modules/lodash-es/clamp.js","webpack://incredible/./src/components/widgets/CircleGauge.tsx","webpack://incredible/./src/components/widgets/OutputValidator.tsx","webpack://incredible/./src/components/widgets/MachineFrame.tsx","webpack://incredible/./src/components/widgets/Prism.tsx","webpack://incredible/./src/components/widgets/Wheel.tsx","webpack://incredible/./src/components/MachineTileEditor.tsx","webpack://incredible/./src/components/widgets/Anvil.tsx","webpack://incredible/./src/components/widgets/AttractorRepulsor.tsx","webpack://incredible/./src/components/widgets/BallStand.tsx","webpack://incredible/./src/components/widgets/Board.tsx","webpack://incredible/./src/components/widgets/Brick.tsx","webpack://incredible/./src/components/widgets/Cup.tsx","webpack://incredible/./src/components/widgets/Cushion.tsx","webpack://incredible/./src/components/widgets/Fan.tsx","webpack://incredible/./src/components/widgets/Hammer.tsx","webpack://incredible/./src/components/widgets/Hook.tsx","webpack://incredible/./src/components/widgets/LeftBumper.tsx","webpack://incredible/./src/components/widgets/RightBumper.tsx","webpack://incredible/./src/components/widgets/RoundBumper.tsx","webpack://incredible/./src/components/widgets/Sticker.tsx","webpack://incredible/./src/components/widgets/Sword.tsx","webpack://incredible/./src/components/widgets/index.tsx","webpack://incredible/./src/components/MetaMachineView.tsx","webpack://incredible/./src/components/ComicBrowseView.tsx","webpack://incredible/./src/page/fixtures/emptyMachine.tsx","webpack://incredible/./src/components/NamePrompt.tsx","webpack://incredible/./src/components/ComicPuzzleView.tsx","webpack://incredible/./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/utils/freeze.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/utils/element.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/utils/global.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/utils/process.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/utils/scheduler.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/ResizeObservation.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","webpack://incredible/./node_modules/@juggle/resize-observer/lib/ResizeObserver.js","webpack://incredible/./node_modules/@react-hook/passive-layout-effect/dist/module/index.js","webpack://incredible/./node_modules/@react-hook/resize-observer/dist/module/index.js","webpack://incredible/./node_modules/@react-hook/size/dist/module/index.js","webpack://incredible/./src/components/InnerComicBorder.tsx","webpack://incredible/./src/components/FullscreenComicContainer.tsx","webpack://incredible/./src/components/useLocationHashParams.tsx","webpack://incredible/./src/components/Comic.tsx","webpack://incredible/./src/index.tsx"],"sourcesContent":["var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = (queue) => {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tbody((deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"incredible:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","module.exports = {\"width\":93,\"height\":50,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/81ef42.png\",\"4x\":\"https://xkcd.com/2916/client/static/fc5d12.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/81ef42.png 2x, https://xkcd.com/2916/client/static/fc5d12.png 4x\"}","module.exports = {\"width\":55,\"height\":55,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/88f05f.png\",\"4x\":\"https://xkcd.com/2916/client/static/8a79ea.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/88f05f.png 2x, https://xkcd.com/2916/client/static/8a79ea.png 4x\"}","module.exports = {\"width\":16,\"height\":16,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/0cd9c3.png\",\"4x\":\"https://xkcd.com/2916/client/static/2ac434.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/0cd9c3.png 2x, https://xkcd.com/2916/client/static/2ac434.png 4x\"}","module.exports = {\"width\":16,\"height\":16,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/a3825a.png\",\"4x\":\"https://xkcd.com/2916/client/static/198b15.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/a3825a.png 2x, https://xkcd.com/2916/client/static/198b15.png 4x\"}","module.exports = {\"width\":16,\"height\":16,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/2b3246.png\",\"4x\":\"https://xkcd.com/2916/client/static/efd9ab.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/2b3246.png 2x, https://xkcd.com/2916/client/static/efd9ab.png 4x\"}","module.exports = {\"width\":44,\"height\":95,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/1193be.png\",\"4x\":\"https://xkcd.com/2916/client/static/7b6271.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/1193be.png 2x, https://xkcd.com/2916/client/static/7b6271.png 4x\"}","module.exports = {\"width\":16,\"height\":16,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/323b63.png\",\"4x\":\"https://xkcd.com/2916/client/static/181c38.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/323b63.png 2x, https://xkcd.com/2916/client/static/181c38.png 4x\"}","module.exports = {\"width\":175,\"height\":18,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/a8b809.png\",\"4x\":\"https://xkcd.com/2916/client/static/b417ab.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/a8b809.png 2x, https://xkcd.com/2916/client/static/b417ab.png 4x\"}","module.exports = {\"width\":262,\"height\":162,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/4d425c.png\",\"4x\":\"https://xkcd.com/2916/client/static/e644b0.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/4d425c.png 2x, https://xkcd.com/2916/client/static/e644b0.png 4x\"}","module.exports = {\"width\":58,\"height\":58,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/67d78e.png\",\"4x\":\"https://xkcd.com/2916/client/static/b2e90e.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/67d78e.png 2x, https://xkcd.com/2916/client/static/b2e90e.png 4x\"}","module.exports = {\"width\":58,\"height\":58,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/2af312.png\",\"4x\":\"https://xkcd.com/2916/client/static/e63648.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/2af312.png 2x, https://xkcd.com/2916/client/static/e63648.png 4x\"}","module.exports = {\"width\":1389,\"height\":290,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/c63519.png\",\"4x\":\"https://xkcd.com/2916/client/static/fe435a.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/c63519.png 2x, https://xkcd.com/2916/client/static/fe435a.png 4x\"}","module.exports = {\"width\":68,\"height\":27,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/7b3961.png\",\"4x\":\"https://xkcd.com/2916/client/static/9b584d.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/7b3961.png 2x, https://xkcd.com/2916/client/static/9b584d.png 4x\"}","module.exports = {\"width\":36,\"height\":33,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/0d16d5.png\",\"4x\":\"https://xkcd.com/2916/client/static/43520f.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/0d16d5.png 2x, https://xkcd.com/2916/client/static/43520f.png 4x\"}","module.exports = {\"width\":24,\"height\":24,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/3546f3.png\",\"4x\":\"https://xkcd.com/2916/client/static/6cced0.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/3546f3.png 2x, https://xkcd.com/2916/client/static/6cced0.png 4x\"}","module.exports = {\"width\":59,\"height\":45,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/e5d59f.png\",\"4x\":\"https://xkcd.com/2916/client/static/2a73f8.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/e5d59f.png 2x, https://xkcd.com/2916/client/static/2a73f8.png 4x\"}","module.exports = {\"width\":59,\"height\":45,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/97a8ba.png\",\"4x\":\"https://xkcd.com/2916/client/static/cd61ae.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/97a8ba.png 2x, https://xkcd.com/2916/client/static/cd61ae.png 4x\"}","module.exports = {\"width\":59,\"height\":45,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/a09b04.png\",\"4x\":\"https://xkcd.com/2916/client/static/110d83.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/a09b04.png 2x, https://xkcd.com/2916/client/static/110d83.png 4x\"}","module.exports = {\"width\":59,\"height\":45,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/9e3b88.png\",\"4x\":\"https://xkcd.com/2916/client/static/078d86.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/9e3b88.png 2x, https://xkcd.com/2916/client/static/078d86.png 4x\"}","module.exports = {\"width\":59,\"height\":45,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/990477.png\",\"4x\":\"https://xkcd.com/2916/client/static/6631b4.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/990477.png 2x, https://xkcd.com/2916/client/static/6631b4.png 4x\"}","module.exports = {\"width\":59,\"height\":45,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/c4e4da.png\",\"4x\":\"https://xkcd.com/2916/client/static/501c10.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/c4e4da.png 2x, https://xkcd.com/2916/client/static/501c10.png 4x\"}","module.exports = {\"width\":59,\"height\":45,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/308495.png\",\"4x\":\"https://xkcd.com/2916/client/static/a1036c.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/308495.png 2x, https://xkcd.com/2916/client/static/a1036c.png 4x\"}","module.exports = {\"width\":740,\"height\":740,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/3b20c0.png\",\"4x\":\"https://xkcd.com/2916/client/static/08b83c.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/3b20c0.png 2x, https://xkcd.com/2916/client/static/08b83c.png 4x\"}","module.exports = {\"width\":740,\"height\":740,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/48c101.png\",\"4x\":\"https://xkcd.com/2916/client/static/2384e6.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/48c101.png 2x, https://xkcd.com/2916/client/static/2384e6.png 4x\"}","module.exports = {\"width\":740,\"height\":740,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/8c835c.png\",\"4x\":\"https://xkcd.com/2916/client/static/817a9f.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/8c835c.png 2x, https://xkcd.com/2916/client/static/817a9f.png 4x\"}","module.exports = {\"width\":740,\"height\":740,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/32d838.png\",\"4x\":\"https://xkcd.com/2916/client/static/dc7ed0.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/32d838.png 2x, https://xkcd.com/2916/client/static/dc7ed0.png 4x\"}","module.exports = {\"width\":740,\"height\":740,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/da3707.png\",\"4x\":\"https://xkcd.com/2916/client/static/a443a3.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/da3707.png 2x, https://xkcd.com/2916/client/static/a443a3.png 4x\"}","module.exports = {\"width\":740,\"height\":740,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/a1af15.png\",\"4x\":\"https://xkcd.com/2916/client/static/0bcace.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/a1af15.png 2x, https://xkcd.com/2916/client/static/0bcace.png 4x\"}","module.exports = {\"width\":740,\"height\":740,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/24f39d.png\",\"4x\":\"https://xkcd.com/2916/client/static/00f820.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/24f39d.png 2x, https://xkcd.com/2916/client/static/00f820.png 4x\"}","module.exports = {\"width\":740,\"height\":740,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/a1fc1e.png\",\"4x\":\"https://xkcd.com/2916/client/static/c10f12.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/a1fc1e.png 2x, https://xkcd.com/2916/client/static/c10f12.png 4x\"}","module.exports = {\"width\":740,\"height\":740,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/93ac67.png\",\"4x\":\"https://xkcd.com/2916/client/static/e0e751.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/93ac67.png 2x, https://xkcd.com/2916/client/static/e0e751.png 4x\"}","module.exports = {\"width\":42,\"height\":47,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/b0c4c6.png\",\"4x\":\"https://xkcd.com/2916/client/static/fe8ef2.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/b0c4c6.png 2x, https://xkcd.com/2916/client/static/fe8ef2.png 4x\"}","module.exports = {\"width\":82,\"height\":39,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/e2cc7d.png\",\"4x\":\"https://xkcd.com/2916/client/static/e229f6.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/e2cc7d.png 2x, https://xkcd.com/2916/client/static/e229f6.png 4x\"}","module.exports = {\"width\":143,\"height\":106,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/10b2dc.png\",\"4x\":\"https://xkcd.com/2916/client/static/d4b6be.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/10b2dc.png 2x, https://xkcd.com/2916/client/static/d4b6be.png 4x\"}","module.exports = {\"width\":46,\"height\":47,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/c95b39.png\",\"4x\":\"https://xkcd.com/2916/client/static/deb488.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/c95b39.png 2x, https://xkcd.com/2916/client/static/deb488.png 4x\"}","module.exports = {\"width\":46,\"height\":46,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/681a4e.png\",\"4x\":\"https://xkcd.com/2916/client/static/58a3e2.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/681a4e.png 2x, https://xkcd.com/2916/client/static/58a3e2.png 4x\"}","module.exports = {\"width\":47,\"height\":75,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/25ec1a.png\",\"4x\":\"https://xkcd.com/2916/client/static/0d0a93.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/25ec1a.png 2x, https://xkcd.com/2916/client/static/0d0a93.png 4x\"}","module.exports = {\"width\":47,\"height\":75,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/68c47d.png\",\"4x\":\"https://xkcd.com/2916/client/static/a134da.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/68c47d.png 2x, https://xkcd.com/2916/client/static/a134da.png 4x\"}","module.exports = {\"width\":47,\"height\":75,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/4d5467.png\",\"4x\":\"https://xkcd.com/2916/client/static/0ca232.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/4d5467.png 2x, https://xkcd.com/2916/client/static/0ca232.png 4x\"}","module.exports = {\"width\":47,\"height\":75,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/6dba5a.png\",\"4x\":\"https://xkcd.com/2916/client/static/a88afd.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/6dba5a.png 2x, https://xkcd.com/2916/client/static/a88afd.png 4x\"}","module.exports = {\"width\":78,\"height\":134,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/85dcb9.png\",\"4x\":\"https://xkcd.com/2916/client/static/912f23.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/85dcb9.png 2x, https://xkcd.com/2916/client/static/912f23.png 4x\"}","module.exports = {\"width\":50,\"height\":127,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/120110.png\",\"4x\":\"https://xkcd.com/2916/client/static/980eae.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/120110.png 2x, https://xkcd.com/2916/client/static/980eae.png 4x\"}","module.exports = {\"width\":73,\"height\":145,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/b6e607.png\",\"4x\":\"https://xkcd.com/2916/client/static/56ebea.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/b6e607.png 2x, https://xkcd.com/2916/client/static/56ebea.png 4x\"}","module.exports = {\"width\":52,\"height\":139,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/079478.png\",\"4x\":\"https://xkcd.com/2916/client/static/929243.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/079478.png 2x, https://xkcd.com/2916/client/static/929243.png 4x\"}","module.exports = {\"width\":105,\"height\":107,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/bcbc01.png\",\"4x\":\"https://xkcd.com/2916/client/static/23595d.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/bcbc01.png 2x, https://xkcd.com/2916/client/static/23595d.png 4x\"}","module.exports = {\"width\":48,\"height\":137,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/0bb944.png\",\"4x\":\"https://xkcd.com/2916/client/static/a18368.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/0bb944.png 2x, https://xkcd.com/2916/client/static/a18368.png 4x\"}","module.exports = {\"width\":138,\"height\":41,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/2d6deb.png\",\"4x\":\"https://xkcd.com/2916/client/static/ebcf07.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/2d6deb.png 2x, https://xkcd.com/2916/client/static/ebcf07.png 4x\"}","module.exports = {\"width\":239,\"height\":27,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/1b1e79.png\",\"4x\":\"https://xkcd.com/2916/client/static/cc9a60.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/1b1e79.png 2x, https://xkcd.com/2916/client/static/cc9a60.png 4x\"}","module.exports = {\"width\":32,\"height\":40,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/4d5b81.png\",\"4x\":\"https://xkcd.com/2916/client/static/ef4a9d.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/4d5b81.png 2x, https://xkcd.com/2916/client/static/ef4a9d.png 4x\"}","module.exports = {\"width\":52,\"height\":141,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/406d05.png\",\"4x\":\"https://xkcd.com/2916/client/static/b68d26.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/406d05.png 2x, https://xkcd.com/2916/client/static/b68d26.png 4x\"}","module.exports = {\"width\":56,\"height\":95,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/625a2e.png\",\"4x\":\"https://xkcd.com/2916/client/static/5cd615.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/625a2e.png 2x, https://xkcd.com/2916/client/static/5cd615.png 4x\"}","module.exports = {\"width\":56,\"height\":95,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/cfd791.png\",\"4x\":\"https://xkcd.com/2916/client/static/9438a2.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/cfd791.png 2x, https://xkcd.com/2916/client/static/9438a2.png 4x\"}","module.exports = {\"width\":42,\"height\":42,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/8d78c8.png\",\"4x\":\"https://xkcd.com/2916/client/static/e4da72.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/8d78c8.png 2x, https://xkcd.com/2916/client/static/e4da72.png 4x\"}","module.exports = {\"width\":42,\"height\":42,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/0cbaa7.png\",\"4x\":\"https://xkcd.com/2916/client/static/c8da89.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/0cbaa7.png 2x, https://xkcd.com/2916/client/static/c8da89.png 4x\"}","module.exports = {\"width\":42,\"height\":42,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/c4ace8.png\",\"4x\":\"https://xkcd.com/2916/client/static/417cd5.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/c4ace8.png 2x, https://xkcd.com/2916/client/static/417cd5.png 4x\"}","module.exports = {\"width\":42,\"height\":42,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/c49abc.png\",\"4x\":\"https://xkcd.com/2916/client/static/cdeb93.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/c49abc.png 2x, https://xkcd.com/2916/client/static/cdeb93.png 4x\"}","module.exports = {\"width\":42,\"height\":42,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/d24c5a.png\",\"4x\":\"https://xkcd.com/2916/client/static/2f9663.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/d24c5a.png 2x, https://xkcd.com/2916/client/static/2f9663.png 4x\"}","module.exports = {\"width\":99,\"height\":86,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/bc114c.png\",\"4x\":\"https://xkcd.com/2916/client/static/69f413.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/bc114c.png 2x, https://xkcd.com/2916/client/static/69f413.png 4x\"}","module.exports = {\"width\":38,\"height\":38,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/f2a087.png\",\"4x\":\"https://xkcd.com/2916/client/static/75ef4b.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/f2a087.png 2x, https://xkcd.com/2916/client/static/75ef4b.png 4x\"}","module.exports = {\"width\":158,\"height\":156,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/f31887.png\",\"4x\":\"https://xkcd.com/2916/client/static/055722.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/f31887.png 2x, https://xkcd.com/2916/client/static/055722.png 4x\"}","module.exports = {\"width\":58,\"height\":53,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/f5efa6.png\",\"4x\":\"https://xkcd.com/2916/client/static/c9d39a.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/f5efa6.png 2x, https://xkcd.com/2916/client/static/c9d39a.png 4x\"}","module.exports = {\"width\":47,\"height\":47,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/aa0704.png\",\"4x\":\"https://xkcd.com/2916/client/static/760f5e.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/aa0704.png 2x, https://xkcd.com/2916/client/static/760f5e.png 4x\"}","module.exports = {\"width\":141,\"height\":39,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/f245b2.png\",\"4x\":\"https://xkcd.com/2916/client/static/de9088.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/f245b2.png 2x, https://xkcd.com/2916/client/static/de9088.png 4x\"}","module.exports = {\"width\":195,\"height\":420,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/1f9482.png\",\"4x\":\"https://xkcd.com/2916/client/static/4c8bbf.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/1f9482.png 2x, https://xkcd.com/2916/client/static/4c8bbf.png 4x\"}","module.exports = {\"width\":195,\"height\":420,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/cb6b1c.png\",\"4x\":\"https://xkcd.com/2916/client/static/564375.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/cb6b1c.png 2x, https://xkcd.com/2916/client/static/564375.png 4x\"}","module.exports = {\"width\":195,\"height\":420,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/820d6c.png\",\"4x\":\"https://xkcd.com/2916/client/static/7554b5.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/820d6c.png 2x, https://xkcd.com/2916/client/static/7554b5.png 4x\"}","module.exports = {\"width\":195,\"height\":420,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/67e17b.png\",\"4x\":\"https://xkcd.com/2916/client/static/f688aa.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/67e17b.png 2x, https://xkcd.com/2916/client/static/f688aa.png 4x\"}","module.exports = {\"width\":195,\"height\":420,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/2f7c53.png\",\"4x\":\"https://xkcd.com/2916/client/static/2c8606.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/2f7c53.png 2x, https://xkcd.com/2916/client/static/2c8606.png 4x\"}","module.exports = {\"width\":195,\"height\":420,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/254133.png\",\"4x\":\"https://xkcd.com/2916/client/static/c1b589.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/254133.png 2x, https://xkcd.com/2916/client/static/c1b589.png 4x\"}","module.exports = {\"width\":195,\"height\":420,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/8e6645.png\",\"4x\":\"https://xkcd.com/2916/client/static/34e27b.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/8e6645.png 2x, https://xkcd.com/2916/client/static/34e27b.png 4x\"}","module.exports = {\"width\":195,\"height\":420,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/92f494.png\",\"4x\":\"https://xkcd.com/2916/client/static/dfefec.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/92f494.png 2x, https://xkcd.com/2916/client/static/dfefec.png 4x\"}","module.exports = {\"width\":47,\"height\":47,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/5336bb.png\",\"4x\":\"https://xkcd.com/2916/client/static/3aadb2.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/5336bb.png 2x, https://xkcd.com/2916/client/static/3aadb2.png 4x\"}","module.exports = {\"width\":56,\"height\":95,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/7c8f8d.png\",\"4x\":\"https://xkcd.com/2916/client/static/ae048b.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/7c8f8d.png 2x, https://xkcd.com/2916/client/static/ae048b.png 4x\"}","module.exports = {\"width\":56,\"height\":95,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/5ca67e.png\",\"4x\":\"https://xkcd.com/2916/client/static/86490e.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/5ca67e.png 2x, https://xkcd.com/2916/client/static/86490e.png 4x\"}","module.exports = {\"width\":221,\"height\":272,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/96a68a.png\",\"4x\":\"https://xkcd.com/2916/client/static/2a4457.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/96a68a.png 2x, https://xkcd.com/2916/client/static/2a4457.png 4x\"}","module.exports = {\"width\":207,\"height\":270,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/4ec76a.png\",\"4x\":\"https://xkcd.com/2916/client/static/1d2de6.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/4ec76a.png 2x, https://xkcd.com/2916/client/static/1d2de6.png 4x\"}","module.exports = {\"width\":207,\"height\":250,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/41510c.png\",\"4x\":\"https://xkcd.com/2916/client/static/f9583f.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/41510c.png 2x, https://xkcd.com/2916/client/static/f9583f.png 4x\"}","module.exports = {\"width\":46,\"height\":47,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/f5d4a3.png\",\"4x\":\"https://xkcd.com/2916/client/static/a5d4b0.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/f5d4a3.png 2x, https://xkcd.com/2916/client/static/a5d4b0.png 4x\"}","module.exports = {\"width\":46,\"height\":46,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/32967a.png\",\"4x\":\"https://xkcd.com/2916/client/static/037597.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/32967a.png 2x, https://xkcd.com/2916/client/static/037597.png 4x\"}","module.exports = {\"width\":24,\"height\":24,\"url\":{\"2x\":\"https://xkcd.com/2916/client/static/8cb873.png\",\"4x\":\"https://xkcd.com/2916/client/static/1a351d.png\"},\"srcSet\":\"https://xkcd.com/2916/client/static/8cb873.png 2x, https://xkcd.com/2916/client/static/1a351d.png 4x\"}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Helper function for exhaustive checks of discriminated unions.\n * https://basarat.gitbooks.io/typescript/docs/types/discriminated-unions.html\n *\n * @example\n *\n *    type A = {type: 'a'};\n *    type B = {type: 'b'};\n *    type Union = A | B;\n *\n *    function doSomething(arg: Union) {\n *      if (arg.type === 'a') {\n *        return something;\n *      }\n *\n *      if (arg.type === 'b') {\n *        return somethingElse;\n *      }\n *\n *      // TS will error if there are other types in the union\n *      // Will throw an Error when called at runtime.\n *      // Use `assertNever(arg, true)` instead to fail silently.\n *      return assertNever(arg);\n *    }\n */\nfunction assertNever(value, noThrow) {\n    if (noThrow) {\n        return value;\n    }\n    throw new Error(\"Unhandled discriminated union member: \" + JSON.stringify(value));\n}\nexports.assertNever = assertNever;\nexports.default = assertNever;\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(a){var b=Mg.current;E(Mg);a._currentValue=b}\nfunction Sg(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}function Tg(a,b){Ng=a;Pg=Og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(Ug=!0),a.firstContext=null)}\nfunction Vg(a){var b=a._currentValue;if(Pg!==a)if(a={context:a,memoizedValue:b,next:null},null===Og){if(null===Ng)throw Error(p(308));Og=a;Ng.dependencies={lanes:0,firstContext:a}}else Og=Og.next=a;return b}var Wg=null;function Xg(a){null===Wg?Wg=[a]:Wg.push(a)}function Yg(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,Xg(b)):(c.next=e.next,e.next=c);b.interleaved=c;return Zg(a,d)}\nfunction Zg(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var $g=!1;function ah(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction bh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ch(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction dh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return Zg(a,c)}e=d.interleaved;null===e?(b.next=b,Xg(d)):(b.next=e.next,e.next=b);d.interleaved=b;return Zg(a,c)}function eh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction fh(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction gh(a,b,c,d){var e=a.updateQueue;$g=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:$g=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);hh|=g;a.lanes=g;a.memoizedState=q}}\nfunction ih(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var jh=(new aa.Component).refs;function kh(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar nh={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=L(),e=lh(a),f=ch(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=dh(a,f,e);null!==b&&(mh(b,a,e,d),eh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=L(),e=lh(a),f=ch(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=dh(a,f,e);null!==b&&(mh(b,a,e,d),eh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=L(),d=\nlh(a),e=ch(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=dh(a,e,d);null!==b&&(mh(b,a,d,c),eh(b,a,d))}};function oh(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction ph(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=Vg(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=nh;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction qh(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&nh.enqueueReplaceState(b,b.state,null)}\nfunction rh(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=jh;ah(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=Vg(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(kh(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&nh.enqueueReplaceState(e,e.state,null),gh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}\nfunction sh(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;b===jh&&(b=e.refs={});null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction th(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function uh(a){var b=a._init;return b(a._payload)}\nfunction vh(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=wh(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=xh(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&uh(f)===b.type))return d=e(b,c.props),d.ref=sh(a,b,c),d.return=a,d;d=yh(c.type,c.key,c.props,null,a.mode,d);d.ref=sh(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=zh(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Ah(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=xh(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=yh(b.type,b.key,b.props,null,a.mode,c),\nc.ref=sh(a,null,b),c.return=a,c;case wa:return b=zh(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Ah(b,a.mode,c,null),b.return=a,b;th(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);th(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);th(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&uh(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=sh(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Ah(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=yh(f.type,f.key,f.props,null,a.mode,h),h.ref=sh(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=zh(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);th(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=xh(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(a){if(a===Dh)throw Error(p(174));return a}function Ih(a,b){G(Gh,b);G(Fh,a);G(Eh,Dh);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(Eh);G(Eh,b)}function Jh(){E(Eh);E(Fh);E(Gh)}\nfunction Kh(a){Hh(Gh.current);var b=Hh(Eh.current);var c=lb(b,a.type);b!==c&&(G(Fh,a),G(Eh,c))}function Lh(a){Fh.current===a&&(E(Eh),E(Fh))}var M=Uf(0);\nfunction Mh(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Nh=[];\nfunction Oh(){for(var a=0;a<Nh.length;a++)Nh[a]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321));}function Wh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Xh(a,b,c,d,e,f){Rh=f;N=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Ph.current=null===a||null===a.memoizedState?Yh:Zh;a=c(d,e);if(Th){f=0;do{Th=!1;Uh=0;if(25<=f)throw Error(p(301));f+=1;P=O=null;b.updateQueue=null;Ph.current=$h;a=c(d,e)}while(Th)}Ph.current=ai;b=null!==O&&null!==O.next;Rh=0;P=O=N=null;Sh=!1;if(b)throw Error(p(300));return a}function bi(){var a=0!==Uh;Uh=0;return a}\nfunction ci(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===P?N.memoizedState=P=a:P=P.next=a;return P}function di(){if(null===O){var a=N.alternate;a=null!==a?a.memoizedState:null}else a=O.next;var b=null===P?N.memoizedState:P.next;if(null!==b)P=b,O=a;else{if(null===a)throw Error(p(310));O=a;a={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null};null===P?N.memoizedState=P=a:P=P.next=a}return P}\nfunction ei(a,b){return\"function\"===typeof b?b(a):b}\nfunction fi(a){var b=di(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=O,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Rh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;N.lanes|=m;hh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(Ug=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,N.lanes|=f,hh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction gi(a){var b=di(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(Ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function hi(){}\nfunction ii(a,b){var c=N,d=di(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,Ug=!0);d=d.queue;ji(ki.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==P&&P.memoizedState.tag&1){c.flags|=2048;li(9,mi.bind(null,c,d,e,b),void 0,null);if(null===R)throw Error(p(349));0!==(Rh&30)||ni(c,b,e)}return e}function ni(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=N.updateQueue;null===b?(b={lastEffect:null,stores:null},N.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction mi(a,b,c,d){b.value=c;b.getSnapshot=d;oi(b)&&pi(a)}function ki(a,b,c){return c(function(){oi(b)&&pi(a)})}function oi(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function pi(a){var b=Zg(a,1);null!==b&&mh(b,a,1,-1)}\nfunction qi(a){var b=ci();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a};b.queue=a;a=a.dispatch=ri.bind(null,N,a);return[b.memoizedState,a]}\nfunction li(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=N.updateQueue;null===b?(b={lastEffect:null,stores:null},N.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function si(){return di().memoizedState}function ti(a,b,c,d){var e=ci();N.flags|=a;e.memoizedState=li(1|b,c,void 0,void 0===d?null:d)}\nfunction ui(a,b,c,d){var e=di();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;f=g.destroy;if(null!==d&&Wh(d,g.deps)){e.memoizedState=li(b,c,f,d);return}}N.flags|=a;e.memoizedState=li(1|b,c,f,d)}function vi(a,b){return ti(8390656,8,a,b)}function ji(a,b){return ui(2048,8,a,b)}function wi(a,b){return ui(4,2,a,b)}function xi(a,b){return ui(4,4,a,b)}\nfunction yi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function zi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ui(4,4,yi.bind(null,b,a),c)}function Ai(){}function Bi(a,b){var c=di();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Wh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction Ci(a,b){var c=di();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Wh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function Di(a,b,c){if(0===(Rh&21))return a.baseState&&(a.baseState=!1,Ug=!0),a.memoizedState=c;He(c,b)||(c=yc(),N.lanes|=c,hh|=c,a.baseState=!0);return b}function Ei(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Qh.transition;Qh.transition={};try{a(!1),b()}finally{C=c,Qh.transition=d}}function Fi(){return di().memoizedState}\nfunction Gi(a,b,c){var d=lh(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hi(a))Ii(b,c);else if(c=Yg(a,b,c,d),null!==c){var e=L();mh(c,a,d,e);Ji(c,b,d)}}\nfunction ri(a,b,c){var d=lh(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(Hi(a))Ii(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,Xg(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=Yg(a,b,e,d);null!==c&&(e=L(),mh(c,a,d,e),Ji(c,b,d))}}\nfunction Hi(a){var b=a.alternate;return a===N||null!==b&&b===N}function Ii(a,b){Th=Sh=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Ji(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(a,b){ci().memoizedState=[a,void 0===b?null:b];return a},useContext:Vg,useEffect:vi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ti(4194308,\n4,yi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ti(4194308,4,a,b)},useInsertionEffect:function(a,b){return ti(4,2,a,b)},useMemo:function(a,b){var c=ci();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=ci();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=Gi.bind(null,N,a);return[d.memoizedState,a]},useRef:function(a){var b=\nci();a={current:a};return b.memoizedState=a},useState:qi,useDebugValue:Ai,useDeferredValue:function(a){return ci().memoizedState=a},useTransition:function(){var a=qi(!1),b=a[0];a=Ei.bind(null,a[1]);ci().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=N,e=ci();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===R)throw Error(p(349));0!==(Rh&30)||ni(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;vi(ki.bind(null,d,\nf,a),[a]);d.flags|=2048;li(9,mi.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=ci(),b=R.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Uh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Vh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},\nuseDebugValue:Ai,useDeferredValue:function(a){var b=di();return Di(b,O.memoizedState,a)},useTransition:function(){var a=fi(ei)[0],b=di().memoizedState;return[a,b]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(a){var b=di();return null===\nO?b.memoizedState=a:Di(b,O.memoizedState,a)},useTransition:function(){var a=gi(ei)[0],b=di().memoizedState;return[a,b]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}function Li(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}\nfunction Mi(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Ni=\"function\"===typeof WeakMap?WeakMap:Map;function Oi(a,b,c){c=ch(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Pi||(Pi=!0,Qi=d);Mi(a,b)};return c}\nfunction Ri(a,b,c){c=ch(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Mi(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Mi(a,b);\"function\"!==typeof d&&(null===Si?Si=new Set([this]):Si.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Ti(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Ni;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ui.bind(null,a,b,c),b.then(a,a))}function Vi(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Wi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=ch(-1,1),b.tag=2,dh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(a,b,c,d){b.child=null===a?Ch(b,null,c,d):Bh(b,a.child,c,d)}\nfunction Zi(a,b,c,d,e){c=c.render;var f=b.ref;Tg(b,e);d=Xh(a,b,c,d,f,e);c=bi();if(null!==a&&!Ug)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,$i(a,b,e);I&&c&&vg(b);b.flags|=1;Yi(a,b,d,e);return b.child}\nfunction aj(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!bj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,cj(a,b,f,d,e);a=yh(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return $i(a,b,e)}b.flags|=1;a=wh(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction cj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(Ug=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(Ug=!0);else return b.lanes=a.lanes,$i(a,b,e)}return dj(a,b,c,d,e)}\nfunction ej(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(fj,gj),gj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(fj,gj);gj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(fj,gj),gj|=d;Yi(a,b,e,c);return b.child}function hj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function dj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);Tg(b,e);c=Xh(a,b,c,d,f,e);d=bi();if(null!==a&&!Ug)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,$i(a,b,e);I&&d&&vg(b);b.flags|=1;Yi(a,b,c,e);return b.child}\nfunction ij(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;Tg(b,e);if(null===b.stateNode)jj(a,b),ph(b,c,d),rh(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=Vg(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&qh(b,g,d,l);$g=!1;var r=b.memoizedState;g.state=r;gh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||$g?(\"function\"===typeof m&&(kh(b,c,m,d),k=b.memoizedState),(h=$g||oh(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;bh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Lg(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=Vg(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&qh(b,g,d,k);$g=!1;r=b.memoizedState;g.state=r;gh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||$g?(\"function\"===typeof y&&(kh(b,c,y,d),n=b.memoizedState),(l=$g||oh(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return kj(a,b,c,d,f,e)}\nfunction kj(a,b,c,d,e,f){hj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),$i(a,b,f);d=b.stateNode;Xi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Bh(b,a.child,null,f),b.child=Bh(b,null,h,f)):Yi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function lj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);Ih(a,b.containerInfo)}\nfunction mj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Yi(a,b,c,d);return b.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction pj(a,b,c){var d=b.pendingProps,e=M.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(M,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=qj(g,d,0,null),a=Ah(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=oj(c),b.memoizedState=nj,a):rj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return sj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=wh(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=wh(h,f):(f=Ah(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?oj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=nj;return d}f=a.child;a=f.sibling;d=wh(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction rj(a,b){b=qj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function tj(a,b,c,d){null!==d&&Jg(d);Bh(b,a.child,null,c);a=rj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction sj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Li(Error(p(422))),tj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=qj({mode:\"visible\",children:d.children},e,0,null);f=Ah(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Bh(b,a.child,null,g);b.child.memoizedState=oj(g);b.memoizedState=nj;return f}if(0===(b.mode&1))return tj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Li(f,d,void 0);return tj(a,b,g,d)}h=0!==(g&a.childLanes);if(Ug||h){d=R;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,Zg(a,e),mh(d,a,e,-1))}uj();d=Li(Error(p(421)));return tj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=vj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=rj(b,d.children);b.flags|=4096;return b}function wj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);Sg(a.return,b,c)}\nfunction xj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction yj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Yi(a,b,d.children,c);d=M.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&wj(a,c,b);else if(19===a.tag)wj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(M,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Mh(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);xj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Mh(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}xj(b,!0,c,null,f);break;case \"together\":xj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction jj(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function $i(a,b,c){null!==a&&(b.dependencies=a.dependencies);hh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=wh(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=wh(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction zj(a,b,c){switch(b.tag){case 3:lj(b);Ig();break;case 5:Kh(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:Ih(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Mg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(M,M.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return pj(a,b,c);G(M,M.current&1);a=$i(a,b,c);return null!==a?a.sibling:null}G(M,M.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return yj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(M,M.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,ej(a,b,c)}return $i(a,b,c)}var Aj,Bj,Cj,Dj;\nAj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Bj=function(){};\nCj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;Hh(Eh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Dj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Ej(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Fj(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;Jh();E(Wf);E(H);Oh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Gj(zg),zg=null));Bj(a,b);S(b);return null;case 5:Lh(b);var e=Hh(Gh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Cj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=Hh(Eh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;Aj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Dj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=Hh(Gh.current);Hh(Eh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(M);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Gj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(M.current&1)?0===T&&(T=3):uj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return Jh(),\nBj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return Rg(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(M);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Ej(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Mh(a);if(null!==g){b.flags|=128;Ej(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(M,M.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Hj&&(b.flags|=128,d=!0,Ej(f,!1),b.lanes=4194304)}else{if(!d)if(a=Mh(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Ej(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Hj&&1073741824!==c&&(b.flags|=128,d=!0,Ej(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=M.current,G(M,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Ij(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(gj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Jj(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return Jh(),E(Wf),E(H),Oh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Lh(b),null;case 13:E(M);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(b.type._context),null;case 22:case 23:return Ij(),\nnull;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Mj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Nj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Oj=!1;\nfunction Pj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Lg(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Oj;Oj=!1;return n}\nfunction Qj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Nj(b,c,f)}e=e.next}while(e!==d)}}function Rj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Sj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Tj(a){var b=a.alternate;null!==b&&(a.alternate=null,Tj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Uj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Vj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Uj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}\nfunction Xj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Xj(a,b,c),a=a.sibling;null!==a;)Xj(a,b,c),a=a.sibling}var X=null,Yj=!1;function Zj(a,b,c){for(c=c.child;null!==c;)ak(a,b,c),c=c.sibling}\nfunction ak(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Mj(c,b);case 6:var d=X,e=Yj;X=null;Zj(a,b,c);X=d;Yj=e;null!==X&&(Yj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Yj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Yj;X=c.stateNode.containerInfo;Yj=!0;\nZj(a,b,c);X=d;Yj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Nj(c,b,g):0!==(f&4)&&Nj(c,b,g));e=e.next}while(e!==d)}Zj(a,b,c);break;case 1:if(!U&&(Mj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Zj(a,b,c);break;case 21:Zj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Zj(a,b,c),U=d):Zj(a,b,c);break;default:Zj(a,b,c)}}function bk(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Lj);b.forEach(function(b){var d=ck.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction dk(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Yj=!1;break a;case 3:X=h.stateNode.containerInfo;Yj=!0;break a;case 4:X=h.stateNode.containerInfo;Yj=!0;break a}h=h.return}if(null===X)throw Error(p(160));ak(f,g,e);X=null;Yj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)ek(b,a),b=b.sibling}\nfunction ek(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:dk(b,a);fk(a);if(d&4){try{Qj(3,a,a.return),Rj(3,a)}catch(t){W(a,a.return,t)}try{Qj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:dk(b,a);fk(a);d&512&&null!==c&&Mj(c,c.return);break;case 5:dk(b,a);fk(a);d&512&&null!==c&&Mj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:dk(b,a);fk(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:dk(b,a);fk(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:dk(b,a);fk(a);break;case 13:dk(b,a);fk(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(gk=B()));d&4&&bk(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,dk(b,a),U=l):dk(b,a);fk(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Qj(4,r,r.return);break;case 1:Mj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Mj(r,r.return);break;case 22:if(null!==r.memoizedState){hk(q);continue}}null!==y?(y.return=r,V=y):hk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:dk(b,a);fk(a);d&4&&bk(a);break;case 21:break;default:dk(b,\na),fk(a)}}function fk(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Uj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Vj(a);Xj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Vj(a);Wj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function ik(a,b,c){V=a;jk(a,b,c)}\nfunction jk(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Kj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Kj;var l=U;Kj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?kk(e):null!==k?(k.return=g,V=k):kk(e);for(;null!==f;)V=f,jk(f,b,c),f=f.sibling;V=e;Kj=h;U=l}lk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):lk(a,b,c)}}\nfunction lk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Rj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Lg(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&ih(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}ih(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Sj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function hk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction kk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Rj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Sj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Sj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=Infinity,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return 0!==(K&6)?B():-1!==Bk?Bk:Bk=B()}\nfunction lh(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Ck&&(Ck=yc()),Ck;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function mh(a,b,c,d){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==R)a===R&&(0===(K&2)&&(rk|=c),4===T&&Dk(a,Z)),Ek(a,d),1===c&&0===K&&0===(b.mode&1)&&(Hj=B()+500,fg&&jg())}\nfunction Ek(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===R?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Fk.bind(null,a)):hg(Fk.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Gk(c,Hk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Hk(a,b){Bk=-1;Ck=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Ik()&&a.callbackNode!==c)return null;var d=uc(a,a===R?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Jk(a,d);else{b=d;var e=K;K|=2;var f=Kk();if(R!==a||Z!==b)vk=null,Hj=B()+500,Lk(a,b);do try{Mk();break}catch(h){Nk(a,h)}while(1);Qg();nk.current=f;K=e;null!==Y?b=0:(R=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Ok(a,e)));if(1===b)throw c=qk,Lk(a,0),Dk(a,d),Ek(a,B()),c;if(6===b)Dk(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Pk(e)&&(b=Jk(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Ok(a,f))),1===b))throw c=qk,Lk(a,0),Dk(a,d),Ek(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Qk(a,uk,vk);break;case 3:Dk(a,d);if((d&130023424)===d&&(b=gk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){L();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),b);break}Qk(a,uk,vk);break;case 4:Dk(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*mk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),d);break}Qk(a,uk,vk);break;case 5:Qk(a,uk,vk);break;default:throw Error(p(329));}}}Ek(a,B());return a.callbackNode===c?Hk.bind(null,a):null}\nfunction Ok(a,b){var c=tk;a.current.memoizedState.isDehydrated&&(Lk(a,b).flags|=256);a=Jk(a,b);2!==a&&(b=uk,uk=c,null!==b&&Gj(b));return a}function Gj(a){null===uk?uk=a:uk.push.apply(uk,a)}\nfunction Pk(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Dk(a,b){b&=~sk;b&=~rk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Fk(a){if(0!==(K&6))throw Error(p(327));Ik();var b=uc(a,0);if(0===(b&1))return Ek(a,B()),null;var c=Jk(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Ok(a,d))}if(1===c)throw c=qk,Lk(a,0),Dk(a,b),Ek(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Qk(a,uk,vk);Ek(a,B());return null}\nfunction Rk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Hj=B()+500,fg&&jg())}}function Sk(a){null!==xk&&0===xk.tag&&0===(K&6)&&Ik();var b=K;K|=1;var c=pk.transition,d=C;try{if(pk.transition=null,C=1,a)return a()}finally{C=d,pk.transition=c,K=b,0===(K&6)&&jg()}}function Ij(){gj=fj.current;E(fj)}\nfunction Lk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:Jh();E(Wf);E(H);Oh();break;case 5:Lh(d);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(d.type._context);break;case 22:case 23:Ij()}c=c.return}R=a;Y=a=wh(a.current,null);Z=gj=b;T=0;qk=null;sk=rk=hh=0;uk=tk=null;if(null!==Wg){for(b=\n0;b<Wg.length;b++)if(c=Wg[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}Wg=null}return a}\nfunction Nk(a,b){do{var c=Y;try{Qg();Ph.current=ai;if(Sh){for(var d=N.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Sh=!1}Rh=0;P=O=N=null;Th=!1;Uh=0;ok.current=null;if(null===c||null===c.return){T=1;qk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Vi(g);if(null!==y){y.flags&=-257;Wi(y,g,h,f,b);y.mode&1&&Ti(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Ti(f,l,b);uj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Vi(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Wi(J,g,h,f,b);Jg(Ki(k,h));break a}}f=k=Ki(k,h);4!==T&&(T=2);null===tk?tk=[f]:tk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Oi(f,k,b);fh(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Si||!Si.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Ri(f,h,b);fh(f,F);break a}}f=f.return}while(null!==f)}Tk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Kk(){var a=nk.current;nk.current=ai;return null===a?ai:a}\nfunction uj(){if(0===T||3===T||2===T)T=4;null===R||0===(hh&268435455)&&0===(rk&268435455)||Dk(R,Z)}function Jk(a,b){var c=K;K|=2;var d=Kk();if(R!==a||Z!==b)vk=null,Lk(a,b);do try{Uk();break}catch(e){Nk(a,e)}while(1);Qg();K=c;nk.current=d;if(null!==Y)throw Error(p(261));R=null;Z=0;return T}function Uk(){for(;null!==Y;)Vk(Y)}function Mk(){for(;null!==Y&&!cc();)Vk(Y)}function Vk(a){var b=Wk(a.alternate,a,gj);a.memoizedProps=a.pendingProps;null===b?Tk(a):Y=b;ok.current=null}\nfunction Tk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Fj(c,b,gj),null!==c){Y=c;return}}else{c=Jj(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Qk(a,b,c){var d=C,e=pk.transition;try{pk.transition=null,C=1,Xk(a,b,c,d)}finally{pk.transition=e,C=d}return null}\nfunction Xk(a,b,c,d){do Ik();while(null!==xk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===R&&(Y=R=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||wk||(wk=!0,Gk(hc,function(){Ik();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=pk.transition;pk.transition=null;\nvar g=C;C=1;var h=K;K|=4;ok.current=null;Pj(a,c);ek(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;ik(c,a,e);dc();K=h;C=g;pk.transition=f}else a.current=c;wk&&(wk=!1,xk=a,yk=e);f=a.pendingLanes;0===f&&(Si=null);mc(c.stateNode,d);Ek(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Pi)throw Pi=!1,a=Qi,Qi=null,a;0!==(yk&1)&&0!==a.tag&&Ik();f=a.pendingLanes;0!==(f&1)?a===Ak?zk++:(zk=0,Ak=a):zk=0;jg();return null}\nfunction Ik(){if(null!==xk){var a=Dc(yk),b=pk.transition,c=C;try{pk.transition=null;C=16>a?16:a;if(null===xk)var d=!1;else{a=xk;xk=null;yk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Qj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Tj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Qj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Rj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,pk.transition=b}}return!1}function Yk(a,b,c){b=Ki(c,b);b=Oi(a,b,1);a=dh(a,b,1);b=L();null!==a&&(Ac(a,1,b),Ek(a,b))}\nfunction W(a,b,c){if(3===a.tag)Yk(a,a,c);else for(;null!==b;){if(3===b.tag){Yk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Si||!Si.has(d))){a=Ki(c,a);a=Ri(b,a,1);b=dh(b,a,1);a=L();null!==b&&(Ac(b,1,a),Ek(b,a));break}}b=b.return}}\nfunction Ui(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=L();a.pingedLanes|=a.suspendedLanes&c;R===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-gk?Lk(a,0):sk|=c);Ek(a,b)}function Zk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=L();a=Zg(a,b);null!==a&&(Ac(a,b,c),Ek(a,c))}function vj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Zk(a,c)}\nfunction ck(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Zk(a,c)}var Wk;\nWk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)Ug=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return Ug=!1,zj(a,b,c);Ug=0!==(a.flags&131072)?!0:!1}else Ug=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;jj(a,b);a=b.pendingProps;var e=Yf(b,H.current);Tg(b,c);e=Xh(null,b,d,a,e,c);var f=bi();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,ah(b),e.updater=nh,b.stateNode=e,e._reactInternals=b,rh(b,d,a,c),b=kj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Yi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{jj(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=$k(d);a=Lg(d,a);switch(e){case 0:b=dj(null,b,d,a,c);break a;case 1:b=ij(null,b,d,a,c);break a;case 11:b=Zi(null,b,d,a,c);break a;case 14:b=aj(null,b,d,Lg(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),dj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),ij(a,b,d,e,c);case 3:a:{lj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;bh(a,b);gh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ki(Error(p(423)),b);b=mj(a,b,d,c,e);break a}else if(d!==e){e=Ki(Error(p(424)),b);b=mj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Ch(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=$i(a,b,c);break a}Yi(a,b,d,c)}b=b.child}return b;case 5:return Kh(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\nhj(a,b),Yi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return pj(a,b,c);case 4:return Ih(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Bh(b,null,d,c):Yi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),Zi(a,b,d,e,c);case 7:return Yi(a,b,b.pendingProps,c),b.child;case 8:return Yi(a,b,b.pendingProps.children,c),b.child;case 12:return Yi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Mg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=$i(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=ch(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);Sg(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);Sg(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Yi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,Tg(b,c),e=Vg(e),d=d(e),b.flags|=1,Yi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Lg(d,b.pendingProps),e=Lg(d.type,e),aj(a,b,d,e,c);case 15:return cj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Lg(d,e),jj(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,Tg(b,c),ph(b,d,e),rh(b,d,e,c),kj(null,b,d,!0,a,c);case 19:return yj(a,b,c);case 22:return ej(a,b,c)}throw Error(p(156,b.tag));};function Gk(a,b){return ac(a,b)}\nfunction al(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new al(a,b,c,d)}function bj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction $k(a){if(\"function\"===typeof a)return bj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction wh(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction yh(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)bj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Ah(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return qj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Ah(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function qj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function xh(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction zh(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction bl(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function cl(a,b,c,d,e,f,g,h,k){a=new bl(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};ah(f);return a}function dl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction el(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction fl(a,b,c,d,e,f,g,h,k){a=cl(c,d,!0,a,e,f,g,h,k);a.context=el(null);c=a.current;d=L();e=lh(c);f=ch(d,e);f.callback=void 0!==b&&null!==b?b:null;dh(c,f,e);a.current.lanes=e;Ac(a,e,d);Ek(a,d);return a}function gl(a,b,c,d){var e=b.current,f=L(),g=lh(e);c=el(c);null===b.context?b.context=c:b.pendingContext=c;b=ch(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=dh(e,b,g);null!==a&&(mh(a,e,g,f),eh(a,e,g));return g}\nfunction hl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function il(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function jl(a,b){il(a,b);(a=a.alternate)&&il(a,b)}function kl(){return null}var ll=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ml(a){this._internalRoot=a}\nnl.prototype.render=ml.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));gl(a,b,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Sk(function(){gl(null,a,null,null)});b[uf]=null}};function nl(a){this._internalRoot=a}\nnl.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function pl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function ql(){}\nfunction rl(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=hl(g);f.call(a)}}var g=fl(b,d,a,0,null,!1,!1,\"\",ql);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Sk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=hl(k);h.call(a)}}var k=cl(a,0,!1,null,null,!1,!1,\"\",ql);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Sk(function(){gl(b,k,c,d)});return k}\nfunction sl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=hl(g);h.call(a)}}gl(b,g,a,e)}else g=rl(c,b,a,e,d);return hl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Ek(b,B()),0===(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var b=Zg(a,1);if(null!==b){var c=L();mh(b,a,1,c)}}),jl(a,1)}};\nFc=function(a){if(13===a.tag){var b=Zg(a,134217728);if(null!==b){var c=L();mh(b,a,134217728,c)}jl(a,134217728)}};Gc=function(a){if(13===a.tag){var b=lh(a),c=Zg(a,b);if(null!==c){var d=L();mh(c,a,b,d)}jl(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Rk;Hb=Sk;\nvar tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:\"18.2.0\",rendererPackageName:\"react-dom\"};\nvar vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||\nkl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.2.0-next-9e3b772b8-20220608\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(b))throw Error(p(200));return dl(a,b,null,c)};exports.createRoot=function(a,b){if(!ol(a))throw Error(p(299));var c=!1,d=\"\",e=ll;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=cl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ml(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Sk(a)};exports.hydrate=function(a,b,c){if(!pl(b))throw Error(p(200));return sl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!ol(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=ll;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=fl(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new nl(b)};exports.render=function(a,b,c){if(!pl(b))throw Error(p(200));return sl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!pl(a))throw Error(p(40));return a._reactRootContainer?(Sk(function(){sl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Rk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!pl(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return sl(a,b,c,!1,d)};exports.version=\"18.2.0-next-9e3b772b8-20220608\";\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};exports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;\nexports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=function(){throw Error(\"act(...) is not supported in production builds of React.\");};\nexports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};exports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};\nexports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};exports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};\nexports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.2.0\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","module.exports = require('./lib/weighted')\n","function getTotal(weights) {\n  var total = weights.__weighted_total\n\n  if (total != null) {\n    return total\n  }\n\n  function wrap(arr, fn) {\n    return function () {\n      arr.__weighted_total = null\n      fn.apply(arr, arguments)\n    }\n  }\n\n  if (total === undefined) {\n    ;['pop', 'push', 'shift', 'unshift', 'splice'].forEach(function (key) {\n      weights[key] = wrap(weights, weights[key])\n    })\n  }\n\n  total = weights.__weighted_total = weights.reduce(function (prev, curr) {\n    return prev + curr\n  }, 0)\n\n  return total\n}\n\nfunction _selectArr(set, weights, options) {\n  if (typeof options.rand !== 'function') {\n    options.rand = Math.random\n  }\n\n  if (set.length !== weights.length) {\n    throw new TypeError('Different number of options & weights.')\n  }\n\n  var total = options.total || (options.normal ? 1 : getTotal(weights))\n    , key = options.rand() * total\n    , index = 0\n\n  for (;index < weights.length; index++) {\n    key -= weights[index]\n\n    if (key < 0) {\n      return set[index]\n    }\n  }\n\n  throw new RangeError('All weights do not add up to >= 1 as expected.')\n}\n\nfunction _selectObj(obj, options) {\n  var keys = Object.keys(obj)\n    , values = keys.map(function (key) {\n        return obj[key]\n      })\n\n  return _selectArr(keys, values, options)\n}\n\nfunction select(set, weights, options) {\n  if (typeof options === 'function') {\n    options = {\n      rand: options\n    }\n  }\n\n  if (options == null) {\n    options = {}\n  }\n\n  if (Array.isArray(set)) {\n    if (weights == null) {\n      weights = set.map(function () {\n        return 1\n      })\n    }\n\n    if (Array.isArray(weights)) {\n      if (set.length === weights.length) {\n        return _selectArr(set, weights, options)\n      }\n\n      throw new TypeError('Set and Weights are different sizes.')\n    }\n\n    throw new TypeError('Set is an Array, and Weights is not.')\n  }\n\n  if (typeof set === 'object') {\n    return _selectObj(set, weights || options)\n  }\n\n  throw new TypeError('Set is not an Object, nor is it an Array.')\n}\n\nmodule.exports = select\nmodule.exports.select = select\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","__webpack_require__.hmd = (module) => {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: () => {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.v = (exports, wasmModuleId, wasmModuleHash, importsObj) => {\n\tvar req = fetch(__webpack_require__.p + \"\" + wasmModuleHash + \".module.wasm\");\n\tvar fallback = () => (req\n\t\t.then((x) => (x.arrayBuffer()))\n\t\t.then((bytes) => (WebAssembly.instantiate(bytes, importsObj)))\n\t\t.then((res) => (Object.assign(exports, res.instance.exports))));\n\treturn req.then((res) => {\n\t\tif (typeof WebAssembly.instantiateStreaming === \"function\") {\n\t\t\treturn WebAssembly.instantiateStreaming(res, importsObj)\n\t\t\t\t.then(\n\t\t\t\t\t(res) => (Object.assign(exports, res.instance.exports)),\n\t\t\t\t\t(e) => {\n\t\t\t\t\t\tif(res.headers.get(\"Content-Type\") !== \"application/wasm\") {\n\t\t\t\t\t\t\tconsole.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\t\t\t\t\t\t\treturn fallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t}\n\t\treturn fallback();\n\t});\n};","__webpack_require__.p = \"https://xkcd.com/2916/client/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t57: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkincredible\"] = self[\"webpackChunkincredible\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","\"use client\";\n\n// src/QueryClientProvider.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar QueryClientContext = React.createContext(\n  void 0\n);\nvar useQueryClient = (queryClient) => {\n  const client = React.useContext(QueryClientContext);\n  if (queryClient) {\n    return queryClient;\n  }\n  if (!client) {\n    throw new Error(\"No QueryClient set, use QueryClientProvider to set one\");\n  }\n  return client;\n};\nvar QueryClientProvider = ({\n  client,\n  children\n}) => {\n  React.useEffect(() => {\n    client.mount();\n    return () => {\n      client.unmount();\n    };\n  }, [client]);\n  return /* @__PURE__ */ jsx(QueryClientContext.Provider, { value: client, children });\n};\nexport {\n  QueryClientContext,\n  QueryClientProvider,\n  useQueryClient\n};\n//# sourceMappingURL=QueryClientProvider.js.map","// src/utils.ts\nvar isServer = typeof window === \"undefined\" || \"Deno\" in globalThis;\nfunction noop() {\n  return void 0;\n}\nfunction functionalUpdate(updater, input) {\n  return typeof updater === \"function\" ? updater(input) : updater;\n}\nfunction isValidTimeout(value) {\n  return typeof value === \"number\" && value >= 0 && value !== Infinity;\n}\nfunction timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nfunction matchQuery(filters, query) {\n  const {\n    type = \"all\",\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale\n  } = filters;\n  if (queryKey) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n  if (type !== \"all\") {\n    const isActive = query.isActive();\n    if (type === \"active\" && !isActive) {\n      return false;\n    }\n    if (type === \"inactive\" && isActive) {\n      return false;\n    }\n  }\n  if (typeof stale === \"boolean\" && query.isStale() !== stale) {\n    return false;\n  }\n  if (fetchStatus && fetchStatus !== query.state.fetchStatus) {\n    return false;\n  }\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n  return true;\n}\nfunction matchMutation(filters, mutation) {\n  const { exact, status, predicate, mutationKey } = filters;\n  if (mutationKey) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n    if (exact) {\n      if (hashKey(mutation.options.mutationKey) !== hashKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n  if (status && mutation.state.status !== status) {\n    return false;\n  }\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n  return true;\n}\nfunction hashQueryKeyByOptions(queryKey, options) {\n  const hashFn = options?.queryKeyHashFn || hashKey;\n  return hashFn(queryKey);\n}\nfunction hashKey(queryKey) {\n  return JSON.stringify(\n    queryKey,\n    (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n      result[key] = val[key];\n      return result;\n    }, {}) : val\n  );\n}\nfunction partialMatchKey(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (a && b && typeof a === \"object\" && typeof b === \"object\") {\n    return !Object.keys(b).some((key) => !partialMatchKey(a[key], b[key]));\n  }\n  return false;\n}\nfunction replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n  const array = isPlainArray(a) && isPlainArray(b);\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    const aItems = array ? a : Object.keys(a);\n    const aSize = aItems.length;\n    const bItems = array ? b : Object.keys(b);\n    const bSize = bItems.length;\n    const copy = array ? [] : {};\n    let equalItems = 0;\n    for (let i = 0; i < bSize; i++) {\n      const key = array ? i : bItems[i];\n      if (!array && a[key] === void 0 && b[key] === void 0 && aItems.includes(key)) {\n        copy[key] = void 0;\n        equalItems++;\n      } else {\n        copy[key] = replaceEqualDeep(a[key], b[key]);\n        if (copy[key] === a[key] && a[key] !== void 0) {\n          equalItems++;\n        }\n      }\n    }\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n  return b;\n}\nfunction shallowEqualObjects(a, b) {\n  if (!b || Object.keys(a).length !== Object.keys(b).length) {\n    return false;\n  }\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n}\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  }\n  const ctor = o.constructor;\n  if (ctor === void 0) {\n    return true;\n  }\n  const prot = ctor.prototype;\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  }\n  if (!prot.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n  return true;\n}\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === \"[object Object]\";\n}\nfunction sleep(ms) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n}\nfunction replaceData(prevData, data, options) {\n  if (typeof options.structuralSharing === \"function\") {\n    return options.structuralSharing(prevData, data);\n  } else if (options.structuralSharing !== false) {\n    return replaceEqualDeep(prevData, data);\n  }\n  return data;\n}\nfunction keepPreviousData(previousData) {\n  return previousData;\n}\nfunction addToEnd(items, item, max = 0) {\n  const newItems = [...items, item];\n  return max && newItems.length > max ? newItems.slice(1) : newItems;\n}\nfunction addToStart(items, item, max = 0) {\n  const newItems = [item, ...items];\n  return max && newItems.length > max ? newItems.slice(0, -1) : newItems;\n}\nvar skipToken = Symbol();\nexport {\n  addToEnd,\n  addToStart,\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  isPlainArray,\n  isPlainObject,\n  isServer,\n  isValidTimeout,\n  keepPreviousData,\n  matchMutation,\n  matchQuery,\n  noop,\n  partialMatchKey,\n  replaceData,\n  replaceEqualDeep,\n  shallowEqualObjects,\n  skipToken,\n  sleep,\n  timeUntilStale\n};\n//# sourceMappingURL=utils.js.map","// src/notifyManager.ts\nfunction createNotifyManager() {\n  let queue = [];\n  let transactions = 0;\n  let notifyFn = (callback) => {\n    callback();\n  };\n  let batchNotifyFn = (callback) => {\n    callback();\n  };\n  let scheduleFn = (cb) => setTimeout(cb, 0);\n  const setScheduler = (fn) => {\n    scheduleFn = fn;\n  };\n  const batch = (callback) => {\n    let result;\n    transactions++;\n    try {\n      result = callback();\n    } finally {\n      transactions--;\n      if (!transactions) {\n        flush();\n      }\n    }\n    return result;\n  };\n  const schedule = (callback) => {\n    if (transactions) {\n      queue.push(callback);\n    } else {\n      scheduleFn(() => {\n        notifyFn(callback);\n      });\n    }\n  };\n  const batchCalls = (callback) => {\n    return (...args) => {\n      schedule(() => {\n        callback(...args);\n      });\n    };\n  };\n  const flush = () => {\n    const originalQueue = queue;\n    queue = [];\n    if (originalQueue.length) {\n      scheduleFn(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback);\n          });\n        });\n      });\n    }\n  };\n  const setNotifyFunction = (fn) => {\n    notifyFn = fn;\n  };\n  const setBatchNotifyFunction = (fn) => {\n    batchNotifyFn = fn;\n  };\n  return {\n    batch,\n    batchCalls,\n    schedule,\n    setNotifyFunction,\n    setBatchNotifyFunction,\n    setScheduler\n  };\n}\nvar notifyManager = createNotifyManager();\nexport {\n  createNotifyManager,\n  notifyManager\n};\n//# sourceMappingURL=notifyManager.js.map","// src/subscribable.ts\nvar Subscribable = class {\n  constructor() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = this.subscribe.bind(this);\n  }\n  subscribe(listener) {\n    this.listeners.add(listener);\n    this.onSubscribe();\n    return () => {\n      this.listeners.delete(listener);\n      this.onUnsubscribe();\n    };\n  }\n  hasListeners() {\n    return this.listeners.size > 0;\n  }\n  onSubscribe() {\n  }\n  onUnsubscribe() {\n  }\n};\nexport {\n  Subscribable\n};\n//# sourceMappingURL=subscribable.js.map","// src/focusManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar FocusManager = class extends Subscribable {\n  #focused;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onFocus) => {\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus();\n        window.addEventListener(\"visibilitychange\", listener, false);\n        return () => {\n          window.removeEventListener(\"visibilitychange\", listener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === \"boolean\") {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n  setFocused(focused) {\n    const changed = this.#focused !== focused;\n    if (changed) {\n      this.#focused = focused;\n      this.onFocus();\n    }\n  }\n  onFocus() {\n    const isFocused = this.isFocused();\n    this.listeners.forEach((listener) => {\n      listener(isFocused);\n    });\n  }\n  isFocused() {\n    if (typeof this.#focused === \"boolean\") {\n      return this.#focused;\n    }\n    return globalThis.document?.visibilityState !== \"hidden\";\n  }\n};\nvar focusManager = new FocusManager();\nexport {\n  FocusManager,\n  focusManager\n};\n//# sourceMappingURL=focusManager.js.map","// src/onlineManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar OnlineManager = class extends Subscribable {\n  #online = true;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onOnline) => {\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true);\n        const offlineListener = () => onOnline(false);\n        window.addEventListener(\"online\", onlineListener, false);\n        window.addEventListener(\"offline\", offlineListener, false);\n        return () => {\n          window.removeEventListener(\"online\", onlineListener);\n          window.removeEventListener(\"offline\", offlineListener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup(this.setOnline.bind(this));\n  }\n  setOnline(online) {\n    const changed = this.#online !== online;\n    if (changed) {\n      this.#online = online;\n      this.listeners.forEach((listener) => {\n        listener(online);\n      });\n    }\n  }\n  isOnline() {\n    return this.#online;\n  }\n};\nvar onlineManager = new OnlineManager();\nexport {\n  OnlineManager,\n  onlineManager\n};\n//# sourceMappingURL=onlineManager.js.map","// src/retryer.ts\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { isServer, sleep } from \"./utils.js\";\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1e3 * 2 ** failureCount, 3e4);\n}\nfunction canFetch(networkMode) {\n  return (networkMode ?? \"online\") === \"online\" ? onlineManager.isOnline() : true;\n}\nvar CancelledError = class {\n  constructor(options) {\n    this.revert = options?.revert;\n    this.silent = options?.silent;\n  }\n};\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let isResolved = false;\n  let continueFn;\n  let promiseResolve;\n  let promiseReject;\n  const promise = new Promise((outerResolve, outerReject) => {\n    promiseResolve = outerResolve;\n    promiseReject = outerReject;\n  });\n  const cancel = (cancelOptions) => {\n    if (!isResolved) {\n      reject(new CancelledError(cancelOptions));\n      config.abort?.();\n    }\n  };\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n  const shouldPause = () => !focusManager.isFocused() || config.networkMode !== \"always\" && !onlineManager.isOnline();\n  const resolve = (value) => {\n    if (!isResolved) {\n      isResolved = true;\n      config.onSuccess?.(value);\n      continueFn?.();\n      promiseResolve(value);\n    }\n  };\n  const reject = (value) => {\n    if (!isResolved) {\n      isResolved = true;\n      config.onError?.(value);\n      continueFn?.();\n      promiseReject(value);\n    }\n  };\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        const canContinue = isResolved || !shouldPause();\n        if (canContinue) {\n          continueResolve(value);\n        }\n        return canContinue;\n      };\n      config.onPause?.();\n    }).then(() => {\n      continueFn = void 0;\n      if (!isResolved) {\n        config.onContinue?.();\n      }\n    });\n  };\n  const run = () => {\n    if (isResolved) {\n      return;\n    }\n    let promiseOrValue;\n    try {\n      promiseOrValue = config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n    Promise.resolve(promiseOrValue).then(resolve).catch((error) => {\n      if (isResolved) {\n        return;\n      }\n      const retry = config.retry ?? (isServer ? 0 : 3);\n      const retryDelay = config.retryDelay ?? defaultRetryDelay;\n      const delay = typeof retryDelay === \"function\" ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === \"number\" && failureCount < retry || typeof retry === \"function\" && retry(failureCount, error);\n      if (isRetryCancelled || !shouldRetry) {\n        reject(error);\n        return;\n      }\n      failureCount++;\n      config.onFail?.(failureCount, error);\n      sleep(delay).then(() => {\n        if (shouldPause()) {\n          return pause();\n        }\n        return;\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  };\n  if (canFetch(config.networkMode)) {\n    run();\n  } else {\n    pause().then(run);\n  }\n  return {\n    promise,\n    cancel,\n    continue: () => {\n      const didContinue = continueFn?.();\n      return didContinue ? promise : Promise.resolve();\n    },\n    cancelRetry,\n    continueRetry\n  };\n}\nexport {\n  CancelledError,\n  canFetch,\n  createRetryer,\n  isCancelledError\n};\n//# sourceMappingURL=retryer.js.map","// src/removable.ts\nimport { isServer, isValidTimeout } from \"./utils.js\";\nvar Removable = class {\n  #gcTimeout;\n  destroy() {\n    this.clearGcTimeout();\n  }\n  scheduleGc() {\n    this.clearGcTimeout();\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = setTimeout(() => {\n        this.optionalRemove();\n      }, this.gcTime);\n    }\n  }\n  updateGcTime(newGcTime) {\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1e3)\n    );\n  }\n  clearGcTimeout() {\n    if (this.#gcTimeout) {\n      clearTimeout(this.#gcTimeout);\n      this.#gcTimeout = void 0;\n    }\n  }\n};\nexport {\n  Removable\n};\n//# sourceMappingURL=removable.js.map","// src/query.ts\nimport { noop, replaceData, skipToken, timeUntilStale } from \"./utils.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { canFetch, createRetryer, isCancelledError } from \"./retryer.js\";\nimport { Removable } from \"./removable.js\";\nvar Query = class extends Removable {\n  #initialState;\n  #revertState;\n  #cache;\n  #retryer;\n  #observers;\n  #defaultOptions;\n  #abortSignalConsumed;\n  constructor(config) {\n    super();\n    this.#abortSignalConsumed = false;\n    this.#defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.#observers = [];\n    this.#cache = config.cache;\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.#initialState = config.state || getDefaultState(this.options);\n    this.state = this.#initialState;\n    this.scheduleGc();\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  setOptions(options) {\n    this.options = { ...this.#defaultOptions, ...options };\n    this.updateGcTime(this.options.gcTime);\n  }\n  optionalRemove() {\n    if (!this.#observers.length && this.state.fetchStatus === \"idle\") {\n      this.#cache.remove(this);\n    }\n  }\n  setData(newData, options) {\n    const data = replaceData(this.state.data, newData, this.options);\n    this.#dispatch({\n      data,\n      type: \"success\",\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual\n    });\n    return data;\n  }\n  setState(state, setStateOptions) {\n    this.#dispatch({ type: \"setState\", state, setStateOptions });\n  }\n  cancel(options) {\n    const promise = this.#retryer?.promise;\n    this.#retryer?.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  }\n  destroy() {\n    super.destroy();\n    this.cancel({ silent: true });\n  }\n  reset() {\n    this.destroy();\n    this.setState(this.#initialState);\n  }\n  isActive() {\n    return this.#observers.some(\n      (observer) => observer.options.enabled !== false\n    );\n  }\n  isDisabled() {\n    return this.getObserversCount() > 0 && !this.isActive();\n  }\n  isStale() {\n    if (this.state.isInvalidated) {\n      return true;\n    }\n    if (this.getObserversCount() > 0) {\n      return this.#observers.some(\n        (observer) => observer.getCurrentResult().isStale\n      );\n    }\n    return this.state.data === void 0;\n  }\n  isStaleByTime(staleTime = 0) {\n    return this.state.isInvalidated || this.state.data === void 0 || !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  }\n  onFocus() {\n    const observer = this.#observers.find((x) => x.shouldFetchOnWindowFocus());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  onOnline() {\n    const observer = this.#observers.find((x) => x.shouldFetchOnReconnect());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  addObserver(observer) {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer);\n      this.clearGcTimeout();\n      this.#cache.notify({ type: \"observerAdded\", query: this, observer });\n    }\n  }\n  removeObserver(observer) {\n    if (this.#observers.includes(observer)) {\n      this.#observers = this.#observers.filter((x) => x !== observer);\n      if (!this.#observers.length) {\n        if (this.#retryer) {\n          if (this.#abortSignalConsumed) {\n            this.#retryer.cancel({ revert: true });\n          } else {\n            this.#retryer.cancelRetry();\n          }\n        }\n        this.scheduleGc();\n      }\n      this.#cache.notify({ type: \"observerRemoved\", query: this, observer });\n    }\n  }\n  getObserversCount() {\n    return this.#observers.length;\n  }\n  invalidate() {\n    if (!this.state.isInvalidated) {\n      this.#dispatch({ type: \"invalidate\" });\n    }\n  }\n  fetch(options, fetchOptions) {\n    if (this.state.fetchStatus !== \"idle\") {\n      if (this.state.data !== void 0 && fetchOptions?.cancelRefetch) {\n        this.cancel({ silent: true });\n      } else if (this.#retryer) {\n        this.#retryer.continueRetry();\n        return this.#retryer.promise;\n      }\n    }\n    if (options) {\n      this.setOptions(options);\n    }\n    if (!this.options.queryFn) {\n      const observer = this.#observers.find((x) => x.options.queryFn);\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!Array.isArray(this.options.queryKey)) {\n        console.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`\n        );\n      }\n    }\n    const abortController = new AbortController();\n    const queryFnContext = {\n      queryKey: this.queryKey,\n      meta: this.meta\n    };\n    const addSignalProperty = (object) => {\n      Object.defineProperty(object, \"signal\", {\n        enumerable: true,\n        get: () => {\n          this.#abortSignalConsumed = true;\n          return abortController.signal;\n        }\n      });\n    };\n    addSignalProperty(queryFnContext);\n    const fetchFn = () => {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (this.options.queryFn === skipToken) {\n          console.error(\n            `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${this.options.queryHash}'`\n          );\n        }\n      }\n      if (!this.options.queryFn || this.options.queryFn === skipToken) {\n        return Promise.reject(\n          new Error(`Missing queryFn: '${this.options.queryHash}'`)\n        );\n      }\n      this.#abortSignalConsumed = false;\n      if (this.options.persister) {\n        return this.options.persister(\n          this.options.queryFn,\n          queryFnContext,\n          this\n        );\n      }\n      return this.options.queryFn(\n        queryFnContext\n      );\n    };\n    const context = {\n      fetchOptions,\n      options: this.options,\n      queryKey: this.queryKey,\n      state: this.state,\n      fetchFn\n    };\n    addSignalProperty(context);\n    this.options.behavior?.onFetch(\n      context,\n      this\n    );\n    this.#revertState = this.state;\n    if (this.state.fetchStatus === \"idle\" || this.state.fetchMeta !== context.fetchOptions?.meta) {\n      this.#dispatch({ type: \"fetch\", meta: context.fetchOptions?.meta });\n    }\n    const onError = (error) => {\n      if (!(isCancelledError(error) && error.silent)) {\n        this.#dispatch({\n          type: \"error\",\n          error\n        });\n      }\n      if (!isCancelledError(error)) {\n        this.#cache.config.onError?.(\n          error,\n          this\n        );\n        this.#cache.config.onSettled?.(\n          this.state.data,\n          error,\n          this\n        );\n      }\n      if (!this.isFetchingOptimistic) {\n        this.scheduleGc();\n      }\n      this.isFetchingOptimistic = false;\n    };\n    this.#retryer = createRetryer({\n      fn: context.fetchFn,\n      abort: abortController.abort.bind(abortController),\n      onSuccess: (data) => {\n        if (data === void 0) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(\n              `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`\n            );\n          }\n          onError(new Error(`${this.queryHash} data is undefined`));\n          return;\n        }\n        this.setData(data);\n        this.#cache.config.onSuccess?.(data, this);\n        this.#cache.config.onSettled?.(\n          data,\n          this.state.error,\n          this\n        );\n        if (!this.isFetchingOptimistic) {\n          this.scheduleGc();\n        }\n        this.isFetchingOptimistic = false;\n      },\n      onError,\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue: () => {\n        this.#dispatch({ type: \"continue\" });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode\n    });\n    return this.#retryer.promise;\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            fetchStatus: \"paused\"\n          };\n        case \"continue\":\n          return {\n            ...state,\n            fetchStatus: \"fetching\"\n          };\n        case \"fetch\":\n          return {\n            ...state,\n            ...fetchState(state.data, this.options),\n            fetchMeta: action.meta ?? null\n          };\n        case \"success\":\n          return {\n            ...state,\n            data: action.data,\n            dataUpdateCount: state.dataUpdateCount + 1,\n            dataUpdatedAt: action.dataUpdatedAt ?? Date.now(),\n            error: null,\n            isInvalidated: false,\n            status: \"success\",\n            ...!action.manual && {\n              fetchStatus: \"idle\",\n              fetchFailureCount: 0,\n              fetchFailureReason: null\n            }\n          };\n        case \"error\":\n          const error = action.error;\n          if (isCancelledError(error) && error.revert && this.#revertState) {\n            return { ...this.#revertState, fetchStatus: \"idle\" };\n          }\n          return {\n            ...state,\n            error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: \"idle\",\n            status: \"error\"\n          };\n        case \"invalidate\":\n          return {\n            ...state,\n            isInvalidated: true\n          };\n        case \"setState\":\n          return {\n            ...state,\n            ...action.state\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onQueryUpdate();\n      });\n      this.#cache.notify({ query: this, type: \"updated\", action });\n    });\n  }\n};\nfunction fetchState(data, options) {\n  return {\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchStatus: canFetch(options.networkMode) ? \"fetching\" : \"paused\",\n    ...data === void 0 && {\n      error: null,\n      status: \"pending\"\n    }\n  };\n}\nfunction getDefaultState(options) {\n  const data = typeof options.initialData === \"function\" ? options.initialData() : options.initialData;\n  const hasData = data !== void 0;\n  const initialDataUpdatedAt = hasData ? typeof options.initialDataUpdatedAt === \"function\" ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt ?? Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? \"success\" : \"pending\",\n    fetchStatus: \"idle\"\n  };\n}\nexport {\n  Query,\n  fetchState\n};\n//# sourceMappingURL=query.js.map","// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        cache: this,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map","// src/mutation.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Removable } from \"./removable.js\";\nimport { canFetch, createRetryer } from \"./retryer.js\";\nvar Mutation = class extends Removable {\n  #observers;\n  #defaultOptions;\n  #mutationCache;\n  #retryer;\n  constructor(config) {\n    super();\n    this.mutationId = config.mutationId;\n    this.#defaultOptions = config.defaultOptions;\n    this.#mutationCache = config.mutationCache;\n    this.#observers = [];\n    this.state = config.state || getDefaultState();\n    this.setOptions(config.options);\n    this.scheduleGc();\n  }\n  setOptions(options) {\n    this.options = { ...this.#defaultOptions, ...options };\n    this.updateGcTime(this.options.gcTime);\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  addObserver(observer) {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer);\n      this.clearGcTimeout();\n      this.#mutationCache.notify({\n        type: \"observerAdded\",\n        mutation: this,\n        observer\n      });\n    }\n  }\n  removeObserver(observer) {\n    this.#observers = this.#observers.filter((x) => x !== observer);\n    this.scheduleGc();\n    this.#mutationCache.notify({\n      type: \"observerRemoved\",\n      mutation: this,\n      observer\n    });\n  }\n  optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === \"pending\") {\n        this.scheduleGc();\n      } else {\n        this.#mutationCache.remove(this);\n      }\n    }\n  }\n  continue() {\n    return this.#retryer?.continue() ?? // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n    this.execute(this.state.variables);\n  }\n  async execute(variables) {\n    const executeMutation = () => {\n      this.#retryer = createRetryer({\n        fn: () => {\n          if (!this.options.mutationFn) {\n            return Promise.reject(new Error(\"No mutationFn found\"));\n          }\n          return this.options.mutationFn(variables);\n        },\n        onFail: (failureCount, error) => {\n          this.#dispatch({ type: \"failed\", failureCount, error });\n        },\n        onPause: () => {\n          this.#dispatch({ type: \"pause\" });\n        },\n        onContinue: () => {\n          this.#dispatch({ type: \"continue\" });\n        },\n        retry: this.options.retry ?? 0,\n        retryDelay: this.options.retryDelay,\n        networkMode: this.options.networkMode\n      });\n      return this.#retryer.promise;\n    };\n    const restored = this.state.status === \"pending\";\n    try {\n      if (!restored) {\n        this.#dispatch({ type: \"pending\", variables });\n        await this.#mutationCache.config.onMutate?.(\n          variables,\n          this\n        );\n        const context = await this.options.onMutate?.(variables);\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: \"pending\",\n            context,\n            variables\n          });\n        }\n      }\n      const data = await executeMutation();\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSuccess?.(data, variables, this.state.context);\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this\n      );\n      await this.options.onSettled?.(data, null, variables, this.state.context);\n      this.#dispatch({ type: \"success\", data });\n      return data;\n    } catch (error) {\n      try {\n        await this.#mutationCache.config.onError?.(\n          error,\n          variables,\n          this.state.context,\n          this\n        );\n        await this.options.onError?.(\n          error,\n          variables,\n          this.state.context\n        );\n        await this.#mutationCache.config.onSettled?.(\n          void 0,\n          error,\n          this.state.variables,\n          this.state.context,\n          this\n        );\n        await this.options.onSettled?.(\n          void 0,\n          error,\n          variables,\n          this.state.context\n        );\n        throw error;\n      } finally {\n        this.#dispatch({ type: \"error\", error });\n      }\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            isPaused: true\n          };\n        case \"continue\":\n          return {\n            ...state,\n            isPaused: false\n          };\n        case \"pending\":\n          return {\n            ...state,\n            context: action.context,\n            data: void 0,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: !canFetch(this.options.networkMode),\n            status: \"pending\",\n            variables: action.variables,\n            submittedAt: Date.now()\n          };\n        case \"success\":\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: \"success\",\n            isPaused: false\n          };\n        case \"error\":\n          return {\n            ...state,\n            data: void 0,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: \"error\"\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action);\n      });\n      this.#mutationCache.notify({\n        mutation: this,\n        type: \"updated\",\n        action\n      });\n    });\n  }\n};\nfunction getDefaultState() {\n  return {\n    context: void 0,\n    data: void 0,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: \"idle\",\n    variables: void 0,\n    submittedAt: 0\n  };\n}\nexport {\n  Mutation,\n  getDefaultState\n};\n//# sourceMappingURL=mutation.js.map","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = [];\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #mutationId;\n  #resuming;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.push(mutation);\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    this.#mutations = this.#mutations.filter((x) => x !== mutation);\n    this.notify({ type: \"removed\", mutation });\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.remove(mutation);\n      });\n    });\n  }\n  getAll() {\n    return this.#mutations;\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.#mutations.find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.#mutations.filter(\n      (mutation) => matchMutation(filters, mutation)\n    );\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    this.#resuming = (this.#resuming ?? Promise.resolve()).then(() => {\n      const pausedMutations = this.#mutations.filter((x) => x.state.isPaused);\n      return notifyManager.batch(\n        () => pausedMutations.reduce(\n          (promise, mutation) => promise.then(() => mutation.continue().catch(noop)),\n          Promise.resolve()\n        )\n      );\n    }).then(() => {\n      this.#resuming = void 0;\n    });\n    return this.#resuming;\n  }\n};\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, skipToken } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const fetchFn = async () => {\n        const options = context.options;\n        const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n        const oldPages = context.state.data?.pages || [];\n        const oldPageParams = context.state.data?.pageParams || [];\n        const empty = { pages: [], pageParams: [] };\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = context.options.queryFn && context.options.queryFn !== skipToken ? context.options.queryFn : () => {\n          if (process.env.NODE_ENV !== \"production\") {\n            if (context.options.queryFn === skipToken) {\n              console.error(\n                `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${context.options.queryHash}'`\n              );\n            }\n          }\n          return Promise.reject(\n            new Error(`Missing queryFn: '${context.options.queryHash}'`)\n          );\n        };\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const queryFnContext = {\n            queryKey: context.queryKey,\n            pageParam: param,\n            direction: previous ? \"backward\" : \"forward\",\n            meta: context.options.meta\n          };\n          addSignalProperty(queryFnContext);\n          const page = await queryFn(\n            queryFnContext\n          );\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        let result;\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          result = await fetchPage(\n            empty,\n            oldPageParams[0] ?? options.initialPageParam\n          );\n          const remainingPages = pages ?? oldPages.length;\n          for (let i = 1; i < remainingPages; i++) {\n            const param = getNextPageParam(options, result);\n            result = await fetchPage(result, param);\n          }\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  );\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return options.getPreviousPageParam?.(\n    pages[0],\n    pages,\n    pageParams[0],\n    pageParams\n  );\n}\nfunction hasNextPage(options, data) {\n  if (!data)\n    return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam)\n    return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map","// settings & const\nconst DEFAULT_HEADERS = {\n  \"Content-Type\": \"application/json\",\n};\n\nconst PATH_PARAM_RE = /\\{[^{}]+\\}/g;\n\n/**\n * Create an openapi-fetch client.\n * @type {import(\"./index.js\").default}\n */\nexport default function createClient(clientOptions) {\n  let {\n    baseUrl = \"\",\n    fetch: baseFetch = globalThis.fetch,\n    querySerializer: globalQuerySerializer,\n    bodySerializer: globalBodySerializer,\n    headers: baseHeaders,\n    ...baseOptions\n  } = { ...clientOptions };\n  if (baseUrl.endsWith(\"/\")) {\n    baseUrl = baseUrl.substring(0, baseUrl.length - 1);\n  }\n  baseHeaders = mergeHeaders(DEFAULT_HEADERS, baseHeaders);\n  const middlewares = [];\n\n  /**\n   * Per-request fetch (keeps settings created in createClient()\n   * @param {T} url\n   * @param {import('./index.js').FetchOptions<T>} fetchOptions\n   */\n  async function coreFetch(url, fetchOptions) {\n    let {\n      fetch = baseFetch,\n      headers,\n      params = {},\n      parseAs = \"json\",\n      querySerializer: requestQuerySerializer,\n      bodySerializer = globalBodySerializer ?? defaultBodySerializer,\n      ...init\n    } = fetchOptions || {};\n\n    let querySerializer =\n      typeof globalQuerySerializer === \"function\"\n        ? globalQuerySerializer\n        : createQuerySerializer(globalQuerySerializer);\n    if (requestQuerySerializer) {\n      querySerializer =\n        typeof requestQuerySerializer === \"function\"\n          ? requestQuerySerializer\n          : createQuerySerializer({\n              ...(typeof globalQuerySerializer === \"object\"\n                ? globalQuerySerializer\n                : {}),\n              ...requestQuerySerializer,\n            });\n    }\n\n    const requestInit = {\n      redirect: \"follow\",\n      ...baseOptions,\n      ...init,\n      headers: mergeHeaders(baseHeaders, headers, params.header),\n    };\n    if (requestInit.body) {\n      requestInit.body = bodySerializer(requestInit.body);\n    }\n    // remove `Content-Type` if serialized body is FormData; browser will correctly set Content-Type & boundary expression\n    if (requestInit.body instanceof FormData) {\n      requestInit.headers.delete(\"Content-Type\");\n    }\n    let request = new Request(\n      createFinalURL(url, { baseUrl, params, querySerializer }),\n      requestInit,\n    );\n    // middleware (request)\n    const mergedOptions = {\n      baseUrl,\n      fetch,\n      parseAs,\n      querySerializer,\n      bodySerializer,\n    };\n    for (const m of middlewares) {\n      if (m && typeof m === \"object\" && typeof m.onRequest === \"function\") {\n        request.schemaPath = url; // (re)attach original URL\n        request.params = params; // (re)attach params\n        const result = await m.onRequest(request, mergedOptions);\n        if (result) {\n          if (!(result instanceof Request)) {\n            throw new Error(\n              `Middleware must return new Request() when modifying the request`,\n            );\n          }\n          request = result;\n        }\n      }\n    }\n\n    // fetch!\n    let response = await fetch(request);\n\n    // middleware (response)\n    // execute in reverse-array order (first priority gets last transform)\n    for (let i = middlewares.length - 1; i >= 0; i--) {\n      const m = middlewares[i];\n      if (m && typeof m === \"object\" && typeof m.onResponse === \"function\") {\n        const result = await m.onResponse(response, mergedOptions);\n        if (result) {\n          if (!(result instanceof Response)) {\n            throw new Error(\n              `Middleware must return new Response() when modifying the response`,\n            );\n          }\n          response = result;\n        }\n      }\n    }\n\n    // handle empty content\n    // note: we return `{}` because we want user truthy checks for `.data` or `.error` to succeed\n    if (\n      response.status === 204 ||\n      response.headers.get(\"Content-Length\") === \"0\"\n    ) {\n      return response.ok ? { data: {}, response } : { error: {}, response };\n    }\n\n    // parse response (falling back to .text() when necessary)\n    if (response.ok) {\n      // if \"stream\", skip parsing entirely\n      if (parseAs === \"stream\") {\n        return { data: response.body, response };\n      }\n      return { data: await response[parseAs](), response };\n    }\n\n    // handle errors\n    let error = await response.text();\n    try {\n      error = JSON.parse(error); // attempt to parse as JSON\n    } catch {\n      // noop\n    }\n    return { error, response };\n  }\n\n  return {\n    /** Call a GET endpoint */\n    async GET(url, init) {\n      return coreFetch(url, { ...init, method: \"GET\" });\n    },\n    /** Call a PUT endpoint */\n    async PUT(url, init) {\n      return coreFetch(url, { ...init, method: \"PUT\" });\n    },\n    /** Call a POST endpoint */\n    async POST(url, init) {\n      return coreFetch(url, { ...init, method: \"POST\" });\n    },\n    /** Call a DELETE endpoint */\n    async DELETE(url, init) {\n      return coreFetch(url, { ...init, method: \"DELETE\" });\n    },\n    /** Call a OPTIONS endpoint */\n    async OPTIONS(url, init) {\n      return coreFetch(url, { ...init, method: \"OPTIONS\" });\n    },\n    /** Call a HEAD endpoint */\n    async HEAD(url, init) {\n      return coreFetch(url, { ...init, method: \"HEAD\" });\n    },\n    /** Call a PATCH endpoint */\n    async PATCH(url, init) {\n      return coreFetch(url, { ...init, method: \"PATCH\" });\n    },\n    /** Call a TRACE endpoint */\n    async TRACE(url, init) {\n      return coreFetch(url, { ...init, method: \"TRACE\" });\n    },\n    /** Register middleware */\n    use(...middleware) {\n      for (const m of middleware) {\n        if (!m) {\n          continue;\n        }\n        if (typeof m !== \"object\" || !(\"onRequest\" in m || \"onResponse\" in m)) {\n          throw new Error(\n            \"Middleware must be an object with one of `onRequest()` or `onResponse()`\",\n          );\n        }\n        middlewares.push(m);\n      }\n    },\n    /** Unregister middleware */\n    eject(...middleware) {\n      for (const m of middleware) {\n        const i = middlewares.indexOf(m);\n        if (i !== -1) {\n          middlewares.splice(i, 1);\n        }\n      }\n    },\n  };\n}\n\n// utils\n\n/**\n * Serialize primitive param values\n * @type {import(\"./index.js\").serializePrimitiveParam}\n */\nexport function serializePrimitiveParam(name, value, options) {\n  if (value === undefined || value === null) {\n    return \"\";\n  }\n  if (typeof value === \"object\") {\n    throw new Error(\n      `Deeply-nested arrays/objects aren’t supported. Provide your own \\`querySerializer()\\` to handle these.`,\n    );\n  }\n  return `${name}=${options?.allowReserved === true ? value : encodeURIComponent(value)}`;\n}\n\n/**\n * Serialize object param (shallow only)\n * @type {import(\"./index.js\").serializeObjectParam}\n */\nexport function serializeObjectParam(name, value, options) {\n  if (!value || typeof value !== \"object\") {\n    return \"\";\n  }\n  const values = [];\n  const joiner =\n    {\n      simple: \",\",\n      label: \".\",\n      matrix: \";\",\n    }[options.style] || \"&\";\n\n  // explode: false\n  if (options.style !== \"deepObject\" && options.explode === false) {\n    for (const k in value) {\n      values.push(\n        k,\n        options.allowReserved === true\n          ? value[k]\n          : encodeURIComponent(value[k]),\n      );\n    }\n    const final = values.join(\",\"); // note: values are always joined by comma in explode: false (but joiner can prefix)\n    switch (options.style) {\n      case \"form\": {\n        return `${name}=${final}`;\n      }\n      case \"label\": {\n        return `.${final}`;\n      }\n      case \"matrix\": {\n        return `;${name}=${final}`;\n      }\n      default: {\n        return final;\n      }\n    }\n  }\n\n  // explode: true\n  for (const k in value) {\n    const finalName = options.style === \"deepObject\" ? `${name}[${k}]` : k;\n    values.push(serializePrimitiveParam(finalName, value[k], options));\n  }\n  const final = values.join(joiner);\n  return options.style === \"label\" || options.style === \"matrix\"\n    ? `${joiner}${final}`\n    : final;\n}\n\n/**\n * Serialize array param (shallow only)\n * @type {import(\"./index.js\").serializeArrayParam}\n */\nexport function serializeArrayParam(name, value, options) {\n  if (!Array.isArray(value)) {\n    return \"\";\n  }\n\n  // explode: false\n  if (options.explode === false) {\n    const joiner =\n      { form: \",\", spaceDelimited: \"%20\", pipeDelimited: \"|\" }[options.style] ||\n      \",\"; // note: for arrays, joiners vary wildly based on style + explode behavior\n    const final = (\n      options.allowReserved === true\n        ? value\n        : value.map((v) => encodeURIComponent(v))\n    ).join(joiner);\n    switch (options.style) {\n      case \"simple\": {\n        return final;\n      }\n      case \"label\": {\n        return `.${final}`;\n      }\n      case \"matrix\": {\n        return `;${name}=${final}`;\n      }\n      case \"spaceDelimited\":\n      case \"pipeDelimited\":\n      default: {\n        return `${name}=${final}`;\n      }\n    }\n  }\n\n  // explode: true\n  const joiner = { simple: \",\", label: \".\", matrix: \";\" }[options.style] || \"&\";\n  const values = [];\n  for (const v of value) {\n    if (options.style === \"simple\" || options.style === \"label\") {\n      values.push(options.allowReserved === true ? v : encodeURIComponent(v));\n    } else {\n      values.push(serializePrimitiveParam(name, v, options));\n    }\n  }\n  return options.style === \"label\" || options.style === \"matrix\"\n    ? `${joiner}${values.join(joiner)}`\n    : values.join(joiner);\n}\n\n/**\n * Serialize query params to string\n * @type {import(\"./index.js\").createQuerySerializer}\n */\nexport function createQuerySerializer(options) {\n  return function querySerializer(queryParams) {\n    const search = [];\n    if (queryParams && typeof queryParams === \"object\") {\n      for (const name in queryParams) {\n        const value = queryParams[name];\n        if (value === undefined || value === null) {\n          continue;\n        }\n        if (Array.isArray(value)) {\n          search.push(\n            serializeArrayParam(name, value, {\n              style: \"form\",\n              explode: true,\n              ...options?.array,\n              allowReserved: options?.allowReserved || false,\n            }),\n          );\n          continue;\n        }\n        if (typeof value === \"object\") {\n          search.push(\n            serializeObjectParam(name, value, {\n              style: \"deepObject\",\n              explode: true,\n              ...options?.object,\n              allowReserved: options?.allowReserved || false,\n            }),\n          );\n          continue;\n        }\n        search.push(serializePrimitiveParam(name, value, options));\n      }\n    }\n    return search.join(\"&\");\n  };\n}\n\n/**\n * Handle different OpenAPI 3.x serialization styles\n * @type {import(\"./index.js\").defaultPathSerializer}\n * @see https://swagger.io/docs/specification/serialization/#path\n */\nexport function defaultPathSerializer(pathname, pathParams) {\n  let nextURL = pathname;\n  for (const match of pathname.match(PATH_PARAM_RE) ?? []) {\n    let name = match.substring(1, match.length - 1);\n    let explode = false;\n    let style = \"simple\";\n    if (name.endsWith(\"*\")) {\n      explode = true;\n      name = name.substring(0, name.length - 1);\n    }\n    if (name.startsWith(\".\")) {\n      style = \"label\";\n      name = name.substring(1);\n    } else if (name.startsWith(\";\")) {\n      style = \"matrix\";\n      name = name.substring(1);\n    }\n    if (\n      !pathParams ||\n      pathParams[name] === undefined ||\n      pathParams[name] === null\n    ) {\n      continue;\n    }\n    const value = pathParams[name];\n    if (Array.isArray(value)) {\n      nextURL = nextURL.replace(\n        match,\n        serializeArrayParam(name, value, { style, explode }),\n      );\n      continue;\n    }\n    if (typeof value === \"object\") {\n      nextURL = nextURL.replace(\n        match,\n        serializeObjectParam(name, value, { style, explode }),\n      );\n      continue;\n    }\n    if (style === \"matrix\") {\n      nextURL = nextURL.replace(\n        match,\n        `;${serializePrimitiveParam(name, value)}`,\n      );\n      continue;\n    }\n    nextURL = nextURL.replace(match, style === \"label\" ? `.${value}` : value);\n    continue;\n  }\n  return nextURL;\n}\n\n/**\n * Serialize body object to string\n * @type {import(\"./index.js\").defaultBodySerializer}\n */\nexport function defaultBodySerializer(body) {\n  return JSON.stringify(body);\n}\n\n/**\n * Construct URL string from baseUrl and handle path and query params\n * @type {import(\"./index.js\").createFinalURL}\n */\nexport function createFinalURL(pathname, options) {\n  let finalURL = `${options.baseUrl}${pathname}`;\n  if (options.params?.path) {\n    finalURL = defaultPathSerializer(finalURL, options.params.path);\n  }\n  let search = options.querySerializer(options.params.query ?? {});\n  if (search.startsWith(\"?\")) {\n    search = search.substring(1);\n  }\n  if (search) {\n    finalURL += `?${search}`;\n  }\n  return finalURL;\n}\n\n/**\n * Merge headers a and b, with b taking priority\n * @type {import(\"./index.js\").mergeHeaders}\n */\nexport function mergeHeaders(...allHeaders) {\n  const finalHeaders = new Headers();\n  for (const h of allHeaders) {\n    if (!h || typeof h !== \"object\") {\n      continue;\n    }\n    const iterator = h instanceof Headers ? h.entries() : Object.entries(h);\n    for (const [k, v] of iterator) {\n      if (v === null) {\n        finalHeaders.delete(k);\n      } else if (Array.isArray(v)) {\n        for (const v2 of v) {\n          finalHeaders.append(k, v2);\n        }\n      } else if (v !== undefined) {\n        finalHeaders.set(k, v);\n      }\n    }\n  }\n  return finalHeaders;\n}\n","import { QueryClient } from '@tanstack/react-query'\nimport createClient, { Middleware } from 'openapi-fetch'\nimport comic from '../comic.json'\n\nimport type { paths } from './generated/api-spec'\n\nexport const apiClient = createClient<paths>({\n  baseUrl: process.env.API_ENDPOINT ?? comic.apiEndpoint,\n})\n\nconst throwOnError: Middleware = {\n  async onResponse(res) {\n    if (res.status >= 400) {\n      const body: string = await res.clone().text()\n      throw new Error(body)\n    }\n    return undefined\n  },\n}\n\napiClient.use(throwOnError)\n\nexport const queryClient = new QueryClient()\n","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1)\n      return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0)\n      return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const cachedData = this.getQueryData(options.queryKey);\n    if (cachedData === void 0)\n      return this.fetchQuery(options);\n    else {\n      const defaultedOptions = this.defaultQueryOptions(options);\n      const query = this.#queryCache.build(this, defaultedOptions);\n      if (options.revalidateIfStale && query.isStaleByTime(defaultedOptions.staleTime)) {\n        void this.prefetchQuery(defaultedOptions);\n      }\n      return Promise.resolve(cachedData);\n    }\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    const refetchFilters = {\n      type: \"active\",\n      ...filters\n    };\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(refetchFilters, options);\n    });\n  }\n  cancelQueries(filters = {}, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters = {}, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      const refetchFilters = {\n        ...filters,\n        type: filters.refetchType ?? filters.type ?? \"active\"\n      };\n      return this.refetchQueries(refetchFilters, options);\n    });\n  }\n  refetchQueries(filters = {}, options) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options?.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(defaultedOptions.staleTime) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    let result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        result = { ...result, ...queryDefault.defaultOptions };\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    let result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        result = { ...result, ...queryDefault.defaultOptions };\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.enabled !== true && defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","import { createContext } from 'react';\n\n/**\n * @public\n */\nconst MotionConfigContext = createContext({\n    transformPagePoint: (p) => p,\n    isStatic: false,\n    reducedMotion: \"never\",\n});\n\nexport { MotionConfigContext };\n","import { createContext } from 'react';\n\nconst MotionContext = createContext({});\n\nexport { MotionContext };\n","import { createContext } from 'react';\n\n/**\n * @public\n */\nconst PresenceContext = createContext(null);\n\nexport { PresenceContext };\n","const isBrowser = typeof document !== \"undefined\";\n\nexport { isBrowser };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.mjs';\n\nconst useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import { createContext } from 'react';\n\nconst LazyContext = createContext({ strict: false });\n\nexport { LazyContext };\n","/**\n * Convert camelCase to dash-case properties.\n */\nconst camelToDash = (str) => str.replace(/([a-z])([A-Z])/gu, \"$1-$2\").toLowerCase();\n\nexport { camelToDash };\n","import { camelToDash } from '../../render/dom/utils/camel-to-dash.mjs';\n\nconst optimizedAppearDataId = \"framerAppearId\";\nconst optimizedAppearDataAttribute = \"data-\" + camelToDash(optimizedAppearDataId);\n\nexport { optimizedAppearDataAttribute, optimizedAppearDataId };\n","const MotionGlobalConfig = {\n    skipAnimations: false,\n    useManualTiming: false,\n};\n\nexport { MotionGlobalConfig };\n","class Queue {\n    constructor() {\n        this.order = [];\n        this.scheduled = new Set();\n    }\n    add(process) {\n        if (!this.scheduled.has(process)) {\n            this.scheduled.add(process);\n            this.order.push(process);\n            return true;\n        }\n    }\n    remove(process) {\n        const index = this.order.indexOf(process);\n        if (index !== -1) {\n            this.order.splice(index, 1);\n            this.scheduled.delete(process);\n        }\n    }\n    clear() {\n        this.order.length = 0;\n        this.scheduled.clear();\n    }\n}\nfunction createRenderStep(runNextFrame) {\n    /**\n     * We create and reuse two queues, one to queue jobs for the current frame\n     * and one for the next. We reuse to avoid triggering GC after x frames.\n     */\n    let thisFrame = new Queue();\n    let nextFrame = new Queue();\n    let numToRun = 0;\n    /**\n     * Track whether we're currently processing jobs in this step. This way\n     * we can decide whether to schedule new jobs for this frame or next.\n     */\n    let isProcessing = false;\n    let flushNextFrame = false;\n    /**\n     * A set of processes which were marked keepAlive when scheduled.\n     */\n    const toKeepAlive = new WeakSet();\n    const step = {\n        /**\n         * Schedule a process to run on the next frame.\n         */\n        schedule: (callback, keepAlive = false, immediate = false) => {\n            const addToCurrentFrame = immediate && isProcessing;\n            const queue = addToCurrentFrame ? thisFrame : nextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (queue.add(callback) && addToCurrentFrame && isProcessing) {\n                // If we're adding it to the currently running queue, update its measured size\n                numToRun = thisFrame.order.length;\n            }\n            return callback;\n        },\n        /**\n         * Cancel the provided callback from running on the next frame.\n         */\n        cancel: (callback) => {\n            nextFrame.remove(callback);\n            toKeepAlive.delete(callback);\n        },\n        /**\n         * Execute all schedule callbacks.\n         */\n        process: (frameData) => {\n            /**\n             * If we're already processing we've probably been triggered by a flushSync\n             * inside an existing process. Instead of executing, mark flushNextFrame\n             * as true and ensure we flush the following frame at the end of this one.\n             */\n            if (isProcessing) {\n                flushNextFrame = true;\n                return;\n            }\n            isProcessing = true;\n            [thisFrame, nextFrame] = [nextFrame, thisFrame];\n            // Clear the next frame queue\n            nextFrame.clear();\n            // Execute this frame\n            numToRun = thisFrame.order.length;\n            if (numToRun) {\n                for (let i = 0; i < numToRun; i++) {\n                    const callback = thisFrame.order[i];\n                    if (toKeepAlive.has(callback)) {\n                        step.schedule(callback);\n                        runNextFrame();\n                    }\n                    callback(frameData);\n                }\n            }\n            isProcessing = false;\n            if (flushNextFrame) {\n                flushNextFrame = false;\n                step.process(frameData);\n            }\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { createRenderStep } from './render-step.mjs';\n\nconst stepsOrder = [\n    \"read\",\n    \"resolveKeyframes\",\n    \"update\",\n    \"preRender\",\n    \"render\",\n    \"postRender\", // Compute\n];\nconst maxElapsed = 40;\nfunction createRenderBatcher(scheduleNextBatch, allowKeepAlive) {\n    let runNextFrame = false;\n    let useDefaultElapsed = true;\n    const state = {\n        delta: 0,\n        timestamp: 0,\n        isProcessing: false,\n    };\n    const steps = stepsOrder.reduce((acc, key) => {\n        acc[key] = createRenderStep(() => (runNextFrame = true));\n        return acc;\n    }, {});\n    const processStep = (stepId) => {\n        steps[stepId].process(state);\n    };\n    const processBatch = () => {\n        const timestamp = MotionGlobalConfig.useManualTiming\n            ? state.timestamp\n            : performance.now();\n        runNextFrame = false;\n        state.delta = useDefaultElapsed\n            ? 1000 / 60\n            : Math.max(Math.min(timestamp - state.timestamp, maxElapsed), 1);\n        state.timestamp = timestamp;\n        state.isProcessing = true;\n        stepsOrder.forEach(processStep);\n        state.isProcessing = false;\n        if (runNextFrame && allowKeepAlive) {\n            useDefaultElapsed = false;\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const wake = () => {\n        runNextFrame = true;\n        useDefaultElapsed = true;\n        if (!state.isProcessing) {\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const schedule = stepsOrder.reduce((acc, key) => {\n        const step = steps[key];\n        acc[key] = (process, keepAlive = false, immediate = false) => {\n            if (!runNextFrame)\n                wake();\n            return step.schedule(process, keepAlive, immediate);\n        };\n        return acc;\n    }, {});\n    const cancel = (process) => stepsOrder.forEach((key) => steps[key].cancel(process));\n    return { schedule, cancel, state, steps };\n}\n\nexport { createRenderBatcher, stepsOrder };\n","import { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: microtask, cancel: cancelMicrotask } = createRenderBatcher(queueMicrotask, false);\n\nexport { cancelMicrotask, microtask };\n","function isRefObject(ref) {\n    return (ref &&\n        typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n","/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n    return typeof v === \"string\" || Array.isArray(v);\n}\n\nexport { isVariantLabel };\n","function isAnimationControls(v) {\n    return (v !== null &&\n        typeof v === \"object\" &&\n        typeof v.start === \"function\");\n}\n\nexport { isAnimationControls };\n","const variantPriorityOrder = [\n    \"animate\",\n    \"whileInView\",\n    \"whileFocus\",\n    \"whileHover\",\n    \"whileTap\",\n    \"whileDrag\",\n    \"exit\",\n];\nconst variantProps = [\"initial\", ...variantPriorityOrder];\n\nexport { variantPriorityOrder, variantProps };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nfunction isControllingVariants(props) {\n    return (isAnimationControls(props.animate) ||\n        variantProps.some((name) => isVariantLabel(props[name])));\n}\nfunction isVariantNode(props) {\n    return Boolean(isControllingVariants(props) || props.variants);\n}\n\nexport { isControllingVariants, isVariantNode };\n","import { useContext, useMemo } from 'react';\nimport { MotionContext } from './index.mjs';\nimport { getCurrentTreeVariants } from './utils.mjs';\n\nfunction useCreateMotionContext(props) {\n    const { initial, animate } = getCurrentTreeVariants(props, useContext(MotionContext));\n    return useMemo(() => ({ initial, animate }), [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)]);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n","import { isVariantLabel } from '../../render/utils/is-variant-label.mjs';\nimport { isControllingVariants } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (isControllingVariants(props)) {\n        const { initial, animate } = props;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n","const featureProps = {\n    animation: [\n        \"animate\",\n        \"variants\",\n        \"whileHover\",\n        \"whileTap\",\n        \"exit\",\n        \"whileInView\",\n        \"whileFocus\",\n        \"whileDrag\",\n    ],\n    exit: [\"exit\"],\n    drag: [\"drag\", \"dragControls\"],\n    focus: [\"whileFocus\"],\n    hover: [\"whileHover\", \"onHoverStart\", \"onHoverEnd\"],\n    tap: [\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"],\n    pan: [\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"],\n    inView: [\"whileInView\", \"onViewportEnter\", \"onViewportLeave\"],\n    layout: [\"layout\", \"layoutId\"],\n};\nconst featureDefinitions = {};\nfor (const key in featureProps) {\n    featureDefinitions[key] = {\n        isEnabled: (props) => featureProps[key].some((name) => !!props[name]),\n    };\n}\n\nexport { featureDefinitions };\n","import { createContext } from 'react';\n\nconst LayoutGroupContext = createContext({});\n\nexport { LayoutGroupContext };\n","import { createContext } from 'react';\n\n/**\n * Internal, exported only for usage in Framer\n */\nconst SwitchLayoutGroupContext = createContext({});\n\nexport { SwitchLayoutGroupContext };\n","const motionComponentSymbol = Symbol.for(\"motionComponentSymbol\");\n\nexport { motionComponentSymbol };\n","import * as React from 'react';\nimport { forwardRef, useContext } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../context/MotionContext/index.mjs';\nimport { useVisualElement } from './utils/use-visual-element.mjs';\nimport { useMotionRef } from './utils/use-motion-ref.mjs';\nimport { useCreateMotionContext } from '../context/MotionContext/create.mjs';\nimport { loadFeatures } from './features/load-features.mjs';\nimport { isBrowser } from '../utils/is-browser.mjs';\nimport { LayoutGroupContext } from '../context/LayoutGroupContext.mjs';\nimport { LazyContext } from '../context/LazyContext.mjs';\nimport { SwitchLayoutGroupContext } from '../context/SwitchLayoutGroupContext.mjs';\nimport { motionComponentSymbol } from './utils/symbol.mjs';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n */\nfunction createMotionComponent({ preloadedFeatures, createVisualElement, useRender, useVisualState, Component, }) {\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    function MotionComponent(props, externalRef) {\n        /**\n         * If we need to measure the element we load this functionality in a\n         * separate class component in order to gain access to getSnapshotBeforeUpdate.\n         */\n        let MeasureLayout;\n        const configAndProps = {\n            ...useContext(MotionConfigContext),\n            ...props,\n            layoutId: useLayoutId(props),\n        };\n        const { isStatic } = configAndProps;\n        const context = useCreateMotionContext(props);\n        const visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, configAndProps, createVisualElement);\n            /**\n             * Load Motion gesture and animation features. These are rendered as renderless\n             * components so each feature can optionally make use of React lifecycle methods.\n             */\n            const initialLayoutGroupConfig = useContext(SwitchLayoutGroupContext);\n            const isStrict = useContext(LazyContext).strict;\n            if (context.visualElement) {\n                MeasureLayout = context.visualElement.loadFeatures(\n                // Note: Pass the full new combined props to correctly re-render dynamic feature components.\n                configAndProps, isStrict, preloadedFeatures, initialLayoutGroupConfig);\n            }\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (React.createElement(MotionContext.Provider, { value: context },\n            MeasureLayout && context.visualElement ? (React.createElement(MeasureLayout, { visualElement: context.visualElement, ...configAndProps })) : null,\n            useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic, context.visualElement)));\n    }\n    const ForwardRefComponent = forwardRef(MotionComponent);\n    ForwardRefComponent[motionComponentSymbol] = Component;\n    return ForwardRefComponent;\n}\nfunction useLayoutId({ layoutId }) {\n    const layoutGroupId = useContext(LayoutGroupContext).id;\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\n\nexport { createMotionComponent };\n","import { featureDefinitions } from './definitions.mjs';\n\nfunction loadFeatures(features) {\n    for (const key in features) {\n        featureDefinitions[key] = {\n            ...featureDefinitions[key],\n            ...features[key],\n        };\n    }\n}\n\nexport { loadFeatures };\n","import { useContext, useRef, useInsertionEffect, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\nimport { optimizedAppearDataAttribute } from '../../animation/optimized-appear/data-id.mjs';\nimport { microtask } from '../../frameloop/microtask.mjs';\n\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n    const { visualElement: parent } = useContext(MotionContext);\n    const lazyContext = useContext(LazyContext);\n    const presenceContext = useContext(PresenceContext);\n    const reducedMotionConfig = useContext(MotionConfigContext).reducedMotion;\n    const visualElementRef = useRef();\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    createVisualElement = createVisualElement || lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState,\n            parent,\n            props,\n            presenceContext,\n            blockInitialAnimation: presenceContext\n                ? presenceContext.initial === false\n                : false,\n            reducedMotionConfig,\n        });\n    }\n    const visualElement = visualElementRef.current;\n    useInsertionEffect(() => {\n        visualElement && visualElement.update(props, presenceContext);\n    });\n    /**\n     * Cache this value as we want to know whether HandoffAppearAnimations\n     * was present on initial render - it will be deleted after this.\n     */\n    const wantsHandoff = useRef(Boolean(props[optimizedAppearDataAttribute] && !window.HandoffComplete));\n    useIsomorphicLayoutEffect(() => {\n        if (!visualElement)\n            return;\n        microtask.postRender(visualElement.render);\n        /**\n         * Ideally this function would always run in a useEffect.\n         *\n         * However, if we have optimised appear animations to handoff from,\n         * it needs to happen synchronously to ensure there's no flash of\n         * incorrect styles in the event of a hydration error.\n         *\n         * So if we detect a situtation where optimised appear animations\n         * are running, we use useLayoutEffect to trigger animations.\n         */\n        if (wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n    });\n    useEffect(() => {\n        if (!visualElement)\n            return;\n        visualElement.updateFeatures();\n        if (!wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n        if (wantsHandoff.current) {\n            wantsHandoff.current = false;\n            // This ensures all future calls to animateChanges() will run in useEffect\n            window.HandoffComplete = true;\n        }\n    });\n    return visualElement;\n}\n\nexport { useVisualElement };\n","import { useCallback } from 'react';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    return useCallback((instance) => {\n        instance && visualState.mount && visualState.mount(instance);\n        if (visualElement) {\n            instance\n                ? visualElement.mount(instance)\n                : visualElement.unmount();\n        }\n        if (externalRef) {\n            if (typeof externalRef === \"function\") {\n                externalRef(instance);\n            }\n            else if (isRefObject(externalRef)) {\n                externalRef.current = instance;\n            }\n        }\n    }, \n    /**\n     * Only pass a new ref callback to React if we've received a visual element\n     * factory. Otherwise we'll be mounting/remounting every time externalRef\n     * or other dependencies change.\n     */\n    [visualElement]);\n}\n\nexport { useMotionRef };\n","import { createMotionComponent } from '../../motion/index.mjs';\n\n/**\n * Convert any React component into a `motion` component. The provided component\n * **must** use `React.forwardRef` to the underlying DOM component you want to animate.\n *\n * ```jsx\n * const Component = React.forwardRef((props, ref) => {\n *   return <div ref={ref} />\n * })\n *\n * const MotionComponent = motion(Component)\n * ```\n *\n * @public\n */\nfunction createMotionProxy(createConfig) {\n    function custom(Component, customMotionComponentConfig = {}) {\n        return createMotionComponent(createConfig(Component, customMotionComponentConfig));\n    }\n    if (typeof Proxy === \"undefined\") {\n        return custom;\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    const componentCache = new Map();\n    return new Proxy(custom, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: (_target, key) => {\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, custom(key));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createMotionProxy };\n","/**\n * We keep these listed seperately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nconst lowercaseSVGElements = [\n    \"animate\",\n    \"circle\",\n    \"defs\",\n    \"desc\",\n    \"ellipse\",\n    \"g\",\n    \"image\",\n    \"line\",\n    \"filter\",\n    \"marker\",\n    \"mask\",\n    \"metadata\",\n    \"path\",\n    \"pattern\",\n    \"polygon\",\n    \"polyline\",\n    \"rect\",\n    \"stop\",\n    \"switch\",\n    \"symbol\",\n    \"svg\",\n    \"text\",\n    \"tspan\",\n    \"use\",\n    \"view\",\n];\n\nexport { lowercaseSVGElements };\n","import { lowercaseSVGElements } from '../../svg/lowercase-elements.mjs';\n\nfunction isSVGComponent(Component) {\n    if (\n    /**\n     * If it's not a string, it's a custom React component. Currently we only support\n     * HTML custom React components.\n     */\n    typeof Component !== \"string\" ||\n        /**\n         * If it contains a dash, the element is a custom HTML webcomponent.\n         */\n        Component.includes(\"-\")) {\n        return false;\n    }\n    else if (\n    /**\n     * If it's in our list of lowercase SVG tags, it's an SVG component\n     */\n    lowercaseSVGElements.indexOf(Component) > -1 ||\n        /**\n         * If it contains a capital letter, it's an SVG component\n         */\n        /[A-Z]/u.test(Component)) {\n        return true;\n    }\n    return false;\n}\n\nexport { isSVGComponent };\n","const scaleCorrectors = {};\nfunction addScaleCorrector(correctors) {\n    Object.assign(scaleCorrectors, correctors);\n}\n\nexport { addScaleCorrector, scaleCorrectors };\n","/**\n * Generate a list of every possible transform key.\n */\nconst transformPropOrder = [\n    \"transformPerspective\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"translateX\",\n    \"translateY\",\n    \"translateZ\",\n    \"scale\",\n    \"scaleX\",\n    \"scaleY\",\n    \"rotate\",\n    \"rotateX\",\n    \"rotateY\",\n    \"rotateZ\",\n    \"skew\",\n    \"skewX\",\n    \"skewY\",\n];\n/**\n * A quick lookup for transform props.\n */\nconst transformProps = new Set(transformPropOrder);\n\nexport { transformPropOrder, transformProps };\n","import { scaleCorrectors } from '../../projection/styles/scale-correction.mjs';\nimport { transformProps } from '../../render/html/utils/transform.mjs';\n\nfunction isForcedMotionValue(key, { layout, layoutId }) {\n    return (transformProps.has(key) ||\n        key.startsWith(\"origin\") ||\n        ((layout || layoutId !== undefined) &&\n            (!!scaleCorrectors[key] || key === \"opacity\")));\n}\n\nexport { isForcedMotionValue };\n","const isMotionValue = (value) => Boolean(value && value.getVelocity);\n\nexport { isMotionValue };\n","import { transformPropOrder } from './transform.mjs';\n\nconst translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n};\nconst numTransforms = transformPropOrder.length;\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(transform, { enableHardwareAcceleration = true, allowTransformNone = true, }, transformIsDefault, transformTemplate) {\n    // The transform string we're going to build into.\n    let transformString = \"\";\n    /**\n     * Loop over all possible transforms in order, adding the ones that\n     * are present to the transform string.\n     */\n    for (let i = 0; i < numTransforms; i++) {\n        const key = transformPropOrder[i];\n        if (transform[key] !== undefined) {\n            const transformName = translateAlias[key] || key;\n            transformString += `${transformName}(${transform[key]}) `;\n        }\n    }\n    if (enableHardwareAcceleration && !transform.z) {\n        transformString += \"translateZ(0)\";\n    }\n    transformString = transformString.trim();\n    // If we have a custom `transform` template, pass our transform values and\n    // generated transformString to that before returning\n    if (transformTemplate) {\n        transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n    }\n    else if (allowTransformNone && transformIsDefault) {\n        transformString = \"none\";\n    }\n    return transformString;\n}\n\nexport { buildTransform };\n","const checkStringStartsWith = (token) => (key) => typeof key === \"string\" && key.startsWith(token);\nconst isCSSVariableName = checkStringStartsWith(\"--\");\nconst startsAsVariableToken = checkStringStartsWith(\"var(--\");\nconst isCSSVariableToken = (value) => {\n    const startsWithToken = startsAsVariableToken(value);\n    if (!startsWithToken)\n        return false;\n    // Ensure any comments are stripped from the value as this can harm performance of the regex.\n    return singleCssVariableRegex.test(value.split(\"/*\")[0].trim());\n};\nconst singleCssVariableRegex = /var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$/iu;\n\nexport { isCSSVariableName, isCSSVariableToken };\n","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nconst getValueAsType = (value, type) => {\n    return type && typeof value === \"number\"\n        ? type.transform(value)\n        : value;\n};\n\nexport { getValueAsType };\n","const clamp = (min, max, v) => {\n    if (v > max)\n        return max;\n    if (v < min)\n        return min;\n    return v;\n};\n\nexport { clamp };\n","import { clamp } from '../../../utils/clamp.mjs';\n\nconst number = {\n    test: (v) => typeof v === \"number\",\n    parse: parseFloat,\n    transform: (v) => v,\n};\nconst alpha = {\n    ...number,\n    transform: (v) => clamp(0, 1, v),\n};\nconst scale = {\n    ...number,\n    default: 1,\n};\n\nexport { alpha, number, scale };\n","/**\n * TODO: When we move from string as a source of truth to data models\n * everything in this folder should probably be referred to as models vs types\n */\n// If this number is a decimal, make it just five decimal places\n// to avoid exponents\nconst sanitize = (v) => Math.round(v * 100000) / 100000;\nconst floatRegex = /-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/gu;\nconst colorRegex = /(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))/giu;\nconst singleColorRegex = /^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$/iu;\nfunction isString(v) {\n    return typeof v === \"string\";\n}\n\nexport { colorRegex, floatRegex, isString, sanitize, singleColorRegex };\n","import { isString } from '../utils.mjs';\n\nconst createUnitType = (unit) => ({\n    test: (v) => isString(v) && v.endsWith(unit) && v.split(\" \").length === 1,\n    parse: parseFloat,\n    transform: (v) => `${v}${unit}`,\n});\nconst degrees = createUnitType(\"deg\");\nconst percent = createUnitType(\"%\");\nconst px = createUnitType(\"px\");\nconst vh = createUnitType(\"vh\");\nconst vw = createUnitType(\"vw\");\nconst progressPercentage = {\n    ...percent,\n    parse: (v) => percent.parse(v) / 100,\n    transform: (v) => percent.transform(v * 100),\n};\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","import { number } from '../../../value/types/numbers/index.mjs';\n\nconst int = {\n    ...number,\n    transform: Math.round,\n};\n\nexport { int };\n","import { scale, alpha } from '../../../value/types/numbers/index.mjs';\nimport { px, degrees, progressPercentage } from '../../../value/types/numbers/units.mjs';\nimport { int } from './type-int.mjs';\n\nconst numberValueTypes = {\n    // Border props\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    // Positioning props\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    size: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    // Spacing props\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    // Transform props\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    transformPerspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n    // Misc\n    zIndex: int,\n    backgroundPositionX: px,\n    backgroundPositionY: px,\n    // SVG\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int,\n};\n\nexport { numberValueTypes };\n","import { buildTransform } from './build-transform.mjs';\nimport { isCSSVariableName } from '../../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './transform.mjs';\nimport { getValueAsType } from '../../dom/value-types/get-as-type.mjs';\nimport { numberValueTypes } from '../../dom/value-types/number.mjs';\n\nfunction buildHTMLStyles(state, latestValues, options, transformTemplate) {\n    const { style, vars, transform, transformOrigin } = state;\n    // Track whether we encounter any transform or transformOrigin values.\n    let hasTransform = false;\n    let hasTransformOrigin = false;\n    // Does the calculated transform essentially equal \"none\"?\n    let transformIsNone = true;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept seperately for further processing.\n     */\n    for (const key in latestValues) {\n        const value = latestValues[key];\n        /**\n         * If this is a CSS variable we don't do any further processing.\n         */\n        if (isCSSVariableName(key)) {\n            vars[key] = value;\n            continue;\n        }\n        // Convert the value to its default value type, ie 0 -> \"0px\"\n        const valueType = numberValueTypes[key];\n        const valueAsType = getValueAsType(value, valueType);\n        if (transformProps.has(key)) {\n            // If this is a transform, flag to enable further transform processing\n            hasTransform = true;\n            transform[key] = valueAsType;\n            // If we already know we have a non-default transform, early return\n            if (!transformIsNone)\n                continue;\n            // Otherwise check to see if this is a default transform\n            if (value !== (valueType.default || 0))\n                transformIsNone = false;\n        }\n        else if (key.startsWith(\"origin\")) {\n            // If this is a transform origin, flag and enable further transform-origin processing\n            hasTransformOrigin = true;\n            transformOrigin[key] = valueAsType;\n        }\n        else {\n            style[key] = valueAsType;\n        }\n    }\n    if (!latestValues.transform) {\n        if (hasTransform || transformTemplate) {\n            style.transform = buildTransform(state.transform, options, transformIsNone, transformTemplate);\n        }\n        else if (style.transform) {\n            /**\n             * If we have previously created a transform but currently don't have any,\n             * reset transform style to none.\n             */\n            style.transform = \"none\";\n        }\n    }\n    /**\n     * Build a transformOrigin style. Uses the same defaults as the browser for\n     * undefined origins.\n     */\n    if (hasTransformOrigin) {\n        const { originX = \"50%\", originY = \"50%\", originZ = 0, } = transformOrigin;\n        style.transformOrigin = `${originX} ${originY} ${originZ}`;\n    }\n}\n\nexport { buildHTMLStyles };\n","const createHtmlRenderState = () => ({\n    style: {},\n    transform: {},\n    transformOrigin: {},\n    vars: {},\n});\n\nexport { createHtmlRenderState };\n","import { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (const key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues({ transformTemplate }, visualState, isStatic) {\n    return useMemo(() => {\n        const state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, { enableHardwareAcceleration: !isStatic }, transformTemplate);\n        return Object.assign({}, state.vars, state.style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState, isStatic) {\n    const styleProp = props.style || {};\n    const style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState, isStatic));\n    return style;\n}\nfunction useHTMLProps(props, visualState, isStatic) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    const htmlProps = {};\n    const style = useStyle(props, visualState, isStatic);\n    if (props.drag && props.dragListener !== false) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect =\n            style.WebkitUserSelect =\n                style.WebkitTouchCallout =\n                    \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : `pan-${props.drag === \"x\" ? \"y\" : \"x\"}`;\n    }\n    if (props.tabIndex === undefined &&\n        (props.onTap || props.onTapStart || props.whileTap)) {\n        htmlProps.tabIndex = 0;\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps };\n","/**\n * A list of all valid MotionProps.\n *\n * @privateRemarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nconst validMotionProps = new Set([\n    \"animate\",\n    \"exit\",\n    \"variants\",\n    \"initial\",\n    \"style\",\n    \"values\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"custom\",\n    \"inherit\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"_dragX\",\n    \"_dragY\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"onViewportEnter\",\n    \"onViewportLeave\",\n    \"globalTapTarget\",\n    \"ignoreStrict\",\n    \"viewport\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return (key.startsWith(\"while\") ||\n        (key.startsWith(\"drag\") && key !== \"draggable\") ||\n        key.startsWith(\"layout\") ||\n        key.startsWith(\"onTap\") ||\n        key.startsWith(\"onPan\") ||\n        key.startsWith(\"onLayout\") ||\n        validMotionProps.has(key));\n}\n\nexport { isValidMotionProp };\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.mjs';\n\nlet shouldForward = (key) => !isValidMotionProp(key);\nfunction loadExternalIsValidProp(isValidProp) {\n    if (!isValidProp)\n        return;\n    // Explicitly filter our events\n    shouldForward = (key) => key.startsWith(\"on\") ? !isValidMotionProp(key) : isValidProp(key);\n}\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    /**\n     * We attempt to import this package but require won't be defined in esm environments, in that case\n     * isPropValid will have to be provided via `MotionContext`. In a 6.0.0 this should probably be removed\n     * in favour of explicit injection.\n     */\n    loadExternalIsValidProp(require(\"@emotion/is-prop-valid\").default);\n}\ncatch (_a) {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    const filteredProps = {};\n    for (const key in props) {\n        /**\n         * values is considered a valid prop by Emotion, so if it's present\n         * this will be rendered out to the DOM unless explicitly filtered.\n         *\n         * We check the type as it could be used with the `feColorMatrix`\n         * element, which we support.\n         */\n        if (key === \"values\" && typeof props.values === \"object\")\n            continue;\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key)) ||\n            // If trying to use native HTML drag events, forward drag listeners\n            (props[\"draggable\"] && key.startsWith(\"onDrag\"))) {\n            filteredProps[key] = props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps, loadExternalIsValidProp };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nfunction calcOrigin(origin, offset, size) {\n    return typeof origin === \"string\"\n        ? origin\n        : px.transform(offset + size * origin);\n}\n/**\n * The SVG transform origin defaults are different to CSS and is less intuitive,\n * so we use the measured dimensions of the SVG to reconcile these.\n */\nfunction calcSVGTransformOrigin(dimensions, originX, originY) {\n    const pxOriginX = calcOrigin(originX, dimensions.x, dimensions.width);\n    const pxOriginY = calcOrigin(originY, dimensions.y, dimensions.height);\n    return `${pxOriginX} ${pxOriginY}`;\n}\n\nexport { calcSVGTransformOrigin };\n","import { px } from '../../../value/types/numbers/units.mjs';\n\nconst dashKeys = {\n    offset: \"stroke-dashoffset\",\n    array: \"stroke-dasharray\",\n};\nconst camelKeys = {\n    offset: \"strokeDashoffset\",\n    array: \"strokeDasharray\",\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, length, spacing = 1, offset = 0, useDashCase = true) {\n    // Normalise path length by setting SVG attribute pathLength to 1\n    attrs.pathLength = 1;\n    // We use dash case when setting attributes directly to the DOM node and camel case\n    // when defining props on a React component.\n    const keys = useDashCase ? dashKeys : camelKeys;\n    // Build the dash offset\n    attrs[keys.offset] = px.transform(-offset);\n    // Build the dash array\n    const pathLength = px.transform(length);\n    const pathSpacing = px.transform(spacing);\n    attrs[keys.array] = `${pathLength} ${pathSpacing}`;\n}\n\nexport { buildSVGPath };\n","import { buildHTMLStyles } from '../../html/utils/build-styles.mjs';\nimport { calcSVGTransformOrigin } from './transform-origin.mjs';\nimport { buildSVGPath } from './path.mjs';\n\n/**\n * Build SVG visual attrbutes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, { attrX, attrY, attrScale, originX, originY, pathLength, pathSpacing = 1, pathOffset = 0, \n// This is object creation, which we try to avoid per-frame.\n...latest }, options, isSVGTag, transformTemplate) {\n    buildHTMLStyles(state, latest, options, transformTemplate);\n    /**\n     * For svg tags we just want to make sure viewBox is animatable and treat all the styles\n     * as normal HTML tags.\n     */\n    if (isSVGTag) {\n        if (state.style.viewBox) {\n            state.attrs.viewBox = state.style.viewBox;\n        }\n        return;\n    }\n    state.attrs = state.style;\n    state.style = {};\n    const { attrs, style, dimensions } = state;\n    /**\n     * However, we apply transforms as CSS transforms. So if we detect a transform we take it from attrs\n     * and copy it into style.\n     */\n    if (attrs.transform) {\n        if (dimensions)\n            style.transform = attrs.transform;\n        delete attrs.transform;\n    }\n    // Parse transformOrigin\n    if (dimensions &&\n        (originX !== undefined || originY !== undefined || style.transform)) {\n        style.transformOrigin = calcSVGTransformOrigin(dimensions, originX !== undefined ? originX : 0.5, originY !== undefined ? originY : 0.5);\n    }\n    // Render attrX/attrY/attrScale as attributes\n    if (attrX !== undefined)\n        attrs.x = attrX;\n    if (attrY !== undefined)\n        attrs.y = attrY;\n    if (attrScale !== undefined)\n        attrs.scale = attrScale;\n    // Build SVG path if one has been defined\n    if (pathLength !== undefined) {\n        buildSVGPath(attrs, pathLength, pathSpacing, pathOffset, false);\n    }\n}\n\nexport { buildSVGAttrs };\n","import { createHtmlRenderState } from '../../html/utils/create-render-state.mjs';\n\nconst createSvgRenderState = () => ({\n    ...createHtmlRenderState(),\n    attrs: {},\n});\n\nexport { createSvgRenderState };\n","const isSVGTag = (tag) => typeof tag === \"string\" && tag.toLowerCase() === \"svg\";\n\nexport { isSVGTag };\n","import { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nfunction useSVGProps(props, visualState, _isStatic, Component) {\n    const visualProps = useMemo(() => {\n        const state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, { enableHardwareAcceleration: false }, isSVGTag(Component), props.transformTemplate);\n        return {\n            ...state.attrs,\n            style: { ...state.style },\n        };\n    }, [visualState]);\n    if (props.style) {\n        const rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = { ...rawStyles, ...visualProps.style };\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n","import { Fragment, useMemo, createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.mjs';\nimport { filterProps } from './utils/filter-props.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\nimport { useSVGProps } from '../svg/use-props.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction createUseRender(forwardMotionProps = false) {\n    const useRender = (Component, props, ref, { latestValues }, isStatic) => {\n        const useVisualProps = isSVGComponent(Component)\n            ? useSVGProps\n            : useHTMLProps;\n        const visualProps = useVisualProps(props, latestValues, isStatic, Component);\n        const filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n        const elementProps = Component !== Fragment\n            ? { ...filteredProps, ...visualProps, ref }\n            : {};\n        /**\n         * If component has been handed a motion value as its child,\n         * memoise its initial value and render that. Subsequent updates\n         * will be handled by the onChange handler\n         */\n        const { children } = props;\n        const renderedChildren = useMemo(() => (isMotionValue(children) ? children.get() : children), [children]);\n        return createElement(Component, {\n            ...elementProps,\n            children: renderedChildren,\n        });\n    };\n    return useRender;\n}\n\nexport { createUseRender };\n","function renderHTML(element, { style, vars }, styleProp, projection) {\n    Object.assign(element.style, style, projection && projection.getProjectionStyles(styleProp));\n    // Loop over any CSS variables and assign those.\n    for (const key in vars) {\n        element.style.setProperty(key, vars[key]);\n    }\n}\n\nexport { renderHTML };\n","/**\n * A set of attribute names that are always read/written as camel case.\n */\nconst camelCaseAttributes = new Set([\n    \"baseFrequency\",\n    \"diffuseConstant\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerWidth\",\n    \"numOctaves\",\n    \"targetX\",\n    \"targetY\",\n    \"surfaceScale\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"stdDeviation\",\n    \"tableValues\",\n    \"viewBox\",\n    \"gradientTransform\",\n    \"pathLength\",\n    \"startOffset\",\n    \"textLength\",\n    \"lengthAdjust\",\n]);\n\nexport { camelCaseAttributes };\n","import { camelToDash } from '../../dom/utils/camel-to-dash.mjs';\nimport { renderHTML } from '../../html/utils/render.mjs';\nimport { camelCaseAttributes } from './camel-case-attrs.mjs';\n\nfunction renderSVG(element, renderState, _styleProp, projection) {\n    renderHTML(element, renderState, undefined, projection);\n    for (const key in renderState.attrs) {\n        element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n    }\n}\n\nexport { renderSVG };\n","import { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.mjs';\nimport { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps) {\n    const { style } = props;\n    const newValues = {};\n    for (const key in style) {\n        if (isMotionValue(style[key]) ||\n            (prevProps.style && isMotionValue(prevProps.style[key])) ||\n            isForcedMotionValue(key, props)) {\n            newValues[key] = style[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","import { isMotionValue } from '../../../value/utils/is-motion-value.mjs';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.mjs';\nimport { transformPropOrder } from '../../html/utils/transform.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps) {\n    const newValues = scrapeMotionValuesFromProps$1(props, prevProps);\n    for (const key in props) {\n        if (isMotionValue(props[key]) || isMotionValue(prevProps[key])) {\n            const targetKey = transformPropOrder.indexOf(key) !== -1\n                ? \"attr\" + key.charAt(0).toUpperCase() + key.substring(1)\n                : key;\n            newValues[targetKey] = props[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n","function resolveVariantFromProps(props, definition, custom, currentValues = {}, currentVelocity = {}) {\n    /**\n     * If the variant definition is a function, resolve.\n     */\n    if (typeof definition === \"function\") {\n        definition = definition(custom !== undefined ? custom : props.custom, currentValues, currentVelocity);\n    }\n    /**\n     * If the variant definition is a variant label, or\n     * the function returned a variant label, resolve.\n     */\n    if (typeof definition === \"string\") {\n        definition = props.variants && props.variants[definition];\n    }\n    /**\n     * At this point we've resolved both functions and variant labels,\n     * but the resolved variant label might itself have been a function.\n     * If so, resolve. This can only have returned a valid target object.\n     */\n    if (typeof definition === \"function\") {\n        definition = definition(custom !== undefined ? custom : props.custom, currentValues, currentVelocity);\n    }\n    return definition;\n}\n\nexport { resolveVariantFromProps };\n","import { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n","const isKeyframesTarget = (v) => {\n    return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };\n","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.mjs';\n\nconst isCustomValue = (v) => {\n    return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\nconst resolveFinalValueInKeyframes = (v) => {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\n\nexport { isCustomValue, resolveFinalValueInKeyframes };\n","import { isCustomValue } from '../../utils/resolve-value.mjs';\nimport { isMotionValue } from './is-motion-value.mjs';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n */\nfunction resolveMotionValue(value) {\n    const unwrappedValue = isMotionValue(value) ? value.get() : value;\n    return isCustomValue(unwrappedValue)\n        ? unwrappedValue.toValue()\n        : unwrappedValue;\n}\n\nexport { resolveMotionValue };\n","import { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { resolveVariantFromProps } from '../../render/utils/resolve-variants.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { isControllingVariants, isVariantNode } from '../../render/utils/is-controlling-variants.mjs';\n\nfunction makeState({ scrapeMotionValuesFromProps, createRenderState, onMount, }, props, context, presenceContext) {\n    const state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    if (onMount) {\n        state.mount = (instance) => onMount(props, instance, state);\n    }\n    return state;\n}\nconst makeUseVisualState = (config) => (props, isStatic) => {\n    const context = useContext(MotionContext);\n    const presenceContext = useContext(PresenceContext);\n    const make = () => makeState(config, props, context, presenceContext);\n    return isStatic ? make() : useConstant(make);\n};\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    const values = {};\n    const motionValues = scrapeMotionValues(props, {});\n    for (const key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    let { initial, animate } = props;\n    const isControllingVariants$1 = isControllingVariants(props);\n    const isVariantNode$1 = isVariantNode(props);\n    if (context &&\n        isVariantNode$1 &&\n        !isControllingVariants$1 &&\n        props.inherit !== false) {\n        if (initial === undefined)\n            initial = context.initial;\n        if (animate === undefined)\n            animate = context.animate;\n    }\n    let isInitialAnimationBlocked = presenceContext\n        ? presenceContext.initial === false\n        : false;\n    isInitialAnimationBlocked = isInitialAnimationBlocked || initial === false;\n    const variantToSet = isInitialAnimationBlocked ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        const list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        list.forEach((definition) => {\n            const resolved = resolveVariantFromProps(props, definition);\n            if (!resolved)\n                return;\n            const { transitionEnd, transition, ...target } = resolved;\n            for (const key in target) {\n                let valueTarget = target[key];\n                if (Array.isArray(valueTarget)) {\n                    /**\n                     * Take final keyframe if the initial animation is blocked because\n                     * we want to initialise at the end of that blocked animation.\n                     */\n                    const index = isInitialAnimationBlocked\n                        ? valueTarget.length - 1\n                        : 0;\n                    valueTarget = valueTarget[index];\n                }\n                if (valueTarget !== null) {\n                    values[key] = valueTarget;\n                }\n            }\n            for (const key in transitionEnd)\n                values[key] = transitionEnd[key];\n        });\n    }\n    return values;\n}\n\nexport { makeUseVisualState };\n","const noop = (any) => any;\n\nexport { noop };\n","import { noop } from '../utils/noop.mjs';\nimport { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: frame, cancel: cancelFrame, state: frameData, steps, } = createRenderBatcher(typeof requestAnimationFrame !== \"undefined\" ? requestAnimationFrame : noop, true);\n\nexport { cancelFrame, frame, frameData, steps };\n","import { renderSVG } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst svgMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n        createRenderState: createSvgRenderState,\n        onMount: (props, instance, { renderState, latestValues }) => {\n            frame.read(() => {\n                try {\n                    renderState.dimensions =\n                        typeof instance.getBBox ===\n                            \"function\"\n                            ? instance.getBBox()\n                            : instance.getBoundingClientRect();\n                }\n                catch (e) {\n                    // Most likely trying to measure an unrendered element under Firefox\n                    renderState.dimensions = {\n                        x: 0,\n                        y: 0,\n                        width: 0,\n                        height: 0,\n                    };\n                }\n            });\n            frame.render(() => {\n                buildSVGAttrs(renderState, latestValues, { enableHardwareAcceleration: false }, isSVGTag(instance.tagName), props.transformTemplate);\n                renderSVG(instance, renderState);\n            });\n        },\n    }),\n};\n\nexport { svgMotionConfig };\n","import { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nconst htmlMotionConfig = {\n    useVisualState: makeUseVisualState({\n        scrapeMotionValuesFromProps,\n        createRenderState: createHtmlRenderState,\n    }),\n};\n\nexport { htmlMotionConfig };\n","function addDomEvent(target, eventName, handler, options = { passive: true }) {\n    target.addEventListener(eventName, handler, options);\n    return () => target.removeEventListener(eventName, handler);\n}\n\nexport { addDomEvent };\n","const isPrimaryPointer = (event) => {\n    if (event.pointerType === \"mouse\") {\n        return typeof event.button !== \"number\" || event.button <= 0;\n    }\n    else {\n        /**\n         * isPrimary is true for all mice buttons, whereas every touch point\n         * is regarded as its own input. So subsequent concurrent touch points\n         * will be false.\n         *\n         * Specifically match against false here as incomplete versions of\n         * PointerEvents in very old browser might have it set as undefined.\n         */\n        return event.isPrimary !== false;\n    }\n};\n\nexport { isPrimaryPointer };\n","import { isPrimaryPointer } from './utils/is-primary-pointer.mjs';\n\nfunction extractEventInfo(event, pointType = \"page\") {\n    return {\n        point: {\n            x: event[pointType + \"X\"],\n            y: event[pointType + \"Y\"],\n        },\n    };\n}\nconst addPointerInfo = (handler) => {\n    return (event) => isPrimaryPointer(event) && handler(event, extractEventInfo(event));\n};\n\nexport { addPointerInfo, extractEventInfo };\n","import { addDomEvent } from './add-dom-event.mjs';\nimport { addPointerInfo } from './event-info.mjs';\n\nfunction addPointerEvent(target, eventName, handler, options) {\n    return addDomEvent(target, eventName, addPointerInfo(handler), options);\n}\n\nexport { addPointerEvent };\n","/**\n * Pipe\n * Compose other transformers to run linearily\n * pipe(min(20), max(40))\n * @param  {...functions} transformers\n * @return {function}\n */\nconst combineFunctions = (a, b) => (v) => b(a(v));\nconst pipe = (...transformers) => transformers.reduce(combineFunctions);\n\nexport { pipe };\n","function createLock(name) {\n    let lock = null;\n    return () => {\n        const openLock = () => {\n            lock = null;\n        };\n        if (lock === null) {\n            lock = name;\n            return openLock;\n        }\n        return false;\n    };\n}\nconst globalHorizontalLock = createLock(\"dragHorizontal\");\nconst globalVerticalLock = createLock(\"dragVertical\");\nfunction getGlobalLock(drag) {\n    let lock = false;\n    if (drag === \"y\") {\n        lock = globalVerticalLock();\n    }\n    else if (drag === \"x\") {\n        lock = globalHorizontalLock();\n    }\n    else {\n        const openHorizontal = globalHorizontalLock();\n        const openVertical = globalVerticalLock();\n        if (openHorizontal && openVertical) {\n            lock = () => {\n                openHorizontal();\n                openVertical();\n            };\n        }\n        else {\n            // Release the locks because we don't use them\n            if (openHorizontal)\n                openHorizontal();\n            if (openVertical)\n                openVertical();\n        }\n    }\n    return lock;\n}\nfunction isDragActive() {\n    // Check the gesture lock - if we get it, it means no drag gesture is active\n    // and we can safely fire the tap gesture.\n    const openGestureLock = getGlobalLock(true);\n    if (!openGestureLock)\n        return true;\n    openGestureLock();\n    return false;\n}\n\nexport { createLock, getGlobalLock, isDragActive };\n","class Feature {\n    constructor(node) {\n        this.isMounted = false;\n        this.node = node;\n    }\n    update() { }\n}\n\nexport { Feature };\n","import { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\n\nfunction addHoverEvent(node, isActive) {\n    const eventName = \"pointer\" + (isActive ? \"enter\" : \"leave\");\n    const callbackName = \"onHover\" + (isActive ? \"Start\" : \"End\");\n    const handleEvent = (event, info) => {\n        if (event.pointerType === \"touch\" || isDragActive())\n            return;\n        const props = node.getProps();\n        if (node.animationState && props.whileHover) {\n            node.animationState.setActive(\"whileHover\", isActive);\n        }\n        if (props[callbackName]) {\n            props[callbackName](event, info);\n        }\n    };\n    return addPointerEvent(node.current, eventName, handleEvent, {\n        passive: !node.getProps()[callbackName],\n    });\n}\nclass HoverGesture extends Feature {\n    mount() {\n        this.unmount = pipe(addHoverEvent(this.node, true), addHoverEvent(this.node, false));\n    }\n    unmount() { }\n}\n\nexport { HoverGesture };\n","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nconst isNodeOrChild = (parent, child) => {\n    if (!child) {\n        return false;\n    }\n    else if (parent === child) {\n        return true;\n    }\n    else {\n        return isNodeOrChild(parent, child.parentElement);\n    }\n};\n\nexport { isNodeOrChild };\n","import { extractEventInfo } from '../events/event-info.mjs';\nimport { addDomEvent } from '../events/add-dom-event.mjs';\nimport { addPointerEvent } from '../events/add-pointer-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\nimport { isDragActive } from './drag/utils/lock.mjs';\nimport { isNodeOrChild } from './utils/is-node-or-child.mjs';\nimport { noop } from '../utils/noop.mjs';\n\nfunction fireSyntheticPointerEvent(name, handler) {\n    if (!handler)\n        return;\n    const syntheticPointerEvent = new PointerEvent(\"pointer\" + name);\n    handler(syntheticPointerEvent, extractEventInfo(syntheticPointerEvent));\n}\nclass PressGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removeStartListeners = noop;\n        this.removeEndListeners = noop;\n        this.removeAccessibleListeners = noop;\n        this.startPointerPress = (startEvent, startInfo) => {\n            if (this.isPressing)\n                return;\n            this.removeEndListeners();\n            const props = this.node.getProps();\n            const endPointerPress = (endEvent, endInfo) => {\n                if (!this.checkPressEnd())\n                    return;\n                const { onTap, onTapCancel, globalTapTarget } = this.node.getProps();\n                /**\n                 * We only count this as a tap gesture if the event.target is the same\n                 * as, or a child of, this component's element\n                 */\n                !globalTapTarget &&\n                    !isNodeOrChild(this.node.current, endEvent.target)\n                    ? onTapCancel && onTapCancel(endEvent, endInfo)\n                    : onTap && onTap(endEvent, endInfo);\n            };\n            const removePointerUpListener = addPointerEvent(window, \"pointerup\", endPointerPress, { passive: !(props.onTap || props[\"onPointerUp\"]) });\n            const removePointerCancelListener = addPointerEvent(window, \"pointercancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo), { passive: !(props.onTapCancel || props[\"onPointerCancel\"]) });\n            this.removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener);\n            this.startPress(startEvent, startInfo);\n        };\n        this.startAccessiblePress = () => {\n            const handleKeydown = (keydownEvent) => {\n                if (keydownEvent.key !== \"Enter\" || this.isPressing)\n                    return;\n                const handleKeyup = (keyupEvent) => {\n                    if (keyupEvent.key !== \"Enter\" || !this.checkPressEnd())\n                        return;\n                    fireSyntheticPointerEvent(\"up\", (event, info) => {\n                        const { onTap } = this.node.getProps();\n                        if (onTap)\n                            onTap(event, info);\n                    });\n                };\n                this.removeEndListeners();\n                this.removeEndListeners = addDomEvent(this.node.current, \"keyup\", handleKeyup);\n                fireSyntheticPointerEvent(\"down\", (event, info) => {\n                    this.startPress(event, info);\n                });\n            };\n            const removeKeydownListener = addDomEvent(this.node.current, \"keydown\", handleKeydown);\n            const handleBlur = () => {\n                if (!this.isPressing)\n                    return;\n                fireSyntheticPointerEvent(\"cancel\", (cancelEvent, cancelInfo) => this.cancelPress(cancelEvent, cancelInfo));\n            };\n            const removeBlurListener = addDomEvent(this.node.current, \"blur\", handleBlur);\n            this.removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener);\n        };\n    }\n    startPress(event, info) {\n        this.isPressing = true;\n        const { onTapStart, whileTap } = this.node.getProps();\n        /**\n         * Ensure we trigger animations before firing event callback\n         */\n        if (whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", true);\n        }\n        if (onTapStart) {\n            onTapStart(event, info);\n        }\n    }\n    checkPressEnd() {\n        this.removeEndListeners();\n        this.isPressing = false;\n        const props = this.node.getProps();\n        if (props.whileTap && this.node.animationState) {\n            this.node.animationState.setActive(\"whileTap\", false);\n        }\n        return !isDragActive();\n    }\n    cancelPress(event, info) {\n        if (!this.checkPressEnd())\n            return;\n        const { onTapCancel } = this.node.getProps();\n        if (onTapCancel)\n            onTapCancel(event, info);\n    }\n    mount() {\n        const props = this.node.getProps();\n        const removePointerListener = addPointerEvent(props.globalTapTarget ? window : this.node.current, \"pointerdown\", this.startPointerPress, { passive: !(props.onTapStart || props[\"onPointerStart\"]) });\n        const removeFocusListener = addDomEvent(this.node.current, \"focus\", this.startAccessiblePress);\n        this.removeStartListeners = pipe(removePointerListener, removeFocusListener);\n    }\n    unmount() {\n        this.removeStartListeners();\n        this.removeEndListeners();\n        this.removeAccessibleListeners();\n    }\n}\n\nexport { PressGesture };\n","/**\n * Map an IntersectionHandler callback to an element. We only ever make one handler for one\n * element, so even though these handlers might all be triggered by different\n * observers, we can keep them in the same map.\n */\nconst observerCallbacks = new WeakMap();\n/**\n * Multiple observers can be created for multiple element/document roots. Each with\n * different settings. So here we store dictionaries of observers to each root,\n * using serialised settings (threshold/margin) as lookup keys.\n */\nconst observers = new WeakMap();\nconst fireObserverCallback = (entry) => {\n    const callback = observerCallbacks.get(entry.target);\n    callback && callback(entry);\n};\nconst fireAllObserverCallbacks = (entries) => {\n    entries.forEach(fireObserverCallback);\n};\nfunction initIntersectionObserver({ root, ...options }) {\n    const lookupRoot = root || document;\n    /**\n     * If we don't have an observer lookup map for this root, create one.\n     */\n    if (!observers.has(lookupRoot)) {\n        observers.set(lookupRoot, {});\n    }\n    const rootObservers = observers.get(lookupRoot);\n    const key = JSON.stringify(options);\n    /**\n     * If we don't have an observer for this combination of root and settings,\n     * create one.\n     */\n    if (!rootObservers[key]) {\n        rootObservers[key] = new IntersectionObserver(fireAllObserverCallbacks, { root, ...options });\n    }\n    return rootObservers[key];\n}\nfunction observeIntersection(element, options, callback) {\n    const rootInteresectionObserver = initIntersectionObserver(options);\n    observerCallbacks.set(element, callback);\n    rootInteresectionObserver.observe(element);\n    return () => {\n        observerCallbacks.delete(element);\n        rootInteresectionObserver.unobserve(element);\n    };\n}\n\nexport { observeIntersection };\n","import { Feature } from '../Feature.mjs';\nimport { observeIntersection } from './observers.mjs';\n\nconst thresholdNames = {\n    some: 0,\n    all: 1,\n};\nclass InViewFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.hasEnteredView = false;\n        this.isInView = false;\n    }\n    startObserver() {\n        this.unmount();\n        const { viewport = {} } = this.node.getProps();\n        const { root, margin: rootMargin, amount = \"some\", once } = viewport;\n        const options = {\n            root: root ? root.current : undefined,\n            rootMargin,\n            threshold: typeof amount === \"number\" ? amount : thresholdNames[amount],\n        };\n        const onIntersectionUpdate = (entry) => {\n            const { isIntersecting } = entry;\n            /**\n             * If there's been no change in the viewport state, early return.\n             */\n            if (this.isInView === isIntersecting)\n                return;\n            this.isInView = isIntersecting;\n            /**\n             * Handle hasEnteredView. If this is only meant to run once, and\n             * element isn't visible, early return. Otherwise set hasEnteredView to true.\n             */\n            if (once && !isIntersecting && this.hasEnteredView) {\n                return;\n            }\n            else if (isIntersecting) {\n                this.hasEnteredView = true;\n            }\n            if (this.node.animationState) {\n                this.node.animationState.setActive(\"whileInView\", isIntersecting);\n            }\n            /**\n             * Use the latest committed props rather than the ones in scope\n             * when this observer is created\n             */\n            const { onViewportEnter, onViewportLeave } = this.node.getProps();\n            const callback = isIntersecting ? onViewportEnter : onViewportLeave;\n            callback && callback(entry);\n        };\n        return observeIntersection(this.node.current, options, onIntersectionUpdate);\n    }\n    mount() {\n        this.startObserver();\n    }\n    update() {\n        if (typeof IntersectionObserver === \"undefined\")\n            return;\n        const { props, prevProps } = this.node;\n        const hasOptionsChanged = [\"amount\", \"margin\", \"root\"].some(hasViewportOptionChanged(props, prevProps));\n        if (hasOptionsChanged) {\n            this.startObserver();\n        }\n    }\n    unmount() { }\n}\nfunction hasViewportOptionChanged({ viewport = {} }, { viewport: prevViewport = {} } = {}) {\n    return (name) => viewport[name] !== prevViewport[name];\n}\n\nexport { InViewFeature };\n","import { HoverGesture } from '../../gestures/hover.mjs';\nimport { FocusGesture } from '../../gestures/focus.mjs';\nimport { PressGesture } from '../../gestures/press.mjs';\nimport { InViewFeature } from './viewport/index.mjs';\n\nconst gestureAnimations = {\n    inView: {\n        Feature: InViewFeature,\n    },\n    tap: {\n        Feature: PressGesture,\n    },\n    focus: {\n        Feature: FocusGesture,\n    },\n    hover: {\n        Feature: HoverGesture,\n    },\n};\n\nexport { gestureAnimations };\n","import { addDomEvent } from '../events/add-dom-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\nimport { pipe } from '../utils/pipe.mjs';\n\nclass FocusGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.isActive = false;\n    }\n    onFocus() {\n        let isFocusVisible = false;\n        /**\n         * If this element doesn't match focus-visible then don't\n         * apply whileHover. But, if matches throws that focus-visible\n         * is not a valid selector then in that browser outline styles will be applied\n         * to the element by default and we want to match that behaviour with whileFocus.\n         */\n        try {\n            isFocusVisible = this.node.current.matches(\":focus-visible\");\n        }\n        catch (e) {\n            isFocusVisible = true;\n        }\n        if (!isFocusVisible || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", true);\n        this.isActive = true;\n    }\n    onBlur() {\n        if (!this.isActive || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", false);\n        this.isActive = false;\n    }\n    mount() {\n        this.unmount = pipe(addDomEvent(this.node.current, \"focus\", () => this.onFocus()), addDomEvent(this.node.current, \"blur\", () => this.onBlur()));\n    }\n    unmount() { }\n}\n\nexport { FocusGesture };\n","function shallowCompare(next, prev) {\n    if (!Array.isArray(prev))\n        return false;\n    const prevLength = prev.length;\n    if (prevLength !== next.length)\n        return false;\n    for (let i = 0; i < prevLength; i++) {\n        if (prev[i] !== next[i])\n            return false;\n    }\n    return true;\n}\n\nexport { shallowCompare };\n","import { resolveVariantFromProps } from './resolve-variants.mjs';\n\n/**\n * Creates an object containing the latest state of every MotionValue on a VisualElement\n */\nfunction getCurrent(visualElement) {\n    const current = {};\n    visualElement.values.forEach((value, key) => (current[key] = value.get()));\n    return current;\n}\n/**\n * Creates an object containing the latest velocity of every MotionValue on a VisualElement\n */\nfunction getVelocity(visualElement) {\n    const velocity = {};\n    visualElement.values.forEach((value, key) => (velocity[key] = value.getVelocity()));\n    return velocity;\n}\nfunction resolveVariant(visualElement, definition, custom) {\n    const props = visualElement.getProps();\n    return resolveVariantFromProps(props, definition, custom !== undefined ? custom : props.custom, getCurrent(visualElement), getVelocity(visualElement));\n}\n\nexport { resolveVariant };\n","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nconst secondsToMilliseconds = (seconds) => seconds * 1000;\nconst millisecondsToSeconds = (milliseconds) => milliseconds / 1000;\n\nexport { millisecondsToSeconds, secondsToMilliseconds };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\n\nconst underDampedSpring = {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restSpeed: 10,\n};\nconst criticallyDampedSpring = (target) => ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: target === 0 ? 2 * Math.sqrt(550) : 30,\n    restSpeed: 10,\n});\nconst keyframesTransition = {\n    type: \"keyframes\",\n    duration: 0.8,\n};\n/**\n * Default easing curve is a slightly shallower version of\n * the default browser easing curve.\n */\nconst ease = {\n    type: \"keyframes\",\n    ease: [0.25, 0.1, 0.35, 1],\n    duration: 0.3,\n};\nconst getDefaultTransition = (valueKey, { keyframes }) => {\n    if (keyframes.length > 2) {\n        return keyframesTransition;\n    }\n    else if (transformProps.has(valueKey)) {\n        return valueKey.startsWith(\"scale\")\n            ? criticallyDampedSpring(keyframes[1])\n            : underDampedSpring;\n    }\n    return ease;\n};\n\nexport { getDefaultTransition };\n","/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined({ when, delay: _delay, delayChildren, staggerChildren, staggerDirection, repeat, repeatType, repeatDelay, from, elapsed, ...transition }) {\n    return !!Object.keys(transition).length;\n}\nfunction getValueTransition(transition, key) {\n    return transition[key] || transition[\"default\"] || transition;\n}\n\nexport { getValueTransition, isTransitionDefined };\n","const instantAnimationState = {\n    current: false,\n};\n\nexport { instantAnimationState };\n","const isNotNull = (value) => value !== null;\nfunction getFinalKeyframe(keyframes, { repeat, repeatType = \"loop\" }, finalKeyframe) {\n    const resolvedKeyframes = keyframes.filter(isNotNull);\n    const index = repeat && repeatType !== \"loop\" && repeat % 2 === 1\n        ? 0\n        : resolvedKeyframes.length - 1;\n    return !index || finalKeyframe === undefined\n        ? resolvedKeyframes[index]\n        : finalKeyframe;\n}\n\nexport { getFinalKeyframe };\n","import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { frameData } from './frame.mjs';\n\nlet now;\nfunction clearTime() {\n    now = undefined;\n}\n/**\n * An eventloop-synchronous alternative to performance.now().\n *\n * Ensures that time measurements remain consistent within a synchronous context.\n * Usually calling performance.now() twice within the same synchronous context\n * will return different values which isn't useful for animations when we're usually\n * trying to sync animations to the same frame.\n */\nconst time = {\n    now: () => {\n        if (now === undefined) {\n            time.set(frameData.isProcessing || MotionGlobalConfig.useManualTiming\n                ? frameData.timestamp\n                : performance.now());\n        }\n        return now;\n    },\n    set: (newTime) => {\n        now = newTime;\n        queueMicrotask(clearTime);\n    },\n};\n\nexport { time };\n","/**\n * Check if the value is a zero value string like \"0px\" or \"0%\"\n */\nconst isZeroValueString = (v) => /^0[^.\\s]+$/u.test(v);\n\nexport { isZeroValueString };\n","import { noop } from './noop.mjs';\n\nlet warning = noop;\nlet invariant = noop;\nif (process.env.NODE_ENV !== \"production\") {\n    warning = (check, message) => {\n        if (!check && typeof console !== \"undefined\") {\n            console.warn(message);\n        }\n    };\n    invariant = (check, message) => {\n        if (!check) {\n            throw new Error(message);\n        }\n    };\n}\n\nexport { invariant, warning };\n","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nconst isNumericalString = (v) => /^-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)$/u.test(v);\n\nexport { isNumericalString };\n","import { invariant } from '../../../utils/errors.mjs';\nimport { isNumericalString } from '../../../utils/is-numerical-string.mjs';\nimport { isCSSVariableToken } from './is-css-variable.mjs';\n\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nconst splitCSSVariableRegex = \n// eslint-disable-next-line redos-detector/no-unsafe-regex -- false positive, as it can match a lot of words\n/^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)/u;\nfunction parseCSSVariable(current) {\n    const match = splitCSSVariableRegex.exec(current);\n    if (!match)\n        return [,];\n    const [, token1, token2, fallback] = match;\n    return [`--${token1 !== null && token1 !== void 0 ? token1 : token2}`, fallback];\n}\nconst maxDepth = 4;\nfunction getVariableValue(current, element, depth = 1) {\n    invariant(depth <= maxDepth, `Max CSS variable fallback depth detected in property \"${current}\". This may indicate a circular fallback dependency.`);\n    const [token, fallback] = parseCSSVariable(current);\n    // No CSS variable detected\n    if (!token)\n        return;\n    // Attempt to read this CSS variable off the element\n    const resolved = window.getComputedStyle(element).getPropertyValue(token);\n    if (resolved) {\n        const trimmed = resolved.trim();\n        return isNumericalString(trimmed) ? parseFloat(trimmed) : trimmed;\n    }\n    return isCSSVariableToken(fallback)\n        ? getVariableValue(fallback, element, depth + 1)\n        : fallback;\n}\n\nexport { getVariableValue, parseCSSVariable };\n","import { transformPropOrder } from '../../html/utils/transform.mjs';\nimport { number } from '../../../value/types/numbers/index.mjs';\nimport { px } from '../../../value/types/numbers/units.mjs';\n\nconst positionalKeys = new Set([\n    \"width\",\n    \"height\",\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    \"x\",\n    \"y\",\n    \"translateX\",\n    \"translateY\",\n]);\nconst isNumOrPxType = (v) => v === number || v === px;\nconst getPosFromMatrix = (matrix, pos) => parseFloat(matrix.split(\", \")[pos]);\nconst getTranslateFromMatrix = (pos2, pos3) => (_bbox, { transform }) => {\n    if (transform === \"none\" || !transform)\n        return 0;\n    const matrix3d = transform.match(/^matrix3d\\((.+)\\)$/u);\n    if (matrix3d) {\n        return getPosFromMatrix(matrix3d[1], pos3);\n    }\n    else {\n        const matrix = transform.match(/^matrix\\((.+)\\)$/u);\n        if (matrix) {\n            return getPosFromMatrix(matrix[1], pos2);\n        }\n        else {\n            return 0;\n        }\n    }\n};\nconst transformKeys = new Set([\"x\", \"y\", \"z\"]);\nconst nonTranslationalTransformKeys = transformPropOrder.filter((key) => !transformKeys.has(key));\nfunction removeNonTranslationalTransform(visualElement) {\n    const removedTransforms = [];\n    nonTranslationalTransformKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()]);\n            value.set(key.startsWith(\"scale\") ? 1 : 0);\n        }\n    });\n    return removedTransforms;\n}\nconst positionalValues = {\n    // Dimensions\n    width: ({ x }, { paddingLeft = \"0\", paddingRight = \"0\" }) => x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight),\n    height: ({ y }, { paddingTop = \"0\", paddingBottom = \"0\" }) => y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom),\n    top: (_bbox, { top }) => parseFloat(top),\n    left: (_bbox, { left }) => parseFloat(left),\n    bottom: ({ y }, { top }) => parseFloat(top) + (y.max - y.min),\n    right: ({ x }, { left }) => parseFloat(left) + (x.max - x.min),\n    // Transform\n    x: getTranslateFromMatrix(4, 13),\n    y: getTranslateFromMatrix(5, 14),\n};\n// Alias translate longform names\npositionalValues.translateX = positionalValues.x;\npositionalValues.translateY = positionalValues.y;\n\nexport { isNumOrPxType, positionalKeys, positionalValues, removeNonTranslationalTransform };\n","/**\n * Tests a provided value against a ValueType\n */\nconst testValueType = (v) => (type) => type.test(v);\n\nexport { testValueType };\n","import { number } from '../../../value/types/numbers/index.mjs';\nimport { px, percent, degrees, vw, vh } from '../../../value/types/numbers/units.mjs';\nimport { testValueType } from './test.mjs';\nimport { auto } from './type-auto.mjs';\n\n/**\n * A list of value types commonly used for dimensions\n */\nconst dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nconst findDimensionValueType = (v) => dimensionValueTypes.find(testValueType(v));\n\nexport { dimensionValueTypes, findDimensionValueType };\n","/**\n * ValueType for \"auto\"\n */\nconst auto = {\n    test: (v) => v === \"auto\",\n    parse: (v) => v,\n};\n\nexport { auto };\n","import { removeNonTranslationalTransform } from '../dom/utils/unit-conversion.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst toResolve = new Set();\nlet isScheduled = false;\nlet anyNeedsMeasurement = false;\nfunction measureAllKeyframes() {\n    if (anyNeedsMeasurement) {\n        const resolversToMeasure = Array.from(toResolve).filter((resolver) => resolver.needsMeasurement);\n        const elementsToMeasure = new Set(resolversToMeasure.map((resolver) => resolver.element));\n        const transformsToRestore = new Map();\n        /**\n         * Write pass\n         * If we're measuring elements we want to remove bounding box-changing transforms.\n         */\n        elementsToMeasure.forEach((element) => {\n            const removedTransforms = removeNonTranslationalTransform(element);\n            if (!removedTransforms.length)\n                return;\n            transformsToRestore.set(element, removeNonTranslationalTransform(element));\n            element.render();\n        });\n        // Read\n        resolversToMeasure.forEach((resolver) => resolver.measureInitialState());\n        // Write\n        elementsToMeasure.forEach((element) => {\n            element.render();\n        });\n        // Read\n        resolversToMeasure.forEach((resolver) => resolver.measureEndState());\n        // Write\n        resolversToMeasure.forEach((resolver) => {\n            if (resolver.suspendedScrollY !== undefined) {\n                window.scrollTo(0, resolver.suspendedScrollY);\n            }\n        });\n    }\n    anyNeedsMeasurement = false;\n    isScheduled = false;\n    toResolve.forEach((resolver) => resolver.complete());\n    toResolve.clear();\n}\nfunction readAllKeyframes() {\n    toResolve.forEach((resolver) => {\n        resolver.readKeyframes();\n        if (resolver.needsMeasurement) {\n            anyNeedsMeasurement = true;\n        }\n    });\n}\nfunction flushKeyframeResolvers() {\n    readAllKeyframes();\n    measureAllKeyframes();\n}\nclass KeyframeResolver {\n    constructor(unresolvedKeyframes, onComplete, name, motionValue, element, isAsync = false) {\n        /**\n         * Track whether this resolver has completed. Once complete, it never\n         * needs to attempt keyframe resolution again.\n         */\n        this.isComplete = false;\n        /**\n         * Track whether this resolver is async. If it is, it'll be added to the\n         * resolver queue and flushed in the next frame. Resolvers that aren't going\n         * to trigger read/write thrashing don't need to be async.\n         */\n        this.isAsync = false;\n        /**\n         * Track whether this resolver needs to perform a measurement\n         * to resolve its keyframes.\n         */\n        this.needsMeasurement = false;\n        /**\n         * Track whether this resolver is currently scheduled to resolve\n         * to allow it to be cancelled and resumed externally.\n         */\n        this.isScheduled = false;\n        this.unresolvedKeyframes = [...unresolvedKeyframes];\n        this.onComplete = onComplete;\n        this.name = name;\n        this.motionValue = motionValue;\n        this.element = element;\n        this.isAsync = isAsync;\n    }\n    scheduleResolve() {\n        this.isScheduled = true;\n        if (this.isAsync) {\n            toResolve.add(this);\n            if (!isScheduled) {\n                isScheduled = true;\n                frame.read(readAllKeyframes);\n                frame.resolveKeyframes(measureAllKeyframes);\n            }\n        }\n        else {\n            this.readKeyframes();\n            this.complete();\n        }\n    }\n    readKeyframes() {\n        const { unresolvedKeyframes, name, element, motionValue } = this;\n        /**\n         * If a keyframe is null, we hydrate it either by reading it from\n         * the instance, or propagating from previous keyframes.\n         */\n        for (let i = 0; i < unresolvedKeyframes.length; i++) {\n            if (unresolvedKeyframes[i] === null) {\n                /**\n                 * If the first keyframe is null, we need to find its value by sampling the element\n                 */\n                if (i === 0) {\n                    const currentValue = motionValue === null || motionValue === void 0 ? void 0 : motionValue.get();\n                    const finalKeyframe = unresolvedKeyframes[unresolvedKeyframes.length - 1];\n                    if (currentValue !== undefined) {\n                        unresolvedKeyframes[0] = currentValue;\n                    }\n                    else if (element && name) {\n                        const valueAsRead = element.readValue(name, finalKeyframe);\n                        if (valueAsRead !== undefined && valueAsRead !== null) {\n                            unresolvedKeyframes[0] = valueAsRead;\n                        }\n                    }\n                    if (unresolvedKeyframes[0] === undefined) {\n                        unresolvedKeyframes[0] = finalKeyframe;\n                    }\n                    if (motionValue && currentValue === undefined) {\n                        motionValue.set(unresolvedKeyframes[0]);\n                    }\n                }\n                else {\n                    unresolvedKeyframes[i] = unresolvedKeyframes[i - 1];\n                }\n            }\n        }\n    }\n    setFinalKeyframe() { }\n    measureInitialState() { }\n    renderEndStyles() { }\n    measureEndState() { }\n    complete() {\n        this.isComplete = true;\n        this.onComplete(this.unresolvedKeyframes, this.finalKeyframe);\n        toResolve.delete(this);\n    }\n    cancel() {\n        if (!this.isComplete) {\n            this.isScheduled = false;\n            toResolve.delete(this);\n        }\n    }\n    resume() {\n        if (!this.isComplete)\n            this.scheduleResolve();\n    }\n}\n\nexport { KeyframeResolver, flushKeyframeResolvers };\n","import { isString, singleColorRegex, floatRegex } from '../utils.mjs';\n\n/**\n * Returns true if the provided string is a color, ie rgba(0,0,0,0) or #000,\n * but false if a number or multiple colors\n */\nconst isColorString = (type, testProp) => (v) => {\n    return Boolean((isString(v) && singleColorRegex.test(v) && v.startsWith(type)) ||\n        (testProp && Object.prototype.hasOwnProperty.call(v, testProp)));\n};\nconst splitColor = (aName, bName, cName) => (v) => {\n    if (!isString(v))\n        return v;\n    const [a, b, c, alpha] = v.match(floatRegex);\n    return {\n        [aName]: parseFloat(a),\n        [bName]: parseFloat(b),\n        [cName]: parseFloat(c),\n        alpha: alpha !== undefined ? parseFloat(alpha) : 1,\n    };\n};\n\nexport { isColorString, splitColor };\n","import { clamp } from '../../../utils/clamp.mjs';\nimport { number, alpha } from '../numbers/index.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst clampRgbUnit = (v) => clamp(0, 255, v);\nconst rgbUnit = {\n    ...number,\n    transform: (v) => Math.round(clampRgbUnit(v)),\n};\nconst rgba = {\n    test: isColorString(\"rgb\", \"red\"),\n    parse: splitColor(\"red\", \"green\", \"blue\"),\n    transform: ({ red, green, blue, alpha: alpha$1 = 1 }) => \"rgba(\" +\n        rgbUnit.transform(red) +\n        \", \" +\n        rgbUnit.transform(green) +\n        \", \" +\n        rgbUnit.transform(blue) +\n        \", \" +\n        sanitize(alpha.transform(alpha$1)) +\n        \")\",\n};\n\nexport { rgbUnit, rgba };\n","import { rgba } from './rgba.mjs';\nimport { isColorString } from './utils.mjs';\n\nfunction parseHex(v) {\n    let r = \"\";\n    let g = \"\";\n    let b = \"\";\n    let a = \"\";\n    // If we have 6 characters, ie #FF0000\n    if (v.length > 5) {\n        r = v.substring(1, 3);\n        g = v.substring(3, 5);\n        b = v.substring(5, 7);\n        a = v.substring(7, 9);\n        // Or we have 3 characters, ie #F00\n    }\n    else {\n        r = v.substring(1, 2);\n        g = v.substring(2, 3);\n        b = v.substring(3, 4);\n        a = v.substring(4, 5);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nconst hex = {\n    test: isColorString(\"#\"),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { alpha } from '../numbers/index.mjs';\nimport { percent } from '../numbers/units.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst hsla = {\n    test: isColorString(\"hsl\", \"hue\"),\n    parse: splitColor(\"hue\", \"saturation\", \"lightness\"),\n    transform: ({ hue, saturation, lightness, alpha: alpha$1 = 1 }) => {\n        return (\"hsla(\" +\n            Math.round(hue) +\n            \", \" +\n            percent.transform(sanitize(saturation)) +\n            \", \" +\n            percent.transform(sanitize(lightness)) +\n            \", \" +\n            sanitize(alpha.transform(alpha$1)) +\n            \")\");\n    },\n};\n\nexport { hsla };\n","import { isString } from '../utils.mjs';\nimport { hex } from './hex.mjs';\nimport { hsla } from './hsla.mjs';\nimport { rgba } from './rgba.mjs';\n\nconst color = {\n    test: (v) => rgba.test(v) || hex.test(v) || hsla.test(v),\n    parse: (v) => {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: (v) => {\n        return isString(v)\n            ? v\n            : v.hasOwnProperty(\"red\")\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n};\n\nexport { color };\n","import { color } from '../color/index.mjs';\nimport { isString, floatRegex, colorRegex, sanitize } from '../utils.mjs';\n\nfunction test(v) {\n    var _a, _b;\n    return (isNaN(v) &&\n        isString(v) &&\n        (((_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) || 0) +\n            (((_b = v.match(colorRegex)) === null || _b === void 0 ? void 0 : _b.length) || 0) >\n            0);\n}\nconst NUMBER_TOKEN = \"number\";\nconst COLOR_TOKEN = \"color\";\nconst VAR_TOKEN = \"var\";\nconst VAR_FUNCTION_TOKEN = \"var(\";\nconst SPLIT_TOKEN = \"${}\";\n// this regex consists of the `singleCssVariableRegex|rgbHSLValueRegex|digitRegex`\nconst complexRegex = /var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/giu;\nfunction analyseComplexValue(value) {\n    const originalValue = value.toString();\n    const values = [];\n    const indexes = {\n        color: [],\n        number: [],\n        var: [],\n    };\n    const types = [];\n    let i = 0;\n    const tokenised = originalValue.replace(complexRegex, (parsedValue) => {\n        if (color.test(parsedValue)) {\n            indexes.color.push(i);\n            types.push(COLOR_TOKEN);\n            values.push(color.parse(parsedValue));\n        }\n        else if (parsedValue.startsWith(VAR_FUNCTION_TOKEN)) {\n            indexes.var.push(i);\n            types.push(VAR_TOKEN);\n            values.push(parsedValue);\n        }\n        else {\n            indexes.number.push(i);\n            types.push(NUMBER_TOKEN);\n            values.push(parseFloat(parsedValue));\n        }\n        ++i;\n        return SPLIT_TOKEN;\n    });\n    const split = tokenised.split(SPLIT_TOKEN);\n    return { values, split, indexes, types };\n}\nfunction parseComplexValue(v) {\n    return analyseComplexValue(v).values;\n}\nfunction createTransformer(source) {\n    const { split, types } = analyseComplexValue(source);\n    const numSections = split.length;\n    return (v) => {\n        let output = \"\";\n        for (let i = 0; i < numSections; i++) {\n            output += split[i];\n            if (v[i] !== undefined) {\n                const type = types[i];\n                if (type === NUMBER_TOKEN) {\n                    output += sanitize(v[i]);\n                }\n                else if (type === COLOR_TOKEN) {\n                    output += color.transform(v[i]);\n                }\n                else {\n                    output += v[i];\n                }\n            }\n        }\n        return output;\n    };\n}\nconst convertNumbersToZero = (v) => typeof v === \"number\" ? 0 : v;\nfunction getAnimatableNone(v) {\n    const parsed = parseComplexValue(v);\n    const transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nconst complex = {\n    test,\n    parse: parseComplexValue,\n    createTransformer,\n    getAnimatableNone,\n};\n\nexport { analyseComplexValue, complex };\n","import { complex } from './index.mjs';\nimport { floatRegex } from '../utils.mjs';\n\n/**\n * Properties that should default to 1 or 100%\n */\nconst maxDefaults = new Set([\"brightness\", \"contrast\", \"saturate\", \"opacity\"]);\nfunction applyDefaultFilter(v) {\n    const [name, value] = v.slice(0, -1).split(\"(\");\n    if (name === \"drop-shadow\")\n        return v;\n    const [number] = value.match(floatRegex) || [];\n    if (!number)\n        return v;\n    const unit = value.replace(number, \"\");\n    let defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + \"(\" + defaultValue + unit + \")\";\n}\nconst functionRegex = /\\b([a-z-]*)\\(.*?\\)/gu;\nconst filter = {\n    ...complex,\n    getAnimatableNone: (v) => {\n        const functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(\" \") : v;\n    },\n};\n\nexport { filter };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { numberValueTypes } from './number.mjs';\n\n/**\n * A map of default value types for common values\n */\nconst defaultValueTypes = {\n    ...numberValueTypes,\n    // Color props\n    color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    // Border props\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    filter,\n    WebkitFilter: filter,\n};\n/**\n * Gets the default ValueType for the provided value key\n */\nconst getDefaultValueType = (key) => defaultValueTypes[key];\n\nexport { defaultValueTypes, getDefaultValueType };\n","import { complex } from '../../../value/types/complex/index.mjs';\nimport { filter } from '../../../value/types/complex/filter.mjs';\nimport { getDefaultValueType } from './defaults.mjs';\n\nfunction getAnimatableNone(key, value) {\n    let defaultValueType = getDefaultValueType(key);\n    if (defaultValueType !== filter)\n        defaultValueType = complex;\n    // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n    return defaultValueType.getAnimatableNone\n        ? defaultValueType.getAnimatableNone(value)\n        : undefined;\n}\n\nexport { getAnimatableNone };\n","import { isNone } from '../../animation/utils/is-none.mjs';\nimport { getVariableValue } from './utils/css-variables-conversion.mjs';\nimport { isCSSVariableToken } from './utils/is-css-variable.mjs';\nimport { positionalKeys, isNumOrPxType, positionalValues } from './utils/unit-conversion.mjs';\nimport { findDimensionValueType } from './value-types/dimensions.mjs';\nimport { KeyframeResolver } from '../utils/KeyframesResolver.mjs';\nimport { makeNoneKeyframesAnimatable } from '../html/utils/make-none-animatable.mjs';\n\nclass DOMKeyframesResolver extends KeyframeResolver {\n    constructor(unresolvedKeyframes, onComplete, name, motionValue) {\n        super(unresolvedKeyframes, onComplete, name, motionValue, motionValue === null || motionValue === void 0 ? void 0 : motionValue.owner, true);\n    }\n    readKeyframes() {\n        const { unresolvedKeyframes, element, name } = this;\n        if (!element.current)\n            return;\n        super.readKeyframes();\n        /**\n         * If any keyframe is a CSS variable, we need to find its value by sampling the element\n         */\n        for (let i = 0; i < unresolvedKeyframes.length; i++) {\n            const keyframe = unresolvedKeyframes[i];\n            if (typeof keyframe === \"string\" && isCSSVariableToken(keyframe)) {\n                const resolved = getVariableValue(keyframe, element.current);\n                if (resolved !== undefined) {\n                    unresolvedKeyframes[i] = resolved;\n                }\n            }\n        }\n        /**\n         * Check to see if unit type has changed. If so schedule jobs that will\n         * temporarily set styles to the destination keyframes.\n         * Skip if we have more than two keyframes or this isn't a positional value.\n         * TODO: We can throw if there are multiple keyframes and the value type changes.\n         */\n        if (!positionalKeys.has(name) || unresolvedKeyframes.length !== 2) {\n            return this.resolveNoneKeyframes();\n        }\n        const [origin, target] = unresolvedKeyframes;\n        const originType = findDimensionValueType(origin);\n        const targetType = findDimensionValueType(target);\n        /**\n         * Either we don't recognise these value types or we can animate between them.\n         */\n        if (originType === targetType)\n            return;\n        /**\n         * If both values are numbers or pixels, we can animate between them by\n         * converting them to numbers.\n         */\n        if (isNumOrPxType(originType) && isNumOrPxType(targetType)) {\n            for (let i = 0; i < unresolvedKeyframes.length; i++) {\n                const value = unresolvedKeyframes[i];\n                if (typeof value === \"string\") {\n                    unresolvedKeyframes[i] = parseFloat(value);\n                }\n            }\n        }\n        else {\n            /**\n             * Else, the only way to resolve this is by measuring the element.\n             */\n            this.needsMeasurement = true;\n        }\n    }\n    resolveNoneKeyframes() {\n        const { unresolvedKeyframes, name } = this;\n        const noneKeyframeIndexes = [];\n        for (let i = 0; i < unresolvedKeyframes.length; i++) {\n            if (isNone(unresolvedKeyframes[i])) {\n                noneKeyframeIndexes.push(i);\n            }\n        }\n        if (noneKeyframeIndexes.length) {\n            makeNoneKeyframesAnimatable(unresolvedKeyframes, noneKeyframeIndexes, name);\n        }\n    }\n    measureInitialState() {\n        const { element, unresolvedKeyframes, name } = this;\n        if (!element.current)\n            return;\n        if (name === \"height\") {\n            this.suspendedScrollY = window.pageYOffset;\n        }\n        this.measuredOrigin = positionalValues[name](element.measureViewportBox(), window.getComputedStyle(element.current));\n        unresolvedKeyframes[0] = this.measuredOrigin;\n        // Set final key frame to measure after next render\n        const measureKeyframe = unresolvedKeyframes[unresolvedKeyframes.length - 1];\n        if (measureKeyframe !== undefined) {\n            element.getValue(name, measureKeyframe).jump(measureKeyframe, false);\n        }\n    }\n    measureEndState() {\n        var _a;\n        const { element, name, unresolvedKeyframes } = this;\n        if (!element.current)\n            return;\n        const value = element.getValue(name);\n        value && value.jump(this.measuredOrigin, false);\n        const finalKeyframeIndex = unresolvedKeyframes.length - 1;\n        const finalKeyframe = unresolvedKeyframes[finalKeyframeIndex];\n        unresolvedKeyframes[finalKeyframeIndex] = positionalValues[name](element.measureViewportBox(), window.getComputedStyle(element.current));\n        if (finalKeyframe !== null) {\n            this.finalKeyframe = finalKeyframe;\n        }\n        // If we removed transform values, reapply them before the next render\n        if ((_a = this.removedTransforms) === null || _a === void 0 ? void 0 : _a.length) {\n            this.removedTransforms.forEach(([unsetTransformName, unsetTransformValue]) => {\n                element\n                    .getValue(unsetTransformName)\n                    .set(unsetTransformValue);\n            });\n        }\n        this.resolveNoneKeyframes();\n    }\n}\n\nexport { DOMKeyframesResolver };\n","import { isZeroValueString } from '../../utils/is-zero-value-string.mjs';\n\nfunction isNone(value) {\n    if (typeof value === \"number\") {\n        return value === 0;\n    }\n    else if (value !== null) {\n        return value === \"none\" || value === \"0\" || isZeroValueString(value);\n    }\n    else {\n        return true;\n    }\n}\n\nexport { isNone };\n","import { getAnimatableNone } from '../../dom/value-types/animatable-none.mjs';\n\n/**\n * If we encounter keyframes like \"none\" or \"0\" and we also have keyframes like\n * \"#fff\" or \"200px 200px\" we want to find a keyframe to serve as a template for\n * the \"none\" keyframes. In this case \"#fff\" or \"200px 200px\" - then these get turned into\n * zero equivalents, i.e. \"#fff0\" or \"0px 0px\".\n */\nfunction makeNoneKeyframesAnimatable(unresolvedKeyframes, noneKeyframeIndexes, name) {\n    let i = 0;\n    let animatableTemplate = undefined;\n    while (i < unresolvedKeyframes.length && !animatableTemplate) {\n        if (typeof unresolvedKeyframes[i] === \"string\" &&\n            unresolvedKeyframes[i] !== \"none\" &&\n            unresolvedKeyframes[i] !== \"0\") {\n            animatableTemplate = unresolvedKeyframes[i];\n        }\n        i++;\n    }\n    if (animatableTemplate && name) {\n        for (const noneIndex of noneKeyframeIndexes) {\n            unresolvedKeyframes[noneIndex] = getAnimatableNone(name, animatableTemplate);\n        }\n    }\n}\n\nexport { makeNoneKeyframesAnimatable };\n","function memo(callback) {\n    let result;\n    return () => {\n        if (result === undefined)\n            result = callback();\n        return result;\n    };\n}\n\nexport { memo };\n","import { complex } from '../../value/types/complex/index.mjs';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * ✅: 100, \"100px\", \"#fff\"\n * ❌: \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nconst isAnimatable = (value, name) => {\n    // If the list of keys tat might be non-animatable grows, replace with Set\n    if (name === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        (complex.test(value) || value === \"0\") && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nexport { isAnimatable };\n","import { flushKeyframeResolvers } from '../../render/utils/KeyframesResolver.mjs';\nimport { instantAnimationState } from '../../utils/use-instant-transition-state.mjs';\nimport { canAnimate } from './utils/can-animate.mjs';\nimport { getFinalKeyframe } from './waapi/utils/get-final-keyframe.mjs';\n\nclass BaseAnimation {\n    constructor({ autoplay = true, delay = 0, type = \"keyframes\", repeat = 0, repeatDelay = 0, repeatType = \"loop\", ...options }) {\n        // Track whether the animation has been stopped. Stopped animations won't restart.\n        this.isStopped = false;\n        this.hasAttemptedResolve = false;\n        this.options = {\n            autoplay,\n            delay,\n            type,\n            repeat,\n            repeatDelay,\n            repeatType,\n            ...options,\n        };\n        this.updateFinishedPromise();\n    }\n    /**\n     * A getter for resolved data. If keyframes are not yet resolved, accessing\n     * this.resolved will synchronously flush all pending keyframe resolvers.\n     * This is a deoptimisation, but at its worst still batches read/writes.\n     */\n    get resolved() {\n        if (!this._resolved && !this.hasAttemptedResolve) {\n            flushKeyframeResolvers();\n        }\n        return this._resolved;\n    }\n    /**\n     * A method to be called when the keyframes resolver completes. This method\n     * will check if its possible to run the animation and, if not, skip it.\n     * Otherwise, it will call initPlayback on the implementing class.\n     */\n    onKeyframesResolved(keyframes, finalKeyframe) {\n        this.hasAttemptedResolve = true;\n        const { name, type, velocity, delay, onComplete, onUpdate, isGenerator, } = this.options;\n        /**\n         * If we can't animate this value with the resolved keyframes\n         * then we should complete it immediately.\n         */\n        if (!isGenerator && !canAnimate(keyframes, name, type, velocity)) {\n            // Finish immediately\n            if (instantAnimationState.current || !delay) {\n                onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(getFinalKeyframe(keyframes, this.options, finalKeyframe));\n                onComplete === null || onComplete === void 0 ? void 0 : onComplete();\n                this.resolveFinishedPromise();\n                return;\n            }\n            // Finish after a delay\n            else {\n                this.options.duration = 0;\n            }\n        }\n        const resolvedAnimation = this.initPlayback(keyframes, finalKeyframe);\n        if (resolvedAnimation === false)\n            return;\n        this._resolved = {\n            keyframes,\n            finalKeyframe,\n            ...resolvedAnimation,\n        };\n        this.onPostResolved();\n    }\n    onPostResolved() { }\n    /**\n     * Allows the returned animation to be awaited or promise-chained. Currently\n     * resolves when the animation finishes at all but in a future update could/should\n     * reject if its cancels.\n     */\n    then(resolve, reject) {\n        return this.currentFinishedPromise.then(resolve, reject);\n    }\n    updateFinishedPromise() {\n        this.currentFinishedPromise = new Promise((resolve) => {\n            this.resolveFinishedPromise = resolve;\n        });\n    }\n}\n\nexport { BaseAnimation };\n","import { warning } from '../../../utils/errors.mjs';\nimport { isAnimatable } from '../../utils/is-animatable.mjs';\n\nfunction hasKeyframesChanged(keyframes) {\n    const current = keyframes[0];\n    if (keyframes.length === 1)\n        return true;\n    for (let i = 0; i < keyframes.length; i++) {\n        if (keyframes[i] !== current)\n            return true;\n    }\n}\nfunction canAnimate(keyframes, name, type, velocity) {\n    /**\n     * Check if we're able to animate between the start and end keyframes,\n     * and throw a warning if we're attempting to animate between one that's\n     * animatable and another that isn't.\n     */\n    const originKeyframe = keyframes[0];\n    if (originKeyframe === null)\n        return false;\n    const targetKeyframe = keyframes[keyframes.length - 1];\n    const isOriginAnimatable = isAnimatable(originKeyframe, name);\n    const isTargetAnimatable = isAnimatable(targetKeyframe, name);\n    warning(isOriginAnimatable === isTargetAnimatable, `You are trying to animate ${name} from \"${originKeyframe}\" to \"${targetKeyframe}\". ${originKeyframe} is not an animatable value - to enable this animation set ${originKeyframe} to a value animatable to ${targetKeyframe} via the \\`style\\` property.`);\n    // Always skip if any of these are true\n    if (!isOriginAnimatable || !isTargetAnimatable) {\n        return false;\n    }\n    return hasKeyframesChanged(keyframes) || (type === \"spring\" && velocity);\n}\n\nexport { canAnimate };\n","/*\n  Convert velocity into velocity per second\n\n  @param [number]: Unit per frame\n  @param [number]: Frame duration in ms\n*/\nfunction velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","import { velocityPerSecond } from '../../../utils/velocity-per-second.mjs';\n\nconst velocitySampleDuration = 5; // ms\nfunction calcGeneratorVelocity(resolveValue, t, current) {\n    const prevT = Math.max(t - velocitySampleDuration, 0);\n    return velocityPerSecond(current - resolveValue(prevT), t - prevT);\n}\n\nexport { calcGeneratorVelocity };\n","import { warning } from '../../../utils/errors.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../../utils/time-conversion.mjs';\n\nconst safeMin = 0.001;\nconst minDuration = 0.01;\nconst maxDuration = 10.0;\nconst minDamping = 0.05;\nconst maxDamping = 1;\nfunction findSpring({ duration = 800, bounce = 0.25, velocity = 0, mass = 1, }) {\n    let envelope;\n    let derivative;\n    warning(duration <= secondsToMilliseconds(maxDuration), \"Spring duration must be 10 seconds or less\");\n    let dampingRatio = 1 - bounce;\n    /**\n     * Restrict dampingRatio and duration to within acceptable ranges.\n     */\n    dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n    duration = clamp(minDuration, maxDuration, millisecondsToSeconds(duration));\n    if (dampingRatio < 1) {\n        /**\n         * Underdamped spring\n         */\n        envelope = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const a = exponentialDecay - velocity;\n            const b = calcAngularFreq(undampedFreq, dampingRatio);\n            const c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const d = delta * velocity + velocity;\n            const e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            const f = Math.exp(-delta);\n            const g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            const factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        /**\n         * Critically-damped spring\n         */\n        envelope = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    const initialGuess = 5 / duration;\n    const undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = secondsToMilliseconds(duration);\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: 100,\n            damping: 10,\n            duration,\n        };\n    }\n    else {\n        const stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration,\n        };\n    }\n}\nconst rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    let result = initialGuess;\n    for (let i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };\n","import { millisecondsToSeconds } from '../../../utils/time-conversion.mjs';\nimport { calcGeneratorVelocity } from '../utils/velocity.mjs';\nimport { findSpring, calcAngularFreq } from './find.mjs';\n\nconst durationKeys = [\"duration\", \"bounce\"];\nconst physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some((key) => options[key] !== undefined);\n}\nfunction getSpringOptions(options) {\n    let springOptions = {\n        velocity: 0.0,\n        stiffness: 100,\n        damping: 10,\n        mass: 1.0,\n        isResolvedFromDuration: false,\n        ...options,\n    };\n    // stiffness/damping/mass overrides duration/bounce\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        const derived = findSpring(options);\n        springOptions = {\n            ...springOptions,\n            ...derived,\n            mass: 1.0,\n        };\n        springOptions.isResolvedFromDuration = true;\n    }\n    return springOptions;\n}\nfunction spring({ keyframes, restDelta, restSpeed, ...options }) {\n    const origin = keyframes[0];\n    const target = keyframes[keyframes.length - 1];\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = { done: false, value: origin };\n    const { stiffness, damping, mass, duration, velocity, isResolvedFromDuration, } = getSpringOptions({\n        ...options,\n        velocity: -millisecondsToSeconds(options.velocity || 0),\n    });\n    const initialVelocity = velocity || 0.0;\n    const dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    const initialDelta = target - origin;\n    const undampedAngularFreq = millisecondsToSeconds(Math.sqrt(stiffness / mass));\n    /**\n     * If we're working on a granular scale, use smaller defaults for determining\n     * when the spring is finished.\n     *\n     * These defaults have been selected emprically based on what strikes a good\n     * ratio between feeling good and finishing as soon as changes are imperceptible.\n     */\n    const isGranularScale = Math.abs(initialDelta) < 5;\n    restSpeed || (restSpeed = isGranularScale ? 0.01 : 2);\n    restDelta || (restDelta = isGranularScale ? 0.005 : 0.5);\n    let resolveSpring;\n    if (dampingRatio < 1) {\n        const angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);\n        // Underdamped spring\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            return (target -\n                envelope *\n                    (((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) /\n                        angularFreq) *\n                        Math.sin(angularFreq * t) +\n                        initialDelta * Math.cos(angularFreq * t)));\n        };\n    }\n    else if (dampingRatio === 1) {\n        // Critically damped spring\n        resolveSpring = (t) => target -\n            Math.exp(-undampedAngularFreq * t) *\n                (initialDelta +\n                    (initialVelocity + undampedAngularFreq * initialDelta) * t);\n    }\n    else {\n        // Overdamped spring\n        const dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            // When performing sinh or cosh values can hit Infinity so we cap them here\n            const freqForT = Math.min(dampedAngularFreq * t, 300);\n            return (target -\n                (envelope *\n                    ((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) *\n                        Math.sinh(freqForT) +\n                        dampedAngularFreq *\n                            initialDelta *\n                            Math.cosh(freqForT))) /\n                    dampedAngularFreq);\n        };\n    }\n    return {\n        calculatedDuration: isResolvedFromDuration ? duration || null : null,\n        next: (t) => {\n            const current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                let currentVelocity = initialVelocity;\n                if (t !== 0) {\n                    /**\n                     * We only need to calculate velocity for under-damped springs\n                     * as over- and critically-damped springs can't overshoot, so\n                     * checking only for displacement is enough.\n                     */\n                    if (dampingRatio < 1) {\n                        currentVelocity = calcGeneratorVelocity(resolveSpring, t, current);\n                    }\n                    else {\n                        currentVelocity = 0;\n                    }\n                }\n                const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                const isBelowDisplacementThreshold = Math.abs(target - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? target : current;\n            return state;\n        },\n    };\n}\n\nexport { spring };\n","import { spring } from './spring/index.mjs';\nimport { calcGeneratorVelocity } from './utils/velocity.mjs';\n\nfunction inertia({ keyframes, velocity = 0.0, power = 0.8, timeConstant = 325, bounceDamping = 10, bounceStiffness = 500, modifyTarget, min, max, restDelta = 0.5, restSpeed, }) {\n    const origin = keyframes[0];\n    const state = {\n        done: false,\n        value: origin,\n    };\n    const isOutOfBounds = (v) => (min !== undefined && v < min) || (max !== undefined && v > max);\n    const nearestBoundary = (v) => {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    };\n    let amplitude = power * velocity;\n    const ideal = origin + amplitude;\n    const target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    /**\n     * If the target has changed we need to re-calculate the amplitude, otherwise\n     * the animation will start from the wrong position.\n     */\n    if (target !== ideal)\n        amplitude = target - origin;\n    const calcDelta = (t) => -amplitude * Math.exp(-t / timeConstant);\n    const calcLatest = (t) => target + calcDelta(t);\n    const applyFriction = (t) => {\n        const delta = calcDelta(t);\n        const latest = calcLatest(t);\n        state.done = Math.abs(delta) <= restDelta;\n        state.value = state.done ? target : latest;\n    };\n    /**\n     * Ideally this would resolve for t in a stateless way, we could\n     * do that by always precalculating the animation but as we know\n     * this will be done anyway we can assume that spring will\n     * be discovered during that.\n     */\n    let timeReachedBoundary;\n    let spring$1;\n    const checkCatchBoundary = (t) => {\n        if (!isOutOfBounds(state.value))\n            return;\n        timeReachedBoundary = t;\n        spring$1 = spring({\n            keyframes: [state.value, nearestBoundary(state.value)],\n            velocity: calcGeneratorVelocity(calcLatest, t, state.value),\n            damping: bounceDamping,\n            stiffness: bounceStiffness,\n            restDelta,\n            restSpeed,\n        });\n    };\n    checkCatchBoundary(0);\n    return {\n        calculatedDuration: null,\n        next: (t) => {\n            /**\n             * We need to resolve the friction to figure out if we need a\n             * spring but we don't want to do this twice per frame. So here\n             * we flag if we updated for this frame and later if we did\n             * we can skip doing it again.\n             */\n            let hasUpdatedFrame = false;\n            if (!spring$1 && timeReachedBoundary === undefined) {\n                hasUpdatedFrame = true;\n                applyFriction(t);\n                checkCatchBoundary(t);\n            }\n            /**\n             * If we have a spring and the provided t is beyond the moment the friction\n             * animation crossed the min/max boundary, use the spring.\n             */\n            if (timeReachedBoundary !== undefined && t >= timeReachedBoundary) {\n                return spring$1.next(t - timeReachedBoundary);\n            }\n            else {\n                !hasUpdatedFrame && applyFriction(t);\n                return state;\n            }\n        },\n    };\n}\n\nexport { inertia };\n","import { noop } from '../utils/noop.mjs';\n\n/*\n  Bezier function generator\n  This has been modified from Gaëtan Renaudeau's BezierEasing\n  https://github.com/gre/bezier-easing/blob/master/src/index.js\n  https://github.com/gre/bezier-easing/blob/master/LICENSE\n  \n  I've removed the newtonRaphsonIterate algo because in benchmarking it\n  wasn't noticiably faster than binarySubdivision, indeed removing it\n  usually improved times, depending on the curve.\n  I also removed the lookup table, as for the added bundle size and loop we're\n  only cutting ~4 or so subdivision iterations. I bumped the max iterations up\n  to 12 to compensate and this still tended to be faster for no perceivable\n  loss in accuracy.\n  Usage\n    const easeOut = cubicBezier(.17,.67,.83,.67);\n    const x = easeOut(0.5); // returns 0.627...\n*/\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nconst calcBezier = (t, a1, a2) => (((1.0 - 3.0 * a2 + 3.0 * a1) * t + (3.0 * a2 - 6.0 * a1)) * t + 3.0 * a1) *\n    t;\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 12;\nfunction binarySubdivide(x, lowerBound, upperBound, mX1, mX2) {\n    let currentX;\n    let currentT;\n    let i = 0;\n    do {\n        currentT = lowerBound + (upperBound - lowerBound) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - x;\n        if (currentX > 0.0) {\n            upperBound = currentT;\n        }\n        else {\n            lowerBound = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    // If this is a linear gradient, return linear easing\n    if (mX1 === mY1 && mX2 === mY2)\n        return noop;\n    const getTForX = (aX) => binarySubdivide(aX, 0, 1, mX1, mX2);\n    // If animation is at start/end, return t without easing\n    return (t) => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\n\nexport { cubicBezier };\n","import { cubicBezier } from './cubic-bezier.mjs';\n\nconst easeIn = cubicBezier(0.42, 0, 1, 1);\nconst easeOut = cubicBezier(0, 0, 0.58, 1);\nconst easeInOut = cubicBezier(0.42, 0, 0.58, 1);\n\nexport { easeIn, easeInOut, easeOut };\n","const isEasingArray = (ease) => {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { isEasingArray };\n","// Accepts an easing function and returns a new one that outputs mirrored values for\n// the second half of the animation. Turns easeIn into easeInOut.\nconst mirrorEasing = (easing) => (p) => p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n\nexport { mirrorEasing };\n","// Accepts an easing function and returns a new one that outputs reversed values.\n// Turns easeIn into easeOut.\nconst reverseEasing = (easing) => (p) => 1 - easing(1 - p);\n\nexport { reverseEasing };\n","import { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst circIn = (p) => 1 - Math.sin(Math.acos(p));\nconst circOut = reverseEasing(circIn);\nconst circInOut = mirrorEasing(circIn);\n\nexport { circIn, circInOut, circOut };\n","import { cubicBezier } from './cubic-bezier.mjs';\nimport { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst backOut = cubicBezier(0.33, 1.53, 0.69, 0.99);\nconst backIn = reverseEasing(backOut);\nconst backInOut = mirrorEasing(backIn);\n\nexport { backIn, backInOut, backOut };\n","import { invariant } from '../../utils/errors.mjs';\nimport { cubicBezier } from '../cubic-bezier.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { easeIn, easeInOut, easeOut } from '../ease.mjs';\nimport { circIn, circInOut, circOut } from '../circ.mjs';\nimport { backIn, backInOut, backOut } from '../back.mjs';\nimport { anticipate } from '../anticipate.mjs';\n\nconst easingLookup = {\n    linear: noop,\n    easeIn,\n    easeInOut,\n    easeOut,\n    circIn,\n    circInOut,\n    circOut,\n    backIn,\n    backInOut,\n    backOut,\n    anticipate,\n};\nconst easingDefinitionToFunction = (definition) => {\n    if (Array.isArray(definition)) {\n        // If cubic bezier definition, create bezier curve\n        invariant(definition.length === 4, `Cubic bezier arrays must contain four numerical values.`);\n        const [x1, y1, x2, y2] = definition;\n        return cubicBezier(x1, y1, x2, y2);\n    }\n    else if (typeof definition === \"string\") {\n        // Else lookup from table\n        invariant(easingLookup[definition] !== undefined, `Invalid easing type '${definition}'`);\n        return easingLookup[definition];\n    }\n    return definition;\n};\n\nexport { easingDefinitionToFunction };\n","import { backIn } from './back.mjs';\n\nconst anticipate = (p) => (p *= 2) < 1 ? 0.5 * backIn(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n\nexport { anticipate };\n","/*\n  Progress within given range\n\n  Given a lower limit and an upper limit, we return the progress\n  (expressed as a number 0-1) represented by the given value, and\n  limit that progress to within 0-1.\n\n  @param [number]: Lower limit\n  @param [number]: Upper limit\n  @param [number]: Value to find progress within given range\n  @return [number]: Progress of value within range as expressed 0-1\n*/\nconst progress = (from, to, value) => {\n    const toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","/*\n  Value in range from progress\n\n  Given a lower limit and an upper limit, we return the value within\n  that range as expressed by progress (usually a number from 0 to 1)\n\n  So progress = 0.5 would change\n\n  from -------- to\n\n  to\n\n  from ---- to\n\n  E.g. from = 10, to = 20, progress = 0.5 => 15\n\n  @param [number]: Lower limit of range\n  @param [number]: Upper limit of range\n  @param [number]: The progress between lower and upper limits expressed 0-1\n  @return [number]: Value as calculated from progress within range (not limited within range)\n*/\nconst mixNumber = (from, to, progress) => {\n    return from + (to - from) * progress;\n};\n\nexport { mixNumber };\n","// Adapted from https://gist.github.com/mjackson/5311256\nfunction hueToRgb(p, q, t) {\n    if (t < 0)\n        t += 1;\n    if (t > 1)\n        t -= 1;\n    if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n        return q;\n    if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\nfunction hslaToRgba({ hue, saturation, lightness, alpha }) {\n    hue /= 360;\n    saturation /= 100;\n    lightness /= 100;\n    let red = 0;\n    let green = 0;\n    let blue = 0;\n    if (!saturation) {\n        red = green = blue = lightness;\n    }\n    else {\n        const q = lightness < 0.5\n            ? lightness * (1 + saturation)\n            : lightness + saturation - lightness * saturation;\n        const p = 2 * lightness - q;\n        red = hueToRgb(p, q, hue + 1 / 3);\n        green = hueToRgb(p, q, hue);\n        blue = hueToRgb(p, q, hue - 1 / 3);\n    }\n    return {\n        red: Math.round(red * 255),\n        green: Math.round(green * 255),\n        blue: Math.round(blue * 255),\n        alpha,\n    };\n}\n\nexport { hslaToRgba };\n","import { mixNumber } from './number.mjs';\nimport { invariant } from '../errors.mjs';\nimport { hslaToRgba } from '../hsla-to-rgba.mjs';\nimport { hex } from '../../value/types/color/hex.mjs';\nimport { rgba } from '../../value/types/color/rgba.mjs';\nimport { hsla } from '../../value/types/color/hsla.mjs';\n\n// Linear color space blending\n// Explained https://www.youtube.com/watch?v=LKnqECcg6Gw\n// Demonstrated http://codepen.io/osublake/pen/xGVVaN\nconst mixLinearColor = (from, to, v) => {\n    const fromExpo = from * from;\n    const expo = v * (to * to - fromExpo) + fromExpo;\n    return expo < 0 ? 0 : Math.sqrt(expo);\n};\nconst colorTypes = [hex, rgba, hsla];\nconst getColorType = (v) => colorTypes.find((type) => type.test(v));\nfunction asRGBA(color) {\n    const type = getColorType(color);\n    invariant(Boolean(type), `'${color}' is not an animatable color. Use the equivalent color code instead.`);\n    let model = type.parse(color);\n    if (type === hsla) {\n        // TODO Remove this cast - needed since Framer Motion's stricter typing\n        model = hslaToRgba(model);\n    }\n    return model;\n}\nconst mixColor = (from, to) => {\n    const fromRGBA = asRGBA(from);\n    const toRGBA = asRGBA(to);\n    const blended = { ...fromRGBA };\n    return (v) => {\n        blended.red = mixLinearColor(fromRGBA.red, toRGBA.red, v);\n        blended.green = mixLinearColor(fromRGBA.green, toRGBA.green, v);\n        blended.blue = mixLinearColor(fromRGBA.blue, toRGBA.blue, v);\n        blended.alpha = mixNumber(fromRGBA.alpha, toRGBA.alpha, v);\n        return rgba.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","import { mixNumber as mixNumber$1 } from './number.mjs';\nimport { mixColor } from './color.mjs';\nimport { pipe } from '../pipe.mjs';\nimport { warning } from '../errors.mjs';\nimport { color } from '../../value/types/color/index.mjs';\nimport { complex, analyseComplexValue } from '../../value/types/complex/index.mjs';\nimport { isCSSVariableToken } from '../../render/dom/utils/is-css-variable.mjs';\n\nfunction mixImmediate(a, b) {\n    return (p) => (p > 0 ? b : a);\n}\nfunction mixNumber(a, b) {\n    return (p) => mixNumber$1(a, b, p);\n}\nfunction getMixer(a) {\n    if (typeof a === \"number\") {\n        return mixNumber;\n    }\n    else if (typeof a === \"string\") {\n        return isCSSVariableToken(a)\n            ? mixImmediate\n            : color.test(a)\n                ? mixColor\n                : mixComplex;\n    }\n    else if (Array.isArray(a)) {\n        return mixArray;\n    }\n    else if (typeof a === \"object\") {\n        return color.test(a) ? mixColor : mixObject;\n    }\n    return mixImmediate;\n}\nfunction mixArray(a, b) {\n    const output = [...a];\n    const numValues = output.length;\n    const blendValue = a.map((v, i) => getMixer(v)(v, b[i]));\n    return (p) => {\n        for (let i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](p);\n        }\n        return output;\n    };\n}\nfunction mixObject(a, b) {\n    const output = { ...a, ...b };\n    const blendValue = {};\n    for (const key in output) {\n        if (a[key] !== undefined && b[key] !== undefined) {\n            blendValue[key] = getMixer(a[key])(a[key], b[key]);\n        }\n    }\n    return (v) => {\n        for (const key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n}\nfunction matchOrder(origin, target) {\n    var _a;\n    const orderedOrigin = [];\n    const pointers = { color: 0, var: 0, number: 0 };\n    for (let i = 0; i < target.values.length; i++) {\n        const type = target.types[i];\n        const originIndex = origin.indexes[type][pointers[type]];\n        const originValue = (_a = origin.values[originIndex]) !== null && _a !== void 0 ? _a : 0;\n        orderedOrigin[i] = originValue;\n        pointers[type]++;\n    }\n    return orderedOrigin;\n}\nconst mixComplex = (origin, target) => {\n    const template = complex.createTransformer(target);\n    const originStats = analyseComplexValue(origin);\n    const targetStats = analyseComplexValue(target);\n    const canInterpolate = originStats.indexes.var.length === targetStats.indexes.var.length &&\n        originStats.indexes.color.length === targetStats.indexes.color.length &&\n        originStats.indexes.number.length >= targetStats.indexes.number.length;\n    if (canInterpolate) {\n        return pipe(mixArray(matchOrder(originStats, targetStats), targetStats.values), template);\n    }\n    else {\n        warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`);\n        return mixImmediate(origin, target);\n    }\n};\n\nexport { getMixer, mixArray, mixComplex, mixObject };\n","import { getMixer } from './complex.mjs';\nimport { mixNumber } from './number.mjs';\n\nfunction mix(from, to, p) {\n    if (typeof from === \"number\" &&\n        typeof to === \"number\" &&\n        typeof p === \"number\") {\n        return mixNumber(from, to, p);\n    }\n    const mixer = getMixer(from);\n    return mixer(from, to);\n}\n\nexport { mix };\n","import { invariant } from './errors.mjs';\nimport { clamp } from './clamp.mjs';\nimport { pipe } from './pipe.mjs';\nimport { progress } from './progress.mjs';\nimport { noop } from './noop.mjs';\nimport { mix } from './mix/index.mjs';\n\nfunction createMixers(output, ease, customMixer) {\n    const mixers = [];\n    const mixerFactory = customMixer || mix;\n    const numMixers = output.length - 1;\n    for (let i = 0; i < numMixers; i++) {\n        let mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            const easingFunction = Array.isArray(ease) ? ease[i] || noop : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\n/**\n * Create a function that maps from a numerical input array to a generic output array.\n *\n * Accepts:\n *   - Numbers\n *   - Colors (hex, hsl, hsla, rgb, rgba)\n *   - Complex (combinations of one or more numbers or strings)\n *\n * ```jsx\n * const mixColor = interpolate([0, 1], ['#fff', '#000'])\n *\n * mixColor(0.5) // 'rgba(128, 128, 128, 1)'\n * ```\n *\n * TODO Revist this approach once we've moved to data models for values,\n * probably not needed to pregenerate mixer functions.\n *\n * @public\n */\nfunction interpolate(input, output, { clamp: isClamp = true, ease, mixer } = {}) {\n    const inputLength = input.length;\n    invariant(inputLength === output.length, \"Both input and output ranges must be the same length\");\n    /**\n     * If we're only provided a single input, we can just make a function\n     * that returns the output.\n     */\n    if (inputLength === 1)\n        return () => output[0];\n    if (inputLength === 2 && input[0] === input[1])\n        return () => output[1];\n    // If input runs highest -> lowest, reverse both arrays\n    if (input[0] > input[inputLength - 1]) {\n        input = [...input].reverse();\n        output = [...output].reverse();\n    }\n    const mixers = createMixers(output, ease, mixer);\n    const numMixers = mixers.length;\n    const interpolator = (v) => {\n        let i = 0;\n        if (numMixers > 1) {\n            for (; i < input.length - 2; i++) {\n                if (v < input[i + 1])\n                    break;\n            }\n        }\n        const progressInRange = progress(input[i], input[i + 1], v);\n        return mixers[i](progressInRange);\n    };\n    return isClamp\n        ? (v) => interpolator(clamp(input[0], input[inputLength - 1], v))\n        : interpolator;\n}\n\nexport { interpolate };\n","import { mixNumber } from '../mix/number.mjs';\nimport { progress } from '../progress.mjs';\n\nfunction fillOffset(offset, remaining) {\n    const min = offset[offset.length - 1];\n    for (let i = 1; i <= remaining; i++) {\n        const offsetProgress = progress(0, remaining, i);\n        offset.push(mixNumber(min, 1, offsetProgress));\n    }\n}\n\nexport { fillOffset };\n","import { fillOffset } from './fill.mjs';\n\nfunction defaultOffset(arr) {\n    const offset = [0];\n    fillOffset(offset, arr.length - 1);\n    return offset;\n}\n\nexport { defaultOffset };\n","import { easeInOut } from '../../easing/ease.mjs';\nimport { isEasingArray } from '../../easing/utils/is-easing-array.mjs';\nimport { easingDefinitionToFunction } from '../../easing/utils/map.mjs';\nimport { interpolate } from '../../utils/interpolate.mjs';\nimport { defaultOffset } from '../../utils/offsets/default.mjs';\nimport { convertOffsetToTimes } from '../../utils/offsets/time.mjs';\n\nfunction defaultEasing(values, easing) {\n    return values.map(() => easing || easeInOut).splice(0, values.length - 1);\n}\nfunction keyframes({ duration = 300, keyframes: keyframeValues, times, ease = \"easeInOut\", }) {\n    /**\n     * Easing functions can be externally defined as strings. Here we convert them\n     * into actual functions.\n     */\n    const easingFunctions = isEasingArray(ease)\n        ? ease.map(easingDefinitionToFunction)\n        : easingDefinitionToFunction(ease);\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = {\n        done: false,\n        value: keyframeValues[0],\n    };\n    /**\n     * Create a times array based on the provided 0-1 offsets\n     */\n    const absoluteTimes = convertOffsetToTimes(\n    // Only use the provided offsets if they're the correct length\n    // TODO Maybe we should warn here if there's a length mismatch\n    times && times.length === keyframeValues.length\n        ? times\n        : defaultOffset(keyframeValues), duration);\n    const mapTimeToKeyframe = interpolate(absoluteTimes, keyframeValues, {\n        ease: Array.isArray(easingFunctions)\n            ? easingFunctions\n            : defaultEasing(keyframeValues, easingFunctions),\n    });\n    return {\n        calculatedDuration: duration,\n        next: (t) => {\n            state.value = mapTimeToKeyframe(t);\n            state.done = t >= duration;\n            return state;\n        },\n    };\n}\n\nexport { defaultEasing, keyframes };\n","function convertOffsetToTimes(offset, duration) {\n    return offset.map((o) => o * duration);\n}\n\nexport { convertOffsetToTimes };\n","/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxGeneratorDuration = 20000;\nfunction calcGeneratorDuration(generator) {\n    let duration = 0;\n    const timeStep = 50;\n    let state = generator.next(duration);\n    while (!state.done && duration < maxGeneratorDuration) {\n        duration += timeStep;\n        state = generator.next(duration);\n    }\n    return duration >= maxGeneratorDuration ? Infinity : duration;\n}\n\nexport { calcGeneratorDuration, maxGeneratorDuration };\n","import { time } from '../../../frameloop/sync-time.mjs';\nimport { frame, cancelFrame, frameData } from '../../../frameloop/frame.mjs';\n\nconst frameloopDriver = (update) => {\n    const passTimestamp = ({ timestamp }) => update(timestamp);\n    return {\n        start: () => frame.update(passTimestamp, true),\n        stop: () => cancelFrame(passTimestamp),\n        /**\n         * If we're processing this frame we can use the\n         * framelocked timestamp to keep things in sync.\n         */\n        now: () => (frameData.isProcessing ? frameData.timestamp : time.now()),\n    };\n};\n\nexport { frameloopDriver };\n","import { KeyframeResolver } from '../../render/utils/KeyframesResolver.mjs';\nimport { spring } from '../generators/spring/index.mjs';\nimport { inertia } from '../generators/inertia.mjs';\nimport { keyframes } from '../generators/keyframes.mjs';\nimport { BaseAnimation } from './BaseAnimation.mjs';\nimport { pipe } from '../../utils/pipe.mjs';\nimport { mix } from '../../utils/mix/index.mjs';\nimport { calcGeneratorDuration } from '../generators/utils/calc-duration.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { clamp } from '../../utils/clamp.mjs';\nimport { invariant } from '../../utils/errors.mjs';\nimport { frameloopDriver } from './drivers/driver-frameloop.mjs';\nimport { getFinalKeyframe } from './waapi/utils/get-final-keyframe.mjs';\n\nconst generators = {\n    decay: inertia,\n    inertia,\n    tween: keyframes,\n    keyframes: keyframes,\n    spring,\n};\nconst percentToProgress = (percent) => percent / 100;\n/**\n * Animation that runs on the main thread. Designed to be WAAPI-spec in the subset of\n * features we expose publically. Mostly the compatibility is to ensure visual identity\n * between both WAAPI and main thread animations.\n */\nclass MainThreadAnimation extends BaseAnimation {\n    constructor({ KeyframeResolver: KeyframeResolver$1 = KeyframeResolver, ...options }) {\n        super(options);\n        /**\n         * The time at which the animation was paused.\n         */\n        this.holdTime = null;\n        /**\n         * The time at which the animation was started.\n         */\n        this.startTime = null;\n        /**\n         * The time at which the animation was cancelled.\n         */\n        this.cancelTime = null;\n        /**\n         * The current time of the animation.\n         */\n        this.currentTime = 0;\n        /**\n         * Playback speed as a factor. 0 would be stopped, -1 reverse and 2 double speed.\n         */\n        this.playbackSpeed = 1;\n        /**\n         * The state of the animation to apply when the animation is resolved. This\n         * allows calls to the public API to control the animation before it is resolved,\n         * without us having to resolve it first.\n         */\n        this.pendingPlayState = \"running\";\n        this.state = \"idle\";\n        const { name, motionValue, keyframes } = this.options;\n        const onResolved = (resolvedKeyframes, finalKeyframe) => this.onKeyframesResolved(resolvedKeyframes, finalKeyframe);\n        if (name && motionValue && motionValue.owner) {\n            this.resolver = motionValue.owner.resolveKeyframes(keyframes, onResolved, name, motionValue);\n        }\n        else {\n            this.resolver = new KeyframeResolver$1(keyframes, onResolved, name, motionValue);\n        }\n        this.resolver.scheduleResolve();\n    }\n    initPlayback(keyframes$1) {\n        const { type = \"keyframes\", repeat = 0, repeatDelay = 0, repeatType, velocity = 0, } = this.options;\n        const generatorFactory = generators[type] || keyframes;\n        /**\n         * If our generator doesn't support mixing numbers, we need to replace keyframes with\n         * [0, 100] and then make a function that maps that to the actual keyframes.\n         *\n         * 100 is chosen instead of 1 as it works nicer with spring animations.\n         */\n        let mapPercentToKeyframes;\n        let mirroredGenerator;\n        if (generatorFactory !== keyframes &&\n            typeof keyframes$1[0] !== \"number\") {\n            if (process.env.NODE_ENV !== \"production\") {\n                invariant(keyframes$1.length === 2, `Only two keyframes currently supported with spring and inertia animations. Trying to animate ${keyframes$1}`);\n            }\n            mapPercentToKeyframes = pipe(percentToProgress, mix(keyframes$1[0], keyframes$1[1]));\n            keyframes$1 = [0, 100];\n        }\n        const generator = generatorFactory({ ...this.options, keyframes: keyframes$1 });\n        /**\n         * If we have a mirror repeat type we need to create a second generator that outputs the\n         * mirrored (not reversed) animation and later ping pong between the two generators.\n         */\n        if (repeatType === \"mirror\") {\n            mirroredGenerator = generatorFactory({\n                ...this.options,\n                keyframes: [...keyframes$1].reverse(),\n                velocity: -velocity,\n            });\n        }\n        /**\n         * If duration is undefined and we have repeat options,\n         * we need to calculate a duration from the generator.\n         *\n         * We set it to the generator itself to cache the duration.\n         * Any timeline resolver will need to have already precalculated\n         * the duration by this step.\n         */\n        if (generator.calculatedDuration === null) {\n            generator.calculatedDuration = calcGeneratorDuration(generator);\n        }\n        const { calculatedDuration } = generator;\n        const resolvedDuration = calculatedDuration + repeatDelay;\n        const totalDuration = resolvedDuration * (repeat + 1) - repeatDelay;\n        return {\n            generator,\n            mirroredGenerator,\n            mapPercentToKeyframes,\n            calculatedDuration,\n            resolvedDuration,\n            totalDuration,\n        };\n    }\n    onPostResolved() {\n        const { autoplay = true } = this.options;\n        this.play();\n        if (this.pendingPlayState === \"paused\" || !autoplay) {\n            this.pause();\n        }\n        else {\n            this.state = this.pendingPlayState;\n        }\n    }\n    tick(timestamp, sample = false) {\n        const { resolved } = this;\n        // If the animations has failed to resolve, return the final keyframe.\n        if (!resolved) {\n            const { keyframes } = this.options;\n            return { done: true, value: keyframes[keyframes.length - 1] };\n        }\n        const { finalKeyframe, generator, mirroredGenerator, mapPercentToKeyframes, keyframes, calculatedDuration, totalDuration, resolvedDuration, } = resolved;\n        if (this.startTime === null)\n            return generator.next(0);\n        const { delay, repeat, repeatType, repeatDelay, onUpdate } = this.options;\n        /**\n         * requestAnimationFrame timestamps can come through as lower than\n         * the startTime as set by performance.now(). Here we prevent this,\n         * though in the future it could be possible to make setting startTime\n         * a pending operation that gets resolved here.\n         */\n        if (this.speed > 0) {\n            this.startTime = Math.min(this.startTime, timestamp);\n        }\n        else if (this.speed < 0) {\n            this.startTime = Math.min(timestamp - totalDuration / this.speed, this.startTime);\n        }\n        // Update currentTime\n        if (sample) {\n            this.currentTime = timestamp;\n        }\n        else if (this.holdTime !== null) {\n            this.currentTime = this.holdTime;\n        }\n        else {\n            // Rounding the time because floating point arithmetic is not always accurate, e.g. 3000.367 - 1000.367 =\n            // 2000.0000000000002. This is a problem when we are comparing the currentTime with the duration, for\n            // example.\n            this.currentTime =\n                Math.round(timestamp - this.startTime) * this.speed;\n        }\n        // Rebase on delay\n        const timeWithoutDelay = this.currentTime - delay * (this.speed >= 0 ? 1 : -1);\n        const isInDelayPhase = this.speed >= 0\n            ? timeWithoutDelay < 0\n            : timeWithoutDelay > totalDuration;\n        this.currentTime = Math.max(timeWithoutDelay, 0);\n        // If this animation has finished, set the current time  to the total duration.\n        if (this.state === \"finished\" && this.holdTime === null) {\n            this.currentTime = totalDuration;\n        }\n        let elapsed = this.currentTime;\n        let frameGenerator = generator;\n        if (repeat) {\n            /**\n             * Get the current progress (0-1) of the animation. If t is >\n             * than duration we'll get values like 2.5 (midway through the\n             * third iteration)\n             */\n            const progress = Math.min(this.currentTime, totalDuration) / resolvedDuration;\n            /**\n             * Get the current iteration (0 indexed). For instance the floor of\n             * 2.5 is 2.\n             */\n            let currentIteration = Math.floor(progress);\n            /**\n             * Get the current progress of the iteration by taking the remainder\n             * so 2.5 is 0.5 through iteration 2\n             */\n            let iterationProgress = progress % 1.0;\n            /**\n             * If iteration progress is 1 we count that as the end\n             * of the previous iteration.\n             */\n            if (!iterationProgress && progress >= 1) {\n                iterationProgress = 1;\n            }\n            iterationProgress === 1 && currentIteration--;\n            currentIteration = Math.min(currentIteration, repeat + 1);\n            /**\n             * Reverse progress if we're not running in \"normal\" direction\n             */\n            const isOddIteration = Boolean(currentIteration % 2);\n            if (isOddIteration) {\n                if (repeatType === \"reverse\") {\n                    iterationProgress = 1 - iterationProgress;\n                    if (repeatDelay) {\n                        iterationProgress -= repeatDelay / resolvedDuration;\n                    }\n                }\n                else if (repeatType === \"mirror\") {\n                    frameGenerator = mirroredGenerator;\n                }\n            }\n            elapsed = clamp(0, 1, iterationProgress) * resolvedDuration;\n        }\n        /**\n         * If we're in negative time, set state as the initial keyframe.\n         * This prevents delay: x, duration: 0 animations from finishing\n         * instantly.\n         */\n        const state = isInDelayPhase\n            ? { done: false, value: keyframes[0] }\n            : frameGenerator.next(elapsed);\n        if (mapPercentToKeyframes) {\n            state.value = mapPercentToKeyframes(state.value);\n        }\n        let { done } = state;\n        if (!isInDelayPhase && calculatedDuration !== null) {\n            done =\n                this.speed >= 0\n                    ? this.currentTime >= totalDuration\n                    : this.currentTime <= 0;\n        }\n        const isAnimationFinished = this.holdTime === null &&\n            (this.state === \"finished\" || (this.state === \"running\" && done));\n        if (isAnimationFinished && finalKeyframe !== undefined) {\n            state.value = getFinalKeyframe(keyframes, this.options, finalKeyframe);\n        }\n        if (onUpdate) {\n            onUpdate(state.value);\n        }\n        if (isAnimationFinished) {\n            this.finish();\n        }\n        return state;\n    }\n    get duration() {\n        const { resolved } = this;\n        return resolved ? millisecondsToSeconds(resolved.calculatedDuration) : 0;\n    }\n    get time() {\n        return millisecondsToSeconds(this.currentTime);\n    }\n    set time(newTime) {\n        newTime = secondsToMilliseconds(newTime);\n        this.currentTime = newTime;\n        if (this.holdTime !== null || this.speed === 0) {\n            this.holdTime = newTime;\n        }\n        else if (this.driver) {\n            this.startTime = this.driver.now() - newTime / this.speed;\n        }\n    }\n    get speed() {\n        return this.playbackSpeed;\n    }\n    set speed(newSpeed) {\n        const hasChanged = this.playbackSpeed !== newSpeed;\n        this.playbackSpeed = newSpeed;\n        if (hasChanged) {\n            this.time = millisecondsToSeconds(this.currentTime);\n        }\n    }\n    play() {\n        if (!this.resolver.isScheduled) {\n            this.resolver.resume();\n        }\n        if (!this._resolved) {\n            this.pendingPlayState = \"running\";\n            return;\n        }\n        if (this.isStopped)\n            return;\n        const { driver = frameloopDriver, onPlay } = this.options;\n        if (!this.driver) {\n            this.driver = driver((timestamp) => this.tick(timestamp));\n        }\n        onPlay && onPlay();\n        const now = this.driver.now();\n        if (this.holdTime !== null) {\n            this.startTime = now - this.holdTime;\n        }\n        else if (!this.startTime || this.state === \"finished\") {\n            this.startTime = now;\n        }\n        if (this.state === \"finished\") {\n            this.updateFinishedPromise();\n        }\n        this.cancelTime = this.startTime;\n        this.holdTime = null;\n        /**\n         * Set playState to running only after we've used it in\n         * the previous logic.\n         */\n        this.state = \"running\";\n        this.driver.start();\n    }\n    pause() {\n        var _a;\n        if (!this._resolved) {\n            this.pendingPlayState = \"paused\";\n            return;\n        }\n        this.state = \"paused\";\n        this.holdTime = (_a = this.currentTime) !== null && _a !== void 0 ? _a : 0;\n    }\n    stop() {\n        this.resolver.cancel();\n        this.isStopped = true;\n        if (this.state === \"idle\")\n            return;\n        this.teardown();\n        const { onStop } = this.options;\n        onStop && onStop();\n    }\n    complete() {\n        if (this.state !== \"running\") {\n            this.play();\n        }\n        this.pendingPlayState = this.state = \"finished\";\n        this.holdTime = null;\n    }\n    finish() {\n        this.teardown();\n        this.state = \"finished\";\n        const { onComplete } = this.options;\n        onComplete && onComplete();\n    }\n    cancel() {\n        if (this.cancelTime !== null) {\n            this.tick(this.cancelTime);\n        }\n        this.teardown();\n        this.updateFinishedPromise();\n    }\n    teardown() {\n        this.state = \"idle\";\n        this.stopDriver();\n        this.resolveFinishedPromise();\n        this.updateFinishedPromise();\n        this.startTime = this.cancelTime = null;\n        this.resolver.cancel();\n    }\n    stopDriver() {\n        if (!this.driver)\n            return;\n        this.driver.stop();\n        this.driver = undefined;\n    }\n    sample(time) {\n        this.startTime = 0;\n        return this.tick(time, true);\n    }\n}\n// Legacy interface\nfunction animateValue(options) {\n    return new MainThreadAnimation(options);\n}\n\nexport { MainThreadAnimation, animateValue };\n","const isBezierDefinition = (easing) => Array.isArray(easing) && typeof easing[0] === \"number\";\n\nexport { isBezierDefinition };\n","import { isBezierDefinition } from '../../../easing/utils/is-bezier-definition.mjs';\n\nfunction isWaapiSupportedEasing(easing) {\n    return Boolean(!easing ||\n        (typeof easing === \"string\" && supportedWaapiEasing[easing]) ||\n        isBezierDefinition(easing) ||\n        (Array.isArray(easing) && easing.every(isWaapiSupportedEasing)));\n}\nconst cubicBezierAsString = ([a, b, c, d]) => `cubic-bezier(${a}, ${b}, ${c}, ${d})`;\nconst supportedWaapiEasing = {\n    linear: \"linear\",\n    ease: \"ease\",\n    easeIn: \"ease-in\",\n    easeOut: \"ease-out\",\n    easeInOut: \"ease-in-out\",\n    circIn: cubicBezierAsString([0, 0.65, 0.55, 1]),\n    circOut: cubicBezierAsString([0.55, 0, 1, 0.45]),\n    backIn: cubicBezierAsString([0.31, 0.01, 0.66, -0.59]),\n    backOut: cubicBezierAsString([0.33, 1.53, 0.69, 0.99]),\n};\nfunction mapEasingToNativeEasing(easing) {\n    if (!easing)\n        return undefined;\n    return isBezierDefinition(easing)\n        ? cubicBezierAsString(easing)\n        : Array.isArray(easing)\n            ? easing.map(mapEasingToNativeEasing)\n            : supportedWaapiEasing[easing];\n}\n\nexport { cubicBezierAsString, isWaapiSupportedEasing, mapEasingToNativeEasing, supportedWaapiEasing };\n","import { time } from '../../frameloop/sync-time.mjs';\nimport { DOMKeyframesResolver } from '../../render/dom/DOMKeyframesResolver.mjs';\nimport { memo } from '../../utils/memo.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { BaseAnimation } from './BaseAnimation.mjs';\nimport { MainThreadAnimation } from './MainThreadAnimation.mjs';\nimport { animateStyle } from './waapi/index.mjs';\nimport { isWaapiSupportedEasing } from './waapi/easing.mjs';\nimport { getFinalKeyframe } from './waapi/utils/get-final-keyframe.mjs';\n\nconst supportsWaapi = memo(() => Object.hasOwnProperty.call(Element.prototype, \"animate\"));\n/**\n * A list of values that can be hardware-accelerated.\n */\nconst acceleratedValues = new Set([\n    \"opacity\",\n    \"clipPath\",\n    \"filter\",\n    \"transform\",\n    // TODO: Can be accelerated but currently disabled until https://issues.chromium.org/issues/41491098 is resolved\n    // or until we implement support for linear() easing.\n    // \"background-color\"\n]);\n/**\n * 10ms is chosen here as it strikes a balance between smooth\n * results (more than one keyframe per frame at 60fps) and\n * keyframe quantity.\n */\nconst sampleDelta = 10; //ms\n/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxDuration = 20000;\n/**\n * Check if an animation can run natively via WAAPI or requires pregenerated keyframes.\n * WAAPI doesn't support spring or function easings so we run these as JS animation before\n * handing off.\n */\nfunction requiresPregeneratedKeyframes(options) {\n    return (options.type === \"spring\" ||\n        options.name === \"backgroundColor\" ||\n        !isWaapiSupportedEasing(options.ease));\n}\nfunction pregenerateKeyframes(keyframes, options) {\n    /**\n     * Create a main-thread animation to pregenerate keyframes.\n     * We sample this at regular intervals to generate keyframes that we then\n     * linearly interpolate between.\n     */\n    const sampleAnimation = new MainThreadAnimation({\n        ...options,\n        keyframes,\n        repeat: 0,\n        delay: 0,\n        isGenerator: true,\n    });\n    let state = { done: false, value: keyframes[0] };\n    const pregeneratedKeyframes = [];\n    /**\n     * Bail after 20 seconds of pre-generated keyframes as it's likely\n     * we're heading for an infinite loop.\n     */\n    let t = 0;\n    while (!state.done && t < maxDuration) {\n        state = sampleAnimation.sample(t);\n        pregeneratedKeyframes.push(state.value);\n        t += sampleDelta;\n    }\n    return {\n        times: undefined,\n        keyframes: pregeneratedKeyframes,\n        duration: t - sampleDelta,\n        ease: \"linear\",\n    };\n}\nclass AcceleratedAnimation extends BaseAnimation {\n    constructor(options) {\n        super(options);\n        const { name, motionValue, keyframes } = this.options;\n        this.resolver = new DOMKeyframesResolver(keyframes, (resolvedKeyframes, finalKeyframe) => this.onKeyframesResolved(resolvedKeyframes, finalKeyframe), name, motionValue);\n        this.resolver.scheduleResolve();\n    }\n    initPlayback(keyframes, finalKeyframe) {\n        var _a;\n        let { duration = 300, times, ease, type, motionValue, name, } = this.options;\n        /**\n         * If element has since been unmounted, return false to indicate\n         * the animation failed to initialised.\n         */\n        if (!((_a = motionValue.owner) === null || _a === void 0 ? void 0 : _a.current)) {\n            return false;\n        }\n        /**\n         * If this animation needs pre-generated keyframes then generate.\n         */\n        if (requiresPregeneratedKeyframes(this.options)) {\n            const { onComplete, onUpdate, motionValue, ...options } = this.options;\n            const pregeneratedAnimation = pregenerateKeyframes(keyframes, options);\n            keyframes = pregeneratedAnimation.keyframes;\n            // If this is a very short animation, ensure we have\n            // at least two keyframes to animate between as older browsers\n            // can't animate between a single keyframe.\n            if (keyframes.length === 1) {\n                keyframes[1] = keyframes[0];\n            }\n            duration = pregeneratedAnimation.duration;\n            times = pregeneratedAnimation.times;\n            ease = pregeneratedAnimation.ease;\n            type = \"keyframes\";\n        }\n        const animation = animateStyle(motionValue.owner.current, name, keyframes, { ...this.options, duration, times, ease });\n        // Override the browser calculated startTime with one synchronised to other JS\n        // and WAAPI animations starting this event loop.\n        animation.startTime = time.now();\n        if (this.pendingTimeline) {\n            animation.timeline = this.pendingTimeline;\n            this.pendingTimeline = undefined;\n        }\n        else {\n            /**\n             * Prefer the `onfinish` prop as it's more widely supported than\n             * the `finished` promise.\n             *\n             * Here, we synchronously set the provided MotionValue to the end\n             * keyframe. If we didn't, when the WAAPI animation is finished it would\n             * be removed from the element which would then revert to its old styles.\n             */\n            animation.onfinish = () => {\n                const { onComplete } = this.options;\n                motionValue.set(getFinalKeyframe(keyframes, this.options, finalKeyframe));\n                onComplete && onComplete();\n                this.cancel();\n                this.resolveFinishedPromise();\n            };\n        }\n        return {\n            animation,\n            duration,\n            times,\n            type,\n            ease,\n            keyframes: keyframes,\n        };\n    }\n    get duration() {\n        const { resolved } = this;\n        if (!resolved)\n            return 0;\n        const { duration } = resolved;\n        return millisecondsToSeconds(duration);\n    }\n    get time() {\n        const { resolved } = this;\n        if (!resolved)\n            return 0;\n        const { animation } = resolved;\n        return millisecondsToSeconds(animation.currentTime || 0);\n    }\n    set time(newTime) {\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        const { animation } = resolved;\n        animation.currentTime = secondsToMilliseconds(newTime);\n    }\n    get speed() {\n        const { resolved } = this;\n        if (!resolved)\n            return 1;\n        const { animation } = resolved;\n        return animation.playbackRate;\n    }\n    set speed(newSpeed) {\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        const { animation } = resolved;\n        animation.playbackRate = newSpeed;\n    }\n    get state() {\n        const { resolved } = this;\n        if (!resolved)\n            return \"idle\";\n        const { animation } = resolved;\n        return animation.playState;\n    }\n    /**\n     * Replace the default DocumentTimeline with another AnimationTimeline.\n     * Currently used for scroll animations.\n     */\n    attachTimeline(timeline) {\n        if (!this._resolved) {\n            this.pendingTimeline = timeline;\n        }\n        else {\n            const { resolved } = this;\n            if (!resolved)\n                return noop;\n            const { animation } = resolved;\n            animation.timeline = timeline;\n            animation.onfinish = null;\n        }\n        return noop;\n    }\n    play() {\n        if (this.isStopped)\n            return;\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        const { animation } = resolved;\n        if (animation.playState === \"finished\") {\n            this.updateFinishedPromise();\n        }\n        animation.play();\n    }\n    pause() {\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        const { animation } = resolved;\n        animation.pause();\n    }\n    stop() {\n        this.resolver.cancel();\n        this.isStopped = true;\n        if (this.state === \"idle\")\n            return;\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        const { animation, keyframes, duration, type, ease, times } = resolved;\n        if (animation.playState === \"idle\" ||\n            animation.playState === \"finished\") {\n            return;\n        }\n        /**\n         * WAAPI doesn't natively have any interruption capabilities.\n         *\n         * Rather than read commited styles back out of the DOM, we can\n         * create a renderless JS animation and sample it twice to calculate\n         * its current value, \"previous\" value, and therefore allow\n         * Motion to calculate velocity for any subsequent animation.\n         */\n        if (this.time) {\n            const { motionValue, onUpdate, onComplete, ...options } = this.options;\n            const sampleAnimation = new MainThreadAnimation({\n                ...options,\n                keyframes,\n                duration,\n                type,\n                ease,\n                times,\n                isGenerator: true,\n            });\n            const sampleTime = secondsToMilliseconds(this.time);\n            motionValue.setWithVelocity(sampleAnimation.sample(sampleTime - sampleDelta).value, sampleAnimation.sample(sampleTime).value, sampleDelta);\n        }\n        this.cancel();\n    }\n    complete() {\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        resolved.animation.finish();\n    }\n    cancel() {\n        const { resolved } = this;\n        if (!resolved)\n            return;\n        resolved.animation.cancel();\n    }\n    static supports(options) {\n        const { motionValue, name, repeatDelay, repeatType, damping, type } = options;\n        return (supportsWaapi() &&\n            name &&\n            acceleratedValues.has(name) &&\n            motionValue &&\n            motionValue.owner &&\n            motionValue.owner.current instanceof HTMLElement &&\n            /**\n             * If we're outputting values to onUpdate then we can't use WAAPI as there's\n             * no way to read the value from WAAPI every frame.\n             */\n            !motionValue.owner.getProps().onUpdate &&\n            !repeatDelay &&\n            repeatType !== \"mirror\" &&\n            damping !== 0 &&\n            type !== \"inertia\");\n    }\n}\n\nexport { AcceleratedAnimation };\n","import { mapEasingToNativeEasing } from './easing.mjs';\n\nfunction animateStyle(element, valueName, keyframes, { delay = 0, duration = 300, repeat = 0, repeatType = \"loop\", ease, times, } = {}) {\n    const keyframeOptions = { [valueName]: keyframes };\n    if (times)\n        keyframeOptions.offset = times;\n    const easing = mapEasingToNativeEasing(ease);\n    /**\n     * If this is an easing array, apply to keyframes, not animation as a whole\n     */\n    if (Array.isArray(easing))\n        keyframeOptions.easing = easing;\n    return element.animate(keyframeOptions, {\n        delay,\n        duration,\n        easing: !Array.isArray(easing) ? easing : \"linear\",\n        fill: \"both\",\n        iterations: repeat + 1,\n        direction: repeatType === \"reverse\" ? \"alternate\" : \"normal\",\n    });\n}\n\nexport { animateStyle };\n","import { secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { getDefaultTransition } from '../utils/default-transitions.mjs';\nimport { getValueTransition, isTransitionDefined } from '../utils/transitions.mjs';\nimport { MotionGlobalConfig } from '../../utils/GlobalConfig.mjs';\nimport { instantAnimationState } from '../../utils/use-instant-transition-state.mjs';\nimport { getFinalKeyframe } from '../animators/waapi/utils/get-final-keyframe.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\nimport { AcceleratedAnimation } from '../animators/AcceleratedAnimation.mjs';\nimport { MainThreadAnimation } from '../animators/MainThreadAnimation.mjs';\n\nconst animateMotionValue = (name, value, target, transition = {}, element, isHandoff) => (onComplete) => {\n    const valueTransition = getValueTransition(transition, name) || {};\n    /**\n     * Most transition values are currently completely overwritten by value-specific\n     * transitions. In the future it'd be nicer to blend these transitions. But for now\n     * delay actually does inherit from the root transition if not value-specific.\n     */\n    const delay = valueTransition.delay || transition.delay || 0;\n    /**\n     * Elapsed isn't a public transition option but can be passed through from\n     * optimized appear effects in milliseconds.\n     */\n    let { elapsed = 0 } = transition;\n    elapsed = elapsed - secondsToMilliseconds(delay);\n    let options = {\n        keyframes: Array.isArray(target) ? target : [null, target],\n        ease: \"easeOut\",\n        velocity: value.getVelocity(),\n        ...valueTransition,\n        delay: -elapsed,\n        onUpdate: (v) => {\n            value.set(v);\n            valueTransition.onUpdate && valueTransition.onUpdate(v);\n        },\n        onComplete: () => {\n            onComplete();\n            valueTransition.onComplete && valueTransition.onComplete();\n        },\n        name,\n        motionValue: value,\n        element: isHandoff ? undefined : element,\n    };\n    /**\n     * If there's no transition defined for this value, we can generate\n     * unqiue transition settings for this value.\n     */\n    if (!isTransitionDefined(valueTransition)) {\n        options = {\n            ...options,\n            ...getDefaultTransition(name, options),\n        };\n    }\n    /**\n     * Both WAAPI and our internal animation functions use durations\n     * as defined by milliseconds, while our external API defines them\n     * as seconds.\n     */\n    if (options.duration) {\n        options.duration = secondsToMilliseconds(options.duration);\n    }\n    if (options.repeatDelay) {\n        options.repeatDelay = secondsToMilliseconds(options.repeatDelay);\n    }\n    if (options.from !== undefined) {\n        options.keyframes[0] = options.from;\n    }\n    let shouldSkip = false;\n    if (options.type === false) {\n        options.duration = 0;\n        if (options.delay === 0) {\n            shouldSkip = true;\n        }\n    }\n    if (instantAnimationState.current ||\n        MotionGlobalConfig.skipAnimations) {\n        shouldSkip = true;\n        options.duration = 0;\n        options.delay = 0;\n    }\n    /**\n     * If we can or must skip creating the animation, and apply only\n     * the final keyframe, do so. We also check once keyframes are resolved but\n     * this early check prevents the need to create an animation at all.\n     */\n    if (shouldSkip && !isHandoff && value.get() !== undefined) {\n        const finalKeyframe = getFinalKeyframe(options.keyframes, valueTransition);\n        if (finalKeyframe !== undefined) {\n            frame.update(() => {\n                options.onUpdate(finalKeyframe);\n                options.onComplete();\n            });\n            return;\n        }\n    }\n    /**\n     * Animate via WAAPI if possible. If this is a handoff animation, the optimised animation will be running via\n     * WAAPI. Therefore, this animation must be JS to ensure it runs \"under\" the\n     * optimised animation.\n     */\n    if (!isHandoff && AcceleratedAnimation.supports(options)) {\n        return new AcceleratedAnimation(options);\n    }\n    else {\n        return new MainThreadAnimation(options);\n    }\n};\n\nexport { animateMotionValue };\n","import { isMotionValue } from '../utils/is-motion-value.mjs';\n\nfunction isWillChangeMotionValue(value) {\n    return Boolean(isMotionValue(value) && value.add);\n}\n\nexport { isWillChangeMotionValue };\n","function addUniqueItem(arr, item) {\n    if (arr.indexOf(item) === -1)\n        arr.push(item);\n}\nfunction removeItem(arr, item) {\n    const index = arr.indexOf(item);\n    if (index > -1)\n        arr.splice(index, 1);\n}\n// Adapted from array-move\nfunction moveItem([...arr], fromIndex, toIndex) {\n    const startIndex = fromIndex < 0 ? arr.length + fromIndex : fromIndex;\n    if (startIndex >= 0 && startIndex < arr.length) {\n        const endIndex = toIndex < 0 ? arr.length + toIndex : toIndex;\n        const [item] = arr.splice(fromIndex, 1);\n        arr.splice(endIndex, 0, item);\n    }\n    return arr;\n}\n\nexport { addUniqueItem, moveItem, removeItem };\n","import { addUniqueItem, removeItem } from './array.mjs';\n\nclass SubscriptionManager {\n    constructor() {\n        this.subscriptions = [];\n    }\n    add(handler) {\n        addUniqueItem(this.subscriptions, handler);\n        return () => removeItem(this.subscriptions, handler);\n    }\n    notify(a, b, c) {\n        const numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (let i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                const handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    }\n    getSize() {\n        return this.subscriptions.length;\n    }\n    clear() {\n        this.subscriptions.length = 0;\n    }\n}\n\nexport { SubscriptionManager };\n","import { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { velocityPerSecond } from '../utils/velocity-per-second.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { time } from '../frameloop/sync-time.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\n/**\n * Maximum time between the value of two frames, beyond which we\n * assume the velocity has since been 0.\n */\nconst MAX_VELOCITY_DELTA = 30;\nconst isFloat = (value) => {\n    return !isNaN(parseFloat(value));\n};\nconst collectMotionValues = {\n    current: undefined,\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nclass MotionValue {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     *\n     * @internal\n     */\n    constructor(init, options = {}) {\n        /**\n         * This will be replaced by the build step with the latest version number.\n         * When MotionValues are provided to motion components, warn if versions are mixed.\n         */\n        this.version = \"11.0.22\";\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = false;\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        this.updateAndNotify = (v, render = true) => {\n            const currentTime = time.now();\n            /**\n             * If we're updating the value during another frame or eventloop\n             * than the previous frame, then the we set the previous frame value\n             * to current.\n             */\n            if (this.updatedAt !== currentTime) {\n                this.setPrevFrameValue();\n            }\n            this.prev = this.current;\n            this.setCurrent(v);\n            // Update update subscribers\n            if (this.current !== this.prev && this.events.change) {\n                this.events.change.notify(this.current);\n            }\n            // Update render subscribers\n            if (render && this.events.renderRequest) {\n                this.events.renderRequest.notify(this.current);\n            }\n        };\n        this.hasAnimated = false;\n        this.setCurrent(init);\n        this.canTrackVelocity = isFloat(this.current);\n        this.owner = options.owner;\n    }\n    setCurrent(current) {\n        this.current = current;\n        this.updatedAt = time.now();\n    }\n    setPrevFrameValue(prevFrameValue = this.current) {\n        this.prevFrameValue = prevFrameValue;\n        this.prevUpdatedAt = this.updatedAt;\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.on(\"change\", updateOpacity)\n     *     const unsubscribeY = y.on(\"change\", updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @deprecated\n     */\n    onChange(subscription) {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, `value.onChange(callback) is deprecated. Switch to value.on(\"change\", callback).`);\n        }\n        return this.on(\"change\", subscription);\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        const unsubscribe = this.events[eventName].add(callback);\n        if (eventName === \"change\") {\n            return () => {\n                unsubscribe();\n                /**\n                 * If we have no more change listeners by the start\n                 * of the next frame, stop active animations.\n                 */\n                frame.read(() => {\n                    if (!this.events.change.getSize()) {\n                        this.stop();\n                    }\n                });\n            };\n        }\n        return unsubscribe;\n    }\n    clearListeners() {\n        for (const eventManagers in this.events) {\n            this.events[eventManagers].clear();\n        }\n    }\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     *\n     * @internal\n     */\n    attach(passiveEffect, stopPassiveEffect) {\n        this.passiveEffect = passiveEffect;\n        this.stopPassiveEffect = stopPassiveEffect;\n    }\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    set(v, render = true) {\n        if (!render || !this.passiveEffect) {\n            this.updateAndNotify(v, render);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    }\n    setWithVelocity(prev, current, delta) {\n        this.set(current);\n        this.prev = undefined;\n        this.prevFrameValue = prev;\n        this.prevUpdatedAt = this.updatedAt - delta;\n    }\n    /**\n     * Set the state of the `MotionValue`, stopping any active animations,\n     * effects, and resets velocity to `0`.\n     */\n    jump(v, endAnimation = true) {\n        this.updateAndNotify(v);\n        this.prev = v;\n        this.prevUpdatedAt = this.prevFrameValue = undefined;\n        endAnimation && this.stop();\n        if (this.stopPassiveEffect)\n            this.stopPassiveEffect();\n    }\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    get() {\n        if (collectMotionValues.current) {\n            collectMotionValues.current.push(this);\n        }\n        return this.current;\n    }\n    /**\n     * @public\n     */\n    getPrevious() {\n        return this.prev;\n    }\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    getVelocity() {\n        const currentTime = time.now();\n        if (!this.canTrackVelocity ||\n            this.prevFrameValue === undefined ||\n            currentTime - this.updatedAt > MAX_VELOCITY_DELTA) {\n            return 0;\n        }\n        const delta = Math.min(this.updatedAt - this.prevUpdatedAt, MAX_VELOCITY_DELTA);\n        // Casts because of parseFloat's poor typing\n        return velocityPerSecond(parseFloat(this.current) -\n            parseFloat(this.prevFrameValue), delta);\n    }\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     *\n     * @internal\n     */\n    start(startAnimation) {\n        this.stop();\n        return new Promise((resolve) => {\n            this.hasAnimated = true;\n            this.animation = startAnimation(resolve);\n            if (this.events.animationStart) {\n                this.events.animationStart.notify();\n            }\n        }).then(() => {\n            if (this.events.animationComplete) {\n                this.events.animationComplete.notify();\n            }\n            this.clearAnimation();\n        });\n    }\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    stop() {\n        if (this.animation) {\n            this.animation.stop();\n            if (this.events.animationCancel) {\n                this.events.animationCancel.notify();\n            }\n        }\n        this.clearAnimation();\n    }\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    isAnimating() {\n        return !!this.animation;\n    }\n    clearAnimation() {\n        delete this.animation;\n    }\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    destroy() {\n        this.clearListeners();\n        this.stop();\n        if (this.stopPassiveEffect) {\n            this.stopPassiveEffect();\n        }\n    }\n}\nfunction motionValue(init, options) {\n    return new MotionValue(init, options);\n}\n\nexport { MotionValue, collectMotionValues, motionValue };\n","import { resolveFinalValueInKeyframes } from '../../utils/resolve-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction setTarget(visualElement, definition) {\n    const resolved = resolveVariant(visualElement, definition);\n    let { transitionEnd = {}, transition = {}, ...target } = resolved || {};\n    target = { ...target, ...transitionEnd };\n    for (const key in target) {\n        const value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\n\nexport { setTarget };\n","import { transformProps } from '../../render/html/utils/transform.mjs';\nimport { optimizedAppearDataAttribute } from '../optimized-appear/data-id.mjs';\nimport { animateMotionValue } from './motion-value.mjs';\nimport { isWillChangeMotionValue } from '../../value/use-will-change/is.mjs';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { getValueTransition } from '../utils/transitions.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation({ protectedKeys, needsAnimating }, key) {\n    const shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n    needsAnimating[key] = false;\n    return shouldBlock;\n}\nfunction animateTarget(visualElement, targetAndTransition, { delay = 0, transitionOverride, type } = {}) {\n    var _a;\n    let { transition = visualElement.getDefaultTransition(), transitionEnd, ...target } = targetAndTransition;\n    const willChange = visualElement.getValue(\"willChange\");\n    if (transitionOverride)\n        transition = transitionOverride;\n    const animations = [];\n    const animationTypeState = type &&\n        visualElement.animationState &&\n        visualElement.animationState.getState()[type];\n    for (const key in target) {\n        const value = visualElement.getValue(key, (_a = visualElement.latestValues[key]) !== null && _a !== void 0 ? _a : null);\n        const valueTarget = target[key];\n        if (valueTarget === undefined ||\n            (animationTypeState &&\n                shouldBlockAnimation(animationTypeState, key))) {\n            continue;\n        }\n        const valueTransition = {\n            delay,\n            elapsed: 0,\n            ...getValueTransition(transition || {}, key),\n        };\n        /**\n         * If this is the first time a value is being animated, check\n         * to see if we're handling off from an existing animation.\n         */\n        let isHandoff = false;\n        if (window.HandoffAppearAnimations) {\n            const appearId = visualElement.getProps()[optimizedAppearDataAttribute];\n            if (appearId) {\n                const elapsed = window.HandoffAppearAnimations(appearId, key);\n                if (elapsed !== null) {\n                    valueTransition.elapsed = elapsed;\n                    isHandoff = true;\n                }\n            }\n        }\n        value.start(animateMotionValue(key, value, valueTarget, visualElement.shouldReduceMotion && transformProps.has(key)\n            ? { type: false }\n            : valueTransition, visualElement, isHandoff));\n        const animation = value.animation;\n        if (animation) {\n            if (isWillChangeMotionValue(willChange)) {\n                willChange.add(key);\n                animation.then(() => willChange.remove(key));\n            }\n            animations.push(animation);\n        }\n    }\n    if (transitionEnd) {\n        Promise.all(animations).then(() => {\n            frame.update(() => {\n                transitionEnd && setTarget(visualElement, transitionEnd);\n            });\n        });\n    }\n    return animations;\n}\n\nexport { animateTarget };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\n\nfunction animateVariant(visualElement, variant, options = {}) {\n    var _a;\n    const resolved = resolveVariant(visualElement, variant, options.type === \"exit\"\n        ? (_a = visualElement.presenceContext) === null || _a === void 0 ? void 0 : _a.custom\n        : undefined);\n    let { transition = visualElement.getDefaultTransition() || {} } = resolved || {};\n    if (options.transitionOverride) {\n        transition = options.transitionOverride;\n    }\n    /**\n     * If we have a variant, create a callback that runs it as an animation.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getAnimation = resolved\n        ? () => Promise.all(animateTarget(visualElement, resolved, options))\n        : () => Promise.resolve();\n    /**\n     * If we have children, create a callback that runs all their animations.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getChildAnimations = visualElement.variantChildren && visualElement.variantChildren.size\n        ? (forwardDelay = 0) => {\n            const { delayChildren = 0, staggerChildren, staggerDirection, } = transition;\n            return animateChildren(visualElement, variant, delayChildren + forwardDelay, staggerChildren, staggerDirection, options);\n        }\n        : () => Promise.resolve();\n    /**\n     * If the transition explicitly defines a \"when\" option, we need to resolve either\n     * this animation or all children animations before playing the other.\n     */\n    const { when } = transition;\n    if (when) {\n        const [first, last] = when === \"beforeChildren\"\n            ? [getAnimation, getChildAnimations]\n            : [getChildAnimations, getAnimation];\n        return first().then(() => last());\n    }\n    else {\n        return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n    }\n}\nfunction animateChildren(visualElement, variant, delayChildren = 0, staggerChildren = 0, staggerDirection = 1, options) {\n    const animations = [];\n    const maxStaggerDuration = (visualElement.variantChildren.size - 1) * staggerChildren;\n    const generateStaggerDuration = staggerDirection === 1\n        ? (i = 0) => i * staggerChildren\n        : (i = 0) => maxStaggerDuration - i * staggerChildren;\n    Array.from(visualElement.variantChildren)\n        .sort(sortByTreeOrder)\n        .forEach((child, i) => {\n        child.notify(\"AnimationStart\", variant);\n        animations.push(animateVariant(child, variant, {\n            ...options,\n            delay: delayChildren + generateStaggerDuration(i),\n        }).then(() => child.notify(\"AnimationComplete\", variant)));\n    });\n    return Promise.all(animations);\n}\nfunction sortByTreeOrder(a, b) {\n    return a.sortNodePosition(b);\n}\n\nexport { animateVariant, sortByTreeOrder };\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { shallowCompare } from '../../utils/shallow-compare.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\nimport { variantPriorityOrder } from './variant-props.mjs';\nimport { animateVisualElement } from '../../animation/interfaces/visual-element.mjs';\n\nconst reversePriorityOrder = [...variantPriorityOrder].reverse();\nconst numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n    return (animations) => Promise.all(animations.map(({ animation, options }) => animateVisualElement(visualElement, animation, options)));\n}\nfunction createAnimationState(visualElement) {\n    let animate = animateList(visualElement);\n    const state = createState();\n    let isInitialRender = true;\n    /**\n     * This function will be used to reduce the animation definitions for\n     * each active animation type into an object of resolved values for it.\n     */\n    const buildResolvedTypeValues = (type) => (acc, definition) => {\n        var _a;\n        const resolved = resolveVariant(visualElement, definition, type === \"exit\"\n            ? (_a = visualElement.presenceContext) === null || _a === void 0 ? void 0 : _a.custom\n            : undefined);\n        if (resolved) {\n            const { transition, transitionEnd, ...target } = resolved;\n            acc = { ...acc, ...target, ...transitionEnd };\n        }\n        return acc;\n    };\n    /**\n     * This just allows us to inject mocked animation functions\n     * @internal\n     */\n    function setAnimateFunction(makeAnimator) {\n        animate = makeAnimator(visualElement);\n    }\n    /**\n     * When we receive new props, we need to:\n     * 1. Create a list of protected keys for each type. This is a directory of\n     *    value keys that are currently being \"handled\" by types of a higher priority\n     *    so that whenever an animation is played of a given type, these values are\n     *    protected from being animated.\n     * 2. Determine if an animation type needs animating.\n     * 3. Determine if any values have been removed from a type and figure out\n     *    what to animate those to.\n     */\n    function animateChanges(changedActiveType) {\n        const props = visualElement.getProps();\n        const context = visualElement.getVariantContext(true) || {};\n        /**\n         * A list of animations that we'll build into as we iterate through the animation\n         * types. This will get executed at the end of the function.\n         */\n        const animations = [];\n        /**\n         * Keep track of which values have been removed. Then, as we hit lower priority\n         * animation types, we can check if they contain removed values and animate to that.\n         */\n        const removedKeys = new Set();\n        /**\n         * A dictionary of all encountered keys. This is an object to let us build into and\n         * copy it without iteration. Each time we hit an animation type we set its protected\n         * keys - the keys its not allowed to animate - to the latest version of this object.\n         */\n        let encounteredKeys = {};\n        /**\n         * If a variant has been removed at a given index, and this component is controlling\n         * variant animations, we want to ensure lower-priority variants are forced to animate.\n         */\n        let removedVariantIndex = Infinity;\n        /**\n         * Iterate through all animation types in reverse priority order. For each, we want to\n         * detect which values it's handling and whether or not they've changed (and therefore\n         * need to be animated). If any values have been removed, we want to detect those in\n         * lower priority props and flag for animation.\n         */\n        for (let i = 0; i < numAnimationTypes; i++) {\n            const type = reversePriorityOrder[i];\n            const typeState = state[type];\n            const prop = props[type] !== undefined ? props[type] : context[type];\n            const propIsVariant = isVariantLabel(prop);\n            /**\n             * If this type has *just* changed isActive status, set activeDelta\n             * to that status. Otherwise set to null.\n             */\n            const activeDelta = type === changedActiveType ? typeState.isActive : null;\n            if (activeDelta === false)\n                removedVariantIndex = i;\n            /**\n             * If this prop is an inherited variant, rather than been set directly on the\n             * component itself, we want to make sure we allow the parent to trigger animations.\n             *\n             * TODO: Can probably change this to a !isControllingVariants check\n             */\n            let isInherited = prop === context[type] && prop !== props[type] && propIsVariant;\n            /**\n             *\n             */\n            if (isInherited &&\n                isInitialRender &&\n                visualElement.manuallyAnimateOnMount) {\n                isInherited = false;\n            }\n            /**\n             * Set all encountered keys so far as the protected keys for this type. This will\n             * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n             */\n            typeState.protectedKeys = { ...encounteredKeys };\n            // Check if we can skip analysing this prop early\n            if (\n            // If it isn't active and hasn't *just* been set as inactive\n            (!typeState.isActive && activeDelta === null) ||\n                // If we didn't and don't have any defined prop for this animation type\n                (!prop && !typeState.prevProp) ||\n                // Or if the prop doesn't define an animation\n                isAnimationControls(prop) ||\n                typeof prop === \"boolean\") {\n                continue;\n            }\n            /**\n             * As we go look through the values defined on this type, if we detect\n             * a changed value or a value that was removed in a higher priority, we set\n             * this to true and add this prop to the animation list.\n             */\n            const variantDidChange = checkVariantsDidChange(typeState.prevProp, prop);\n            let shouldAnimateType = variantDidChange ||\n                // If we're making this variant active, we want to always make it active\n                (type === changedActiveType &&\n                    typeState.isActive &&\n                    !isInherited &&\n                    propIsVariant) ||\n                // If we removed a higher-priority variant (i is in reverse order)\n                (i > removedVariantIndex && propIsVariant);\n            let handledRemovedValues = false;\n            /**\n             * As animations can be set as variant lists, variants or target objects, we\n             * coerce everything to an array if it isn't one already\n             */\n            const definitionList = Array.isArray(prop) ? prop : [prop];\n            /**\n             * Build an object of all the resolved values. We'll use this in the subsequent\n             * animateChanges calls to determine whether a value has changed.\n             */\n            let resolvedValues = definitionList.reduce(buildResolvedTypeValues(type), {});\n            if (activeDelta === false)\n                resolvedValues = {};\n            /**\n             * Now we need to loop through all the keys in the prev prop and this prop,\n             * and decide:\n             * 1. If the value has changed, and needs animating\n             * 2. If it has been removed, and needs adding to the removedKeys set\n             * 3. If it has been removed in a higher priority type and needs animating\n             * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n             *    needs adding to the type's protectedKeys list.\n             */\n            const { prevResolvedValues = {} } = typeState;\n            const allKeys = {\n                ...prevResolvedValues,\n                ...resolvedValues,\n            };\n            const markToAnimate = (key) => {\n                shouldAnimateType = true;\n                if (removedKeys.has(key)) {\n                    handledRemovedValues = true;\n                    removedKeys.delete(key);\n                }\n                typeState.needsAnimating[key] = true;\n            };\n            for (const key in allKeys) {\n                const next = resolvedValues[key];\n                const prev = prevResolvedValues[key];\n                // If we've already handled this we can just skip ahead\n                if (encounteredKeys.hasOwnProperty(key))\n                    continue;\n                /**\n                 * If the value has changed, we probably want to animate it.\n                 */\n                let valueHasChanged = false;\n                if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n                    valueHasChanged = !shallowCompare(next, prev);\n                }\n                else {\n                    valueHasChanged = next !== prev;\n                }\n                if (valueHasChanged) {\n                    if (next !== undefined && next !== null) {\n                        // If next is defined and doesn't equal prev, it needs animating\n                        markToAnimate(key);\n                    }\n                    else {\n                        // If it's undefined, it's been removed.\n                        removedKeys.add(key);\n                    }\n                }\n                else if (next !== undefined && removedKeys.has(key)) {\n                    /**\n                     * If next hasn't changed and it isn't undefined, we want to check if it's\n                     * been removed by a higher priority\n                     */\n                    markToAnimate(key);\n                }\n                else {\n                    /**\n                     * If it hasn't changed, we add it to the list of protected values\n                     * to ensure it doesn't get animated.\n                     */\n                    typeState.protectedKeys[key] = true;\n                }\n            }\n            /**\n             * Update the typeState so next time animateChanges is called we can compare the\n             * latest prop and resolvedValues to these.\n             */\n            typeState.prevProp = prop;\n            typeState.prevResolvedValues = resolvedValues;\n            /**\n             *\n             */\n            if (typeState.isActive) {\n                encounteredKeys = { ...encounteredKeys, ...resolvedValues };\n            }\n            if (isInitialRender && visualElement.blockInitialAnimation) {\n                shouldAnimateType = false;\n            }\n            /**\n             * If this is an inherited prop we want to hard-block animations\n             */\n            if (shouldAnimateType && (!isInherited || handledRemovedValues)) {\n                animations.push(...definitionList.map((animation) => ({\n                    animation: animation,\n                    options: { type },\n                })));\n            }\n        }\n        /**\n         * If there are some removed value that haven't been dealt with,\n         * we need to create a new animation that falls back either to the value\n         * defined in the style prop, or the last read value.\n         */\n        if (removedKeys.size) {\n            const fallbackAnimation = {};\n            removedKeys.forEach((key) => {\n                const fallbackTarget = visualElement.getBaseTarget(key);\n                fallbackAnimation[key] =\n                    fallbackTarget === undefined ? null : fallbackTarget;\n            });\n            animations.push({ animation: fallbackAnimation });\n        }\n        let shouldAnimate = Boolean(animations.length);\n        if (isInitialRender &&\n            (props.initial === false || props.initial === props.animate) &&\n            !visualElement.manuallyAnimateOnMount) {\n            shouldAnimate = false;\n        }\n        isInitialRender = false;\n        return shouldAnimate ? animate(animations) : Promise.resolve();\n    }\n    /**\n     * Change whether a certain animation type is active.\n     */\n    function setActive(type, isActive) {\n        var _a;\n        // If the active state hasn't changed, we can safely do nothing here\n        if (state[type].isActive === isActive)\n            return Promise.resolve();\n        // Propagate active change to children\n        (_a = visualElement.variantChildren) === null || _a === void 0 ? void 0 : _a.forEach((child) => { var _a; return (_a = child.animationState) === null || _a === void 0 ? void 0 : _a.setActive(type, isActive); });\n        state[type].isActive = isActive;\n        const animations = animateChanges(type);\n        for (const key in state) {\n            state[key].protectedKeys = {};\n        }\n        return animations;\n    }\n    return {\n        animateChanges,\n        setActive,\n        setAnimateFunction,\n        getState: () => state,\n    };\n}\nfunction checkVariantsDidChange(prev, next) {\n    if (typeof next === \"string\") {\n        return next !== prev;\n    }\n    else if (Array.isArray(next)) {\n        return !shallowCompare(next, prev);\n    }\n    return false;\n}\nfunction createTypeState(isActive = false) {\n    return {\n        isActive,\n        protectedKeys: {},\n        needsAnimating: {},\n        prevResolvedValues: {},\n    };\n}\nfunction createState() {\n    return {\n        animate: createTypeState(true),\n        whileInView: createTypeState(),\n        whileHover: createTypeState(),\n        whileTap: createTypeState(),\n        whileDrag: createTypeState(),\n        whileFocus: createTypeState(),\n        exit: createTypeState(),\n    };\n}\n\nexport { checkVariantsDidChange, createAnimationState };\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\nimport { animateVariant } from './visual-element-variant.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nfunction animateVisualElement(visualElement, definition, options = {}) {\n    visualElement.notify(\"AnimationStart\", definition);\n    let animation;\n    if (Array.isArray(definition)) {\n        const animations = definition.map((variant) => animateVariant(visualElement, variant, options));\n        animation = Promise.all(animations);\n    }\n    else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options);\n    }\n    else {\n        const resolvedDefinition = typeof definition === \"function\"\n            ? resolveVariant(visualElement, definition, options.custom)\n            : definition;\n        animation = Promise.all(animateTarget(visualElement, resolvedDefinition, options));\n    }\n    return animation.then(() => {\n        frame.postRender(() => {\n            visualElement.notify(\"AnimationComplete\", definition);\n        });\n    });\n}\n\nexport { animateVisualElement };\n","import { Feature } from '../Feature.mjs';\n\nlet id = 0;\nclass ExitAnimationFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.id = id++;\n    }\n    update() {\n        if (!this.node.presenceContext)\n            return;\n        const { isPresent, onExitComplete } = this.node.presenceContext;\n        const { isPresent: prevIsPresent } = this.node.prevPresenceContext || {};\n        if (!this.node.animationState || isPresent === prevIsPresent) {\n            return;\n        }\n        const exitAnimation = this.node.animationState.setActive(\"exit\", !isPresent);\n        if (onExitComplete && !isPresent) {\n            exitAnimation.then(() => onExitComplete(this.id));\n        }\n    }\n    mount() {\n        const { register } = this.node.presenceContext || {};\n        if (register) {\n            this.unmount = register(this.id);\n        }\n    }\n    unmount() { }\n}\n\nexport { ExitAnimationFeature };\n","import { AnimationFeature } from './animation/index.mjs';\nimport { ExitAnimationFeature } from './animation/exit.mjs';\n\nconst animations = {\n    animation: {\n        Feature: AnimationFeature,\n    },\n    exit: {\n        Feature: ExitAnimationFeature,\n    },\n};\n\nexport { animations };\n","import { isAnimationControls } from '../../../animation/utils/is-animation-controls.mjs';\nimport { createAnimationState } from '../../../render/utils/animation-state.mjs';\nimport { Feature } from '../Feature.mjs';\n\nclass AnimationFeature extends Feature {\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    constructor(node) {\n        super(node);\n        node.animationState || (node.animationState = createAnimationState(node));\n    }\n    updateAnimationControlsSubscription() {\n        const { animate } = this.node.getProps();\n        this.unmount();\n        if (isAnimationControls(animate)) {\n            this.unmount = animate.subscribe(this.node);\n        }\n    }\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    mount() {\n        this.updateAnimationControlsSubscription();\n    }\n    update() {\n        const { animate } = this.node.getProps();\n        const { animate: prevAnimate } = this.node.prevProps || {};\n        if (animate !== prevAnimate) {\n            this.updateAnimationControlsSubscription();\n        }\n    }\n    unmount() { }\n}\n\nexport { AnimationFeature };\n","const distance = (a, b) => Math.abs(a - b);\nfunction distance2D(a, b) {\n    // Multi-dimensional\n    const xDelta = distance(a.x, b.x);\n    const yDelta = distance(a.y, b.y);\n    return Math.sqrt(xDelta ** 2 + yDelta ** 2);\n}\n\nexport { distance, distance2D };\n","import { extractEventInfo } from '../../events/event-info.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../utils/time-conversion.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { pipe } from '../../utils/pipe.mjs';\nimport { distance2D } from '../../utils/distance.mjs';\nimport { isPrimaryPointer } from '../../events/utils/is-primary-pointer.mjs';\nimport { frame, cancelFrame, frameData } from '../../frameloop/frame.mjs';\n\n/**\n * @internal\n */\nclass PanSession {\n    constructor(event, handlers, { transformPagePoint, contextWindow, dragSnapToOrigin = false } = {}) {\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        /**\n         * @internal\n         */\n        this.contextWindow = window;\n        this.updatePoint = () => {\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const info = getPanInfo(this.lastMoveEventInfo, this.history);\n            const isPanStarted = this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursoe.\n            const isDistancePastThreshold = distance2D(info.offset, { x: 0, y: 0 }) >= 3;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            const { point } = info;\n            const { timestamp } = frameData;\n            this.history.push({ ...point, timestamp });\n            const { onStart, onMove } = this.handlers;\n            if (!isPanStarted) {\n                onStart && onStart(this.lastMoveEvent, info);\n                this.startEvent = this.lastMoveEvent;\n            }\n            onMove && onMove(this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = (event, info) => {\n            this.lastMoveEvent = event;\n            this.lastMoveEventInfo = transformPoint(info, this.transformPagePoint);\n            // Throttle mouse move event to once per frame\n            frame.update(this.updatePoint, true);\n        };\n        this.handlePointerUp = (event, info) => {\n            this.end();\n            const { onEnd, onSessionEnd, resumeAnimation } = this.handlers;\n            if (this.dragSnapToOrigin)\n                resumeAnimation && resumeAnimation();\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const panInfo = getPanInfo(event.type === \"pointercancel\"\n                ? this.lastMoveEventInfo\n                : transformPoint(info, this.transformPagePoint), this.history);\n            if (this.startEvent && onEnd) {\n                onEnd(event, panInfo);\n            }\n            onSessionEnd && onSessionEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (!isPrimaryPointer(event))\n            return;\n        this.dragSnapToOrigin = dragSnapToOrigin;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        this.contextWindow = contextWindow || window;\n        const info = extractEventInfo(event);\n        const initialInfo = transformPoint(info, this.transformPagePoint);\n        const { point } = initialInfo;\n        const { timestamp } = frameData;\n        this.history = [{ ...point, timestamp }];\n        const { onSessionStart } = handlers;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = pipe(addPointerEvent(this.contextWindow, \"pointermove\", this.handlePointerMove), addPointerEvent(this.contextWindow, \"pointerup\", this.handlePointerUp), addPointerEvent(this.contextWindow, \"pointercancel\", this.handlePointerUp));\n    }\n    updateHandlers(handlers) {\n        this.handlers = handlers;\n    }\n    end() {\n        this.removeListeners && this.removeListeners();\n        cancelFrame(this.updatePoint);\n    }\n}\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo({ point }, history) {\n    return {\n        point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    let i = history.length - 1;\n    let timestampedPoint = null;\n    const lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    const time = millisecondsToSeconds(lastPoint.timestamp - timestampedPoint.timestamp);\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    const currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nexport { PanSession };\n","import { mixNumber } from '../../utils/mix/number.mjs';\n\nfunction calcLength(axis) {\n    return axis.max - axis.min;\n}\nfunction isNear(value, target = 0, maxDistance = 0.01) {\n    return Math.abs(value - target) <= maxDistance;\n}\nfunction calcAxisDelta(delta, source, target, origin = 0.5) {\n    delta.origin = origin;\n    delta.originPoint = mixNumber(source.min, source.max, delta.origin);\n    delta.scale = calcLength(target) / calcLength(source);\n    if (isNear(delta.scale, 1, 0.0001) || isNaN(delta.scale))\n        delta.scale = 1;\n    delta.translate =\n        mixNumber(target.min, target.max, delta.origin) - delta.originPoint;\n    if (isNear(delta.translate) || isNaN(delta.translate))\n        delta.translate = 0;\n}\nfunction calcBoxDelta(delta, source, target, origin) {\n    calcAxisDelta(delta.x, source.x, target.x, origin ? origin.originX : undefined);\n    calcAxisDelta(delta.y, source.y, target.y, origin ? origin.originY : undefined);\n}\nfunction calcRelativeAxis(target, relative, parent) {\n    target.min = parent.min + relative.min;\n    target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(target, relative, parent) {\n    calcRelativeAxis(target.x, relative.x, parent.x);\n    calcRelativeAxis(target.y, relative.y, parent.y);\n}\nfunction calcRelativeAxisPosition(target, layout, parent) {\n    target.min = layout.min - parent.min;\n    target.max = target.min + calcLength(layout);\n}\nfunction calcRelativePosition(target, layout, parent) {\n    calcRelativeAxisPosition(target.x, layout.x, parent.x);\n    calcRelativeAxisPosition(target.y, layout.y, parent.y);\n}\n\nexport { calcAxisDelta, calcBoxDelta, calcLength, calcRelativeAxis, calcRelativeAxisPosition, calcRelativeBox, calcRelativePosition, isNear };\n","import { progress } from '../../../utils/progress.mjs';\nimport { calcLength } from '../../../projection/geometry/delta-calc.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { mixNumber } from '../../../utils/mix/number.mjs';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, { min, max }, elastic) {\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic\n            ? mixNumber(min, point, elastic.min)\n            : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic\n            ? mixNumber(max, point, elastic.max)\n            : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, { top, left, bottom, right }) {\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    let min = constraintsAxis.min - layoutAxis.min;\n    let max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        [min, max] = [max, min];\n    }\n    return { min, max };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n    let origin = 0.5;\n    const sourceLength = calcLength(source);\n    const targetLength = calcLength(target);\n    if (targetLength > sourceLength) {\n        origin = progress(target.min, target.max - sourceLength, source.min);\n    }\n    else if (sourceLength > targetLength) {\n        origin = progress(source.min, source.max - targetLength, target.min);\n    }\n    return clamp(0, 1, origin);\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    const relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nconst defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic = defaultElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : dragElastic[label] || 0;\n}\n\nexport { applyConstraints, calcOrigin, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };\n","const createAxisDelta = () => ({\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0,\n});\nconst createDelta = () => ({\n    x: createAxisDelta(),\n    y: createAxisDelta(),\n});\nconst createAxis = () => ({ min: 0, max: 0 });\nconst createBox = () => ({\n    x: createAxis(),\n    y: createAxis(),\n});\n\nexport { createAxis, createAxisDelta, createBox, createDelta };\n","function eachAxis(callback) {\n    return [callback(\"x\"), callback(\"y\")];\n}\n\nexport { eachAxis };\n","/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToBox({ top, left, right, bottom, }) {\n    return {\n        x: { min: left, max: right },\n        y: { min: top, max: bottom },\n    };\n}\nfunction convertBoxToBoundingBox({ x, y }) {\n    return { top: y.min, right: x.max, bottom: y.max, left: x.min };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoxPoints(point, transformPoint) {\n    if (!transformPoint)\n        return point;\n    const topLeft = transformPoint({ x: point.left, y: point.top });\n    const bottomRight = transformPoint({ x: point.right, y: point.bottom });\n    return {\n        top: topLeft.y,\n        left: topLeft.x,\n        bottom: bottomRight.y,\n        right: bottomRight.x,\n    };\n}\n\nexport { convertBoundingBoxToBox, convertBoxToBoundingBox, transformBoxPoints };\n","function isIdentityScale(scale) {\n    return scale === undefined || scale === 1;\n}\nfunction hasScale({ scale, scaleX, scaleY }) {\n    return (!isIdentityScale(scale) ||\n        !isIdentityScale(scaleX) ||\n        !isIdentityScale(scaleY));\n}\nfunction hasTransform(values) {\n    return (hasScale(values) ||\n        has2DTranslate(values) ||\n        values.z ||\n        values.rotate ||\n        values.rotateX ||\n        values.rotateY ||\n        values.skewX ||\n        values.skewY);\n}\nfunction has2DTranslate(values) {\n    return is2DTranslate(values.x) || is2DTranslate(values.y);\n}\nfunction is2DTranslate(value) {\n    return value && value !== \"0%\";\n}\n\nexport { has2DTranslate, hasScale, hasTransform };\n","import { mixNumber } from '../../utils/mix/number.mjs';\nimport { hasTransform } from '../utils/has-transform.mjs';\n\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n    const distanceFromOrigin = point - originPoint;\n    const scaled = scale * distanceFromOrigin;\n    return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n    if (boxScale !== undefined) {\n        point = scalePoint(point, boxScale, originPoint);\n    }\n    return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate = 0, scale = 1, originPoint, boxScale) {\n    axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, { x, y }) {\n    applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n    applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath, isSharedTransition = false) {\n    const treeLength = treePath.length;\n    if (!treeLength)\n        return;\n    // Reset the treeScale\n    treeScale.x = treeScale.y = 1;\n    let node;\n    let delta;\n    for (let i = 0; i < treeLength; i++) {\n        node = treePath[i];\n        delta = node.projectionDelta;\n        /**\n         * TODO: Prefer to remove this, but currently we have motion components with\n         * display: contents in Framer.\n         */\n        const instance = node.instance;\n        if (instance &&\n            instance.style &&\n            instance.style.display === \"contents\") {\n            continue;\n        }\n        if (isSharedTransition &&\n            node.options.layoutScroll &&\n            node.scroll &&\n            node !== node.root) {\n            transformBox(box, {\n                x: -node.scroll.offset.x,\n                y: -node.scroll.offset.y,\n            });\n        }\n        if (delta) {\n            // Incoporate each ancestor's scale into a culmulative treeScale for this component\n            treeScale.x *= delta.x.scale;\n            treeScale.y *= delta.y.scale;\n            // Apply each ancestor's calculated delta into this component's recorded layout box\n            applyBoxDelta(box, delta);\n        }\n        if (isSharedTransition && hasTransform(node.latestValues)) {\n            transformBox(box, node.latestValues);\n        }\n    }\n    /**\n     * Snap tree scale back to 1 if it's within a non-perceivable threshold.\n     * This will help reduce useless scales getting rendered.\n     */\n    treeScale.x = snapToDefault(treeScale.x);\n    treeScale.y = snapToDefault(treeScale.y);\n}\nfunction snapToDefault(scale) {\n    if (Number.isInteger(scale))\n        return scale;\n    return scale > 1.0000000000001 || scale < 0.999999999999 ? scale : 1;\n}\nfunction translateAxis(axis, distance) {\n    axis.min = axis.min + distance;\n    axis.max = axis.max + distance;\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction transformAxis(axis, transforms, [key, scaleKey, originKey]) {\n    const axisOrigin = transforms[originKey] !== undefined ? transforms[originKey] : 0.5;\n    const originPoint = mixNumber(axis.min, axis.max, axisOrigin);\n    // Apply the axis delta to the final axis\n    applyAxisDelta(axis, transforms[key], transforms[scaleKey], originPoint, transforms.scale);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction transformBox(box, transform) {\n    transformAxis(box.x, transform, xKeys);\n    transformAxis(box.y, transform, yKeys);\n}\n\nexport { applyAxisDelta, applyBoxDelta, applyPointDelta, applyTreeDeltas, scalePoint, transformAxis, transformBox, translateAxis };\n","import { convertBoundingBoxToBox, transformBoxPoints } from '../geometry/conversion.mjs';\nimport { translateAxis } from '../geometry/delta-apply.mjs';\n\nfunction measureViewportBox(instance, transformPoint) {\n    return convertBoundingBoxToBox(transformBoxPoints(instance.getBoundingClientRect(), transformPoint));\n}\nfunction measurePageBox(element, rootProjectionNode, transformPagePoint) {\n    const viewportBox = measureViewportBox(element, transformPagePoint);\n    const { scroll } = rootProjectionNode;\n    if (scroll) {\n        translateAxis(viewportBox.x, scroll.offset.x);\n        translateAxis(viewportBox.y, scroll.offset.y);\n    }\n    return viewportBox;\n}\n\nexport { measurePageBox, measureViewportBox };\n","// Fixes https://github.com/framer/motion/issues/2270\nconst getContextWindow = ({ current }) => {\n    return current ? current.ownerDocument.defaultView : null;\n};\n\nexport { getContextWindow };\n","import { invariant } from '../../utils/errors.mjs';\nimport { PanSession } from '../pan/PanSession.mjs';\nimport { getGlobalLock } from './utils/lock.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { applyConstraints, calcRelativeConstraints, resolveDragElastic, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, calcOrigin } from './utils/constraints.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { eachAxis } from '../../projection/utils/each-axis.mjs';\nimport { measurePageBox } from '../../projection/utils/measure.mjs';\nimport { extractEventInfo } from '../../events/event-info.mjs';\nimport { convertBoxToBoundingBox, convertBoundingBoxToBox } from '../../projection/geometry/conversion.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\nimport { calcLength } from '../../projection/geometry/delta-calc.mjs';\nimport { mixNumber } from '../../utils/mix/number.mjs';\nimport { percent } from '../../value/types/numbers/units.mjs';\nimport { animateMotionValue } from '../../animation/interfaces/motion-value.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\n\nconst elementDragControls = new WeakMap();\n/**\n *\n */\n// let latestPointerEvent: PointerEvent\nclass VisualElementDragControls {\n    constructor(visualElement) {\n        // This is a reference to the global drag gesture lock, ensuring only one component\n        // can \"capture\" the drag of one or both axes.\n        // TODO: Look into moving this into pansession?\n        this.openGlobalLock = null;\n        this.isDragging = false;\n        this.currentDirection = null;\n        this.originPoint = { x: 0, y: 0 };\n        /**\n         * The permitted boundaries of travel, in pixels.\n         */\n        this.constraints = false;\n        this.hasMutatedConstraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         */\n        this.elastic = createBox();\n        this.visualElement = visualElement;\n    }\n    start(originEvent, { snapToCursor = false } = {}) {\n        /**\n         * Don't start dragging if this component is exiting\n         */\n        const { presenceContext } = this.visualElement;\n        if (presenceContext && presenceContext.isPresent === false)\n            return;\n        const onSessionStart = (event) => {\n            const { dragSnapToOrigin } = this.getProps();\n            // Stop or pause any animations on both axis values immediately. This allows the user to throw and catch\n            // the component.\n            dragSnapToOrigin ? this.pauseAnimation() : this.stopAnimation();\n            if (snapToCursor) {\n                this.snapToCursor(extractEventInfo(event, \"page\").point);\n            }\n        };\n        const onStart = (event, info) => {\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            const { drag, dragPropagation, onDragStart } = this.getProps();\n            if (drag && !dragPropagation) {\n                if (this.openGlobalLock)\n                    this.openGlobalLock();\n                this.openGlobalLock = getGlobalLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!this.openGlobalLock)\n                    return;\n            }\n            this.isDragging = true;\n            this.currentDirection = null;\n            this.resolveConstraints();\n            if (this.visualElement.projection) {\n                this.visualElement.projection.isAnimationBlocked = true;\n                this.visualElement.projection.target = undefined;\n            }\n            /**\n             * Record gesture origin\n             */\n            eachAxis((axis) => {\n                let current = this.getAxisMotionValue(axis).get() || 0;\n                /**\n                 * If the MotionValue is a percentage value convert to px\n                 */\n                if (percent.test(current)) {\n                    const { projection } = this.visualElement;\n                    if (projection && projection.layout) {\n                        const measuredAxis = projection.layout.layoutBox[axis];\n                        if (measuredAxis) {\n                            const length = calcLength(measuredAxis);\n                            current = length * (parseFloat(current) / 100);\n                        }\n                    }\n                }\n                this.originPoint[axis] = current;\n            });\n            // Fire onDragStart event\n            if (onDragStart)\n                onDragStart(event, info);\n            const { animationState } = this.visualElement;\n            animationState && animationState.setActive(\"whileDrag\", true);\n        };\n        const onMove = (event, info) => {\n            // latestPointerEvent = event\n            const { dragPropagation, dragDirectionLock, onDirectionLock, onDrag, } = this.getProps();\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !this.openGlobalLock)\n                return;\n            const { offset } = info;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && this.currentDirection === null) {\n                this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (this.currentDirection !== null) {\n                    onDirectionLock && onDirectionLock(this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            this.updateAxis(\"x\", info.point, offset);\n            this.updateAxis(\"y\", info.point, offset);\n            /**\n             * Ideally we would leave the renderer to fire naturally at the end of\n             * this frame but if the element is about to change layout as the result\n             * of a re-render we want to ensure the browser can read the latest\n             * bounding box to ensure the pointer and element don't fall out of sync.\n             */\n            this.visualElement.render();\n            /**\n             * This must fire after the render call as it might trigger a state\n             * change which itself might trigger a layout update.\n             */\n            onDrag && onDrag(event, info);\n        };\n        const onSessionEnd = (event, info) => this.stop(event, info);\n        const resumeAnimation = () => eachAxis((axis) => {\n            var _a;\n            return this.getAnimationState(axis) === \"paused\" &&\n                ((_a = this.getAxisMotionValue(axis).animation) === null || _a === void 0 ? void 0 : _a.play());\n        });\n        const { dragSnapToOrigin } = this.getProps();\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart,\n            onStart,\n            onMove,\n            onSessionEnd,\n            resumeAnimation,\n        }, {\n            transformPagePoint: this.visualElement.getTransformPagePoint(),\n            dragSnapToOrigin,\n            contextWindow: getContextWindow(this.visualElement),\n        });\n    }\n    stop(event, info) {\n        const isDragging = this.isDragging;\n        this.cancel();\n        if (!isDragging)\n            return;\n        const { velocity } = info;\n        this.startAnimation(velocity);\n        const { onDragEnd } = this.getProps();\n        if (onDragEnd)\n            onDragEnd(event, info);\n    }\n    cancel() {\n        this.isDragging = false;\n        const { projection, animationState } = this.visualElement;\n        if (projection) {\n            projection.isAnimationBlocked = false;\n        }\n        this.panSession && this.panSession.end();\n        this.panSession = undefined;\n        const { dragPropagation } = this.getProps();\n        if (!dragPropagation && this.openGlobalLock) {\n            this.openGlobalLock();\n            this.openGlobalLock = null;\n        }\n        animationState && animationState.setActive(\"whileDrag\", false);\n    }\n    updateAxis(axis, _point, offset) {\n        const { drag } = this.getProps();\n        // If we're not dragging this axis, do an early return.\n        if (!offset || !shouldDrag(axis, drag, this.currentDirection))\n            return;\n        const axisValue = this.getAxisMotionValue(axis);\n        let next = this.originPoint[axis] + offset[axis];\n        // Apply constraints\n        if (this.constraints && this.constraints[axis]) {\n            next = applyConstraints(next, this.constraints[axis], this.elastic[axis]);\n        }\n        axisValue.set(next);\n    }\n    resolveConstraints() {\n        var _a;\n        const { dragConstraints, dragElastic } = this.getProps();\n        const layout = this.visualElement.projection &&\n            !this.visualElement.projection.layout\n            ? this.visualElement.projection.measure(false)\n            : (_a = this.visualElement.projection) === null || _a === void 0 ? void 0 : _a.layout;\n        const prevConstraints = this.constraints;\n        if (dragConstraints && isRefObject(dragConstraints)) {\n            if (!this.constraints) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        }\n        else {\n            if (dragConstraints && layout) {\n                this.constraints = calcRelativeConstraints(layout.layoutBox, dragConstraints);\n            }\n            else {\n                this.constraints = false;\n            }\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (prevConstraints !== this.constraints &&\n            layout &&\n            this.constraints &&\n            !this.hasMutatedConstraints) {\n            eachAxis((axis) => {\n                if (this.getAxisMotionValue(axis)) {\n                    this.constraints[axis] = rebaseAxisConstraints(layout.layoutBox[axis], this.constraints[axis]);\n                }\n            });\n        }\n    }\n    resolveRefConstraints() {\n        const { dragConstraints: constraints, onMeasureDragConstraints } = this.getProps();\n        if (!constraints || !isRefObject(constraints))\n            return false;\n        const constraintsElement = constraints.current;\n        invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\");\n        const { projection } = this.visualElement;\n        // TODO\n        if (!projection || !projection.layout)\n            return false;\n        const constraintsBox = measurePageBox(constraintsElement, projection.root, this.visualElement.getTransformPagePoint());\n        let measuredConstraints = calcViewportConstraints(projection.layout.layoutBox, constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            const userConstraints = onMeasureDragConstraints(convertBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    }\n    startAnimation(velocity) {\n        const { drag, dragMomentum, dragElastic, dragTransition, dragSnapToOrigin, onDragTransitionEnd, } = this.getProps();\n        const constraints = this.constraints || {};\n        const momentumAnimations = eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, this.currentDirection)) {\n                return;\n            }\n            let transition = (constraints && constraints[axis]) || {};\n            if (dragSnapToOrigin)\n                transition = { min: 0, max: 0 };\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            const bounceStiffness = dragElastic ? 200 : 1000000;\n            const bounceDamping = dragElastic ? 40 : 10000000;\n            const inertia = {\n                type: \"inertia\",\n                velocity: dragMomentum ? velocity[axis] : 0,\n                bounceStiffness,\n                bounceDamping,\n                timeConstant: 750,\n                restDelta: 1,\n                restSpeed: 10,\n                ...dragTransition,\n                ...transition,\n            };\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return this.startAxisValueAnimation(axis, inertia);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(onDragTransitionEnd);\n    }\n    startAxisValueAnimation(axis, transition) {\n        const axisValue = this.getAxisMotionValue(axis);\n        return axisValue.start(animateMotionValue(axis, axisValue, 0, transition, this.visualElement));\n    }\n    stopAnimation() {\n        eachAxis((axis) => this.getAxisMotionValue(axis).stop());\n    }\n    pauseAnimation() {\n        eachAxis((axis) => { var _a; return (_a = this.getAxisMotionValue(axis).animation) === null || _a === void 0 ? void 0 : _a.pause(); });\n    }\n    getAnimationState(axis) {\n        var _a;\n        return (_a = this.getAxisMotionValue(axis).animation) === null || _a === void 0 ? void 0 : _a.state;\n    }\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    getAxisMotionValue(axis) {\n        const dragKey = \"_drag\" + axis.toUpperCase();\n        const props = this.visualElement.getProps();\n        const externalMotionValue = props[dragKey];\n        return externalMotionValue\n            ? externalMotionValue\n            : this.visualElement.getValue(axis, (props.initial ? props.initial[axis] : undefined) || 0);\n    }\n    snapToCursor(point) {\n        eachAxis((axis) => {\n            const { drag } = this.getProps();\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, this.currentDirection))\n                return;\n            const { projection } = this.visualElement;\n            const axisValue = this.getAxisMotionValue(axis);\n            if (projection && projection.layout) {\n                const { min, max } = projection.layout.layoutBox[axis];\n                axisValue.set(point[axis] - mixNumber(min, max, 0.5));\n            }\n        });\n    }\n    /**\n     * When the viewport resizes we want to check if the measured constraints\n     * have changed and, if so, reposition the element within those new constraints\n     * relative to where it was before the resize.\n     */\n    scalePositionWithinConstraints() {\n        if (!this.visualElement.current)\n            return;\n        const { drag, dragConstraints } = this.getProps();\n        const { projection } = this.visualElement;\n        if (!isRefObject(dragConstraints) || !projection || !this.constraints)\n            return;\n        /**\n         * Stop current animations as there can be visual glitching if we try to do\n         * this mid-animation\n         */\n        this.stopAnimation();\n        /**\n         * Record the relative position of the dragged element relative to the\n         * constraints box and save as a progress value.\n         */\n        const boxProgress = { x: 0, y: 0 };\n        eachAxis((axis) => {\n            const axisValue = this.getAxisMotionValue(axis);\n            if (axisValue) {\n                const latest = axisValue.get();\n                boxProgress[axis] = calcOrigin({ min: latest, max: latest }, this.constraints[axis]);\n            }\n        });\n        /**\n         * Update the layout of this element and resolve the latest drag constraints\n         */\n        const { transformTemplate } = this.visualElement.getProps();\n        this.visualElement.current.style.transform = transformTemplate\n            ? transformTemplate({}, \"\")\n            : \"none\";\n        projection.root && projection.root.updateScroll();\n        projection.updateLayout();\n        this.resolveConstraints();\n        /**\n         * For each axis, calculate the current progress of the layout axis\n         * within the new constraints.\n         */\n        eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, null))\n                return;\n            /**\n             * Calculate a new transform based on the previous box progress\n             */\n            const axisValue = this.getAxisMotionValue(axis);\n            const { min, max } = this.constraints[axis];\n            axisValue.set(mixNumber(min, max, boxProgress[axis]));\n        });\n    }\n    addListeners() {\n        if (!this.visualElement.current)\n            return;\n        elementDragControls.set(this.visualElement, this);\n        const element = this.visualElement.current;\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        const stopPointerListener = addPointerEvent(element, \"pointerdown\", (event) => {\n            const { drag, dragListener = true } = this.getProps();\n            drag && dragListener && this.start(event);\n        });\n        const measureDragConstraints = () => {\n            const { dragConstraints } = this.getProps();\n            if (isRefObject(dragConstraints)) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        };\n        const { projection } = this.visualElement;\n        const stopMeasureLayoutListener = projection.addEventListener(\"measure\", measureDragConstraints);\n        if (projection && !projection.layout) {\n            projection.root && projection.root.updateScroll();\n            projection.updateLayout();\n        }\n        measureDragConstraints();\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        const stopResizeListener = addDomEvent(window, \"resize\", () => this.scalePositionWithinConstraints());\n        /**\n         * If the element's layout changes, calculate the delta and apply that to\n         * the drag gesture's origin point.\n         */\n        const stopLayoutUpdateListener = projection.addEventListener(\"didUpdate\", (({ delta, hasLayoutChanged }) => {\n            if (this.isDragging && hasLayoutChanged) {\n                eachAxis((axis) => {\n                    const motionValue = this.getAxisMotionValue(axis);\n                    if (!motionValue)\n                        return;\n                    this.originPoint[axis] += delta[axis].translate;\n                    motionValue.set(motionValue.get() + delta[axis].translate);\n                });\n                this.visualElement.render();\n            }\n        }));\n        return () => {\n            stopResizeListener();\n            stopPointerListener();\n            stopMeasureLayoutListener();\n            stopLayoutUpdateListener && stopLayoutUpdateListener();\n        };\n    }\n    getProps() {\n        const props = this.visualElement.getProps();\n        const { drag = false, dragDirectionLock = false, dragPropagation = false, dragConstraints = false, dragElastic = defaultElastic, dragMomentum = true, } = props;\n        return {\n            ...props,\n            drag,\n            dragDirectionLock,\n            dragPropagation,\n            dragConstraints,\n            dragElastic,\n            dragMomentum,\n        };\n    }\n}\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold = 10) {\n    let direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };\n","import { PanSession } from './PanSession.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\n\nconst asyncHandler = (handler) => (event, info) => {\n    if (handler) {\n        handler(event, info);\n    }\n};\nclass PanGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removePointerDownListener = noop;\n    }\n    onPointerDown(pointerDownEvent) {\n        this.session = new PanSession(pointerDownEvent, this.createPanHandlers(), {\n            transformPagePoint: this.node.getTransformPagePoint(),\n            contextWindow: getContextWindow(this.node),\n        });\n    }\n    createPanHandlers() {\n        const { onPanSessionStart, onPanStart, onPan, onPanEnd } = this.node.getProps();\n        return {\n            onSessionStart: asyncHandler(onPanSessionStart),\n            onStart: asyncHandler(onPanStart),\n            onMove: onPan,\n            onEnd: (event, info) => {\n                delete this.session;\n                if (onPanEnd)\n                    onPanEnd(event, info);\n            },\n        };\n    }\n    mount() {\n        this.removePointerDownListener = addPointerEvent(this.node.current, \"pointerdown\", (event) => this.onPointerDown(event));\n    }\n    update() {\n        this.session && this.session.updateHandlers(this.createPanHandlers());\n    }\n    unmount() {\n        this.removePointerDownListener();\n        this.session && this.session.end();\n    }\n}\n\nexport { PanGesture };\n","/**\n * This should only ever be modified on the client otherwise it'll\n * persist through server requests. If we need instanced states we\n * could lazy-init via root.\n */\nconst globalProjectionState = {\n    /**\n     * Global flag as to whether the tree has animated since the last time\n     * we resized the window\n     */\n    hasAnimatedSinceResize: true,\n    /**\n     * We set this to true once, on the first update. Any nodes added to the tree beyond that\n     * update will be given a `data-projection-id` attribute.\n     */\n    hasEverUpdated: false,\n};\n\nexport { globalProjectionState };\n","import { px } from '../../value/types/numbers/units.mjs';\n\nfunction pixelsToPercent(pixels, axis) {\n    if (axis.max === axis.min)\n        return 0;\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nconst correctBorderRadius = {\n    correct: (latest, node) => {\n        if (!node.target)\n            return latest;\n        /**\n         * If latest is a string, if it's a percentage we can return immediately as it's\n         * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n         */\n        if (typeof latest === \"string\") {\n            if (px.test(latest)) {\n                latest = parseFloat(latest);\n            }\n            else {\n                return latest;\n            }\n        }\n        /**\n         * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n         * pixel value as a percentage of each axis\n         */\n        const x = pixelsToPercent(latest, node.target.x);\n        const y = pixelsToPercent(latest, node.target.y);\n        return `${x}% ${y}%`;\n    },\n};\n\nexport { correctBorderRadius, pixelsToPercent };\n","import { mixNumber } from '../../utils/mix/number.mjs';\nimport { complex } from '../../value/types/complex/index.mjs';\n\nconst correctBoxShadow = {\n    correct: (latest, { treeScale, projectionDelta }) => {\n        const original = latest;\n        const shadow = complex.parse(latest);\n        // TODO: Doesn't support multiple shadows\n        if (shadow.length > 5)\n            return original;\n        const template = complex.createTransformer(latest);\n        const offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n        // Calculate the overall context scale\n        const xScale = projectionDelta.x.scale * treeScale.x;\n        const yScale = projectionDelta.y.scale * treeScale.y;\n        shadow[0 + offset] /= xScale;\n        shadow[1 + offset] /= yScale;\n        /**\n         * Ideally we'd correct x and y scales individually, but because blur and\n         * spread apply to both we have to take a scale average and apply that instead.\n         * We could potentially improve the outcome of this by incorporating the ratio between\n         * the two scales.\n         */\n        const averageScale = mixNumber(xScale, yScale, 0.5);\n        // Blur\n        if (typeof shadow[2 + offset] === \"number\")\n            shadow[2 + offset] /= averageScale;\n        // Spread\n        if (typeof shadow[3 + offset] === \"number\")\n            shadow[3 + offset] /= averageScale;\n        return template(shadow);\n    },\n};\n\nexport { correctBoxShadow };\n","import React__default, { useContext } from 'react';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.mjs';\nimport { LayoutGroupContext } from '../../../context/LayoutGroupContext.mjs';\nimport { SwitchLayoutGroupContext } from '../../../context/SwitchLayoutGroupContext.mjs';\nimport { globalProjectionState } from '../../../projection/node/state.mjs';\nimport { correctBorderRadius } from '../../../projection/styles/scale-border-radius.mjs';\nimport { correctBoxShadow } from '../../../projection/styles/scale-box-shadow.mjs';\nimport { addScaleCorrector } from '../../../projection/styles/scale-correction.mjs';\nimport { microtask } from '../../../frameloop/microtask.mjs';\nimport { frame } from '../../../frameloop/frame.mjs';\n\nclass MeasureLayoutWithContext extends React__default.Component {\n    /**\n     * This only mounts projection nodes for components that\n     * need measuring, we might want to do it for all components\n     * in order to incorporate transforms\n     */\n    componentDidMount() {\n        const { visualElement, layoutGroup, switchLayoutGroup, layoutId } = this.props;\n        const { projection } = visualElement;\n        addScaleCorrector(defaultScaleCorrectors);\n        if (projection) {\n            if (layoutGroup.group)\n                layoutGroup.group.add(projection);\n            if (switchLayoutGroup && switchLayoutGroup.register && layoutId) {\n                switchLayoutGroup.register(projection);\n            }\n            projection.root.didUpdate();\n            projection.addEventListener(\"animationComplete\", () => {\n                this.safeToRemove();\n            });\n            projection.setOptions({\n                ...projection.options,\n                onExitComplete: () => this.safeToRemove(),\n            });\n        }\n        globalProjectionState.hasEverUpdated = true;\n    }\n    getSnapshotBeforeUpdate(prevProps) {\n        const { layoutDependency, visualElement, drag, isPresent } = this.props;\n        const projection = visualElement.projection;\n        if (!projection)\n            return null;\n        /**\n         * TODO: We use this data in relegate to determine whether to\n         * promote a previous element. There's no guarantee its presence data\n         * will have updated by this point - if a bug like this arises it will\n         * have to be that we markForRelegation and then find a new lead some other way,\n         * perhaps in didUpdate\n         */\n        projection.isPresent = isPresent;\n        if (drag ||\n            prevProps.layoutDependency !== layoutDependency ||\n            layoutDependency === undefined) {\n            projection.willUpdate();\n        }\n        else {\n            this.safeToRemove();\n        }\n        if (prevProps.isPresent !== isPresent) {\n            if (isPresent) {\n                projection.promote();\n            }\n            else if (!projection.relegate()) {\n                /**\n                 * If there's another stack member taking over from this one,\n                 * it's in charge of the exit animation and therefore should\n                 * be in charge of the safe to remove. Otherwise we call it here.\n                 */\n                frame.postRender(() => {\n                    const stack = projection.getStack();\n                    if (!stack || !stack.members.length) {\n                        this.safeToRemove();\n                    }\n                });\n            }\n        }\n        return null;\n    }\n    componentDidUpdate() {\n        const { projection } = this.props.visualElement;\n        if (projection) {\n            projection.root.didUpdate();\n            microtask.postRender(() => {\n                if (!projection.currentAnimation && projection.isLead()) {\n                    this.safeToRemove();\n                }\n            });\n        }\n    }\n    componentWillUnmount() {\n        const { visualElement, layoutGroup, switchLayoutGroup: promoteContext, } = this.props;\n        const { projection } = visualElement;\n        if (projection) {\n            projection.scheduleCheckAfterUnmount();\n            if (layoutGroup && layoutGroup.group)\n                layoutGroup.group.remove(projection);\n            if (promoteContext && promoteContext.deregister)\n                promoteContext.deregister(projection);\n        }\n    }\n    safeToRemove() {\n        const { safeToRemove } = this.props;\n        safeToRemove && safeToRemove();\n    }\n    render() {\n        return null;\n    }\n}\nfunction MeasureLayout(props) {\n    const [isPresent, safeToRemove] = usePresence();\n    const layoutGroup = useContext(LayoutGroupContext);\n    return (React__default.createElement(MeasureLayoutWithContext, { ...props, layoutGroup: layoutGroup, switchLayoutGroup: useContext(SwitchLayoutGroupContext), isPresent: isPresent, safeToRemove: safeToRemove }));\n}\nconst defaultScaleCorrectors = {\n    borderRadius: {\n        ...correctBorderRadius,\n        applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ],\n    },\n    borderTopLeftRadius: correctBorderRadius,\n    borderTopRightRadius: correctBorderRadius,\n    borderBottomLeftRadius: correctBorderRadius,\n    borderBottomRightRadius: correctBorderRadius,\n    boxShadow: correctBoxShadow,\n};\n\nexport { MeasureLayout };\n","import { useContext, useId, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence() {\n    const context = useContext(PresenceContext);\n    if (context === null)\n        return [true, null];\n    const { isPresent, onExitComplete, register } = context;\n    // It's safe to call the following hooks conditionally (after an early return) because the context will always\n    // either be null or non-null for the lifespan of the component.\n    const id = useId();\n    useEffect(() => register(id), []);\n    const safeToRemove = () => onExitComplete && onExitComplete(id);\n    return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n    return isPresent(useContext(PresenceContext));\n}\nfunction isPresent(context) {\n    return context === null ? true : context.isPresent;\n}\n\nexport { isPresent, useIsPresent, usePresence };\n","import { circOut } from '../../easing/circ.mjs';\nimport { progress } from '../../utils/progress.mjs';\nimport { mixNumber } from '../../utils/mix/number.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { percent, px } from '../../value/types/numbers/units.mjs';\n\nconst borders = [\"TopLeft\", \"TopRight\", \"BottomLeft\", \"BottomRight\"];\nconst numBorders = borders.length;\nconst asNumber = (value) => typeof value === \"string\" ? parseFloat(value) : value;\nconst isPx = (value) => typeof value === \"number\" || px.test(value);\nfunction mixValues(target, follow, lead, progress, shouldCrossfadeOpacity, isOnlyMember) {\n    if (shouldCrossfadeOpacity) {\n        target.opacity = mixNumber(0, \n        // TODO Reinstate this if only child\n        lead.opacity !== undefined ? lead.opacity : 1, easeCrossfadeIn(progress));\n        target.opacityExit = mixNumber(follow.opacity !== undefined ? follow.opacity : 1, 0, easeCrossfadeOut(progress));\n    }\n    else if (isOnlyMember) {\n        target.opacity = mixNumber(follow.opacity !== undefined ? follow.opacity : 1, lead.opacity !== undefined ? lead.opacity : 1, progress);\n    }\n    /**\n     * Mix border radius\n     */\n    for (let i = 0; i < numBorders; i++) {\n        const borderLabel = `border${borders[i]}Radius`;\n        let followRadius = getRadius(follow, borderLabel);\n        let leadRadius = getRadius(lead, borderLabel);\n        if (followRadius === undefined && leadRadius === undefined)\n            continue;\n        followRadius || (followRadius = 0);\n        leadRadius || (leadRadius = 0);\n        const canMix = followRadius === 0 ||\n            leadRadius === 0 ||\n            isPx(followRadius) === isPx(leadRadius);\n        if (canMix) {\n            target[borderLabel] = Math.max(mixNumber(asNumber(followRadius), asNumber(leadRadius), progress), 0);\n            if (percent.test(leadRadius) || percent.test(followRadius)) {\n                target[borderLabel] += \"%\";\n            }\n        }\n        else {\n            target[borderLabel] = leadRadius;\n        }\n    }\n    /**\n     * Mix rotation\n     */\n    if (follow.rotate || lead.rotate) {\n        target.rotate = mixNumber(follow.rotate || 0, lead.rotate || 0, progress);\n    }\n}\nfunction getRadius(values, radiusName) {\n    return values[radiusName] !== undefined\n        ? values[radiusName]\n        : values.borderRadius;\n}\n// /**\n//  * We only want to mix the background color if there's a follow element\n//  * that we're not crossfading opacity between. For instance with switch\n//  * AnimateSharedLayout animations, this helps the illusion of a continuous\n//  * element being animated but also cuts down on the number of paints triggered\n//  * for elements where opacity is doing that work for us.\n//  */\n// if (\n//     !hasFollowElement &&\n//     latestLeadValues.backgroundColor &&\n//     latestFollowValues.backgroundColor\n// ) {\n//     /**\n//      * This isn't ideal performance-wise as mixColor is creating a new function every frame.\n//      * We could probably create a mixer that runs at the start of the animation but\n//      * the idea behind the crossfader is that it runs dynamically between two potentially\n//      * changing targets (ie opacity or borderRadius may be animating independently via variants)\n//      */\n//     leadState.backgroundColor = followState.backgroundColor = mixColor(\n//         latestFollowValues.backgroundColor as string,\n//         latestLeadValues.backgroundColor as string\n//     )(p)\n// }\nconst easeCrossfadeIn = compress(0, 0.5, circOut);\nconst easeCrossfadeOut = compress(0.5, 0.95, noop);\nfunction compress(min, max, easing) {\n    return (p) => {\n        // Could replace ifs with clamp\n        if (p < min)\n            return 0;\n        if (p > max)\n            return 1;\n        return easing(progress(min, max, p));\n    };\n}\n\nexport { mixValues };\n","/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisInto(axis, originAxis) {\n    axis.min = originAxis.min;\n    axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyBoxInto(box, originBox) {\n    copyAxisInto(box.x, originBox.x);\n    copyAxisInto(box.y, originBox.y);\n}\n\nexport { copyAxisInto, copyBoxInto };\n","import { mixNumber } from '../../utils/mix/number.mjs';\nimport { percent } from '../../value/types/numbers/units.mjs';\nimport { scalePoint } from './delta-apply.mjs';\n\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n    point -= translate;\n    point = scalePoint(point, 1 / scale, originPoint);\n    if (boxScale !== undefined) {\n        point = scalePoint(point, 1 / boxScale, originPoint);\n    }\n    return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate = 0, scale = 1, origin = 0.5, boxScale, originAxis = axis, sourceAxis = axis) {\n    if (percent.test(translate)) {\n        translate = parseFloat(translate);\n        const relativeProgress = mixNumber(sourceAxis.min, sourceAxis.max, translate / 100);\n        translate = relativeProgress - sourceAxis.min;\n    }\n    if (typeof translate !== \"number\")\n        return;\n    let originPoint = mixNumber(originAxis.min, originAxis.max, origin);\n    if (axis === originAxis)\n        originPoint -= translate;\n    axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, [key, scaleKey, originKey], origin, sourceAxis) {\n    removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale, origin, sourceAxis);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms, originBox, sourceBox) {\n    removeAxisTransforms(box.x, transforms, xKeys, originBox ? originBox.x : undefined, sourceBox ? sourceBox.x : undefined);\n    removeAxisTransforms(box.y, transforms, yKeys, originBox ? originBox.y : undefined, sourceBox ? sourceBox.y : undefined);\n}\n\nexport { removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta };\n","import { calcLength } from './delta-calc.mjs';\n\nfunction isAxisDeltaZero(delta) {\n    return delta.translate === 0 && delta.scale === 1;\n}\nfunction isDeltaZero(delta) {\n    return isAxisDeltaZero(delta.x) && isAxisDeltaZero(delta.y);\n}\nfunction boxEquals(a, b) {\n    return (a.x.min === b.x.min &&\n        a.x.max === b.x.max &&\n        a.y.min === b.y.min &&\n        a.y.max === b.y.max);\n}\nfunction boxEqualsRounded(a, b) {\n    return (Math.round(a.x.min) === Math.round(b.x.min) &&\n        Math.round(a.x.max) === Math.round(b.x.max) &&\n        Math.round(a.y.min) === Math.round(b.y.min) &&\n        Math.round(a.y.max) === Math.round(b.y.max));\n}\nfunction aspectRatio(box) {\n    return calcLength(box.x) / calcLength(box.y);\n}\n\nexport { aspectRatio, boxEquals, boxEqualsRounded, isDeltaZero };\n","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\n\nclass NodeStack {\n    constructor() {\n        this.members = [];\n    }\n    add(node) {\n        addUniqueItem(this.members, node);\n        node.scheduleRender();\n    }\n    remove(node) {\n        removeItem(this.members, node);\n        if (node === this.prevLead) {\n            this.prevLead = undefined;\n        }\n        if (node === this.lead) {\n            const prevLead = this.members[this.members.length - 1];\n            if (prevLead) {\n                this.promote(prevLead);\n            }\n        }\n    }\n    relegate(node) {\n        const indexOfNode = this.members.findIndex((member) => node === member);\n        if (indexOfNode === 0)\n            return false;\n        /**\n         * Find the next projection node that is present\n         */\n        let prevLead;\n        for (let i = indexOfNode; i >= 0; i--) {\n            const member = this.members[i];\n            if (member.isPresent !== false) {\n                prevLead = member;\n                break;\n            }\n        }\n        if (prevLead) {\n            this.promote(prevLead);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    promote(node, preserveFollowOpacity) {\n        const prevLead = this.lead;\n        if (node === prevLead)\n            return;\n        this.prevLead = prevLead;\n        this.lead = node;\n        node.show();\n        if (prevLead) {\n            prevLead.instance && prevLead.scheduleRender();\n            node.scheduleRender();\n            node.resumeFrom = prevLead;\n            if (preserveFollowOpacity) {\n                node.resumeFrom.preserveOpacity = true;\n            }\n            if (prevLead.snapshot) {\n                node.snapshot = prevLead.snapshot;\n                node.snapshot.latestValues =\n                    prevLead.animationValues || prevLead.latestValues;\n            }\n            if (node.root && node.root.isUpdating) {\n                node.isLayoutDirty = true;\n            }\n            const { crossfade } = node.options;\n            if (crossfade === false) {\n                prevLead.hide();\n            }\n            /**\n             * TODO:\n             *   - Test border radius when previous node was deleted\n             *   - boxShadow mixing\n             *   - Shared between element A in scrolled container and element B (scroll stays the same or changes)\n             *   - Shared between element A in transformed container and element B (transform stays the same or changes)\n             *   - Shared between element A in scrolled page and element B (scroll stays the same or changes)\n             * ---\n             *   - Crossfade opacity of root nodes\n             *   - layoutId changes after animation\n             *   - layoutId changes mid animation\n             */\n        }\n    }\n    exitAnimationComplete() {\n        this.members.forEach((node) => {\n            const { options, resumingFrom } = node;\n            options.onExitComplete && options.onExitComplete();\n            if (resumingFrom) {\n                resumingFrom.options.onExitComplete &&\n                    resumingFrom.options.onExitComplete();\n            }\n        });\n    }\n    scheduleRender() {\n        this.members.forEach((node) => {\n            node.instance && node.scheduleRender(false);\n        });\n    }\n    /**\n     * Clear any leads that have been removed this render to prevent them from being\n     * used in future animations and to prevent memory leaks\n     */\n    removeLeadSnapshot() {\n        if (this.lead && this.lead.snapshot) {\n            this.lead.snapshot = undefined;\n        }\n    }\n}\n\nexport { NodeStack };\n","function buildProjectionTransform(delta, treeScale, latestTransform) {\n    let transform = \"\";\n    /**\n     * The translations we use to calculate are always relative to the viewport coordinate space.\n     * But when we apply scales, we also scale the coordinate space of an element and its children.\n     * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n     * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n     */\n    const xTranslate = delta.x.translate / treeScale.x;\n    const yTranslate = delta.y.translate / treeScale.y;\n    if (xTranslate || yTranslate) {\n        transform = `translate3d(${xTranslate}px, ${yTranslate}px, 0) `;\n    }\n    /**\n     * Apply scale correction for the tree transform.\n     * This will apply scale to the screen-orientated axes.\n     */\n    if (treeScale.x !== 1 || treeScale.y !== 1) {\n        transform += `scale(${1 / treeScale.x}, ${1 / treeScale.y}) `;\n    }\n    if (latestTransform) {\n        const { rotate, rotateX, rotateY, skewX, skewY } = latestTransform;\n        if (rotate)\n            transform += `rotate(${rotate}deg) `;\n        if (rotateX)\n            transform += `rotateX(${rotateX}deg) `;\n        if (rotateY)\n            transform += `rotateY(${rotateY}deg) `;\n        if (skewX)\n            transform += `skewX(${skewX}deg) `;\n        if (skewY)\n            transform += `skewY(${skewY}deg) `;\n    }\n    /**\n     * Apply scale to match the size of the element to the size we want it.\n     * This will apply scale to the element-orientated axes.\n     */\n    const elementScaleX = delta.x.scale * treeScale.x;\n    const elementScaleY = delta.y.scale * treeScale.y;\n    if (elementScaleX !== 1 || elementScaleY !== 1) {\n        transform += `scale(${elementScaleX}, ${elementScaleY})`;\n    }\n    return transform || \"none\";\n}\n\nexport { buildProjectionTransform };\n","const compareByDepth = (a, b) => a.depth - b.depth;\n\nexport { compareByDepth };\n","import { addUniqueItem, removeItem } from '../../utils/array.mjs';\nimport { compareByDepth } from './compare-by-depth.mjs';\n\nclass FlatTree {\n    constructor() {\n        this.children = [];\n        this.isDirty = false;\n    }\n    add(child) {\n        addUniqueItem(this.children, child);\n        this.isDirty = true;\n    }\n    remove(child) {\n        removeItem(this.children, child);\n        this.isDirty = true;\n    }\n    forEach(callback) {\n        this.isDirty && this.children.sort(compareByDepth);\n        this.isDirty = false;\n        this.children.forEach(callback);\n    }\n}\n\nexport { FlatTree };\n","function isSVGElement(element) {\n    return element instanceof SVGElement && element.tagName !== \"svg\";\n}\n\nexport { isSVGElement };\n","import { animateMotionValue } from './motion-value.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction animateSingleValue(value, keyframes, options) {\n    const motionValue$1 = isMotionValue(value) ? value : motionValue(value);\n    motionValue$1.start(animateMotionValue(\"\", motionValue$1, keyframes, options));\n    return motionValue$1.animation;\n}\n\nexport { animateSingleValue };\n","import { SubscriptionManager } from '../../utils/subscription-manager.mjs';\nimport { mixValues } from '../animation/mix-values.mjs';\nimport { copyBoxInto } from '../geometry/copy.mjs';\nimport { translateAxis, transformBox, applyBoxDelta, applyTreeDeltas } from '../geometry/delta-apply.mjs';\nimport { calcRelativePosition, calcRelativeBox, calcBoxDelta, calcLength, isNear } from '../geometry/delta-calc.mjs';\nimport { removeBoxTransforms } from '../geometry/delta-remove.mjs';\nimport { createBox, createDelta } from '../geometry/models.mjs';\nimport { getValueTransition } from '../../animation/utils/transitions.mjs';\nimport { boxEqualsRounded, isDeltaZero, aspectRatio, boxEquals } from '../geometry/utils.mjs';\nimport { NodeStack } from '../shared/stack.mjs';\nimport { scaleCorrectors } from '../styles/scale-correction.mjs';\nimport { buildProjectionTransform } from '../styles/transform.mjs';\nimport { eachAxis } from '../utils/each-axis.mjs';\nimport { hasTransform, hasScale, has2DTranslate } from '../utils/has-transform.mjs';\nimport { FlatTree } from '../../render/utils/flat-tree.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { globalProjectionState } from './state.mjs';\nimport { delay } from '../../utils/delay.mjs';\nimport { mixNumber } from '../../utils/mix/number.mjs';\nimport { record } from '../../debug/record.mjs';\nimport { isSVGElement } from '../../render/dom/utils/is-svg-element.mjs';\nimport { animateSingleValue } from '../../animation/interfaces/single-value.mjs';\nimport { clamp } from '../../utils/clamp.mjs';\nimport { cancelFrame, frameData, steps, frame } from '../../frameloop/frame.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { time } from '../../frameloop/sync-time.mjs';\nimport { microtask } from '../../frameloop/microtask.mjs';\n\nconst transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\nconst hiddenVisibility = { visibility: \"hidden\" };\n/**\n * We use 1000 as the animation target as 0-1000 maps better to pixels than 0-1\n * which has a noticeable difference in spring animations\n */\nconst animationTarget = 1000;\nlet id = 0;\n/**\n * Use a mutable data object for debug data so as to not create a new\n * object every frame.\n */\nconst projectionFrameData = {\n    type: \"projectionFrame\",\n    totalNodes: 0,\n    resolvedTargetDeltas: 0,\n    recalculatedProjection: 0,\n};\nfunction resetDistortingTransform(key, visualElement, values, sharedAnimationValues) {\n    const { latestValues } = visualElement;\n    // Record the distorting transform and then temporarily set it to 0\n    if (latestValues[key]) {\n        values[key] = latestValues[key];\n        visualElement.setStaticValue(key, 0);\n        if (sharedAnimationValues) {\n            sharedAnimationValues[key] = 0;\n        }\n    }\n}\nfunction createProjectionNode({ attachResizeListener, defaultParent, measureScroll, checkIsScrollRoot, resetTransform, }) {\n    return class ProjectionNode {\n        constructor(latestValues = {}, parent = defaultParent === null || defaultParent === void 0 ? void 0 : defaultParent()) {\n            /**\n             * A unique ID generated for every projection node.\n             */\n            this.id = id++;\n            /**\n             * An id that represents a unique session instigated by startUpdate.\n             */\n            this.animationId = 0;\n            /**\n             * A Set containing all this component's children. This is used to iterate\n             * through the children.\n             *\n             * TODO: This could be faster to iterate as a flat array stored on the root node.\n             */\n            this.children = new Set();\n            /**\n             * Options for the node. We use this to configure what kind of layout animations\n             * we should perform (if any).\n             */\n            this.options = {};\n            /**\n             * We use this to detect when its safe to shut down part of a projection tree.\n             * We have to keep projecting children for scale correction and relative projection\n             * until all their parents stop performing layout animations.\n             */\n            this.isTreeAnimating = false;\n            this.isAnimationBlocked = false;\n            /**\n             * Flag to true if we think this layout has been changed. We can't always know this,\n             * currently we set it to true every time a component renders, or if it has a layoutDependency\n             * if that has changed between renders. Additionally, components can be grouped by LayoutGroup\n             * and if one node is dirtied, they all are.\n             */\n            this.isLayoutDirty = false;\n            /**\n             * Flag to true if we think the projection calculations for this node needs\n             * recalculating as a result of an updated transform or layout animation.\n             */\n            this.isProjectionDirty = false;\n            /**\n             * Flag to true if the layout *or* transform has changed. This then gets propagated\n             * throughout the projection tree, forcing any element below to recalculate on the next frame.\n             */\n            this.isSharedProjectionDirty = false;\n            /**\n             * Flag transform dirty. This gets propagated throughout the whole tree but is only\n             * respected by shared nodes.\n             */\n            this.isTransformDirty = false;\n            /**\n             * Block layout updates for instant layout transitions throughout the tree.\n             */\n            this.updateManuallyBlocked = false;\n            this.updateBlockedByResize = false;\n            /**\n             * Set to true between the start of the first `willUpdate` call and the end of the `didUpdate`\n             * call.\n             */\n            this.isUpdating = false;\n            /**\n             * If this is an SVG element we currently disable projection transforms\n             */\n            this.isSVG = false;\n            /**\n             * Flag to true (during promotion) if a node doing an instant layout transition needs to reset\n             * its projection styles.\n             */\n            this.needsReset = false;\n            /**\n             * Flags whether this node should have its transform reset prior to measuring.\n             */\n            this.shouldResetTransform = false;\n            /**\n             * An object representing the calculated contextual/accumulated/tree scale.\n             * This will be used to scale calculcated projection transforms, as these are\n             * calculated in screen-space but need to be scaled for elements to layoutly\n             * make it to their calculated destinations.\n             *\n             * TODO: Lazy-init\n             */\n            this.treeScale = { x: 1, y: 1 };\n            /**\n             *\n             */\n            this.eventHandlers = new Map();\n            this.hasTreeAnimated = false;\n            // Note: Currently only running on root node\n            this.updateScheduled = false;\n            this.projectionUpdateScheduled = false;\n            this.checkUpdateFailed = () => {\n                if (this.isUpdating) {\n                    this.isUpdating = false;\n                    this.clearAllSnapshots();\n                }\n            };\n            /**\n             * This is a multi-step process as shared nodes might be of different depths. Nodes\n             * are sorted by depth order, so we need to resolve the entire tree before moving to\n             * the next step.\n             */\n            this.updateProjection = () => {\n                this.projectionUpdateScheduled = false;\n                /**\n                 * Reset debug counts. Manually resetting rather than creating a new\n                 * object each frame.\n                 */\n                projectionFrameData.totalNodes =\n                    projectionFrameData.resolvedTargetDeltas =\n                        projectionFrameData.recalculatedProjection =\n                            0;\n                this.nodes.forEach(propagateDirtyNodes);\n                this.nodes.forEach(resolveTargetDelta);\n                this.nodes.forEach(calcProjection);\n                this.nodes.forEach(cleanDirtyNodes);\n                record(projectionFrameData);\n            };\n            this.hasProjected = false;\n            this.isVisible = true;\n            this.animationProgress = 0;\n            /**\n             * Shared layout\n             */\n            // TODO Only running on root node\n            this.sharedNodes = new Map();\n            this.latestValues = latestValues;\n            this.root = parent ? parent.root || parent : this;\n            this.path = parent ? [...parent.path, parent] : [];\n            this.parent = parent;\n            this.depth = parent ? parent.depth + 1 : 0;\n            for (let i = 0; i < this.path.length; i++) {\n                this.path[i].shouldResetTransform = true;\n            }\n            if (this.root === this)\n                this.nodes = new FlatTree();\n        }\n        addEventListener(name, handler) {\n            if (!this.eventHandlers.has(name)) {\n                this.eventHandlers.set(name, new SubscriptionManager());\n            }\n            return this.eventHandlers.get(name).add(handler);\n        }\n        notifyListeners(name, ...args) {\n            const subscriptionManager = this.eventHandlers.get(name);\n            subscriptionManager && subscriptionManager.notify(...args);\n        }\n        hasListeners(name) {\n            return this.eventHandlers.has(name);\n        }\n        /**\n         * Lifecycles\n         */\n        mount(instance, isLayoutDirty = this.root.hasTreeAnimated) {\n            if (this.instance)\n                return;\n            this.isSVG = isSVGElement(instance);\n            this.instance = instance;\n            const { layoutId, layout, visualElement } = this.options;\n            if (visualElement && !visualElement.current) {\n                visualElement.mount(instance);\n            }\n            this.root.nodes.add(this);\n            this.parent && this.parent.children.add(this);\n            if (isLayoutDirty && (layout || layoutId)) {\n                this.isLayoutDirty = true;\n            }\n            if (attachResizeListener) {\n                let cancelDelay;\n                const resizeUnblockUpdate = () => (this.root.updateBlockedByResize = false);\n                attachResizeListener(instance, () => {\n                    this.root.updateBlockedByResize = true;\n                    cancelDelay && cancelDelay();\n                    cancelDelay = delay(resizeUnblockUpdate, 250);\n                    if (globalProjectionState.hasAnimatedSinceResize) {\n                        globalProjectionState.hasAnimatedSinceResize = false;\n                        this.nodes.forEach(finishAnimation);\n                    }\n                });\n            }\n            if (layoutId) {\n                this.root.registerSharedNode(layoutId, this);\n            }\n            // Only register the handler if it requires layout animation\n            if (this.options.animate !== false &&\n                visualElement &&\n                (layoutId || layout)) {\n                this.addEventListener(\"didUpdate\", ({ delta, hasLayoutChanged, hasRelativeTargetChanged, layout: newLayout, }) => {\n                    if (this.isTreeAnimationBlocked()) {\n                        this.target = undefined;\n                        this.relativeTarget = undefined;\n                        return;\n                    }\n                    // TODO: Check here if an animation exists\n                    const layoutTransition = this.options.transition ||\n                        visualElement.getDefaultTransition() ||\n                        defaultLayoutTransition;\n                    const { onLayoutAnimationStart, onLayoutAnimationComplete, } = visualElement.getProps();\n                    /**\n                     * The target layout of the element might stay the same,\n                     * but its position relative to its parent has changed.\n                     */\n                    const targetChanged = !this.targetLayout ||\n                        !boxEqualsRounded(this.targetLayout, newLayout) ||\n                        hasRelativeTargetChanged;\n                    /**\n                     * If the layout hasn't seemed to have changed, it might be that the\n                     * element is visually in the same place in the document but its position\n                     * relative to its parent has indeed changed. So here we check for that.\n                     */\n                    const hasOnlyRelativeTargetChanged = !hasLayoutChanged && hasRelativeTargetChanged;\n                    if (this.options.layoutRoot ||\n                        (this.resumeFrom && this.resumeFrom.instance) ||\n                        hasOnlyRelativeTargetChanged ||\n                        (hasLayoutChanged &&\n                            (targetChanged || !this.currentAnimation))) {\n                        if (this.resumeFrom) {\n                            this.resumingFrom = this.resumeFrom;\n                            this.resumingFrom.resumingFrom = undefined;\n                        }\n                        this.setAnimationOrigin(delta, hasOnlyRelativeTargetChanged);\n                        const animationOptions = {\n                            ...getValueTransition(layoutTransition, \"layout\"),\n                            onPlay: onLayoutAnimationStart,\n                            onComplete: onLayoutAnimationComplete,\n                        };\n                        if (visualElement.shouldReduceMotion ||\n                            this.options.layoutRoot) {\n                            animationOptions.delay = 0;\n                            animationOptions.type = false;\n                        }\n                        this.startAnimation(animationOptions);\n                    }\n                    else {\n                        /**\n                         * If the layout hasn't changed and we have an animation that hasn't started yet,\n                         * finish it immediately. Otherwise it will be animating from a location\n                         * that was probably never commited to screen and look like a jumpy box.\n                         */\n                        if (!hasLayoutChanged) {\n                            finishAnimation(this);\n                        }\n                        if (this.isLead() && this.options.onExitComplete) {\n                            this.options.onExitComplete();\n                        }\n                    }\n                    this.targetLayout = newLayout;\n                });\n            }\n        }\n        unmount() {\n            this.options.layoutId && this.willUpdate();\n            this.root.nodes.remove(this);\n            const stack = this.getStack();\n            stack && stack.remove(this);\n            this.parent && this.parent.children.delete(this);\n            this.instance = undefined;\n            cancelFrame(this.updateProjection);\n        }\n        // only on the root\n        blockUpdate() {\n            this.updateManuallyBlocked = true;\n        }\n        unblockUpdate() {\n            this.updateManuallyBlocked = false;\n        }\n        isUpdateBlocked() {\n            return this.updateManuallyBlocked || this.updateBlockedByResize;\n        }\n        isTreeAnimationBlocked() {\n            return (this.isAnimationBlocked ||\n                (this.parent && this.parent.isTreeAnimationBlocked()) ||\n                false);\n        }\n        // Note: currently only running on root node\n        startUpdate() {\n            if (this.isUpdateBlocked())\n                return;\n            this.isUpdating = true;\n            this.nodes && this.nodes.forEach(resetSkewAndRotation);\n            this.animationId++;\n        }\n        getTransformTemplate() {\n            const { visualElement } = this.options;\n            return visualElement && visualElement.getProps().transformTemplate;\n        }\n        willUpdate(shouldNotifyListeners = true) {\n            this.root.hasTreeAnimated = true;\n            if (this.root.isUpdateBlocked()) {\n                this.options.onExitComplete && this.options.onExitComplete();\n                return;\n            }\n            !this.root.isUpdating && this.root.startUpdate();\n            if (this.isLayoutDirty)\n                return;\n            this.isLayoutDirty = true;\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                node.shouldResetTransform = true;\n                node.updateScroll(\"snapshot\");\n                if (node.options.layoutRoot) {\n                    node.willUpdate(false);\n                }\n            }\n            const { layoutId, layout } = this.options;\n            if (layoutId === undefined && !layout)\n                return;\n            const transformTemplate = this.getTransformTemplate();\n            this.prevTransformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            this.updateSnapshot();\n            shouldNotifyListeners && this.notifyListeners(\"willUpdate\");\n        }\n        update() {\n            this.updateScheduled = false;\n            const updateWasBlocked = this.isUpdateBlocked();\n            // When doing an instant transition, we skip the layout update,\n            // but should still clean up the measurements so that the next\n            // snapshot could be taken correctly.\n            if (updateWasBlocked) {\n                this.unblockUpdate();\n                this.clearAllSnapshots();\n                this.nodes.forEach(clearMeasurements);\n                return;\n            }\n            if (!this.isUpdating) {\n                this.nodes.forEach(clearIsLayoutDirty);\n            }\n            this.isUpdating = false;\n            /**\n             * Write\n             */\n            if (window.HandoffCancelAllAnimations) {\n                window.HandoffCancelAllAnimations();\n            }\n            this.nodes.forEach(resetTransformStyle);\n            /**\n             * Read ==================\n             */\n            // Update layout measurements of updated children\n            this.nodes.forEach(updateLayout);\n            /**\n             * Write\n             */\n            // Notify listeners that the layout is updated\n            this.nodes.forEach(notifyLayoutUpdate);\n            this.clearAllSnapshots();\n            /**\n             * Manually flush any pending updates. Ideally\n             * we could leave this to the following requestAnimationFrame but this seems\n             * to leave a flash of incorrectly styled content.\n             */\n            const now = time.now();\n            frameData.delta = clamp(0, 1000 / 60, now - frameData.timestamp);\n            frameData.timestamp = now;\n            frameData.isProcessing = true;\n            steps.update.process(frameData);\n            steps.preRender.process(frameData);\n            steps.render.process(frameData);\n            frameData.isProcessing = false;\n        }\n        didUpdate() {\n            if (!this.updateScheduled) {\n                this.updateScheduled = true;\n                microtask.read(() => this.update());\n            }\n        }\n        clearAllSnapshots() {\n            this.nodes.forEach(clearSnapshot);\n            this.sharedNodes.forEach(removeLeadSnapshots);\n        }\n        scheduleUpdateProjection() {\n            if (!this.projectionUpdateScheduled) {\n                this.projectionUpdateScheduled = true;\n                frame.preRender(this.updateProjection, false, true);\n            }\n        }\n        scheduleCheckAfterUnmount() {\n            /**\n             * If the unmounting node is in a layoutGroup and did trigger a willUpdate,\n             * we manually call didUpdate to give a chance to the siblings to animate.\n             * Otherwise, cleanup all snapshots to prevents future nodes from reusing them.\n             */\n            frame.postRender(() => {\n                if (this.isLayoutDirty) {\n                    this.root.didUpdate();\n                }\n                else {\n                    this.root.checkUpdateFailed();\n                }\n            });\n        }\n        /**\n         * Update measurements\n         */\n        updateSnapshot() {\n            if (this.snapshot || !this.instance)\n                return;\n            this.snapshot = this.measure();\n        }\n        updateLayout() {\n            if (!this.instance)\n                return;\n            // TODO: Incorporate into a forwarded scroll offset\n            this.updateScroll();\n            if (!(this.options.alwaysMeasureLayout && this.isLead()) &&\n                !this.isLayoutDirty) {\n                return;\n            }\n            /**\n             * When a node is mounted, it simply resumes from the prevLead's\n             * snapshot instead of taking a new one, but the ancestors scroll\n             * might have updated while the prevLead is unmounted. We need to\n             * update the scroll again to make sure the layout we measure is\n             * up to date.\n             */\n            if (this.resumeFrom && !this.resumeFrom.instance) {\n                for (let i = 0; i < this.path.length; i++) {\n                    const node = this.path[i];\n                    node.updateScroll();\n                }\n            }\n            const prevLayout = this.layout;\n            this.layout = this.measure(false);\n            this.layoutCorrected = createBox();\n            this.isLayoutDirty = false;\n            this.projectionDelta = undefined;\n            this.notifyListeners(\"measure\", this.layout.layoutBox);\n            const { visualElement } = this.options;\n            visualElement &&\n                visualElement.notify(\"LayoutMeasure\", this.layout.layoutBox, prevLayout ? prevLayout.layoutBox : undefined);\n        }\n        updateScroll(phase = \"measure\") {\n            let needsMeasurement = Boolean(this.options.layoutScroll && this.instance);\n            if (this.scroll &&\n                this.scroll.animationId === this.root.animationId &&\n                this.scroll.phase === phase) {\n                needsMeasurement = false;\n            }\n            if (needsMeasurement) {\n                this.scroll = {\n                    animationId: this.root.animationId,\n                    phase,\n                    isRoot: checkIsScrollRoot(this.instance),\n                    offset: measureScroll(this.instance),\n                };\n            }\n        }\n        resetTransform() {\n            if (!resetTransform)\n                return;\n            const isResetRequested = this.isLayoutDirty || this.shouldResetTransform;\n            const hasProjection = this.projectionDelta && !isDeltaZero(this.projectionDelta);\n            const transformTemplate = this.getTransformTemplate();\n            const transformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            const transformTemplateHasChanged = transformTemplateValue !== this.prevTransformTemplateValue;\n            if (isResetRequested &&\n                (hasProjection ||\n                    hasTransform(this.latestValues) ||\n                    transformTemplateHasChanged)) {\n                resetTransform(this.instance, transformTemplateValue);\n                this.shouldResetTransform = false;\n                this.scheduleRender();\n            }\n        }\n        measure(removeTransform = true) {\n            const pageBox = this.measurePageBox();\n            let layoutBox = this.removeElementScroll(pageBox);\n            /**\n             * Measurements taken during the pre-render stage\n             * still have transforms applied so we remove them\n             * via calculation.\n             */\n            if (removeTransform) {\n                layoutBox = this.removeTransform(layoutBox);\n            }\n            roundBox(layoutBox);\n            return {\n                animationId: this.root.animationId,\n                measuredBox: pageBox,\n                layoutBox,\n                latestValues: {},\n                source: this.id,\n            };\n        }\n        measurePageBox() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return createBox();\n            const box = visualElement.measureViewportBox();\n            // Remove viewport scroll to give page-relative coordinates\n            const { scroll } = this.root;\n            if (scroll) {\n                translateAxis(box.x, scroll.offset.x);\n                translateAxis(box.y, scroll.offset.y);\n            }\n            return box;\n        }\n        removeElementScroll(box) {\n            const boxWithoutScroll = createBox();\n            copyBoxInto(boxWithoutScroll, box);\n            /**\n             * Performance TODO: Keep a cumulative scroll offset down the tree\n             * rather than loop back up the path.\n             */\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                const { scroll, options } = node;\n                if (node !== this.root && scroll && options.layoutScroll) {\n                    /**\n                     * If this is a new scroll root, we want to remove all previous scrolls\n                     * from the viewport box.\n                     */\n                    if (scroll.isRoot) {\n                        copyBoxInto(boxWithoutScroll, box);\n                        const { scroll: rootScroll } = this.root;\n                        /**\n                         * Undo the application of page scroll that was originally added\n                         * to the measured bounding box.\n                         */\n                        if (rootScroll) {\n                            translateAxis(boxWithoutScroll.x, -rootScroll.offset.x);\n                            translateAxis(boxWithoutScroll.y, -rootScroll.offset.y);\n                        }\n                    }\n                    translateAxis(boxWithoutScroll.x, scroll.offset.x);\n                    translateAxis(boxWithoutScroll.y, scroll.offset.y);\n                }\n            }\n            return boxWithoutScroll;\n        }\n        applyTransform(box, transformOnly = false) {\n            const withTransforms = createBox();\n            copyBoxInto(withTransforms, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!transformOnly &&\n                    node.options.layoutScroll &&\n                    node.scroll &&\n                    node !== node.root) {\n                    transformBox(withTransforms, {\n                        x: -node.scroll.offset.x,\n                        y: -node.scroll.offset.y,\n                    });\n                }\n                if (!hasTransform(node.latestValues))\n                    continue;\n                transformBox(withTransforms, node.latestValues);\n            }\n            if (hasTransform(this.latestValues)) {\n                transformBox(withTransforms, this.latestValues);\n            }\n            return withTransforms;\n        }\n        removeTransform(box) {\n            const boxWithoutTransform = createBox();\n            copyBoxInto(boxWithoutTransform, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!node.instance)\n                    continue;\n                if (!hasTransform(node.latestValues))\n                    continue;\n                hasScale(node.latestValues) && node.updateSnapshot();\n                const sourceBox = createBox();\n                const nodeBox = node.measurePageBox();\n                copyBoxInto(sourceBox, nodeBox);\n                removeBoxTransforms(boxWithoutTransform, node.latestValues, node.snapshot ? node.snapshot.layoutBox : undefined, sourceBox);\n            }\n            if (hasTransform(this.latestValues)) {\n                removeBoxTransforms(boxWithoutTransform, this.latestValues);\n            }\n            return boxWithoutTransform;\n        }\n        setTargetDelta(delta) {\n            this.targetDelta = delta;\n            this.root.scheduleUpdateProjection();\n            this.isProjectionDirty = true;\n        }\n        setOptions(options) {\n            this.options = {\n                ...this.options,\n                ...options,\n                crossfade: options.crossfade !== undefined ? options.crossfade : true,\n            };\n        }\n        clearMeasurements() {\n            this.scroll = undefined;\n            this.layout = undefined;\n            this.snapshot = undefined;\n            this.prevTransformTemplateValue = undefined;\n            this.targetDelta = undefined;\n            this.target = undefined;\n            this.isLayoutDirty = false;\n        }\n        forceRelativeParentToResolveTarget() {\n            if (!this.relativeParent)\n                return;\n            /**\n             * If the parent target isn't up-to-date, force it to update.\n             * This is an unfortunate de-optimisation as it means any updating relative\n             * projection will cause all the relative parents to recalculate back\n             * up the tree.\n             */\n            if (this.relativeParent.resolvedRelativeTargetAt !==\n                frameData.timestamp) {\n                this.relativeParent.resolveTargetDelta(true);\n            }\n        }\n        resolveTargetDelta(forceRecalculation = false) {\n            var _a;\n            /**\n             * Once the dirty status of nodes has been spread through the tree, we also\n             * need to check if we have a shared node of a different depth that has itself\n             * been dirtied.\n             */\n            const lead = this.getLead();\n            this.isProjectionDirty || (this.isProjectionDirty = lead.isProjectionDirty);\n            this.isTransformDirty || (this.isTransformDirty = lead.isTransformDirty);\n            this.isSharedProjectionDirty || (this.isSharedProjectionDirty = lead.isSharedProjectionDirty);\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            /**\n             * We don't use transform for this step of processing so we don't\n             * need to check whether any nodes have changed transform.\n             */\n            const canSkip = !(forceRecalculation ||\n                (isShared && this.isSharedProjectionDirty) ||\n                this.isProjectionDirty ||\n                ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isProjectionDirty) ||\n                this.attemptToResolveRelativeTarget);\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If we have no layout, we can't perform projection, so early return\n             */\n            if (!this.layout || !(layout || layoutId))\n                return;\n            this.resolvedRelativeTargetAt = frameData.timestamp;\n            /**\n             * If we don't have a targetDelta but do have a layout, we can attempt to resolve\n             * a relativeParent. This will allow a component to perform scale correction\n             * even if no animation has started.\n             */\n            if (!this.targetDelta && !this.relativeTarget) {\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    relativeParent.layout &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.layout.layoutBox, relativeParent.layout.layoutBox);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * If we have no relative target or no target delta our target isn't valid\n             * for this frame.\n             */\n            if (!this.relativeTarget && !this.targetDelta)\n                return;\n            /**\n             * Lazy-init target data structure\n             */\n            if (!this.target) {\n                this.target = createBox();\n                this.targetWithTransforms = createBox();\n            }\n            /**\n             * If we've got a relative box for this component, resolve it into a target relative to the parent.\n             */\n            if (this.relativeTarget &&\n                this.relativeTargetOrigin &&\n                this.relativeParent &&\n                this.relativeParent.target) {\n                this.forceRelativeParentToResolveTarget();\n                calcRelativeBox(this.target, this.relativeTarget, this.relativeParent.target);\n                /**\n                 * If we've only got a targetDelta, resolve it into a target\n                 */\n            }\n            else if (this.targetDelta) {\n                if (Boolean(this.resumingFrom)) {\n                    // TODO: This is creating a new object every frame\n                    this.target = this.applyTransform(this.layout.layoutBox);\n                }\n                else {\n                    copyBoxInto(this.target, this.layout.layoutBox);\n                }\n                applyBoxDelta(this.target, this.targetDelta);\n            }\n            else {\n                /**\n                 * If no target, use own layout as target\n                 */\n                copyBoxInto(this.target, this.layout.layoutBox);\n            }\n            /**\n             * If we've been told to attempt to resolve a relative target, do so.\n             */\n            if (this.attemptToResolveRelativeTarget) {\n                this.attemptToResolveRelativeTarget = false;\n                const relativeParent = this.getClosestProjectingParent();\n                if (relativeParent &&\n                    Boolean(relativeParent.resumingFrom) ===\n                        Boolean(this.resumingFrom) &&\n                    !relativeParent.options.layoutScroll &&\n                    relativeParent.target &&\n                    this.animationProgress !== 1) {\n                    this.relativeParent = relativeParent;\n                    this.forceRelativeParentToResolveTarget();\n                    this.relativeTarget = createBox();\n                    this.relativeTargetOrigin = createBox();\n                    calcRelativePosition(this.relativeTargetOrigin, this.target, relativeParent.target);\n                    copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * Increase debug counter for resolved target deltas\n             */\n            projectionFrameData.resolvedTargetDeltas++;\n        }\n        getClosestProjectingParent() {\n            if (!this.parent ||\n                hasScale(this.parent.latestValues) ||\n                has2DTranslate(this.parent.latestValues)) {\n                return undefined;\n            }\n            if (this.parent.isProjecting()) {\n                return this.parent;\n            }\n            else {\n                return this.parent.getClosestProjectingParent();\n            }\n        }\n        isProjecting() {\n            return Boolean((this.relativeTarget ||\n                this.targetDelta ||\n                this.options.layoutRoot) &&\n                this.layout);\n        }\n        calcProjection() {\n            var _a;\n            const lead = this.getLead();\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            let canSkip = true;\n            /**\n             * If this is a normal layout animation and neither this node nor its nearest projecting\n             * is dirty then we can't skip.\n             */\n            if (this.isProjectionDirty || ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.isProjectionDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If this is a shared layout animation and this node's shared projection is dirty then\n             * we can't skip.\n             */\n            if (isShared &&\n                (this.isSharedProjectionDirty || this.isTransformDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If we have resolved the target this frame we must recalculate the\n             * projection to ensure it visually represents the internal calculations.\n             */\n            if (this.resolvedRelativeTargetAt === frameData.timestamp) {\n                canSkip = false;\n            }\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If this section of the tree isn't animating we can\n             * delete our target sources for the following frame.\n             */\n            this.isTreeAnimating = Boolean((this.parent && this.parent.isTreeAnimating) ||\n                this.currentAnimation ||\n                this.pendingAnimation);\n            if (!this.isTreeAnimating) {\n                this.targetDelta = this.relativeTarget = undefined;\n            }\n            if (!this.layout || !(layout || layoutId))\n                return;\n            /**\n             * Reset the corrected box with the latest values from box, as we're then going\n             * to perform mutative operations on it.\n             */\n            copyBoxInto(this.layoutCorrected, this.layout.layoutBox);\n            /**\n             * Record previous tree scales before updating.\n             */\n            const prevTreeScaleX = this.treeScale.x;\n            const prevTreeScaleY = this.treeScale.y;\n            /**\n             * Apply all the parent deltas to this box to produce the corrected box. This\n             * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n             */\n            applyTreeDeltas(this.layoutCorrected, this.treeScale, this.path, isShared);\n            /**\n             * If this layer needs to perform scale correction but doesn't have a target,\n             * use the layout as the target.\n             */\n            if (lead.layout &&\n                !lead.target &&\n                (this.treeScale.x !== 1 || this.treeScale.y !== 1)) {\n                lead.target = lead.layout.layoutBox;\n                lead.targetWithTransforms = createBox();\n            }\n            const { target } = lead;\n            if (!target) {\n                /**\n                 * If we don't have a target to project into, but we were previously\n                 * projecting, we want to remove the stored transform and schedule\n                 * a render to ensure the elements reflect the removed transform.\n                 */\n                if (this.projectionTransform) {\n                    this.projectionDelta = createDelta();\n                    this.projectionTransform = \"none\";\n                    this.scheduleRender();\n                }\n                return;\n            }\n            if (!this.projectionDelta) {\n                this.projectionDelta = createDelta();\n                this.projectionDeltaWithTransform = createDelta();\n            }\n            const prevProjectionTransform = this.projectionTransform;\n            /**\n             * Update the delta between the corrected box and the target box before user-set transforms were applied.\n             * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n             * for our layout reprojection, but still allow them to be scaled correctly by the user.\n             * It might be that to simplify this we may want to accept that user-set scale is also corrected\n             * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n             * to allow people to choose whether these styles are corrected based on just the\n             * layout reprojection or the final bounding box.\n             */\n            calcBoxDelta(this.projectionDelta, this.layoutCorrected, target, this.latestValues);\n            this.projectionTransform = buildProjectionTransform(this.projectionDelta, this.treeScale);\n            if (this.projectionTransform !== prevProjectionTransform ||\n                this.treeScale.x !== prevTreeScaleX ||\n                this.treeScale.y !== prevTreeScaleY) {\n                this.hasProjected = true;\n                this.scheduleRender();\n                this.notifyListeners(\"projectionUpdate\", target);\n            }\n            /**\n             * Increase debug counter for recalculated projections\n             */\n            projectionFrameData.recalculatedProjection++;\n        }\n        hide() {\n            this.isVisible = false;\n            // TODO: Schedule render\n        }\n        show() {\n            this.isVisible = true;\n            // TODO: Schedule render\n        }\n        scheduleRender(notifyAll = true) {\n            this.options.scheduleRender && this.options.scheduleRender();\n            if (notifyAll) {\n                const stack = this.getStack();\n                stack && stack.scheduleRender();\n            }\n            if (this.resumingFrom && !this.resumingFrom.instance) {\n                this.resumingFrom = undefined;\n            }\n        }\n        setAnimationOrigin(delta, hasOnlyRelativeTargetChanged = false) {\n            const snapshot = this.snapshot;\n            const snapshotLatestValues = snapshot\n                ? snapshot.latestValues\n                : {};\n            const mixedValues = { ...this.latestValues };\n            const targetDelta = createDelta();\n            if (!this.relativeParent ||\n                !this.relativeParent.options.layoutRoot) {\n                this.relativeTarget = this.relativeTargetOrigin = undefined;\n            }\n            this.attemptToResolveRelativeTarget = !hasOnlyRelativeTargetChanged;\n            const relativeLayout = createBox();\n            const snapshotSource = snapshot ? snapshot.source : undefined;\n            const layoutSource = this.layout ? this.layout.source : undefined;\n            const isSharedLayoutAnimation = snapshotSource !== layoutSource;\n            const stack = this.getStack();\n            const isOnlyMember = !stack || stack.members.length <= 1;\n            const shouldCrossfadeOpacity = Boolean(isSharedLayoutAnimation &&\n                !isOnlyMember &&\n                this.options.crossfade === true &&\n                !this.path.some(hasOpacityCrossfade));\n            this.animationProgress = 0;\n            let prevRelativeTarget;\n            this.mixTargetDelta = (latest) => {\n                const progress = latest / 1000;\n                mixAxisDelta(targetDelta.x, delta.x, progress);\n                mixAxisDelta(targetDelta.y, delta.y, progress);\n                this.setTargetDelta(targetDelta);\n                if (this.relativeTarget &&\n                    this.relativeTargetOrigin &&\n                    this.layout &&\n                    this.relativeParent &&\n                    this.relativeParent.layout) {\n                    calcRelativePosition(relativeLayout, this.layout.layoutBox, this.relativeParent.layout.layoutBox);\n                    mixBox(this.relativeTarget, this.relativeTargetOrigin, relativeLayout, progress);\n                    /**\n                     * If this is an unchanged relative target we can consider the\n                     * projection not dirty.\n                     */\n                    if (prevRelativeTarget &&\n                        boxEquals(this.relativeTarget, prevRelativeTarget)) {\n                        this.isProjectionDirty = false;\n                    }\n                    if (!prevRelativeTarget)\n                        prevRelativeTarget = createBox();\n                    copyBoxInto(prevRelativeTarget, this.relativeTarget);\n                }\n                if (isSharedLayoutAnimation) {\n                    this.animationValues = mixedValues;\n                    mixValues(mixedValues, snapshotLatestValues, this.latestValues, progress, shouldCrossfadeOpacity, isOnlyMember);\n                }\n                this.root.scheduleUpdateProjection();\n                this.scheduleRender();\n                this.animationProgress = progress;\n            };\n            this.mixTargetDelta(this.options.layoutRoot ? 1000 : 0);\n        }\n        startAnimation(options) {\n            this.notifyListeners(\"animationStart\");\n            this.currentAnimation && this.currentAnimation.stop();\n            if (this.resumingFrom && this.resumingFrom.currentAnimation) {\n                this.resumingFrom.currentAnimation.stop();\n            }\n            if (this.pendingAnimation) {\n                cancelFrame(this.pendingAnimation);\n                this.pendingAnimation = undefined;\n            }\n            /**\n             * Start the animation in the next frame to have a frame with progress 0,\n             * where the target is the same as when the animation started, so we can\n             * calculate the relative positions correctly for instant transitions.\n             */\n            this.pendingAnimation = frame.update(() => {\n                globalProjectionState.hasAnimatedSinceResize = true;\n                this.currentAnimation = animateSingleValue(0, animationTarget, {\n                    ...options,\n                    onUpdate: (latest) => {\n                        this.mixTargetDelta(latest);\n                        options.onUpdate && options.onUpdate(latest);\n                    },\n                    onComplete: () => {\n                        options.onComplete && options.onComplete();\n                        this.completeAnimation();\n                    },\n                });\n                if (this.resumingFrom) {\n                    this.resumingFrom.currentAnimation = this.currentAnimation;\n                }\n                this.pendingAnimation = undefined;\n            });\n        }\n        completeAnimation() {\n            if (this.resumingFrom) {\n                this.resumingFrom.currentAnimation = undefined;\n                this.resumingFrom.preserveOpacity = undefined;\n            }\n            const stack = this.getStack();\n            stack && stack.exitAnimationComplete();\n            this.resumingFrom =\n                this.currentAnimation =\n                    this.animationValues =\n                        undefined;\n            this.notifyListeners(\"animationComplete\");\n        }\n        finishAnimation() {\n            if (this.currentAnimation) {\n                this.mixTargetDelta && this.mixTargetDelta(animationTarget);\n                this.currentAnimation.stop();\n            }\n            this.completeAnimation();\n        }\n        applyTransformsToTarget() {\n            const lead = this.getLead();\n            let { targetWithTransforms, target, layout, latestValues } = lead;\n            if (!targetWithTransforms || !target || !layout)\n                return;\n            /**\n             * If we're only animating position, and this element isn't the lead element,\n             * then instead of projecting into the lead box we instead want to calculate\n             * a new target that aligns the two boxes but maintains the layout shape.\n             */\n            if (this !== lead &&\n                this.layout &&\n                layout &&\n                shouldAnimatePositionOnly(this.options.animationType, this.layout.layoutBox, layout.layoutBox)) {\n                target = this.target || createBox();\n                const xLength = calcLength(this.layout.layoutBox.x);\n                target.x.min = lead.target.x.min;\n                target.x.max = target.x.min + xLength;\n                const yLength = calcLength(this.layout.layoutBox.y);\n                target.y.min = lead.target.y.min;\n                target.y.max = target.y.min + yLength;\n            }\n            copyBoxInto(targetWithTransforms, target);\n            /**\n             * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n             * This is the final box that we will then project into by calculating a transform delta and\n             * applying it to the corrected box.\n             */\n            transformBox(targetWithTransforms, latestValues);\n            /**\n             * Update the delta between the corrected box and the final target box, after\n             * user-set transforms are applied to it. This will be used by the renderer to\n             * create a transform style that will reproject the element from its layout layout\n             * into the desired bounding box.\n             */\n            calcBoxDelta(this.projectionDeltaWithTransform, this.layoutCorrected, targetWithTransforms, latestValues);\n        }\n        registerSharedNode(layoutId, node) {\n            if (!this.sharedNodes.has(layoutId)) {\n                this.sharedNodes.set(layoutId, new NodeStack());\n            }\n            const stack = this.sharedNodes.get(layoutId);\n            stack.add(node);\n            const config = node.options.initialPromotionConfig;\n            node.promote({\n                transition: config ? config.transition : undefined,\n                preserveFollowOpacity: config && config.shouldPreserveFollowOpacity\n                    ? config.shouldPreserveFollowOpacity(node)\n                    : undefined,\n            });\n        }\n        isLead() {\n            const stack = this.getStack();\n            return stack ? stack.lead === this : true;\n        }\n        getLead() {\n            var _a;\n            const { layoutId } = this.options;\n            return layoutId ? ((_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.lead) || this : this;\n        }\n        getPrevLead() {\n            var _a;\n            const { layoutId } = this.options;\n            return layoutId ? (_a = this.getStack()) === null || _a === void 0 ? void 0 : _a.prevLead : undefined;\n        }\n        getStack() {\n            const { layoutId } = this.options;\n            if (layoutId)\n                return this.root.sharedNodes.get(layoutId);\n        }\n        promote({ needsReset, transition, preserveFollowOpacity, } = {}) {\n            const stack = this.getStack();\n            if (stack)\n                stack.promote(this, preserveFollowOpacity);\n            if (needsReset) {\n                this.projectionDelta = undefined;\n                this.needsReset = true;\n            }\n            if (transition)\n                this.setOptions({ transition });\n        }\n        relegate() {\n            const stack = this.getStack();\n            if (stack) {\n                return stack.relegate(this);\n            }\n            else {\n                return false;\n            }\n        }\n        resetSkewAndRotation() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return;\n            // If there's no detected skew or rotation values, we can early return without a forced render.\n            let hasDistortingTransform = false;\n            /**\n             * An unrolled check for rotation values. Most elements don't have any rotation and\n             * skipping the nested loop and new object creation is 50% faster.\n             */\n            const { latestValues } = visualElement;\n            if (latestValues.rotate ||\n                latestValues.rotateX ||\n                latestValues.rotateY ||\n                latestValues.rotateZ ||\n                latestValues.skewX ||\n                latestValues.skewY) {\n                hasDistortingTransform = true;\n            }\n            // If there's no distorting values, we don't need to do any more.\n            if (!hasDistortingTransform)\n                return;\n            const resetValues = {};\n            // Check the skew and rotate value of all axes and reset to 0\n            for (let i = 0; i < transformAxes.length; i++) {\n                resetDistortingTransform(`rotate${transformAxes[i]}`, visualElement, resetValues, this.animationValues);\n                resetDistortingTransform(`skew${transformAxes[i]}`, visualElement, resetValues, this.animationValues);\n            }\n            // Force a render of this element to apply the transform with all skews and rotations\n            // set to 0.\n            visualElement.render();\n            // Put back all the values we reset\n            for (const key in resetValues) {\n                visualElement.setStaticValue(key, resetValues[key]);\n                if (this.animationValues) {\n                    this.animationValues[key] = resetValues[key];\n                }\n            }\n            // Schedule a render for the next frame. This ensures we won't visually\n            // see the element with the reset rotate value applied.\n            visualElement.scheduleRender();\n        }\n        getProjectionStyles(styleProp) {\n            var _a, _b;\n            if (!this.instance || this.isSVG)\n                return undefined;\n            if (!this.isVisible) {\n                return hiddenVisibility;\n            }\n            const styles = {\n                visibility: \"\",\n            };\n            const transformTemplate = this.getTransformTemplate();\n            if (this.needsReset) {\n                this.needsReset = false;\n                styles.opacity = \"\";\n                styles.pointerEvents =\n                    resolveMotionValue(styleProp === null || styleProp === void 0 ? void 0 : styleProp.pointerEvents) || \"\";\n                styles.transform = transformTemplate\n                    ? transformTemplate(this.latestValues, \"\")\n                    : \"none\";\n                return styles;\n            }\n            const lead = this.getLead();\n            if (!this.projectionDelta || !this.layout || !lead.target) {\n                const emptyStyles = {};\n                if (this.options.layoutId) {\n                    emptyStyles.opacity =\n                        this.latestValues.opacity !== undefined\n                            ? this.latestValues.opacity\n                            : 1;\n                    emptyStyles.pointerEvents =\n                        resolveMotionValue(styleProp === null || styleProp === void 0 ? void 0 : styleProp.pointerEvents) || \"\";\n                }\n                if (this.hasProjected && !hasTransform(this.latestValues)) {\n                    emptyStyles.transform = transformTemplate\n                        ? transformTemplate({}, \"\")\n                        : \"none\";\n                    this.hasProjected = false;\n                }\n                return emptyStyles;\n            }\n            const valuesToRender = lead.animationValues || lead.latestValues;\n            this.applyTransformsToTarget();\n            styles.transform = buildProjectionTransform(this.projectionDeltaWithTransform, this.treeScale, valuesToRender);\n            if (transformTemplate) {\n                styles.transform = transformTemplate(valuesToRender, styles.transform);\n            }\n            const { x, y } = this.projectionDelta;\n            styles.transformOrigin = `${x.origin * 100}% ${y.origin * 100}% 0`;\n            if (lead.animationValues) {\n                /**\n                 * If the lead component is animating, assign this either the entering/leaving\n                 * opacity\n                 */\n                styles.opacity =\n                    lead === this\n                        ? (_b = (_a = valuesToRender.opacity) !== null && _a !== void 0 ? _a : this.latestValues.opacity) !== null && _b !== void 0 ? _b : 1\n                        : this.preserveOpacity\n                            ? this.latestValues.opacity\n                            : valuesToRender.opacityExit;\n            }\n            else {\n                /**\n                 * Or we're not animating at all, set the lead component to its layout\n                 * opacity and other components to hidden.\n                 */\n                styles.opacity =\n                    lead === this\n                        ? valuesToRender.opacity !== undefined\n                            ? valuesToRender.opacity\n                            : \"\"\n                        : valuesToRender.opacityExit !== undefined\n                            ? valuesToRender.opacityExit\n                            : 0;\n            }\n            /**\n             * Apply scale correction\n             */\n            for (const key in scaleCorrectors) {\n                if (valuesToRender[key] === undefined)\n                    continue;\n                const { correct, applyTo } = scaleCorrectors[key];\n                /**\n                 * Only apply scale correction to the value if we have an\n                 * active projection transform. Otherwise these values become\n                 * vulnerable to distortion if the element changes size without\n                 * a corresponding layout animation.\n                 */\n                const corrected = styles.transform === \"none\"\n                    ? valuesToRender[key]\n                    : correct(valuesToRender[key], lead);\n                if (applyTo) {\n                    const num = applyTo.length;\n                    for (let i = 0; i < num; i++) {\n                        styles[applyTo[i]] = corrected;\n                    }\n                }\n                else {\n                    styles[key] = corrected;\n                }\n            }\n            /**\n             * Disable pointer events on follow components. This is to ensure\n             * that if a follow component covers a lead component it doesn't block\n             * pointer events on the lead.\n             */\n            if (this.options.layoutId) {\n                styles.pointerEvents =\n                    lead === this\n                        ? resolveMotionValue(styleProp === null || styleProp === void 0 ? void 0 : styleProp.pointerEvents) || \"\"\n                        : \"none\";\n            }\n            return styles;\n        }\n        clearSnapshot() {\n            this.resumeFrom = this.snapshot = undefined;\n        }\n        // Only run on root\n        resetTree() {\n            this.root.nodes.forEach((node) => { var _a; return (_a = node.currentAnimation) === null || _a === void 0 ? void 0 : _a.stop(); });\n            this.root.nodes.forEach(clearMeasurements);\n            this.root.sharedNodes.clear();\n        }\n    };\n}\nfunction updateLayout(node) {\n    node.updateLayout();\n}\nfunction notifyLayoutUpdate(node) {\n    var _a;\n    const snapshot = ((_a = node.resumeFrom) === null || _a === void 0 ? void 0 : _a.snapshot) || node.snapshot;\n    if (node.isLead() &&\n        node.layout &&\n        snapshot &&\n        node.hasListeners(\"didUpdate\")) {\n        const { layoutBox: layout, measuredBox: measuredLayout } = node.layout;\n        const { animationType } = node.options;\n        const isShared = snapshot.source !== node.layout.source;\n        // TODO Maybe we want to also resize the layout snapshot so we don't trigger\n        // animations for instance if layout=\"size\" and an element has only changed position\n        if (animationType === \"size\") {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(axisSnapshot);\n                axisSnapshot.min = layout[axis].min;\n                axisSnapshot.max = axisSnapshot.min + length;\n            });\n        }\n        else if (shouldAnimatePositionOnly(animationType, snapshot.layoutBox, layout)) {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(layout[axis]);\n                axisSnapshot.max = axisSnapshot.min + length;\n                /**\n                 * Ensure relative target gets resized and rerendererd\n                 */\n                if (node.relativeTarget && !node.currentAnimation) {\n                    node.isProjectionDirty = true;\n                    node.relativeTarget[axis].max =\n                        node.relativeTarget[axis].min + length;\n                }\n            });\n        }\n        const layoutDelta = createDelta();\n        calcBoxDelta(layoutDelta, layout, snapshot.layoutBox);\n        const visualDelta = createDelta();\n        if (isShared) {\n            calcBoxDelta(visualDelta, node.applyTransform(measuredLayout, true), snapshot.measuredBox);\n        }\n        else {\n            calcBoxDelta(visualDelta, layout, snapshot.layoutBox);\n        }\n        const hasLayoutChanged = !isDeltaZero(layoutDelta);\n        let hasRelativeTargetChanged = false;\n        if (!node.resumeFrom) {\n            const relativeParent = node.getClosestProjectingParent();\n            /**\n             * If the relativeParent is itself resuming from a different element then\n             * the relative snapshot is not relavent\n             */\n            if (relativeParent && !relativeParent.resumeFrom) {\n                const { snapshot: parentSnapshot, layout: parentLayout } = relativeParent;\n                if (parentSnapshot && parentLayout) {\n                    const relativeSnapshot = createBox();\n                    calcRelativePosition(relativeSnapshot, snapshot.layoutBox, parentSnapshot.layoutBox);\n                    const relativeLayout = createBox();\n                    calcRelativePosition(relativeLayout, layout, parentLayout.layoutBox);\n                    if (!boxEqualsRounded(relativeSnapshot, relativeLayout)) {\n                        hasRelativeTargetChanged = true;\n                    }\n                    if (relativeParent.options.layoutRoot) {\n                        node.relativeTarget = relativeLayout;\n                        node.relativeTargetOrigin = relativeSnapshot;\n                        node.relativeParent = relativeParent;\n                    }\n                }\n            }\n        }\n        node.notifyListeners(\"didUpdate\", {\n            layout,\n            snapshot,\n            delta: visualDelta,\n            layoutDelta,\n            hasLayoutChanged,\n            hasRelativeTargetChanged,\n        });\n    }\n    else if (node.isLead()) {\n        const { onExitComplete } = node.options;\n        onExitComplete && onExitComplete();\n    }\n    /**\n     * Clearing transition\n     * TODO: Investigate why this transition is being passed in as {type: false } from Framer\n     * and why we need it at all\n     */\n    node.options.transition = undefined;\n}\nfunction propagateDirtyNodes(node) {\n    /**\n     * Increase debug counter for nodes encountered this frame\n     */\n    projectionFrameData.totalNodes++;\n    if (!node.parent)\n        return;\n    /**\n     * If this node isn't projecting, propagate isProjectionDirty. It will have\n     * no performance impact but it will allow the next child that *is* projecting\n     * but *isn't* dirty to just check its parent to see if *any* ancestor needs\n     * correcting.\n     */\n    if (!node.isProjecting()) {\n        node.isProjectionDirty = node.parent.isProjectionDirty;\n    }\n    /**\n     * Propagate isSharedProjectionDirty and isTransformDirty\n     * throughout the whole tree. A future revision can take another look at\n     * this but for safety we still recalcualte shared nodes.\n     */\n    node.isSharedProjectionDirty || (node.isSharedProjectionDirty = Boolean(node.isProjectionDirty ||\n        node.parent.isProjectionDirty ||\n        node.parent.isSharedProjectionDirty));\n    node.isTransformDirty || (node.isTransformDirty = node.parent.isTransformDirty);\n}\nfunction cleanDirtyNodes(node) {\n    node.isProjectionDirty =\n        node.isSharedProjectionDirty =\n            node.isTransformDirty =\n                false;\n}\nfunction clearSnapshot(node) {\n    node.clearSnapshot();\n}\nfunction clearMeasurements(node) {\n    node.clearMeasurements();\n}\nfunction clearIsLayoutDirty(node) {\n    node.isLayoutDirty = false;\n}\nfunction resetTransformStyle(node) {\n    const { visualElement } = node.options;\n    if (visualElement && visualElement.getProps().onBeforeLayoutMeasure) {\n        visualElement.notify(\"BeforeLayoutMeasure\");\n    }\n    node.resetTransform();\n}\nfunction finishAnimation(node) {\n    node.finishAnimation();\n    node.targetDelta = node.relativeTarget = node.target = undefined;\n    node.isProjectionDirty = true;\n}\nfunction resolveTargetDelta(node) {\n    node.resolveTargetDelta();\n}\nfunction calcProjection(node) {\n    node.calcProjection();\n}\nfunction resetSkewAndRotation(node) {\n    node.resetSkewAndRotation();\n}\nfunction removeLeadSnapshots(stack) {\n    stack.removeLeadSnapshot();\n}\nfunction mixAxisDelta(output, delta, p) {\n    output.translate = mixNumber(delta.translate, 0, p);\n    output.scale = mixNumber(delta.scale, 1, p);\n    output.origin = delta.origin;\n    output.originPoint = delta.originPoint;\n}\nfunction mixAxis(output, from, to, p) {\n    output.min = mixNumber(from.min, to.min, p);\n    output.max = mixNumber(from.max, to.max, p);\n}\nfunction mixBox(output, from, to, p) {\n    mixAxis(output.x, from.x, to.x, p);\n    mixAxis(output.y, from.y, to.y, p);\n}\nfunction hasOpacityCrossfade(node) {\n    return (node.animationValues && node.animationValues.opacityExit !== undefined);\n}\nconst defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nconst userAgentContains = (string) => typeof navigator !== \"undefined\" &&\n    navigator.userAgent &&\n    navigator.userAgent.toLowerCase().includes(string);\n/**\n * Measured bounding boxes must be rounded in Safari and\n * left untouched in Chrome, otherwise non-integer layouts within scaled-up elements\n * can appear to jump.\n */\nconst roundPoint = userAgentContains(\"applewebkit/\") && !userAgentContains(\"chrome/\")\n    ? Math.round\n    : noop;\nfunction roundAxis(axis) {\n    // Round to the nearest .5 pixels to support subpixel layouts\n    axis.min = roundPoint(axis.min);\n    axis.max = roundPoint(axis.max);\n}\nfunction roundBox(box) {\n    roundAxis(box.x);\n    roundAxis(box.y);\n}\nfunction shouldAnimatePositionOnly(animationType, snapshot, layout) {\n    return (animationType === \"position\" ||\n        (animationType === \"preserve-aspect\" &&\n            !isNear(aspectRatio(snapshot), aspectRatio(layout), 0.2)));\n}\n\nexport { cleanDirtyNodes, createProjectionNode, mixAxis, mixAxisDelta, mixBox, propagateDirtyNodes };\n","function record(data) {\n    if (window.MotionDebug) {\n        window.MotionDebug.record(data);\n    }\n}\n\nexport { record };\n","import { time } from '../frameloop/sync-time.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\n/**\n * Timeout defined in ms\n */\nfunction delay(callback, timeout) {\n    const start = time.now();\n    const checkElapsed = ({ timestamp }) => {\n        const elapsed = timestamp - start;\n        if (elapsed >= timeout) {\n            cancelFrame(checkElapsed);\n            callback(elapsed - timeout);\n        }\n    };\n    frame.read(checkElapsed, true);\n    return () => cancelFrame(checkElapsed);\n}\n\nexport { delay };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\n\nconst DocumentProjectionNode = createProjectionNode({\n    attachResizeListener: (ref, notify) => addDomEvent(ref, \"resize\", notify),\n    measureScroll: () => ({\n        x: document.documentElement.scrollLeft || document.body.scrollLeft,\n        y: document.documentElement.scrollTop || document.body.scrollTop,\n    }),\n    checkIsScrollRoot: () => true,\n});\n\nexport { DocumentProjectionNode };\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { DocumentProjectionNode } from './DocumentProjectionNode.mjs';\n\nconst rootProjectionNode = {\n    current: undefined,\n};\nconst HTMLProjectionNode = createProjectionNode({\n    measureScroll: (instance) => ({\n        x: instance.scrollLeft,\n        y: instance.scrollTop,\n    }),\n    defaultParent: () => {\n        if (!rootProjectionNode.current) {\n            const documentNode = new DocumentProjectionNode({});\n            documentNode.mount(window);\n            documentNode.setOptions({ layoutScroll: true });\n            rootProjectionNode.current = documentNode;\n        }\n        return rootProjectionNode.current;\n    },\n    resetTransform: (instance, value) => {\n        instance.style.transform = value !== undefined ? value : \"none\";\n    },\n    checkIsScrollRoot: (instance) => Boolean(window.getComputedStyle(instance).position === \"fixed\"),\n});\n\nexport { HTMLProjectionNode, rootProjectionNode };\n","import { DragGesture } from '../../gestures/drag/index.mjs';\nimport { PanGesture } from '../../gestures/pan/index.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\nimport { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\n\nconst drag = {\n    pan: {\n        Feature: PanGesture,\n    },\n    drag: {\n        Feature: DragGesture,\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { drag };\n","import { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from '../../utils/noop.mjs';\nimport { VisualElementDragControls } from './VisualElementDragControls.mjs';\n\nclass DragGesture extends Feature {\n    constructor(node) {\n        super(node);\n        this.removeGroupControls = noop;\n        this.removeListeners = noop;\n        this.controls = new VisualElementDragControls(node);\n    }\n    mount() {\n        // If we've been provided a DragControls for manual control over the drag gesture,\n        // subscribe this component to it on mount.\n        const { dragControls } = this.node.getProps();\n        if (dragControls) {\n            this.removeGroupControls = dragControls.subscribe(this.controls);\n        }\n        this.removeListeners = this.controls.addListeners() || noop;\n    }\n    unmount() {\n        this.removeGroupControls();\n        this.removeListeners();\n    }\n}\n\nexport { DragGesture };\n","// Does this device prefer reduced motion? Returns `null` server-side.\nconst prefersReducedMotion = { current: null };\nconst hasReducedMotionListener = { current: false };\n\nexport { hasReducedMotionListener, prefersReducedMotion };\n","const visualElementStore = new WeakMap();\n\nexport { visualElementStore };\n","import { color } from '../../../value/types/color/index.mjs';\nimport { complex } from '../../../value/types/complex/index.mjs';\nimport { dimensionValueTypes } from './dimensions.mjs';\nimport { testValueType } from './test.mjs';\n\n/**\n * A list of all ValueTypes\n */\nconst valueTypes = [...dimensionValueTypes, color, complex];\n/**\n * Tests a value against the list of ValueTypes\n */\nconst findValueType = (v) => valueTypes.find(testValueType(v));\n\nexport { findValueType };\n","import { warning, invariant } from '../utils/errors.mjs';\nimport { createBox } from '../projection/geometry/models.mjs';\nimport { isRefObject } from '../utils/is-ref-object.mjs';\nimport { initPrefersReducedMotion } from '../utils/reduced-motion/index.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from '../utils/reduced-motion/state.mjs';\nimport { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { motionValue } from '../value/index.mjs';\nimport { isWillChangeMotionValue } from '../value/use-will-change/is.mjs';\nimport { isMotionValue } from '../value/utils/is-motion-value.mjs';\nimport { transformProps } from './html/utils/transform.mjs';\nimport { isControllingVariants, isVariantNode } from './utils/is-controlling-variants.mjs';\nimport { isVariantLabel } from './utils/is-variant-label.mjs';\nimport { updateMotionValuesFromProps } from './utils/motion-values.mjs';\nimport { resolveVariantFromProps } from './utils/resolve-variants.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { featureDefinitions } from '../motion/features/definitions.mjs';\nimport { variantProps } from './utils/variant-props.mjs';\nimport { visualElementStore } from './store.mjs';\nimport { KeyframeResolver } from './utils/KeyframesResolver.mjs';\nimport { isNumericalString } from '../utils/is-numerical-string.mjs';\nimport { isZeroValueString } from '../utils/is-zero-value-string.mjs';\nimport { findValueType } from './dom/value-types/find.mjs';\nimport { complex } from '../value/types/complex/index.mjs';\nimport { getAnimatableNone } from './dom/value-types/animatable-none.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\nconst featureNames = Object.keys(featureDefinitions);\nconst numFeatures = featureNames.length;\nconst propEventHandlers = [\n    \"AnimationStart\",\n    \"AnimationComplete\",\n    \"Update\",\n    \"BeforeLayoutMeasure\",\n    \"LayoutMeasure\",\n    \"LayoutAnimationStart\",\n    \"LayoutAnimationComplete\",\n];\nconst numVariantProps = variantProps.length;\n/**\n * A VisualElement is an imperative abstraction around UI elements such as\n * HTMLElement, SVGElement, Three.Object3D etc.\n */\nclass VisualElement {\n    constructor({ parent, props, presenceContext, reducedMotionConfig, blockInitialAnimation, visualState, }, options = {}) {\n        this.resolveKeyframes = (keyframes, \n        // We use an onComplete callback here rather than a Promise as a Promise\n        // resolution is a microtask and we want to retain the ability to force\n        // the resolution of keyframes synchronously.\n        onComplete, name, value) => {\n            return new this.KeyframeResolver(keyframes, onComplete, name, value, this);\n        };\n        /**\n         * A reference to the current underlying Instance, e.g. a HTMLElement\n         * or Three.Mesh etc.\n         */\n        this.current = null;\n        /**\n         * A set containing references to this VisualElement's children.\n         */\n        this.children = new Set();\n        /**\n         * Determine what role this visual element should take in the variant tree.\n         */\n        this.isVariantNode = false;\n        this.isControllingVariants = false;\n        /**\n         * Decides whether this VisualElement should animate in reduced motion\n         * mode.\n         *\n         * TODO: This is currently set on every individual VisualElement but feels\n         * like it could be set globally.\n         */\n        this.shouldReduceMotion = null;\n        /**\n         * A map of all motion values attached to this visual element. Motion\n         * values are source of truth for any given animated value. A motion\n         * value might be provided externally by the component via props.\n         */\n        this.values = new Map();\n        this.KeyframeResolver = KeyframeResolver;\n        /**\n         * Cleanup functions for active features (hover/tap/exit etc)\n         */\n        this.features = {};\n        /**\n         * A map of every subscription that binds the provided or generated\n         * motion values onChange listeners to this visual element.\n         */\n        this.valueSubscriptions = new Map();\n        /**\n         * A reference to the previously-provided motion values as returned\n         * from scrapeMotionValuesFromProps. We use the keys in here to determine\n         * if any motion values need to be removed after props are updated.\n         */\n        this.prevMotionValues = {};\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        /**\n         * An object containing an unsubscribe function for each prop event subscription.\n         * For example, every \"Update\" event can have multiple subscribers via\n         * VisualElement.on(), but only one of those can be defined via the onUpdate prop.\n         */\n        this.propEventSubscriptions = {};\n        this.notifyUpdate = () => this.notify(\"Update\", this.latestValues);\n        this.render = () => {\n            if (!this.current)\n                return;\n            this.triggerBuild();\n            this.renderInstance(this.current, this.renderState, this.props.style, this.projection);\n        };\n        this.scheduleRender = () => frame.render(this.render, false, true);\n        const { latestValues, renderState } = visualState;\n        this.latestValues = latestValues;\n        this.baseTarget = { ...latestValues };\n        this.initialValues = props.initial ? { ...latestValues } : {};\n        this.renderState = renderState;\n        this.parent = parent;\n        this.props = props;\n        this.presenceContext = presenceContext;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.reducedMotionConfig = reducedMotionConfig;\n        this.options = options;\n        this.blockInitialAnimation = Boolean(blockInitialAnimation);\n        this.isControllingVariants = isControllingVariants(props);\n        this.isVariantNode = isVariantNode(props);\n        if (this.isVariantNode) {\n            this.variantChildren = new Set();\n        }\n        this.manuallyAnimateOnMount = Boolean(parent && parent.current);\n        /**\n         * Any motion values that are provided to the element when created\n         * aren't yet bound to the element, as this would technically be impure.\n         * However, we iterate through the motion values and set them to the\n         * initial values for this component.\n         *\n         * TODO: This is impure and we should look at changing this to run on mount.\n         * Doing so will break some tests but this isn't neccessarily a breaking change,\n         * more a reflection of the test.\n         */\n        const { willChange, ...initialMotionValues } = this.scrapeMotionValuesFromProps(props, {});\n        for (const key in initialMotionValues) {\n            const value = initialMotionValues[key];\n            if (latestValues[key] !== undefined && isMotionValue(value)) {\n                value.set(latestValues[key], false);\n                if (isWillChangeMotionValue(willChange)) {\n                    willChange.add(key);\n                }\n            }\n        }\n    }\n    /**\n     * This method takes React props and returns found MotionValues. For example, HTML\n     * MotionValues will be found within the style prop, whereas for Three.js within attribute arrays.\n     *\n     * This isn't an abstract method as it needs calling in the constructor, but it is\n     * intended to be one.\n     */\n    scrapeMotionValuesFromProps(_props, _prevProps) {\n        return {};\n    }\n    mount(instance) {\n        this.current = instance;\n        visualElementStore.set(instance, this);\n        if (this.projection && !this.projection.instance) {\n            this.projection.mount(instance);\n        }\n        if (this.parent && this.isVariantNode && !this.isControllingVariants) {\n            this.removeFromVariantTree = this.parent.addVariantChild(this);\n        }\n        this.values.forEach((value, key) => this.bindToMotionValue(key, value));\n        if (!hasReducedMotionListener.current) {\n            initPrefersReducedMotion();\n        }\n        this.shouldReduceMotion =\n            this.reducedMotionConfig === \"never\"\n                ? false\n                : this.reducedMotionConfig === \"always\"\n                    ? true\n                    : prefersReducedMotion.current;\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(this.shouldReduceMotion !== true, \"You have Reduced Motion enabled on your device. Animations may not appear as expected.\");\n        }\n        if (this.parent)\n            this.parent.children.add(this);\n        this.update(this.props, this.presenceContext);\n    }\n    unmount() {\n        visualElementStore.delete(this.current);\n        this.projection && this.projection.unmount();\n        cancelFrame(this.notifyUpdate);\n        cancelFrame(this.render);\n        this.valueSubscriptions.forEach((remove) => remove());\n        this.removeFromVariantTree && this.removeFromVariantTree();\n        this.parent && this.parent.children.delete(this);\n        for (const key in this.events) {\n            this.events[key].clear();\n        }\n        for (const key in this.features) {\n            this.features[key].unmount();\n        }\n        this.current = null;\n    }\n    bindToMotionValue(key, value) {\n        const valueIsTransform = transformProps.has(key);\n        const removeOnChange = value.on(\"change\", (latestValue) => {\n            this.latestValues[key] = latestValue;\n            this.props.onUpdate && frame.preRender(this.notifyUpdate);\n            if (valueIsTransform && this.projection) {\n                this.projection.isTransformDirty = true;\n            }\n        });\n        const removeOnRenderRequest = value.on(\"renderRequest\", this.scheduleRender);\n        this.valueSubscriptions.set(key, () => {\n            removeOnChange();\n            removeOnRenderRequest();\n            if (value.owner)\n                value.stop();\n        });\n    }\n    sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!this.current ||\n            !this.sortInstanceNodePosition ||\n            this.type !== other.type) {\n            return 0;\n        }\n        return this.sortInstanceNodePosition(this.current, other.current);\n    }\n    loadFeatures({ children, ...renderedProps }, isStrict, preloadedFeatures, initialLayoutGroupConfig) {\n        let ProjectionNodeConstructor;\n        let MeasureLayout;\n        /**\n         * If we're in development mode, check to make sure we're not rendering a motion component\n         * as a child of LazyMotion, as this will break the file-size benefits of using it.\n         */\n        if (process.env.NODE_ENV !== \"production\" &&\n            preloadedFeatures &&\n            isStrict) {\n            const strictMessage = \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\";\n            renderedProps.ignoreStrict\n                ? warning(false, strictMessage)\n                : invariant(false, strictMessage);\n        }\n        for (let i = 0; i < numFeatures; i++) {\n            const name = featureNames[i];\n            const { isEnabled, Feature: FeatureConstructor, ProjectionNode, MeasureLayout: MeasureLayoutComponent, } = featureDefinitions[name];\n            if (ProjectionNode)\n                ProjectionNodeConstructor = ProjectionNode;\n            if (isEnabled(renderedProps)) {\n                if (!this.features[name] && FeatureConstructor) {\n                    this.features[name] = new FeatureConstructor(this);\n                }\n                if (MeasureLayoutComponent) {\n                    MeasureLayout = MeasureLayoutComponent;\n                }\n            }\n        }\n        if ((this.type === \"html\" || this.type === \"svg\") &&\n            !this.projection &&\n            ProjectionNodeConstructor) {\n            this.projection = new ProjectionNodeConstructor(this.latestValues, this.parent && this.parent.projection);\n            const { layoutId, layout, drag, dragConstraints, layoutScroll, layoutRoot, } = renderedProps;\n            this.projection.setOptions({\n                layoutId,\n                layout,\n                alwaysMeasureLayout: Boolean(drag) ||\n                    (dragConstraints && isRefObject(dragConstraints)),\n                visualElement: this,\n                scheduleRender: () => this.scheduleRender(),\n                /**\n                 * TODO: Update options in an effect. This could be tricky as it'll be too late\n                 * to update by the time layout animations run.\n                 * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,\n                 * ensuring it gets called if there's no potential layout animations.\n                 *\n                 */\n                animationType: typeof layout === \"string\" ? layout : \"both\",\n                initialPromotionConfig: initialLayoutGroupConfig,\n                layoutScroll,\n                layoutRoot,\n            });\n        }\n        return MeasureLayout;\n    }\n    updateFeatures() {\n        for (const key in this.features) {\n            const feature = this.features[key];\n            if (feature.isMounted) {\n                feature.update();\n            }\n            else {\n                feature.mount();\n                feature.isMounted = true;\n            }\n        }\n    }\n    triggerBuild() {\n        this.build(this.renderState, this.latestValues, this.options, this.props);\n    }\n    /**\n     * Measure the current viewport box with or without transforms.\n     * Only measures axis-aligned boxes, rotate and skew must be manually\n     * removed with a re-render to work.\n     */\n    measureViewportBox() {\n        return this.current\n            ? this.measureInstanceViewportBox(this.current, this.props)\n            : createBox();\n    }\n    getStaticValue(key) {\n        return this.latestValues[key];\n    }\n    setStaticValue(key, value) {\n        this.latestValues[key] = value;\n    }\n    /**\n     * Update the provided props. Ensure any newly-added motion values are\n     * added to our map, old ones removed, and listeners updated.\n     */\n    update(props, presenceContext) {\n        if (props.transformTemplate || this.props.transformTemplate) {\n            this.scheduleRender();\n        }\n        this.prevProps = this.props;\n        this.props = props;\n        this.prevPresenceContext = this.presenceContext;\n        this.presenceContext = presenceContext;\n        /**\n         * Update prop event handlers ie onAnimationStart, onAnimationComplete\n         */\n        for (let i = 0; i < propEventHandlers.length; i++) {\n            const key = propEventHandlers[i];\n            if (this.propEventSubscriptions[key]) {\n                this.propEventSubscriptions[key]();\n                delete this.propEventSubscriptions[key];\n            }\n            const listener = props[\"on\" + key];\n            if (listener) {\n                this.propEventSubscriptions[key] = this.on(key, listener);\n            }\n        }\n        this.prevMotionValues = updateMotionValuesFromProps(this, this.scrapeMotionValuesFromProps(props, this.prevProps), this.prevMotionValues);\n        if (this.handleChildMotionValue) {\n            this.handleChildMotionValue();\n        }\n    }\n    getProps() {\n        return this.props;\n    }\n    /**\n     * Returns the variant definition with a given name.\n     */\n    getVariant(name) {\n        return this.props.variants ? this.props.variants[name] : undefined;\n    }\n    /**\n     * Returns the defined default transition on this component.\n     */\n    getDefaultTransition() {\n        return this.props.transition;\n    }\n    getTransformPagePoint() {\n        return this.props.transformPagePoint;\n    }\n    getClosestVariantNode() {\n        return this.isVariantNode\n            ? this\n            : this.parent\n                ? this.parent.getClosestVariantNode()\n                : undefined;\n    }\n    getVariantContext(startAtParent = false) {\n        if (startAtParent) {\n            return this.parent ? this.parent.getVariantContext() : undefined;\n        }\n        if (!this.isControllingVariants) {\n            const context = this.parent\n                ? this.parent.getVariantContext() || {}\n                : {};\n            if (this.props.initial !== undefined) {\n                context.initial = this.props.initial;\n            }\n            return context;\n        }\n        const context = {};\n        for (let i = 0; i < numVariantProps; i++) {\n            const name = variantProps[i];\n            const prop = this.props[name];\n            if (isVariantLabel(prop) || prop === false) {\n                context[name] = prop;\n            }\n        }\n        return context;\n    }\n    /**\n     * Add a child visual element to our set of children.\n     */\n    addVariantChild(child) {\n        const closestVariantNode = this.getClosestVariantNode();\n        if (closestVariantNode) {\n            closestVariantNode.variantChildren &&\n                closestVariantNode.variantChildren.add(child);\n            return () => closestVariantNode.variantChildren.delete(child);\n        }\n    }\n    /**\n     * Add a motion value and bind it to this visual element.\n     */\n    addValue(key, value) {\n        // Remove existing value if it exists\n        if (value !== this.values.get(key)) {\n            this.removeValue(key);\n            this.bindToMotionValue(key, value);\n        }\n        this.values.set(key, value);\n        this.latestValues[key] = value.get();\n    }\n    /**\n     * Remove a motion value and unbind any active subscriptions.\n     */\n    removeValue(key) {\n        this.values.delete(key);\n        const unsubscribe = this.valueSubscriptions.get(key);\n        if (unsubscribe) {\n            unsubscribe();\n            this.valueSubscriptions.delete(key);\n        }\n        delete this.latestValues[key];\n        this.removeValueFromRenderState(key, this.renderState);\n    }\n    /**\n     * Check whether we have a motion value for this key\n     */\n    hasValue(key) {\n        return this.values.has(key);\n    }\n    getValue(key, defaultValue) {\n        if (this.props.values && this.props.values[key]) {\n            return this.props.values[key];\n        }\n        let value = this.values.get(key);\n        if (value === undefined && defaultValue !== undefined) {\n            value = motionValue(defaultValue === null ? undefined : defaultValue, { owner: this });\n            this.addValue(key, value);\n        }\n        return value;\n    }\n    /**\n     * If we're trying to animate to a previously unencountered value,\n     * we need to check for it in our state and as a last resort read it\n     * directly from the instance (which might have performance implications).\n     */\n    readValue(key, target) {\n        var _a;\n        let value = this.latestValues[key] !== undefined || !this.current\n            ? this.latestValues[key]\n            : (_a = this.getBaseTargetFromProps(this.props, key)) !== null && _a !== void 0 ? _a : this.readValueFromInstance(this.current, key, this.options);\n        if (value !== undefined && value !== null) {\n            if (typeof value === \"string\" &&\n                (isNumericalString(value) || isZeroValueString(value))) {\n                // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n                value = parseFloat(value);\n            }\n            else if (!findValueType(value) && complex.test(target)) {\n                value = getAnimatableNone(key, target);\n            }\n            this.setBaseTarget(key, isMotionValue(value) ? value.get() : value);\n        }\n        return isMotionValue(value) ? value.get() : value;\n    }\n    /**\n     * Set the base target to later animate back to. This is currently\n     * only hydrated on creation and when we first read a value.\n     */\n    setBaseTarget(key, value) {\n        this.baseTarget[key] = value;\n    }\n    /**\n     * Find the base target for a value thats been removed from all animation\n     * props.\n     */\n    getBaseTarget(key) {\n        var _a, _b;\n        const { initial } = this.props;\n        const valueFromInitial = typeof initial === \"string\" || typeof initial === \"object\"\n            ? (_b = resolveVariantFromProps(this.props, initial, (_a = this.presenceContext) === null || _a === void 0 ? void 0 : _a.custom)) === null || _b === void 0 ? void 0 : _b[key]\n            : undefined;\n        /**\n         * If this value still exists in the current initial variant, read that.\n         */\n        if (initial && valueFromInitial !== undefined) {\n            return valueFromInitial;\n        }\n        /**\n         * Alternatively, if this VisualElement config has defined a getBaseTarget\n         * so we can read the value from an alternative source, try that.\n         */\n        const target = this.getBaseTargetFromProps(this.props, key);\n        if (target !== undefined && !isMotionValue(target))\n            return target;\n        /**\n         * If the value was initially defined on initial, but it doesn't any more,\n         * return undefined. Otherwise return the value as initially read from the DOM.\n         */\n        return this.initialValues[key] !== undefined &&\n            valueFromInitial === undefined\n            ? undefined\n            : this.baseTarget[key];\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        return this.events[eventName].add(callback);\n    }\n    notify(eventName, ...args) {\n        if (this.events[eventName]) {\n            this.events[eventName].notify(...args);\n        }\n    }\n}\n\nexport { VisualElement };\n","import { isBrowser } from '../is-browser.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from './state.mjs';\n\nfunction initPrefersReducedMotion() {\n    hasReducedMotionListener.current = true;\n    if (!isBrowser)\n        return;\n    if (window.matchMedia) {\n        const motionMediaQuery = window.matchMedia(\"(prefers-reduced-motion)\");\n        const setReducedMotionPreferences = () => (prefersReducedMotion.current = motionMediaQuery.matches);\n        motionMediaQuery.addListener(setReducedMotionPreferences);\n        setReducedMotionPreferences();\n    }\n    else {\n        prefersReducedMotion.current = false;\n    }\n}\n\nexport { initPrefersReducedMotion };\n","import { isWillChangeMotionValue } from '../../value/use-will-change/is.mjs';\nimport { warnOnce } from '../../utils/warn-once.mjs';\nimport { motionValue } from '../../value/index.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n    const { willChange } = next;\n    for (const key in next) {\n        const nextValue = next[key];\n        const prevValue = prev[key];\n        if (isMotionValue(nextValue)) {\n            /**\n             * If this is a motion value found in props or style, we want to add it\n             * to our visual element's motion value map.\n             */\n            element.addValue(key, nextValue);\n            if (isWillChangeMotionValue(willChange)) {\n                willChange.add(key);\n            }\n            /**\n             * Check the version of the incoming motion value with this version\n             * and warn against mismatches.\n             */\n            if (process.env.NODE_ENV === \"development\") {\n                warnOnce(nextValue.version === \"11.0.22\", `Attempting to mix Framer Motion versions ${nextValue.version} with 11.0.22 may not work as expected.`);\n            }\n        }\n        else if (isMotionValue(prevValue)) {\n            /**\n             * If we're swapping from a motion value to a static value,\n             * create a new motion value from that\n             */\n            element.addValue(key, motionValue(nextValue, { owner: element }));\n            if (isWillChangeMotionValue(willChange)) {\n                willChange.remove(key);\n            }\n        }\n        else if (prevValue !== nextValue) {\n            /**\n             * If this is a flat value that has changed, update the motion value\n             * or create one if it doesn't exist. We only want to do this if we're\n             * not handling the value with our animation state.\n             */\n            if (element.hasValue(key)) {\n                const existingValue = element.getValue(key);\n                // TODO: Only update values that aren't being animated or even looked at\n                !existingValue.hasAnimated && existingValue.set(nextValue);\n            }\n            else {\n                const latestValue = element.getStaticValue(key);\n                element.addValue(key, motionValue(latestValue !== undefined ? latestValue : nextValue, { owner: element }));\n            }\n        }\n    }\n    // Handle removed values\n    for (const key in prev) {\n        if (next[key] === undefined)\n            element.removeValue(key);\n    }\n    return next;\n}\n\nexport { updateMotionValuesFromProps };\n","import { VisualElement } from '../VisualElement.mjs';\nimport { DOMKeyframesResolver } from './DOMKeyframesResolver.mjs';\n\nclass DOMVisualElement extends VisualElement {\n    constructor() {\n        super(...arguments);\n        this.KeyframeResolver = DOMKeyframesResolver;\n    }\n    sortInstanceNodePosition(a, b) {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props.style ? props.style[key] : undefined;\n    }\n    removeValueFromRenderState(key, { vars, style }) {\n        delete vars[key];\n        delete style[key];\n    }\n}\n\nexport { DOMVisualElement };\n","import { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { isCSSVariableName } from '../dom/utils/is-css-variable.mjs';\nimport { transformProps } from './utils/transform.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { renderHTML } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { measureViewportBox } from '../../projection/utils/measure.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction getComputedStyle(element) {\n    return window.getComputedStyle(element);\n}\nclass HTMLVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"html\";\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        else {\n            const computedStyle = getComputedStyle(instance);\n            const value = (isCSSVariableName(key)\n                ? computedStyle.getPropertyValue(key)\n                : computedStyle[key]) || 0;\n            return typeof value === \"string\" ? value.trim() : value;\n        }\n    }\n    measureInstanceViewportBox(instance, { transformPagePoint }) {\n        return measureViewportBox(instance, transformPagePoint);\n    }\n    build(renderState, latestValues, options, props) {\n        buildHTMLStyles(renderState, latestValues, options, props.transformTemplate);\n    }\n    scrapeMotionValuesFromProps(props, prevProps) {\n        return scrapeMotionValuesFromProps(props, prevProps);\n    }\n    handleChildMotionValue() {\n        if (this.childSubscription) {\n            this.childSubscription();\n            delete this.childSubscription;\n        }\n        const { children } = this.props;\n        if (isMotionValue(children)) {\n            this.childSubscription = children.on(\"change\", (latest) => {\n                if (this.current)\n                    this.current.textContent = `${latest}`;\n            });\n        }\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderHTML(instance, renderState, styleProp, projection);\n    }\n}\n\nexport { HTMLVisualElement, getComputedStyle };\n","import { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { camelToDash } from '../dom/utils/camel-to-dash.mjs';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.mjs';\nimport { transformProps } from '../html/utils/transform.mjs';\nimport { renderSVG } from './utils/render.mjs';\nimport { getDefaultValueType } from '../dom/value-types/defaults.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nclass SVGVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"svg\";\n        this.isSVGTag = false;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props[key];\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        return instance.getAttribute(key);\n    }\n    measureInstanceViewportBox() {\n        return createBox();\n    }\n    scrapeMotionValuesFromProps(props, prevProps) {\n        return scrapeMotionValuesFromProps(props, prevProps);\n    }\n    build(renderState, latestValues, options, props) {\n        buildSVGAttrs(renderState, latestValues, options, this.isSVGTag, props.transformTemplate);\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderSVG(instance, renderState, styleProp, projection);\n    }\n    mount(instance) {\n        this.isSVGTag = isSVGTag(instance.tagName);\n        super.mount(instance);\n    }\n}\n\nexport { SVGVisualElement };\n","import { HTMLVisualElement } from '../html/HTMLVisualElement.mjs';\nimport { SVGVisualElement } from '../svg/SVGVisualElement.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nconst createDomVisualElement = (Component, options) => {\n    return isSVGComponent(Component)\n        ? new SVGVisualElement(options, { enableHardwareAcceleration: false })\n        : new HTMLVisualElement(options, { enableHardwareAcceleration: true });\n};\n\nexport { createDomVisualElement };\n","import { createMotionComponent } from '../../motion/index.mjs';\nimport { createMotionProxy } from './motion-proxy.mjs';\nimport { createDomMotionConfig } from './utils/create-config.mjs';\nimport { gestureAnimations } from '../../motion/features/gestures.mjs';\nimport { animations } from '../../motion/features/animations.mjs';\nimport { drag } from '../../motion/features/drag.mjs';\nimport { createDomVisualElement } from './create-visual-element.mjs';\nimport { layout } from '../../motion/features/layout.mjs';\n\nconst preloadedFeatures = {\n    ...animations,\n    ...gestureAnimations,\n    ...drag,\n    ...layout,\n};\n/**\n * HTML & SVG components, optimised for use with gestures and animation. These can be used as\n * drop-in replacements for any HTML & SVG component, all CSS & SVG properties are supported.\n *\n * @public\n */\nconst motion = /*@__PURE__*/ createMotionProxy((Component, config) => createDomMotionConfig(Component, config, preloadedFeatures, createDomVisualElement));\n/**\n * Create a DOM `motion` component with the provided string. This is primarily intended\n * as a full alternative to `motion` for consumers who have to support environments that don't\n * support `Proxy`.\n *\n * ```javascript\n * import { createDomMotionComponent } from \"framer-motion\"\n *\n * const motion = {\n *   div: createDomMotionComponent('div')\n * }\n * ```\n *\n * @public\n */\nfunction createDomMotionComponent(key) {\n    return createMotionComponent(createDomMotionConfig(key, { forwardMotionProps: false }, preloadedFeatures, createDomVisualElement));\n}\n\nexport { createDomMotionComponent, motion };\n","import { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\n\nconst layout = {\n    layout: {\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { layout };\n","import { isSVGComponent } from './is-svg-component.mjs';\nimport { createUseRender } from '../use-render.mjs';\nimport { svgMotionConfig } from '../../svg/config-motion.mjs';\nimport { htmlMotionConfig } from '../../html/config-motion.mjs';\n\nfunction createDomMotionConfig(Component, { forwardMotionProps = false }, preloadedFeatures, createVisualElement) {\n    const baseConfig = isSVGComponent(Component)\n        ? svgMotionConfig\n        : htmlMotionConfig;\n    return {\n        ...baseConfig,\n        preloadedFeatures,\n        useRender: createUseRender(forwardMotionProps),\n        createVisualElement,\n        Component,\n    };\n}\n\nexport { createDomMotionConfig };\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor,\n    nativeRandom = Math.random;\n\n/**\n * The base implementation of `_.random` without support for returning\n * floating-point numbers.\n *\n * @private\n * @param {number} lower The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the random number.\n */\nfunction baseRandom(lower, upper) {\n  return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n}\n\nexport default baseRandom;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","import toNumber from './toNumber.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nexport default toFinite;\n","import baseRandom from './_baseRandom.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport toFinite from './toFinite.js';\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseFloat = parseFloat;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min,\n    nativeRandom = Math.random;\n\n/**\n * Produces a random number between the inclusive `lower` and `upper` bounds.\n * If only one argument is provided a number between `0` and the given number\n * is returned. If `floating` is `true`, or either `lower` or `upper` are\n * floats, a floating-point number is returned instead of an integer.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @memberOf _\n * @since 0.7.0\n * @category Number\n * @param {number} [lower=0] The lower bound.\n * @param {number} [upper=1] The upper bound.\n * @param {boolean} [floating] Specify returning a floating-point number.\n * @returns {number} Returns the random number.\n * @example\n *\n * _.random(0, 5);\n * // => an integer between 0 and 5\n *\n * _.random(5);\n * // => also an integer between 0 and 5\n *\n * _.random(5, true);\n * // => a floating-point number between 0 and 5\n *\n * _.random(1.2, 5.2);\n * // => a floating-point number between 1.2 and 5.2\n */\nfunction random(lower, upper, floating) {\n  if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n    upper = floating = undefined;\n  }\n  if (floating === undefined) {\n    if (typeof upper == 'boolean') {\n      floating = upper;\n      upper = undefined;\n    }\n    else if (typeof lower == 'boolean') {\n      floating = lower;\n      lower = undefined;\n    }\n  }\n  if (lower === undefined && upper === undefined) {\n    lower = 0;\n    upper = 1;\n  }\n  else {\n    lower = toFinite(lower);\n    if (upper === undefined) {\n      upper = lower;\n      lower = 0;\n    } else {\n      upper = toFinite(upper);\n    }\n  }\n  if (lower > upper) {\n    var temp = lower;\n    lower = upper;\n    upper = temp;\n  }\n  if (floating || lower % 1 || upper % 1) {\n    var rand = nativeRandom();\n    return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n  }\n  return baseRandom(lower, upper);\n}\n\nexport default random;\n","/*\n\nBased off glamor's StyleSheet, thanks Sunil ❤️\n\nhigh performance StyleSheet for css-in-js systems\n\n- uses multiple style tags behind the scenes for millions of rules\n- uses `insertRule` for appending in production for *much* faster performance\n\n// usage\n\nimport { StyleSheet } from '@emotion/sheet'\n\nlet styleSheet = new StyleSheet({ key: '', container: document.head })\n\nstyleSheet.insert('#box { border: 1px solid red; }')\n- appends a css rule into the stylesheet\n\nstyleSheet.flush()\n- empties the stylesheet of all its contents\n\n*/\n// $FlowFixMe\nfunction sheetForTag(tag) {\n  if (tag.sheet) {\n    // $FlowFixMe\n    return tag.sheet;\n  } // this weirdness brought to you by firefox\n\n  /* istanbul ignore next */\n\n\n  for (var i = 0; i < document.styleSheets.length; i++) {\n    if (document.styleSheets[i].ownerNode === tag) {\n      // $FlowFixMe\n      return document.styleSheets[i];\n    }\n  }\n}\n\nfunction createStyleElement(options) {\n  var tag = document.createElement('style');\n  tag.setAttribute('data-emotion', options.key);\n\n  if (options.nonce !== undefined) {\n    tag.setAttribute('nonce', options.nonce);\n  }\n\n  tag.appendChild(document.createTextNode(''));\n  tag.setAttribute('data-s', '');\n  return tag;\n}\n\nvar StyleSheet = /*#__PURE__*/function () {\n  // Using Node instead of HTMLElement since container may be a ShadowRoot\n  function StyleSheet(options) {\n    var _this = this;\n\n    this._insertTag = function (tag) {\n      var before;\n\n      if (_this.tags.length === 0) {\n        if (_this.insertionPoint) {\n          before = _this.insertionPoint.nextSibling;\n        } else if (_this.prepend) {\n          before = _this.container.firstChild;\n        } else {\n          before = _this.before;\n        }\n      } else {\n        before = _this.tags[_this.tags.length - 1].nextSibling;\n      }\n\n      _this.container.insertBefore(tag, before);\n\n      _this.tags.push(tag);\n    };\n\n    this.isSpeedy = options.speedy === undefined ? process.env.NODE_ENV === 'production' : options.speedy;\n    this.tags = [];\n    this.ctr = 0;\n    this.nonce = options.nonce; // key is the value of the data-emotion attribute, it's used to identify different sheets\n\n    this.key = options.key;\n    this.container = options.container;\n    this.prepend = options.prepend;\n    this.insertionPoint = options.insertionPoint;\n    this.before = null;\n  }\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.hydrate = function hydrate(nodes) {\n    nodes.forEach(this._insertTag);\n  };\n\n  _proto.insert = function insert(rule) {\n    // the max length is how many rules we have per style tag, it's 65000 in speedy mode\n    // it's 1 in dev because we insert source maps that map a single rule to a location\n    // and you can only have one source map per style tag\n    if (this.ctr % (this.isSpeedy ? 65000 : 1) === 0) {\n      this._insertTag(createStyleElement(this));\n    }\n\n    var tag = this.tags[this.tags.length - 1];\n\n    if (process.env.NODE_ENV !== 'production') {\n      var isImportRule = rule.charCodeAt(0) === 64 && rule.charCodeAt(1) === 105;\n\n      if (isImportRule && this._alreadyInsertedOrderInsensitiveRule) {\n        // this would only cause problem in speedy mode\n        // but we don't want enabling speedy to affect the observable behavior\n        // so we report this error at all times\n        console.error(\"You're attempting to insert the following rule:\\n\" + rule + '\\n\\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules.');\n      }\n      this._alreadyInsertedOrderInsensitiveRule = this._alreadyInsertedOrderInsensitiveRule || !isImportRule;\n    }\n\n    if (this.isSpeedy) {\n      var sheet = sheetForTag(tag);\n\n      try {\n        // this is the ultrafast version, works across browsers\n        // the big drawback is that the css won't be editable in devtools\n        sheet.insertRule(rule, sheet.cssRules.length);\n      } catch (e) {\n        if (process.env.NODE_ENV !== 'production' && !/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear|-ms-expand|-ms-reveal){/.test(rule)) {\n          console.error(\"There was a problem inserting the following rule: \\\"\" + rule + \"\\\"\", e);\n        }\n      }\n    } else {\n      tag.appendChild(document.createTextNode(rule));\n    }\n\n    this.ctr++;\n  };\n\n  _proto.flush = function flush() {\n    // $FlowFixMe\n    this.tags.forEach(function (tag) {\n      return tag.parentNode && tag.parentNode.removeChild(tag);\n    });\n    this.tags = [];\n    this.ctr = 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      this._alreadyInsertedOrderInsensitiveRule = false;\n    }\n  };\n\n  return StyleSheet;\n}();\n\nexport { StyleSheet };\n","/**\n * @param {number}\n * @return {number}\n */\nexport var abs = Math.abs\n\n/**\n * @param {number}\n * @return {string}\n */\nexport var from = String.fromCharCode\n\n/**\n * @param {object}\n * @return {object}\n */\nexport var assign = Object.assign\n\n/**\n * @param {string} value\n * @param {number} length\n * @return {number}\n */\nexport function hash (value, length) {\n\treturn charat(value, 0) ^ 45 ? (((((((length << 2) ^ charat(value, 0)) << 2) ^ charat(value, 1)) << 2) ^ charat(value, 2)) << 2) ^ charat(value, 3) : 0\n}\n\n/**\n * @param {string} value\n * @return {string}\n */\nexport function trim (value) {\n\treturn value.trim()\n}\n\n/**\n * @param {string} value\n * @param {RegExp} pattern\n * @return {string?}\n */\nexport function match (value, pattern) {\n\treturn (value = pattern.exec(value)) ? value[0] : value\n}\n\n/**\n * @param {string} value\n * @param {(string|RegExp)} pattern\n * @param {string} replacement\n * @return {string}\n */\nexport function replace (value, pattern, replacement) {\n\treturn value.replace(pattern, replacement)\n}\n\n/**\n * @param {string} value\n * @param {string} search\n * @return {number}\n */\nexport function indexof (value, search) {\n\treturn value.indexOf(search)\n}\n\n/**\n * @param {string} value\n * @param {number} index\n * @return {number}\n */\nexport function charat (value, index) {\n\treturn value.charCodeAt(index) | 0\n}\n\n/**\n * @param {string} value\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function substr (value, begin, end) {\n\treturn value.slice(begin, end)\n}\n\n/**\n * @param {string} value\n * @return {number}\n */\nexport function strlen (value) {\n\treturn value.length\n}\n\n/**\n * @param {any[]} value\n * @return {number}\n */\nexport function sizeof (value) {\n\treturn value.length\n}\n\n/**\n * @param {any} value\n * @param {any[]} array\n * @return {any}\n */\nexport function append (value, array) {\n\treturn array.push(value), value\n}\n\n/**\n * @param {string[]} array\n * @param {function} callback\n * @return {string}\n */\nexport function combine (array, callback) {\n\treturn array.map(callback).join('')\n}\n","import {from, trim, charat, strlen, substr, append, assign} from './Utility.js'\n\nexport var line = 1\nexport var column = 1\nexport var length = 0\nexport var position = 0\nexport var character = 0\nexport var characters = ''\n\n/**\n * @param {string} value\n * @param {object | null} root\n * @param {object | null} parent\n * @param {string} type\n * @param {string[] | string} props\n * @param {object[] | string} children\n * @param {number} length\n */\nexport function node (value, root, parent, type, props, children, length) {\n\treturn {value: value, root: root, parent: parent, type: type, props: props, children: children, line: line, column: column, length: length, return: ''}\n}\n\n/**\n * @param {object} root\n * @param {object} props\n * @return {object}\n */\nexport function copy (root, props) {\n\treturn assign(node('', null, null, '', null, null, 0), root, {length: -root.length}, props)\n}\n\n/**\n * @return {number}\n */\nexport function char () {\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function prev () {\n\tcharacter = position > 0 ? charat(characters, --position) : 0\n\n\tif (column--, character === 10)\n\t\tcolumn = 1, line--\n\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function next () {\n\tcharacter = position < length ? charat(characters, position++) : 0\n\n\tif (column++, character === 10)\n\t\tcolumn = 1, line++\n\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function peek () {\n\treturn charat(characters, position)\n}\n\n/**\n * @return {number}\n */\nexport function caret () {\n\treturn position\n}\n\n/**\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function slice (begin, end) {\n\treturn substr(characters, begin, end)\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function token (type) {\n\tswitch (type) {\n\t\t// \\0 \\t \\n \\r \\s whitespace token\n\t\tcase 0: case 9: case 10: case 13: case 32:\n\t\t\treturn 5\n\t\t// ! + , / > @ ~ isolate token\n\t\tcase 33: case 43: case 44: case 47: case 62: case 64: case 126:\n\t\t// ; { } breakpoint token\n\t\tcase 59: case 123: case 125:\n\t\t\treturn 4\n\t\t// : accompanied token\n\t\tcase 58:\n\t\t\treturn 3\n\t\t// \" ' ( [ opening delimit token\n\t\tcase 34: case 39: case 40: case 91:\n\t\t\treturn 2\n\t\t// ) ] closing delimit token\n\t\tcase 41: case 93:\n\t\t\treturn 1\n\t}\n\n\treturn 0\n}\n\n/**\n * @param {string} value\n * @return {any[]}\n */\nexport function alloc (value) {\n\treturn line = column = 1, length = strlen(characters = value), position = 0, []\n}\n\n/**\n * @param {any} value\n * @return {any}\n */\nexport function dealloc (value) {\n\treturn characters = '', value\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function delimit (type) {\n\treturn trim(slice(position - 1, delimiter(type === 91 ? type + 2 : type === 40 ? type + 1 : type)))\n}\n\n/**\n * @param {string} value\n * @return {string[]}\n */\nexport function tokenize (value) {\n\treturn dealloc(tokenizer(alloc(value)))\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function whitespace (type) {\n\twhile (character = peek())\n\t\tif (character < 33)\n\t\t\tnext()\n\t\telse\n\t\t\tbreak\n\n\treturn token(type) > 2 || token(character) > 3 ? '' : ' '\n}\n\n/**\n * @param {string[]} children\n * @return {string[]}\n */\nexport function tokenizer (children) {\n\twhile (next())\n\t\tswitch (token(character)) {\n\t\t\tcase 0: append(identifier(position - 1), children)\n\t\t\t\tbreak\n\t\t\tcase 2: append(delimit(character), children)\n\t\t\t\tbreak\n\t\t\tdefault: append(from(character), children)\n\t\t}\n\n\treturn children\n}\n\n/**\n * @param {number} index\n * @param {number} count\n * @return {string}\n */\nexport function escaping (index, count) {\n\twhile (--count && next())\n\t\t// not 0-9 A-F a-f\n\t\tif (character < 48 || character > 102 || (character > 57 && character < 65) || (character > 70 && character < 97))\n\t\t\tbreak\n\n\treturn slice(index, caret() + (count < 6 && peek() == 32 && next() == 32))\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function delimiter (type) {\n\twhile (next())\n\t\tswitch (character) {\n\t\t\t// ] ) \" '\n\t\t\tcase type:\n\t\t\t\treturn position\n\t\t\t// \" '\n\t\t\tcase 34: case 39:\n\t\t\t\tif (type !== 34 && type !== 39)\n\t\t\t\t\tdelimiter(character)\n\t\t\t\tbreak\n\t\t\t// (\n\t\t\tcase 40:\n\t\t\t\tif (type === 41)\n\t\t\t\t\tdelimiter(type)\n\t\t\t\tbreak\n\t\t\t// \\\n\t\t\tcase 92:\n\t\t\t\tnext()\n\t\t\t\tbreak\n\t\t}\n\n\treturn position\n}\n\n/**\n * @param {number} type\n * @param {number} index\n * @return {number}\n */\nexport function commenter (type, index) {\n\twhile (next())\n\t\t// //\n\t\tif (type + character === 47 + 10)\n\t\t\tbreak\n\t\t// /*\n\t\telse if (type + character === 42 + 42 && peek() === 47)\n\t\t\tbreak\n\n\treturn '/*' + slice(index, position - 1) + '*' + from(type === 47 ? type : next())\n}\n\n/**\n * @param {number} index\n * @return {string}\n */\nexport function identifier (index) {\n\twhile (!token(peek()))\n\t\tnext()\n\n\treturn slice(index, position)\n}\n","export var MS = '-ms-'\nexport var MOZ = '-moz-'\nexport var WEBKIT = '-webkit-'\n\nexport var COMMENT = 'comm'\nexport var RULESET = 'rule'\nexport var DECLARATION = 'decl'\n\nexport var PAGE = '@page'\nexport var MEDIA = '@media'\nexport var IMPORT = '@import'\nexport var CHARSET = '@charset'\nexport var VIEWPORT = '@viewport'\nexport var SUPPORTS = '@supports'\nexport var DOCUMENT = '@document'\nexport var NAMESPACE = '@namespace'\nexport var KEYFRAMES = '@keyframes'\nexport var FONT_FACE = '@font-face'\nexport var COUNTER_STYLE = '@counter-style'\nexport var FONT_FEATURE_VALUES = '@font-feature-values'\nexport var LAYER = '@layer'\n","import {IMPORT, LAYER, COMMENT, RULESET, DECLARATION, KEYFRAMES} from './Enum.js'\nimport {strlen, sizeof} from './Utility.js'\n\n/**\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function serialize (children, callback) {\n\tvar output = ''\n\tvar length = sizeof(children)\n\n\tfor (var i = 0; i < length; i++)\n\t\toutput += callback(children[i], i, children, callback) || ''\n\n\treturn output\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function stringify (element, index, children, callback) {\n\tswitch (element.type) {\n\t\tcase LAYER: if (element.children.length) break\n\t\tcase IMPORT: case DECLARATION: return element.return = element.return || element.value\n\t\tcase COMMENT: return ''\n\t\tcase KEYFRAMES: return element.return = element.value + '{' + serialize(element.children, callback) + '}'\n\t\tcase RULESET: element.value = element.props.join(',')\n\t}\n\n\treturn strlen(children = serialize(element.children, callback)) ? element.return = element.value + '{' + children + '}' : ''\n}\n","import {COMMENT, RULESET, DECLARATION} from './Enum.js'\nimport {abs, charat, trim, from, sizeof, strlen, substr, append, replace, indexof} from './Utility.js'\nimport {node, char, prev, next, peek, caret, alloc, dealloc, delimit, whitespace, escaping, identifier, commenter} from './Tokenizer.js'\n\n/**\n * @param {string} value\n * @return {object[]}\n */\nexport function compile (value) {\n\treturn dealloc(parse('', null, null, null, [''], value = alloc(value), 0, [0], value))\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {string[]} rule\n * @param {string[]} rules\n * @param {string[]} rulesets\n * @param {number[]} pseudo\n * @param {number[]} points\n * @param {string[]} declarations\n * @return {object}\n */\nexport function parse (value, root, parent, rule, rules, rulesets, pseudo, points, declarations) {\n\tvar index = 0\n\tvar offset = 0\n\tvar length = pseudo\n\tvar atrule = 0\n\tvar property = 0\n\tvar previous = 0\n\tvar variable = 1\n\tvar scanning = 1\n\tvar ampersand = 1\n\tvar character = 0\n\tvar type = ''\n\tvar props = rules\n\tvar children = rulesets\n\tvar reference = rule\n\tvar characters = type\n\n\twhile (scanning)\n\t\tswitch (previous = character, character = next()) {\n\t\t\t// (\n\t\t\tcase 40:\n\t\t\t\tif (previous != 108 && charat(characters, length - 1) == 58) {\n\t\t\t\t\tif (indexof(characters += replace(delimit(character), '&', '&\\f'), '&\\f') != -1)\n\t\t\t\t\t\tampersand = -1\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t// \" ' [\n\t\t\tcase 34: case 39: case 91:\n\t\t\t\tcharacters += delimit(character)\n\t\t\t\tbreak\n\t\t\t// \\t \\n \\r \\s\n\t\t\tcase 9: case 10: case 13: case 32:\n\t\t\t\tcharacters += whitespace(previous)\n\t\t\t\tbreak\n\t\t\t// \\\n\t\t\tcase 92:\n\t\t\t\tcharacters += escaping(caret() - 1, 7)\n\t\t\t\tcontinue\n\t\t\t// /\n\t\t\tcase 47:\n\t\t\t\tswitch (peek()) {\n\t\t\t\t\tcase 42: case 47:\n\t\t\t\t\t\tappend(comment(commenter(next(), caret()), root, parent), declarations)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcharacters += '/'\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t// {\n\t\t\tcase 123 * variable:\n\t\t\t\tpoints[index++] = strlen(characters) * ampersand\n\t\t\t// } ; \\0\n\t\t\tcase 125 * variable: case 59: case 0:\n\t\t\t\tswitch (character) {\n\t\t\t\t\t// \\0 }\n\t\t\t\t\tcase 0: case 125: scanning = 0\n\t\t\t\t\t// ;\n\t\t\t\t\tcase 59 + offset: if (ampersand == -1) characters = replace(characters, /\\f/g, '')\n\t\t\t\t\t\tif (property > 0 && (strlen(characters) - length))\n\t\t\t\t\t\t\tappend(property > 32 ? declaration(characters + ';', rule, parent, length - 1) : declaration(replace(characters, ' ', '') + ';', rule, parent, length - 2), declarations)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// @ ;\n\t\t\t\t\tcase 59: characters += ';'\n\t\t\t\t\t// { rule/at-rule\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tappend(reference = ruleset(characters, root, parent, index, offset, rules, points, type, props = [], children = [], length), rulesets)\n\n\t\t\t\t\t\tif (character === 123)\n\t\t\t\t\t\t\tif (offset === 0)\n\t\t\t\t\t\t\t\tparse(characters, root, reference, reference, props, rulesets, length, points, children)\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tswitch (atrule === 99 && charat(characters, 3) === 110 ? 100 : atrule) {\n\t\t\t\t\t\t\t\t\t// d l m s\n\t\t\t\t\t\t\t\t\tcase 100: case 108: case 109: case 115:\n\t\t\t\t\t\t\t\t\t\tparse(value, reference, reference, rule && append(ruleset(value, reference, reference, 0, 0, rules, points, type, rules, props = [], length), children), rules, children, length, points, rule ? props : children)\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tparse(characters, reference, reference, reference, [''], children, 0, points, children)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tindex = offset = property = 0, variable = ampersand = 1, type = characters = '', length = pseudo\n\t\t\t\tbreak\n\t\t\t// :\n\t\t\tcase 58:\n\t\t\t\tlength = 1 + strlen(characters), property = previous\n\t\t\tdefault:\n\t\t\t\tif (variable < 1)\n\t\t\t\t\tif (character == 123)\n\t\t\t\t\t\t--variable\n\t\t\t\t\telse if (character == 125 && variable++ == 0 && prev() == 125)\n\t\t\t\t\t\tcontinue\n\n\t\t\t\tswitch (characters += from(character), character * variable) {\n\t\t\t\t\t// &\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tampersand = offset > 0 ? 1 : (characters += '\\f', -1)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// ,\n\t\t\t\t\tcase 44:\n\t\t\t\t\t\tpoints[index++] = (strlen(characters) - 1) * ampersand, ampersand = 1\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// @\n\t\t\t\t\tcase 64:\n\t\t\t\t\t\t// -\n\t\t\t\t\t\tif (peek() === 45)\n\t\t\t\t\t\t\tcharacters += delimit(next())\n\n\t\t\t\t\t\tatrule = peek(), offset = length = strlen(type = characters += identifier(caret())), character++\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// -\n\t\t\t\t\tcase 45:\n\t\t\t\t\t\tif (previous === 45 && strlen(characters) == 2)\n\t\t\t\t\t\t\tvariable = 0\n\t\t\t\t}\n\t\t}\n\n\treturn rulesets\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {number} index\n * @param {number} offset\n * @param {string[]} rules\n * @param {number[]} points\n * @param {string} type\n * @param {string[]} props\n * @param {string[]} children\n * @param {number} length\n * @return {object}\n */\nexport function ruleset (value, root, parent, index, offset, rules, points, type, props, children, length) {\n\tvar post = offset - 1\n\tvar rule = offset === 0 ? rules : ['']\n\tvar size = sizeof(rule)\n\n\tfor (var i = 0, j = 0, k = 0; i < index; ++i)\n\t\tfor (var x = 0, y = substr(value, post + 1, post = abs(j = points[i])), z = value; x < size; ++x)\n\t\t\tif (z = trim(j > 0 ? rule[x] + ' ' + y : replace(y, /&\\f/g, rule[x])))\n\t\t\t\tprops[k++] = z\n\n\treturn node(value, root, parent, offset === 0 ? RULESET : type, props, children, length)\n}\n\n/**\n * @param {number} value\n * @param {object} root\n * @param {object?} parent\n * @return {object}\n */\nexport function comment (value, root, parent) {\n\treturn node(value, root, parent, COMMENT, from(char()), substr(value, 2, -2), 0)\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {number} length\n * @return {object}\n */\nexport function declaration (value, root, parent, length) {\n\treturn node(value, root, parent, DECLARATION, substr(value, 0, length), substr(value, length + 1, -1), length)\n}\n","import { StyleSheet } from '@emotion/sheet';\nimport { dealloc, alloc, next, token, from, peek, delimit, slice, position, RULESET, combine, match, serialize, copy, replace, WEBKIT, MOZ, MS, KEYFRAMES, DECLARATION, hash, charat, strlen, indexof, stringify, COMMENT, rulesheet, middleware, compile } from 'stylis';\nimport '@emotion/weak-memoize';\nimport '@emotion/memoize';\n\nvar identifierWithPointTracking = function identifierWithPointTracking(begin, points, index) {\n  var previous = 0;\n  var character = 0;\n\n  while (true) {\n    previous = character;\n    character = peek(); // &\\f\n\n    if (previous === 38 && character === 12) {\n      points[index] = 1;\n    }\n\n    if (token(character)) {\n      break;\n    }\n\n    next();\n  }\n\n  return slice(begin, position);\n};\n\nvar toRules = function toRules(parsed, points) {\n  // pretend we've started with a comma\n  var index = -1;\n  var character = 44;\n\n  do {\n    switch (token(character)) {\n      case 0:\n        // &\\f\n        if (character === 38 && peek() === 12) {\n          // this is not 100% correct, we don't account for literal sequences here - like for example quoted strings\n          // stylis inserts \\f after & to know when & where it should replace this sequence with the context selector\n          // and when it should just concatenate the outer and inner selectors\n          // it's very unlikely for this sequence to actually appear in a different context, so we just leverage this fact here\n          points[index] = 1;\n        }\n\n        parsed[index] += identifierWithPointTracking(position - 1, points, index);\n        break;\n\n      case 2:\n        parsed[index] += delimit(character);\n        break;\n\n      case 4:\n        // comma\n        if (character === 44) {\n          // colon\n          parsed[++index] = peek() === 58 ? '&\\f' : '';\n          points[index] = parsed[index].length;\n          break;\n        }\n\n      // fallthrough\n\n      default:\n        parsed[index] += from(character);\n    }\n  } while (character = next());\n\n  return parsed;\n};\n\nvar getRules = function getRules(value, points) {\n  return dealloc(toRules(alloc(value), points));\n}; // WeakSet would be more appropriate, but only WeakMap is supported in IE11\n\n\nvar fixedElements = /* #__PURE__ */new WeakMap();\nvar compat = function compat(element) {\n  if (element.type !== 'rule' || !element.parent || // positive .length indicates that this rule contains pseudo\n  // negative .length indicates that this rule has been already prefixed\n  element.length < 1) {\n    return;\n  }\n\n  var value = element.value,\n      parent = element.parent;\n  var isImplicitRule = element.column === parent.column && element.line === parent.line;\n\n  while (parent.type !== 'rule') {\n    parent = parent.parent;\n    if (!parent) return;\n  } // short-circuit for the simplest case\n\n\n  if (element.props.length === 1 && value.charCodeAt(0) !== 58\n  /* colon */\n  && !fixedElements.get(parent)) {\n    return;\n  } // if this is an implicitly inserted rule (the one eagerly inserted at the each new nested level)\n  // then the props has already been manipulated beforehand as they that array is shared between it and its \"rule parent\"\n\n\n  if (isImplicitRule) {\n    return;\n  }\n\n  fixedElements.set(element, true);\n  var points = [];\n  var rules = getRules(value, points);\n  var parentRules = parent.props;\n\n  for (var i = 0, k = 0; i < rules.length; i++) {\n    for (var j = 0; j < parentRules.length; j++, k++) {\n      element.props[k] = points[i] ? rules[i].replace(/&\\f/g, parentRules[j]) : parentRules[j] + \" \" + rules[i];\n    }\n  }\n};\nvar removeLabel = function removeLabel(element) {\n  if (element.type === 'decl') {\n    var value = element.value;\n\n    if ( // charcode for l\n    value.charCodeAt(0) === 108 && // charcode for b\n    value.charCodeAt(2) === 98) {\n      // this ignores label\n      element[\"return\"] = '';\n      element.value = '';\n    }\n  }\n};\nvar ignoreFlag = 'emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason';\n\nvar isIgnoringComment = function isIgnoringComment(element) {\n  return element.type === 'comm' && element.children.indexOf(ignoreFlag) > -1;\n};\n\nvar createUnsafeSelectorsAlarm = function createUnsafeSelectorsAlarm(cache) {\n  return function (element, index, children) {\n    if (element.type !== 'rule' || cache.compat) return;\n    var unsafePseudoClasses = element.value.match(/(:first|:nth|:nth-last)-child/g);\n\n    if (unsafePseudoClasses) {\n      var isNested = !!element.parent; // in nested rules comments become children of the \"auto-inserted\" rule and that's always the `element.parent`\n      //\n      // considering this input:\n      // .a {\n      //   .b /* comm */ {}\n      //   color: hotpink;\n      // }\n      // we get output corresponding to this:\n      // .a {\n      //   & {\n      //     /* comm */\n      //     color: hotpink;\n      //   }\n      //   .b {}\n      // }\n\n      var commentContainer = isNested ? element.parent.children : // global rule at the root level\n      children;\n\n      for (var i = commentContainer.length - 1; i >= 0; i--) {\n        var node = commentContainer[i];\n\n        if (node.line < element.line) {\n          break;\n        } // it is quite weird but comments are *usually* put at `column: element.column - 1`\n        // so we seek *from the end* for the node that is earlier than the rule's `element` and check that\n        // this will also match inputs like this:\n        // .a {\n        //   /* comm */\n        //   .b {}\n        // }\n        //\n        // but that is fine\n        //\n        // it would be the easiest to change the placement of the comment to be the first child of the rule:\n        // .a {\n        //   .b { /* comm */ }\n        // }\n        // with such inputs we wouldn't have to search for the comment at all\n        // TODO: consider changing this comment placement in the next major version\n\n\n        if (node.column < element.column) {\n          if (isIgnoringComment(node)) {\n            return;\n          }\n\n          break;\n        }\n      }\n\n      unsafePseudoClasses.forEach(function (unsafePseudoClass) {\n        console.error(\"The pseudo class \\\"\" + unsafePseudoClass + \"\\\" is potentially unsafe when doing server-side rendering. Try changing it to \\\"\" + unsafePseudoClass.split('-child')[0] + \"-of-type\\\".\");\n      });\n    }\n  };\n};\n\nvar isImportRule = function isImportRule(element) {\n  return element.type.charCodeAt(1) === 105 && element.type.charCodeAt(0) === 64;\n};\n\nvar isPrependedWithRegularRules = function isPrependedWithRegularRules(index, children) {\n  for (var i = index - 1; i >= 0; i--) {\n    if (!isImportRule(children[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}; // use this to remove incorrect elements from further processing\n// so they don't get handed to the `sheet` (or anything else)\n// as that could potentially lead to additional logs which in turn could be overhelming to the user\n\n\nvar nullifyElement = function nullifyElement(element) {\n  element.type = '';\n  element.value = '';\n  element[\"return\"] = '';\n  element.children = '';\n  element.props = '';\n};\n\nvar incorrectImportAlarm = function incorrectImportAlarm(element, index, children) {\n  if (!isImportRule(element)) {\n    return;\n  }\n\n  if (element.parent) {\n    console.error(\"`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles.\");\n    nullifyElement(element);\n  } else if (isPrependedWithRegularRules(index, children)) {\n    console.error(\"`@import` rules can't be after other rules. Please put your `@import` rules before your other rules.\");\n    nullifyElement(element);\n  }\n};\n\n/* eslint-disable no-fallthrough */\n\nfunction prefix(value, length) {\n  switch (hash(value, length)) {\n    // color-adjust\n    case 5103:\n      return WEBKIT + 'print-' + value + value;\n    // animation, animation-(delay|direction|duration|fill-mode|iteration-count|name|play-state|timing-function)\n\n    case 5737:\n    case 4201:\n    case 3177:\n    case 3433:\n    case 1641:\n    case 4457:\n    case 2921: // text-decoration, filter, clip-path, backface-visibility, column, box-decoration-break\n\n    case 5572:\n    case 6356:\n    case 5844:\n    case 3191:\n    case 6645:\n    case 3005: // mask, mask-image, mask-(mode|clip|size), mask-(repeat|origin), mask-position, mask-composite,\n\n    case 6391:\n    case 5879:\n    case 5623:\n    case 6135:\n    case 4599:\n    case 4855: // background-clip, columns, column-(count|fill|gap|rule|rule-color|rule-style|rule-width|span|width)\n\n    case 4215:\n    case 6389:\n    case 5109:\n    case 5365:\n    case 5621:\n    case 3829:\n      return WEBKIT + value + value;\n    // appearance, user-select, transform, hyphens, text-size-adjust\n\n    case 5349:\n    case 4246:\n    case 4810:\n    case 6968:\n    case 2756:\n      return WEBKIT + value + MOZ + value + MS + value + value;\n    // flex, flex-direction\n\n    case 6828:\n    case 4268:\n      return WEBKIT + value + MS + value + value;\n    // order\n\n    case 6165:\n      return WEBKIT + value + MS + 'flex-' + value + value;\n    // align-items\n\n    case 5187:\n      return WEBKIT + value + replace(value, /(\\w+).+(:[^]+)/, WEBKIT + 'box-$1$2' + MS + 'flex-$1$2') + value;\n    // align-self\n\n    case 5443:\n      return WEBKIT + value + MS + 'flex-item-' + replace(value, /flex-|-self/, '') + value;\n    // align-content\n\n    case 4675:\n      return WEBKIT + value + MS + 'flex-line-pack' + replace(value, /align-content|flex-|-self/, '') + value;\n    // flex-shrink\n\n    case 5548:\n      return WEBKIT + value + MS + replace(value, 'shrink', 'negative') + value;\n    // flex-basis\n\n    case 5292:\n      return WEBKIT + value + MS + replace(value, 'basis', 'preferred-size') + value;\n    // flex-grow\n\n    case 6060:\n      return WEBKIT + 'box-' + replace(value, '-grow', '') + WEBKIT + value + MS + replace(value, 'grow', 'positive') + value;\n    // transition\n\n    case 4554:\n      return WEBKIT + replace(value, /([^-])(transform)/g, '$1' + WEBKIT + '$2') + value;\n    // cursor\n\n    case 6187:\n      return replace(replace(replace(value, /(zoom-|grab)/, WEBKIT + '$1'), /(image-set)/, WEBKIT + '$1'), value, '') + value;\n    // background, background-image\n\n    case 5495:\n    case 3959:\n      return replace(value, /(image-set\\([^]*)/, WEBKIT + '$1' + '$`$1');\n    // justify-content\n\n    case 4968:\n      return replace(replace(value, /(.+:)(flex-)?(.*)/, WEBKIT + 'box-pack:$3' + MS + 'flex-pack:$3'), /s.+-b[^;]+/, 'justify') + WEBKIT + value + value;\n    // (margin|padding)-inline-(start|end)\n\n    case 4095:\n    case 3583:\n    case 4068:\n    case 2532:\n      return replace(value, /(.+)-inline(.+)/, WEBKIT + '$1$2') + value;\n    // (min|max)?(width|height|inline-size|block-size)\n\n    case 8116:\n    case 7059:\n    case 5753:\n    case 5535:\n    case 5445:\n    case 5701:\n    case 4933:\n    case 4677:\n    case 5533:\n    case 5789:\n    case 5021:\n    case 4765:\n      // stretch, max-content, min-content, fill-available\n      if (strlen(value) - 1 - length > 6) switch (charat(value, length + 1)) {\n        // (m)ax-content, (m)in-content\n        case 109:\n          // -\n          if (charat(value, length + 4) !== 45) break;\n        // (f)ill-available, (f)it-content\n\n        case 102:\n          return replace(value, /(.+:)(.+)-([^]+)/, '$1' + WEBKIT + '$2-$3' + '$1' + MOZ + (charat(value, length + 3) == 108 ? '$3' : '$2-$3')) + value;\n        // (s)tretch\n\n        case 115:\n          return ~indexof(value, 'stretch') ? prefix(replace(value, 'stretch', 'fill-available'), length) + value : value;\n      }\n      break;\n    // position: sticky\n\n    case 4949:\n      // (s)ticky?\n      if (charat(value, length + 1) !== 115) break;\n    // display: (flex|inline-flex)\n\n    case 6444:\n      switch (charat(value, strlen(value) - 3 - (~indexof(value, '!important') && 10))) {\n        // stic(k)y\n        case 107:\n          return replace(value, ':', ':' + WEBKIT) + value;\n        // (inline-)?fl(e)x\n\n        case 101:\n          return replace(value, /(.+:)([^;!]+)(;|!.+)?/, '$1' + WEBKIT + (charat(value, 14) === 45 ? 'inline-' : '') + 'box$3' + '$1' + WEBKIT + '$2$3' + '$1' + MS + '$2box$3') + value;\n      }\n\n      break;\n    // writing-mode\n\n    case 5936:\n      switch (charat(value, length + 11)) {\n        // vertical-l(r)\n        case 114:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb') + value;\n        // vertical-r(l)\n\n        case 108:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb-rl') + value;\n        // horizontal(-)tb\n\n        case 45:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'lr') + value;\n      }\n\n      return WEBKIT + value + MS + value + value;\n  }\n\n  return value;\n}\n\nvar prefixer = function prefixer(element, index, children, callback) {\n  if (element.length > -1) if (!element[\"return\"]) switch (element.type) {\n    case DECLARATION:\n      element[\"return\"] = prefix(element.value, element.length);\n      break;\n\n    case KEYFRAMES:\n      return serialize([copy(element, {\n        value: replace(element.value, '@', '@' + WEBKIT)\n      })], callback);\n\n    case RULESET:\n      if (element.length) return combine(element.props, function (value) {\n        switch (match(value, /(::plac\\w+|:read-\\w+)/)) {\n          // :read-(only|write)\n          case ':read-only':\n          case ':read-write':\n            return serialize([copy(element, {\n              props: [replace(value, /:(read-\\w+)/, ':' + MOZ + '$1')]\n            })], callback);\n          // :placeholder\n\n          case '::placeholder':\n            return serialize([copy(element, {\n              props: [replace(value, /:(plac\\w+)/, ':' + WEBKIT + 'input-$1')]\n            }), copy(element, {\n              props: [replace(value, /:(plac\\w+)/, ':' + MOZ + '$1')]\n            }), copy(element, {\n              props: [replace(value, /:(plac\\w+)/, MS + 'input-$1')]\n            })], callback);\n        }\n\n        return '';\n      });\n  }\n};\n\nvar defaultStylisPlugins = [prefixer];\n\nvar createCache = function createCache(options) {\n  var key = options.key;\n\n  if (process.env.NODE_ENV !== 'production' && !key) {\n    throw new Error(\"You have to configure `key` for your cache. Please make sure it's unique (and not equal to 'css') as it's used for linking styles to your cache.\\n\" + \"If multiple caches share the same key they might \\\"fight\\\" for each other's style elements.\");\n  }\n\n  if (key === 'css') {\n    var ssrStyles = document.querySelectorAll(\"style[data-emotion]:not([data-s])\"); // get SSRed styles out of the way of React's hydration\n    // document.head is a safe place to move them to(though note document.head is not necessarily the last place they will be)\n    // note this very very intentionally targets all style elements regardless of the key to ensure\n    // that creating a cache works inside of render of a React component\n\n    Array.prototype.forEach.call(ssrStyles, function (node) {\n      // we want to only move elements which have a space in the data-emotion attribute value\n      // because that indicates that it is an Emotion 11 server-side rendered style elements\n      // while we will already ignore Emotion 11 client-side inserted styles because of the :not([data-s]) part in the selector\n      // Emotion 10 client-side inserted styles did not have data-s (but importantly did not have a space in their data-emotion attributes)\n      // so checking for the space ensures that loading Emotion 11 after Emotion 10 has inserted some styles\n      // will not result in the Emotion 10 styles being destroyed\n      var dataEmotionAttribute = node.getAttribute('data-emotion');\n\n      if (dataEmotionAttribute.indexOf(' ') === -1) {\n        return;\n      }\n      document.head.appendChild(node);\n      node.setAttribute('data-s', '');\n    });\n  }\n\n  var stylisPlugins = options.stylisPlugins || defaultStylisPlugins;\n\n  if (process.env.NODE_ENV !== 'production') {\n    // $FlowFixMe\n    if (/[^a-z-]/.test(key)) {\n      throw new Error(\"Emotion key must only contain lower case alphabetical characters and - but \\\"\" + key + \"\\\" was passed\");\n    }\n  }\n\n  var inserted = {};\n  var container;\n  var nodesToHydrate = [];\n\n  {\n    container = options.container || document.head;\n    Array.prototype.forEach.call( // this means we will ignore elements which don't have a space in them which\n    // means that the style elements we're looking at are only Emotion 11 server-rendered style elements\n    document.querySelectorAll(\"style[data-emotion^=\\\"\" + key + \" \\\"]\"), function (node) {\n      var attrib = node.getAttribute(\"data-emotion\").split(' '); // $FlowFixMe\n\n      for (var i = 1; i < attrib.length; i++) {\n        inserted[attrib[i]] = true;\n      }\n\n      nodesToHydrate.push(node);\n    });\n  }\n\n  var _insert;\n\n  var omnipresentPlugins = [compat, removeLabel];\n\n  if (process.env.NODE_ENV !== 'production') {\n    omnipresentPlugins.push(createUnsafeSelectorsAlarm({\n      get compat() {\n        return cache.compat;\n      }\n\n    }), incorrectImportAlarm);\n  }\n\n  {\n    var currentSheet;\n    var finalizingPlugins = [stringify, process.env.NODE_ENV !== 'production' ? function (element) {\n      if (!element.root) {\n        if (element[\"return\"]) {\n          currentSheet.insert(element[\"return\"]);\n        } else if (element.value && element.type !== COMMENT) {\n          // insert empty rule in non-production environments\n          // so @emotion/jest can grab `key` from the (JS)DOM for caches without any rules inserted yet\n          currentSheet.insert(element.value + \"{}\");\n        }\n      }\n    } : rulesheet(function (rule) {\n      currentSheet.insert(rule);\n    })];\n    var serializer = middleware(omnipresentPlugins.concat(stylisPlugins, finalizingPlugins));\n\n    var stylis = function stylis(styles) {\n      return serialize(compile(styles), serializer);\n    };\n\n    _insert = function insert(selector, serialized, sheet, shouldCache) {\n      currentSheet = sheet;\n\n      if (process.env.NODE_ENV !== 'production' && serialized.map !== undefined) {\n        currentSheet = {\n          insert: function insert(rule) {\n            sheet.insert(rule + serialized.map);\n          }\n        };\n      }\n\n      stylis(selector ? selector + \"{\" + serialized.styles + \"}\" : serialized.styles);\n\n      if (shouldCache) {\n        cache.inserted[serialized.name] = true;\n      }\n    };\n  }\n\n  var cache = {\n    key: key,\n    sheet: new StyleSheet({\n      key: key,\n      container: container,\n      nonce: options.nonce,\n      speedy: options.speedy,\n      prepend: options.prepend,\n      insertionPoint: options.insertionPoint\n    }),\n    nonce: options.nonce,\n    inserted: inserted,\n    registered: {},\n    insert: _insert\n  };\n  cache.sheet.hydrate(nodesToHydrate);\n  return cache;\n};\n\nexport { createCache as default };\n","import {MS, MOZ, WEBKIT, RULESET, KEYFRAMES, DECLARATION} from './Enum.js'\nimport {match, charat, substr, strlen, sizeof, replace, combine} from './Utility.js'\nimport {copy, tokenize} from './Tokenizer.js'\nimport {serialize} from './Serializer.js'\nimport {prefix} from './Prefixer.js'\n\n/**\n * @param {function[]} collection\n * @return {function}\n */\nexport function middleware (collection) {\n\tvar length = sizeof(collection)\n\n\treturn function (element, index, children, callback) {\n\t\tvar output = ''\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\toutput += collection[i](element, index, children, callback) || ''\n\n\t\treturn output\n\t}\n}\n\n/**\n * @param {function} callback\n * @return {function}\n */\nexport function rulesheet (callback) {\n\treturn function (element) {\n\t\tif (!element.root)\n\t\t\tif (element = element.return)\n\t\t\t\tcallback(element)\n\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n */\nexport function prefixer (element, index, children, callback) {\n\tif (element.length > -1)\n\t\tif (!element.return)\n\t\t\tswitch (element.type) {\n\t\t\t\tcase DECLARATION: element.return = prefix(element.value, element.length, children)\n\t\t\t\t\treturn\n\t\t\t\tcase KEYFRAMES:\n\t\t\t\t\treturn serialize([copy(element, {value: replace(element.value, '@', '@' + WEBKIT)})], callback)\n\t\t\t\tcase RULESET:\n\t\t\t\t\tif (element.length)\n\t\t\t\t\t\treturn combine(element.props, function (value) {\n\t\t\t\t\t\t\tswitch (match(value, /(::plac\\w+|:read-\\w+)/)) {\n\t\t\t\t\t\t\t\t// :read-(only|write)\n\t\t\t\t\t\t\t\tcase ':read-only': case ':read-write':\n\t\t\t\t\t\t\t\t\treturn serialize([copy(element, {props: [replace(value, /:(read-\\w+)/, ':' + MOZ + '$1')]})], callback)\n\t\t\t\t\t\t\t\t// :placeholder\n\t\t\t\t\t\t\t\tcase '::placeholder':\n\t\t\t\t\t\t\t\t\treturn serialize([\n\t\t\t\t\t\t\t\t\t\tcopy(element, {props: [replace(value, /:(plac\\w+)/, ':' + WEBKIT + 'input-$1')]}),\n\t\t\t\t\t\t\t\t\t\tcopy(element, {props: [replace(value, /:(plac\\w+)/, ':' + MOZ + '$1')]}),\n\t\t\t\t\t\t\t\t\t\tcopy(element, {props: [replace(value, /:(plac\\w+)/, MS + 'input-$1')]})\n\t\t\t\t\t\t\t\t\t], callback)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn ''\n\t\t\t\t\t\t})\n\t\t\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n */\nexport function namespace (element) {\n\tswitch (element.type) {\n\t\tcase RULESET:\n\t\t\telement.props = element.props.map(function (value) {\n\t\t\t\treturn combine(tokenize(value), function (value, index, children) {\n\t\t\t\t\tswitch (charat(value, 0)) {\n\t\t\t\t\t\t// \\f\n\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\treturn substr(value, 1, strlen(value))\n\t\t\t\t\t\t// \\0 ( + > ~\n\t\t\t\t\t\tcase 0: case 40: case 43: case 62: case 126:\n\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t// :\n\t\t\t\t\t\tcase 58:\n\t\t\t\t\t\t\tif (children[++index] === 'global')\n\t\t\t\t\t\t\t\tchildren[index] = '', children[++index] = '\\f' + substr(children[index], index = 1, -1)\n\t\t\t\t\t\t// \\s\n\t\t\t\t\t\tcase 32:\n\t\t\t\t\t\t\treturn index === 1 ? '' : value\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tswitch (index) {\n\t\t\t\t\t\t\t\tcase 0: element = value\n\t\t\t\t\t\t\t\t\treturn sizeof(children) > 1 ? '' : value\n\t\t\t\t\t\t\t\tcase index = sizeof(children) - 1: case 2:\n\t\t\t\t\t\t\t\t\treturn index === 2 ? value + element + element : value + element\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t}\n}\n","var isBrowser = \"object\" !== 'undefined';\nfunction getRegisteredStyles(registered, registeredStyles, classNames) {\n  var rawClassName = '';\n  classNames.split(' ').forEach(function (className) {\n    if (registered[className] !== undefined) {\n      registeredStyles.push(registered[className] + \";\");\n    } else {\n      rawClassName += className + \" \";\n    }\n  });\n  return rawClassName;\n}\nvar registerStyles = function registerStyles(cache, serialized, isStringTag) {\n  var className = cache.key + \"-\" + serialized.name;\n\n  if ( // we only need to add the styles to the registered cache if the\n  // class name could be used further down\n  // the tree but if it's a string tag, we know it won't\n  // so we don't have to add it to registered cache.\n  // this improves memory usage since we can avoid storing the whole style string\n  (isStringTag === false || // we need to always store it if we're in compat mode and\n  // in node since emotion-server relies on whether a style is in\n  // the registered cache to know whether a style is global or not\n  // also, note that this check will be dead code eliminated in the browser\n  isBrowser === false ) && cache.registered[className] === undefined) {\n    cache.registered[className] = serialized.styles;\n  }\n};\nvar insertStyles = function insertStyles(cache, serialized, isStringTag) {\n  registerStyles(cache, serialized, isStringTag);\n  var className = cache.key + \"-\" + serialized.name;\n\n  if (cache.inserted[serialized.name] === undefined) {\n    var current = serialized;\n\n    do {\n      cache.insert(serialized === current ? \".\" + className : '', current, cache.sheet, true);\n\n      current = current.next;\n    } while (current !== undefined);\n  }\n};\n\nexport { getRegisteredStyles, insertStyles, registerStyles };\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  aspectRatio: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport { unitlessKeys as default };\n","function memoize(fn) {\n  var cache = Object.create(null);\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport { memoize as default };\n","import hashString from '@emotion/hash';\nimport unitless from '@emotion/unitless';\nimport memoize from '@emotion/memoize';\n\nvar ILLEGAL_ESCAPE_SEQUENCE_ERROR = \"You have illegal escape sequence in your template literal, most likely inside content's property value.\\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \\\"content: '\\\\00d7';\\\" should become \\\"content: '\\\\\\\\00d7';\\\".\\nYou can read more about this here:\\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences\";\nvar UNDEFINED_AS_OBJECT_KEY_ERROR = \"You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).\";\nvar hyphenateRegex = /[A-Z]|^ms/g;\nvar animationRegex = /_EMO_([^_]+?)_([^]*?)_EMO_/g;\n\nvar isCustomProperty = function isCustomProperty(property) {\n  return property.charCodeAt(1) === 45;\n};\n\nvar isProcessableValue = function isProcessableValue(value) {\n  return value != null && typeof value !== 'boolean';\n};\n\nvar processStyleName = /* #__PURE__ */memoize(function (styleName) {\n  return isCustomProperty(styleName) ? styleName : styleName.replace(hyphenateRegex, '-$&').toLowerCase();\n});\n\nvar processStyleValue = function processStyleValue(key, value) {\n  switch (key) {\n    case 'animation':\n    case 'animationName':\n      {\n        if (typeof value === 'string') {\n          return value.replace(animationRegex, function (match, p1, p2) {\n            cursor = {\n              name: p1,\n              styles: p2,\n              next: cursor\n            };\n            return p1;\n          });\n        }\n      }\n  }\n\n  if (unitless[key] !== 1 && !isCustomProperty(key) && typeof value === 'number' && value !== 0) {\n    return value + 'px';\n  }\n\n  return value;\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  var contentValuePattern = /(var|attr|counters?|url|element|(((repeating-)?(linear|radial))|conic)-gradient)\\(|(no-)?(open|close)-quote/;\n  var contentValues = ['normal', 'none', 'initial', 'inherit', 'unset'];\n  var oldProcessStyleValue = processStyleValue;\n  var msPattern = /^-ms-/;\n  var hyphenPattern = /-(.)/g;\n  var hyphenatedCache = {};\n\n  processStyleValue = function processStyleValue(key, value) {\n    if (key === 'content') {\n      if (typeof value !== 'string' || contentValues.indexOf(value) === -1 && !contentValuePattern.test(value) && (value.charAt(0) !== value.charAt(value.length - 1) || value.charAt(0) !== '\"' && value.charAt(0) !== \"'\")) {\n        throw new Error(\"You seem to be using a value for 'content' without quotes, try replacing it with `content: '\\\"\" + value + \"\\\"'`\");\n      }\n    }\n\n    var processed = oldProcessStyleValue(key, value);\n\n    if (processed !== '' && !isCustomProperty(key) && key.indexOf('-') !== -1 && hyphenatedCache[key] === undefined) {\n      hyphenatedCache[key] = true;\n      console.error(\"Using kebab-case for css properties in objects is not supported. Did you mean \" + key.replace(msPattern, 'ms-').replace(hyphenPattern, function (str, _char) {\n        return _char.toUpperCase();\n      }) + \"?\");\n    }\n\n    return processed;\n  };\n}\n\nvar noComponentSelectorMessage = 'Component selectors can only be used in conjunction with ' + '@emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware ' + 'compiler transform.';\n\nfunction handleInterpolation(mergedProps, registered, interpolation) {\n  if (interpolation == null) {\n    return '';\n  }\n\n  if (interpolation.__emotion_styles !== undefined) {\n    if (process.env.NODE_ENV !== 'production' && interpolation.toString() === 'NO_COMPONENT_SELECTOR') {\n      throw new Error(noComponentSelectorMessage);\n    }\n\n    return interpolation;\n  }\n\n  switch (typeof interpolation) {\n    case 'boolean':\n      {\n        return '';\n      }\n\n    case 'object':\n      {\n        if (interpolation.anim === 1) {\n          cursor = {\n            name: interpolation.name,\n            styles: interpolation.styles,\n            next: cursor\n          };\n          return interpolation.name;\n        }\n\n        if (interpolation.styles !== undefined) {\n          var next = interpolation.next;\n\n          if (next !== undefined) {\n            // not the most efficient thing ever but this is a pretty rare case\n            // and there will be very few iterations of this generally\n            while (next !== undefined) {\n              cursor = {\n                name: next.name,\n                styles: next.styles,\n                next: cursor\n              };\n              next = next.next;\n            }\n          }\n\n          var styles = interpolation.styles + \";\";\n\n          if (process.env.NODE_ENV !== 'production' && interpolation.map !== undefined) {\n            styles += interpolation.map;\n          }\n\n          return styles;\n        }\n\n        return createStringFromObject(mergedProps, registered, interpolation);\n      }\n\n    case 'function':\n      {\n        if (mergedProps !== undefined) {\n          var previousCursor = cursor;\n          var result = interpolation(mergedProps);\n          cursor = previousCursor;\n          return handleInterpolation(mergedProps, registered, result);\n        } else if (process.env.NODE_ENV !== 'production') {\n          console.error('Functions that are interpolated in css calls will be stringified.\\n' + 'If you want to have a css call based on props, create a function that returns a css call like this\\n' + 'let dynamicStyle = (props) => css`color: ${props.color}`\\n' + 'It can be called directly with props or interpolated in a styled call like this\\n' + \"let SomeComponent = styled('div')`${dynamicStyle}`\");\n        }\n\n        break;\n      }\n\n    case 'string':\n      if (process.env.NODE_ENV !== 'production') {\n        var matched = [];\n        var replaced = interpolation.replace(animationRegex, function (match, p1, p2) {\n          var fakeVarName = \"animation\" + matched.length;\n          matched.push(\"const \" + fakeVarName + \" = keyframes`\" + p2.replace(/^@keyframes animation-\\w+/, '') + \"`\");\n          return \"${\" + fakeVarName + \"}\";\n        });\n\n        if (matched.length) {\n          console.error('`keyframes` output got interpolated into plain string, please wrap it with `css`.\\n\\n' + 'Instead of doing this:\\n\\n' + [].concat(matched, [\"`\" + replaced + \"`\"]).join('\\n') + '\\n\\nYou should wrap it with `css` like this:\\n\\n' + (\"css`\" + replaced + \"`\"));\n        }\n      }\n\n      break;\n  } // finalize string values (regular strings and functions interpolated into css calls)\n\n\n  if (registered == null) {\n    return interpolation;\n  }\n\n  var cached = registered[interpolation];\n  return cached !== undefined ? cached : interpolation;\n}\n\nfunction createStringFromObject(mergedProps, registered, obj) {\n  var string = '';\n\n  if (Array.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      string += handleInterpolation(mergedProps, registered, obj[i]) + \";\";\n    }\n  } else {\n    for (var _key in obj) {\n      var value = obj[_key];\n\n      if (typeof value !== 'object') {\n        if (registered != null && registered[value] !== undefined) {\n          string += _key + \"{\" + registered[value] + \"}\";\n        } else if (isProcessableValue(value)) {\n          string += processStyleName(_key) + \":\" + processStyleValue(_key, value) + \";\";\n        }\n      } else {\n        if (_key === 'NO_COMPONENT_SELECTOR' && process.env.NODE_ENV !== 'production') {\n          throw new Error(noComponentSelectorMessage);\n        }\n\n        if (Array.isArray(value) && typeof value[0] === 'string' && (registered == null || registered[value[0]] === undefined)) {\n          for (var _i = 0; _i < value.length; _i++) {\n            if (isProcessableValue(value[_i])) {\n              string += processStyleName(_key) + \":\" + processStyleValue(_key, value[_i]) + \";\";\n            }\n          }\n        } else {\n          var interpolated = handleInterpolation(mergedProps, registered, value);\n\n          switch (_key) {\n            case 'animation':\n            case 'animationName':\n              {\n                string += processStyleName(_key) + \":\" + interpolated + \";\";\n                break;\n              }\n\n            default:\n              {\n                if (process.env.NODE_ENV !== 'production' && _key === 'undefined') {\n                  console.error(UNDEFINED_AS_OBJECT_KEY_ERROR);\n                }\n\n                string += _key + \"{\" + interpolated + \"}\";\n              }\n          }\n        }\n      }\n    }\n  }\n\n  return string;\n}\n\nvar labelPattern = /label:\\s*([^\\s;\\n{]+)\\s*(;|$)/g;\nvar sourceMapPattern;\n\nif (process.env.NODE_ENV !== 'production') {\n  sourceMapPattern = /\\/\\*#\\ssourceMappingURL=data:application\\/json;\\S+\\s+\\*\\//g;\n} // this is the cursor for keyframes\n// keyframes are stored on the SerializedStyles object as a linked list\n\n\nvar cursor;\nvar serializeStyles = function serializeStyles(args, registered, mergedProps) {\n  if (args.length === 1 && typeof args[0] === 'object' && args[0] !== null && args[0].styles !== undefined) {\n    return args[0];\n  }\n\n  var stringMode = true;\n  var styles = '';\n  cursor = undefined;\n  var strings = args[0];\n\n  if (strings == null || strings.raw === undefined) {\n    stringMode = false;\n    styles += handleInterpolation(mergedProps, registered, strings);\n  } else {\n    if (process.env.NODE_ENV !== 'production' && strings[0] === undefined) {\n      console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n    }\n\n    styles += strings[0];\n  } // we start at 1 since we've already handled the first arg\n\n\n  for (var i = 1; i < args.length; i++) {\n    styles += handleInterpolation(mergedProps, registered, args[i]);\n\n    if (stringMode) {\n      if (process.env.NODE_ENV !== 'production' && strings[i] === undefined) {\n        console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);\n      }\n\n      styles += strings[i];\n    }\n  }\n\n  var sourceMap;\n\n  if (process.env.NODE_ENV !== 'production') {\n    styles = styles.replace(sourceMapPattern, function (match) {\n      sourceMap = match;\n      return '';\n    });\n  } // using a global regex with .exec is stateful so lastIndex has to be reset each time\n\n\n  labelPattern.lastIndex = 0;\n  var identifierName = '';\n  var match; // https://esbench.com/bench/5b809c2cf2949800a0f61fb5\n\n  while ((match = labelPattern.exec(styles)) !== null) {\n    identifierName += '-' + // $FlowFixMe we know it's not null\n    match[1];\n  }\n\n  var name = hashString(styles) + identifierName;\n\n  if (process.env.NODE_ENV !== 'production') {\n    // $FlowFixMe SerializedStyles type doesn't have toString property (and we don't want to add it)\n    return {\n      name: name,\n      styles: styles,\n      map: sourceMap,\n      next: cursor,\n      toString: function toString() {\n        return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";\n      }\n    };\n  }\n\n  return {\n    name: name,\n    styles: styles,\n    next: cursor\n  };\n};\n\nexport { serializeStyles };\n","/* eslint-disable */\n// Inspired by https://github.com/garycourt/murmurhash-js\n// Ported from https://github.com/aappleby/smhasher/blob/61a0530f28277f2e850bfc39600ce61d02b518de/src/MurmurHash2.cpp#L37-L86\nfunction murmur2(str) {\n  // 'm' and 'r' are mixing constants generated offline.\n  // They're not really 'magic', they just happen to work well.\n  // const m = 0x5bd1e995;\n  // const r = 24;\n  // Initialize the hash\n  var h = 0; // Mix 4 bytes at a time into the hash\n\n  var k,\n      i = 0,\n      len = str.length;\n\n  for (; len >= 4; ++i, len -= 4) {\n    k = str.charCodeAt(i) & 0xff | (str.charCodeAt(++i) & 0xff) << 8 | (str.charCodeAt(++i) & 0xff) << 16 | (str.charCodeAt(++i) & 0xff) << 24;\n    k =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16);\n    k ^=\n    /* k >>> r: */\n    k >>> 24;\n    h =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16) ^\n    /* Math.imul(h, m): */\n    (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Handle the last few bytes of the input array\n\n\n  switch (len) {\n    case 3:\n      h ^= (str.charCodeAt(i + 2) & 0xff) << 16;\n\n    case 2:\n      h ^= (str.charCodeAt(i + 1) & 0xff) << 8;\n\n    case 1:\n      h ^= str.charCodeAt(i) & 0xff;\n      h =\n      /* Math.imul(h, m): */\n      (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Do a few final mixes of the hash to ensure the last few\n  // bytes are well-incorporated.\n\n\n  h ^= h >>> 13;\n  h =\n  /* Math.imul(h, m): */\n  (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  return ((h ^ h >>> 15) >>> 0).toString(36);\n}\n\nexport { murmur2 as default };\n","import * as React from 'react';\n\nvar syncFallback = function syncFallback(create) {\n  return create();\n};\n\nvar useInsertionEffect = React['useInsertion' + 'Effect'] ? React['useInsertion' + 'Effect'] : false;\nvar useInsertionEffectAlwaysWithSyncFallback = useInsertionEffect || syncFallback;\nvar useInsertionEffectWithLayoutFallback = useInsertionEffect || React.useLayoutEffect;\n\nexport { useInsertionEffectAlwaysWithSyncFallback, useInsertionEffectWithLayoutFallback };\n","import * as React from 'react';\nimport { useContext, forwardRef } from 'react';\nimport createCache from '@emotion/cache';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport weakMemoize from '@emotion/weak-memoize';\nimport hoistNonReactStatics from '../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport { getRegisteredStyles, registerStyles, insertStyles } from '@emotion/utils';\nimport { serializeStyles } from '@emotion/serialize';\nimport { useInsertionEffectAlwaysWithSyncFallback } from '@emotion/use-insertion-effect-with-fallbacks';\n\nvar isBrowser = \"object\" !== 'undefined';\nvar hasOwn = {}.hasOwnProperty;\n\nvar EmotionCacheContext = /* #__PURE__ */React.createContext( // we're doing this to avoid preconstruct's dead code elimination in this one case\n// because this module is primarily intended for the browser and node\n// but it's also required in react native and similar environments sometimes\n// and we could have a special build just for that\n// but this is much easier and the native packages\n// might use a different theme context in the future anyway\ntypeof HTMLElement !== 'undefined' ? /* #__PURE__ */createCache({\n  key: 'css'\n}) : null);\n\nif (process.env.NODE_ENV !== 'production') {\n  EmotionCacheContext.displayName = 'EmotionCacheContext';\n}\n\nvar CacheProvider = EmotionCacheContext.Provider;\nvar __unsafe_useEmotionCache = function useEmotionCache() {\n  return useContext(EmotionCacheContext);\n};\n\nvar withEmotionCache = function withEmotionCache(func) {\n  // $FlowFixMe\n  return /*#__PURE__*/forwardRef(function (props, ref) {\n    // the cache will never be null in the browser\n    var cache = useContext(EmotionCacheContext);\n    return func(props, cache, ref);\n  });\n};\n\nif (!isBrowser) {\n  withEmotionCache = function withEmotionCache(func) {\n    return function (props) {\n      var cache = useContext(EmotionCacheContext);\n\n      if (cache === null) {\n        // yes, we're potentially creating this on every render\n        // it doesn't actually matter though since it's only on the server\n        // so there will only every be a single render\n        // that could change in the future because of suspense and etc. but for now,\n        // this works and i don't want to optimise for a future thing that we aren't sure about\n        cache = createCache({\n          key: 'css'\n        });\n        return /*#__PURE__*/React.createElement(EmotionCacheContext.Provider, {\n          value: cache\n        }, func(props, cache));\n      } else {\n        return func(props, cache);\n      }\n    };\n  };\n}\n\nvar ThemeContext = /* #__PURE__ */React.createContext({});\n\nif (process.env.NODE_ENV !== 'production') {\n  ThemeContext.displayName = 'EmotionThemeContext';\n}\n\nvar useTheme = function useTheme() {\n  return React.useContext(ThemeContext);\n};\n\nvar getTheme = function getTheme(outerTheme, theme) {\n  if (typeof theme === 'function') {\n    var mergedTheme = theme(outerTheme);\n\n    if (process.env.NODE_ENV !== 'production' && (mergedTheme == null || typeof mergedTheme !== 'object' || Array.isArray(mergedTheme))) {\n      throw new Error('[ThemeProvider] Please return an object from your theme function, i.e. theme={() => ({})}!');\n    }\n\n    return mergedTheme;\n  }\n\n  if (process.env.NODE_ENV !== 'production' && (theme == null || typeof theme !== 'object' || Array.isArray(theme))) {\n    throw new Error('[ThemeProvider] Please make your theme prop a plain object');\n  }\n\n  return _extends({}, outerTheme, theme);\n};\n\nvar createCacheWithTheme = /* #__PURE__ */weakMemoize(function (outerTheme) {\n  return weakMemoize(function (theme) {\n    return getTheme(outerTheme, theme);\n  });\n});\nvar ThemeProvider = function ThemeProvider(props) {\n  var theme = React.useContext(ThemeContext);\n\n  if (props.theme !== theme) {\n    theme = createCacheWithTheme(theme)(props.theme);\n  }\n\n  return /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n    value: theme\n  }, props.children);\n};\nfunction withTheme(Component) {\n  var componentName = Component.displayName || Component.name || 'Component';\n\n  var render = function render(props, ref) {\n    var theme = React.useContext(ThemeContext);\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      theme: theme,\n      ref: ref\n    }, props));\n  }; // $FlowFixMe\n\n\n  var WithTheme = /*#__PURE__*/React.forwardRef(render);\n  WithTheme.displayName = \"WithTheme(\" + componentName + \")\";\n  return hoistNonReactStatics(WithTheme, Component);\n}\n\nvar getLastPart = function getLastPart(functionName) {\n  // The match may be something like 'Object.createEmotionProps' or\n  // 'Loader.prototype.render'\n  var parts = functionName.split('.');\n  return parts[parts.length - 1];\n};\n\nvar getFunctionNameFromStackTraceLine = function getFunctionNameFromStackTraceLine(line) {\n  // V8\n  var match = /^\\s+at\\s+([A-Za-z0-9$.]+)\\s/.exec(line);\n  if (match) return getLastPart(match[1]); // Safari / Firefox\n\n  match = /^([A-Za-z0-9$.]+)@/.exec(line);\n  if (match) return getLastPart(match[1]);\n  return undefined;\n};\n\nvar internalReactFunctionNames = /* #__PURE__ */new Set(['renderWithHooks', 'processChild', 'finishClassComponent', 'renderToString']); // These identifiers come from error stacks, so they have to be valid JS\n// identifiers, thus we only need to replace what is a valid character for JS,\n// but not for CSS.\n\nvar sanitizeIdentifier = function sanitizeIdentifier(identifier) {\n  return identifier.replace(/\\$/g, '-');\n};\n\nvar getLabelFromStackTrace = function getLabelFromStackTrace(stackTrace) {\n  if (!stackTrace) return undefined;\n  var lines = stackTrace.split('\\n');\n\n  for (var i = 0; i < lines.length; i++) {\n    var functionName = getFunctionNameFromStackTraceLine(lines[i]); // The first line of V8 stack traces is just \"Error\"\n\n    if (!functionName) continue; // If we reach one of these, we have gone too far and should quit\n\n    if (internalReactFunctionNames.has(functionName)) break; // The component name is the first function in the stack that starts with an\n    // uppercase letter\n\n    if (/^[A-Z]/.test(functionName)) return sanitizeIdentifier(functionName);\n  }\n\n  return undefined;\n};\n\nvar typePropName = '__EMOTION_TYPE_PLEASE_DO_NOT_USE__';\nvar labelPropName = '__EMOTION_LABEL_PLEASE_DO_NOT_USE__';\nvar createEmotionProps = function createEmotionProps(type, props) {\n  if (process.env.NODE_ENV !== 'production' && typeof props.css === 'string' && // check if there is a css declaration\n  props.css.indexOf(':') !== -1) {\n    throw new Error(\"Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/react' like this: css`\" + props.css + \"`\");\n  }\n\n  var newProps = {};\n\n  for (var key in props) {\n    if (hasOwn.call(props, key)) {\n      newProps[key] = props[key];\n    }\n  }\n\n  newProps[typePropName] = type; // For performance, only call getLabelFromStackTrace in development and when\n  // the label hasn't already been computed\n\n  if (process.env.NODE_ENV !== 'production' && !!props.css && (typeof props.css !== 'object' || typeof props.css.name !== 'string' || props.css.name.indexOf('-') === -1)) {\n    var label = getLabelFromStackTrace(new Error().stack);\n    if (label) newProps[labelPropName] = label;\n  }\n\n  return newProps;\n};\n\nvar Insertion = function Insertion(_ref) {\n  var cache = _ref.cache,\n      serialized = _ref.serialized,\n      isStringTag = _ref.isStringTag;\n  registerStyles(cache, serialized, isStringTag);\n  useInsertionEffectAlwaysWithSyncFallback(function () {\n    return insertStyles(cache, serialized, isStringTag);\n  });\n\n  return null;\n};\n\nvar Emotion = /* #__PURE__ */withEmotionCache(function (props, cache, ref) {\n  var cssProp = props.css; // so that using `css` from `emotion` and passing the result to the css prop works\n  // not passing the registered cache to serializeStyles because it would\n  // make certain babel optimisations not possible\n\n  if (typeof cssProp === 'string' && cache.registered[cssProp] !== undefined) {\n    cssProp = cache.registered[cssProp];\n  }\n\n  var WrappedComponent = props[typePropName];\n  var registeredStyles = [cssProp];\n  var className = '';\n\n  if (typeof props.className === 'string') {\n    className = getRegisteredStyles(cache.registered, registeredStyles, props.className);\n  } else if (props.className != null) {\n    className = props.className + \" \";\n  }\n\n  var serialized = serializeStyles(registeredStyles, undefined, React.useContext(ThemeContext));\n\n  if (process.env.NODE_ENV !== 'production' && serialized.name.indexOf('-') === -1) {\n    var labelFromStack = props[labelPropName];\n\n    if (labelFromStack) {\n      serialized = serializeStyles([serialized, 'label:' + labelFromStack + ';']);\n    }\n  }\n\n  className += cache.key + \"-\" + serialized.name;\n  var newProps = {};\n\n  for (var key in props) {\n    if (hasOwn.call(props, key) && key !== 'css' && key !== typePropName && (process.env.NODE_ENV === 'production' || key !== labelPropName)) {\n      newProps[key] = props[key];\n    }\n  }\n\n  newProps.ref = ref;\n  newProps.className = className;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Insertion, {\n    cache: cache,\n    serialized: serialized,\n    isStringTag: typeof WrappedComponent === 'string'\n  }), /*#__PURE__*/React.createElement(WrappedComponent, newProps));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Emotion.displayName = 'EmotionCssPropInternal';\n}\n\nvar Emotion$1 = Emotion;\n\nexport { CacheProvider as C, Emotion$1 as E, ThemeContext as T, __unsafe_useEmotionCache as _, ThemeProvider as a, withTheme as b, createEmotionProps as c, hasOwn as h, isBrowser as i, useTheme as u, withEmotionCache as w };\n","import { h as hasOwn, E as Emotion, c as createEmotionProps, w as withEmotionCache, T as ThemeContext, i as isBrowser$1 } from './emotion-element-43c6fea0.browser.esm.js';\nexport { C as CacheProvider, T as ThemeContext, a as ThemeProvider, _ as __unsafe_useEmotionCache, u as useTheme, w as withEmotionCache, b as withTheme } from './emotion-element-43c6fea0.browser.esm.js';\nimport * as React from 'react';\nimport { insertStyles, registerStyles, getRegisteredStyles } from '@emotion/utils';\nimport { useInsertionEffectWithLayoutFallback, useInsertionEffectAlwaysWithSyncFallback } from '@emotion/use-insertion-effect-with-fallbacks';\nimport { serializeStyles } from '@emotion/serialize';\nimport '@emotion/cache';\nimport '@babel/runtime/helpers/extends';\nimport '@emotion/weak-memoize';\nimport '../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport 'hoist-non-react-statics';\n\nvar pkg = {\n\tname: \"@emotion/react\",\n\tversion: \"11.11.4\",\n\tmain: \"dist/emotion-react.cjs.js\",\n\tmodule: \"dist/emotion-react.esm.js\",\n\tbrowser: {\n\t\t\"./dist/emotion-react.esm.js\": \"./dist/emotion-react.browser.esm.js\"\n\t},\n\texports: {\n\t\t\".\": {\n\t\t\tmodule: {\n\t\t\t\tworker: \"./dist/emotion-react.worker.esm.js\",\n\t\t\t\tbrowser: \"./dist/emotion-react.browser.esm.js\",\n\t\t\t\t\"default\": \"./dist/emotion-react.esm.js\"\n\t\t\t},\n\t\t\t\"import\": \"./dist/emotion-react.cjs.mjs\",\n\t\t\t\"default\": \"./dist/emotion-react.cjs.js\"\n\t\t},\n\t\t\"./jsx-runtime\": {\n\t\t\tmodule: {\n\t\t\t\tworker: \"./jsx-runtime/dist/emotion-react-jsx-runtime.worker.esm.js\",\n\t\t\t\tbrowser: \"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js\",\n\t\t\t\t\"default\": \"./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js\"\n\t\t\t},\n\t\t\t\"import\": \"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.mjs\",\n\t\t\t\"default\": \"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js\"\n\t\t},\n\t\t\"./_isolated-hnrs\": {\n\t\t\tmodule: {\n\t\t\t\tworker: \"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.worker.esm.js\",\n\t\t\t\tbrowser: \"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js\",\n\t\t\t\t\"default\": \"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js\"\n\t\t\t},\n\t\t\t\"import\": \"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.mjs\",\n\t\t\t\"default\": \"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js\"\n\t\t},\n\t\t\"./jsx-dev-runtime\": {\n\t\t\tmodule: {\n\t\t\t\tworker: \"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.worker.esm.js\",\n\t\t\t\tbrowser: \"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js\",\n\t\t\t\t\"default\": \"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js\"\n\t\t\t},\n\t\t\t\"import\": \"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.mjs\",\n\t\t\t\"default\": \"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js\"\n\t\t},\n\t\t\"./package.json\": \"./package.json\",\n\t\t\"./types/css-prop\": \"./types/css-prop.d.ts\",\n\t\t\"./macro\": {\n\t\t\ttypes: {\n\t\t\t\t\"import\": \"./macro.d.mts\",\n\t\t\t\t\"default\": \"./macro.d.ts\"\n\t\t\t},\n\t\t\t\"default\": \"./macro.js\"\n\t\t}\n\t},\n\ttypes: \"types/index.d.ts\",\n\tfiles: [\n\t\t\"src\",\n\t\t\"dist\",\n\t\t\"jsx-runtime\",\n\t\t\"jsx-dev-runtime\",\n\t\t\"_isolated-hnrs\",\n\t\t\"types/*.d.ts\",\n\t\t\"macro.*\"\n\t],\n\tsideEffects: false,\n\tauthor: \"Emotion Contributors\",\n\tlicense: \"MIT\",\n\tscripts: {\n\t\t\"test:typescript\": \"dtslint types\"\n\t},\n\tdependencies: {\n\t\t\"@babel/runtime\": \"^7.18.3\",\n\t\t\"@emotion/babel-plugin\": \"^11.11.0\",\n\t\t\"@emotion/cache\": \"^11.11.0\",\n\t\t\"@emotion/serialize\": \"^1.1.3\",\n\t\t\"@emotion/use-insertion-effect-with-fallbacks\": \"^1.0.1\",\n\t\t\"@emotion/utils\": \"^1.2.1\",\n\t\t\"@emotion/weak-memoize\": \"^0.3.1\",\n\t\t\"hoist-non-react-statics\": \"^3.3.1\"\n\t},\n\tpeerDependencies: {\n\t\treact: \">=16.8.0\"\n\t},\n\tpeerDependenciesMeta: {\n\t\t\"@types/react\": {\n\t\t\toptional: true\n\t\t}\n\t},\n\tdevDependencies: {\n\t\t\"@definitelytyped/dtslint\": \"0.0.112\",\n\t\t\"@emotion/css\": \"11.11.2\",\n\t\t\"@emotion/css-prettifier\": \"1.1.3\",\n\t\t\"@emotion/server\": \"11.11.0\",\n\t\t\"@emotion/styled\": \"11.11.0\",\n\t\t\"html-tag-names\": \"^1.1.2\",\n\t\treact: \"16.14.0\",\n\t\t\"svg-tag-names\": \"^1.1.1\",\n\t\ttypescript: \"^4.5.5\"\n\t},\n\trepository: \"https://github.com/emotion-js/emotion/tree/main/packages/react\",\n\tpublishConfig: {\n\t\taccess: \"public\"\n\t},\n\t\"umd:main\": \"dist/emotion-react.umd.min.js\",\n\tpreconstruct: {\n\t\tentrypoints: [\n\t\t\t\"./index.js\",\n\t\t\t\"./jsx-runtime.js\",\n\t\t\t\"./jsx-dev-runtime.js\",\n\t\t\t\"./_isolated-hnrs.js\"\n\t\t],\n\t\tumdName: \"emotionReact\",\n\t\texports: {\n\t\t\tenvConditions: [\n\t\t\t\t\"browser\",\n\t\t\t\t\"worker\"\n\t\t\t],\n\t\t\textra: {\n\t\t\t\t\"./types/css-prop\": \"./types/css-prop.d.ts\",\n\t\t\t\t\"./macro\": {\n\t\t\t\t\ttypes: {\n\t\t\t\t\t\t\"import\": \"./macro.d.mts\",\n\t\t\t\t\t\t\"default\": \"./macro.d.ts\"\n\t\t\t\t\t},\n\t\t\t\t\t\"default\": \"./macro.js\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar jsx = function jsx(type, props) {\n  var args = arguments;\n\n  if (props == null || !hasOwn.call(props, 'css')) {\n    // $FlowFixMe\n    return React.createElement.apply(undefined, args);\n  }\n\n  var argsLength = args.length;\n  var createElementArgArray = new Array(argsLength);\n  createElementArgArray[0] = Emotion;\n  createElementArgArray[1] = createEmotionProps(type, props);\n\n  for (var i = 2; i < argsLength; i++) {\n    createElementArgArray[i] = args[i];\n  } // $FlowFixMe\n\n\n  return React.createElement.apply(null, createElementArgArray);\n};\n\nvar warnedAboutCssPropForGlobal = false; // maintain place over rerenders.\n// initial render from browser, insertBefore context.sheet.tags[0] or if a style hasn't been inserted there yet, appendChild\n// initial client-side render from SSR, use place of hydrating tag\n\nvar Global = /* #__PURE__ */withEmotionCache(function (props, cache) {\n  if (process.env.NODE_ENV !== 'production' && !warnedAboutCssPropForGlobal && ( // check for className as well since the user is\n  // probably using the custom createElement which\n  // means it will be turned into a className prop\n  // $FlowFixMe I don't really want to add it to the type since it shouldn't be used\n  props.className || props.css)) {\n    console.error(\"It looks like you're using the css prop on Global, did you mean to use the styles prop instead?\");\n    warnedAboutCssPropForGlobal = true;\n  }\n\n  var styles = props.styles;\n  var serialized = serializeStyles([styles], undefined, React.useContext(ThemeContext));\n\n  if (!isBrowser$1) {\n    var _ref;\n\n    var serializedNames = serialized.name;\n    var serializedStyles = serialized.styles;\n    var next = serialized.next;\n\n    while (next !== undefined) {\n      serializedNames += ' ' + next.name;\n      serializedStyles += next.styles;\n      next = next.next;\n    }\n\n    var shouldCache = cache.compat === true;\n    var rules = cache.insert(\"\", {\n      name: serializedNames,\n      styles: serializedStyles\n    }, cache.sheet, shouldCache);\n\n    if (shouldCache) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"style\", (_ref = {}, _ref[\"data-emotion\"] = cache.key + \"-global \" + serializedNames, _ref.dangerouslySetInnerHTML = {\n      __html: rules\n    }, _ref.nonce = cache.sheet.nonce, _ref));\n  } // yes, i know these hooks are used conditionally\n  // but it is based on a constant that will never change at runtime\n  // it's effectively like having two implementations and switching them out\n  // so it's not actually breaking anything\n\n\n  var sheetRef = React.useRef();\n  useInsertionEffectWithLayoutFallback(function () {\n    var key = cache.key + \"-global\"; // use case of https://github.com/emotion-js/emotion/issues/2675\n\n    var sheet = new cache.sheet.constructor({\n      key: key,\n      nonce: cache.sheet.nonce,\n      container: cache.sheet.container,\n      speedy: cache.sheet.isSpeedy\n    });\n    var rehydrating = false; // $FlowFixMe\n\n    var node = document.querySelector(\"style[data-emotion=\\\"\" + key + \" \" + serialized.name + \"\\\"]\");\n\n    if (cache.sheet.tags.length) {\n      sheet.before = cache.sheet.tags[0];\n    }\n\n    if (node !== null) {\n      rehydrating = true; // clear the hash so this node won't be recognizable as rehydratable by other <Global/>s\n\n      node.setAttribute('data-emotion', key);\n      sheet.hydrate([node]);\n    }\n\n    sheetRef.current = [sheet, rehydrating];\n    return function () {\n      sheet.flush();\n    };\n  }, [cache]);\n  useInsertionEffectWithLayoutFallback(function () {\n    var sheetRefCurrent = sheetRef.current;\n    var sheet = sheetRefCurrent[0],\n        rehydrating = sheetRefCurrent[1];\n\n    if (rehydrating) {\n      sheetRefCurrent[1] = false;\n      return;\n    }\n\n    if (serialized.next !== undefined) {\n      // insert keyframes\n      insertStyles(cache, serialized.next, true);\n    }\n\n    if (sheet.tags.length) {\n      // if this doesn't exist then it will be null so the style element will be appended\n      var element = sheet.tags[sheet.tags.length - 1].nextElementSibling;\n      sheet.before = element;\n      sheet.flush();\n    }\n\n    cache.insert(\"\", serialized, sheet, false);\n  }, [cache, serialized.name]);\n  return null;\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Global.displayName = 'EmotionGlobal';\n}\n\nfunction css() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return serializeStyles(args);\n}\n\nvar keyframes = function keyframes() {\n  var insertable = css.apply(void 0, arguments);\n  var name = \"animation-\" + insertable.name; // $FlowFixMe\n\n  return {\n    name: name,\n    styles: \"@keyframes \" + name + \"{\" + insertable.styles + \"}\",\n    anim: 1,\n    toString: function toString() {\n      return \"_EMO_\" + this.name + \"_\" + this.styles + \"_EMO_\";\n    }\n  };\n};\n\nvar classnames = function classnames(args) {\n  var len = args.length;\n  var i = 0;\n  var cls = '';\n\n  for (; i < len; i++) {\n    var arg = args[i];\n    if (arg == null) continue;\n    var toAdd = void 0;\n\n    switch (typeof arg) {\n      case 'boolean':\n        break;\n\n      case 'object':\n        {\n          if (Array.isArray(arg)) {\n            toAdd = classnames(arg);\n          } else {\n            if (process.env.NODE_ENV !== 'production' && arg.styles !== undefined && arg.name !== undefined) {\n              console.error('You have passed styles created with `css` from `@emotion/react` package to the `cx`.\\n' + '`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component.');\n            }\n\n            toAdd = '';\n\n            for (var k in arg) {\n              if (arg[k] && k) {\n                toAdd && (toAdd += ' ');\n                toAdd += k;\n              }\n            }\n          }\n\n          break;\n        }\n\n      default:\n        {\n          toAdd = arg;\n        }\n    }\n\n    if (toAdd) {\n      cls && (cls += ' ');\n      cls += toAdd;\n    }\n  }\n\n  return cls;\n};\n\nfunction merge(registered, css, className) {\n  var registeredStyles = [];\n  var rawClassName = getRegisteredStyles(registered, registeredStyles, className);\n\n  if (registeredStyles.length < 2) {\n    return className;\n  }\n\n  return rawClassName + css(registeredStyles);\n}\n\nvar Insertion = function Insertion(_ref) {\n  var cache = _ref.cache,\n      serializedArr = _ref.serializedArr;\n  useInsertionEffectAlwaysWithSyncFallback(function () {\n\n    for (var i = 0; i < serializedArr.length; i++) {\n      insertStyles(cache, serializedArr[i], false);\n    }\n  });\n\n  return null;\n};\n\nvar ClassNames = /* #__PURE__ */withEmotionCache(function (props, cache) {\n  var hasRendered = false;\n  var serializedArr = [];\n\n  var css = function css() {\n    if (hasRendered && process.env.NODE_ENV !== 'production') {\n      throw new Error('css can only be used during render');\n    }\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var serialized = serializeStyles(args, cache.registered);\n    serializedArr.push(serialized); // registration has to happen here as the result of this might get consumed by `cx`\n\n    registerStyles(cache, serialized, false);\n    return cache.key + \"-\" + serialized.name;\n  };\n\n  var cx = function cx() {\n    if (hasRendered && process.env.NODE_ENV !== 'production') {\n      throw new Error('cx can only be used during render');\n    }\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return merge(cache.registered, css, classnames(args));\n  };\n\n  var content = {\n    css: css,\n    cx: cx,\n    theme: React.useContext(ThemeContext)\n  };\n  var ele = props.children(content);\n  hasRendered = true;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Insertion, {\n    cache: cache,\n    serializedArr: serializedArr\n  }), ele);\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  ClassNames.displayName = 'EmotionClassNames';\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  var isBrowser = \"object\" !== 'undefined'; // #1727, #2905 for some reason Jest and Vitest evaluate modules twice if some consuming module gets mocked\n\n  var isTestEnv = typeof jest !== 'undefined' || typeof vi !== 'undefined';\n\n  if (isBrowser && !isTestEnv) {\n    // globalThis has wide browser support - https://caniuse.com/?search=globalThis, Node.js 12 and later\n    var globalContext = // $FlowIgnore\n    typeof globalThis !== 'undefined' ? globalThis // eslint-disable-line no-undef\n    : isBrowser ? window : global;\n    var globalKey = \"__EMOTION_REACT_\" + pkg.version.split('.')[0] + \"__\";\n\n    if (globalContext[globalKey]) {\n      console.warn('You are loading @emotion/react when it is already loaded. Running ' + 'multiple instances may cause problems. This can happen if multiple ' + 'versions are used, or if multiple builds of the same version are ' + 'used.');\n    }\n\n    globalContext[globalKey] = true;\n  }\n}\n\nexport { ClassNames, Global, jsx as createElement, css, jsx, keyframes };\n","import * as ReactJSXRuntime from 'react/jsx-runtime';\nimport { h as hasOwn, E as Emotion, c as createEmotionProps } from '../../dist/emotion-element-43c6fea0.browser.esm.js';\nimport 'react';\nimport '@emotion/cache';\nimport '@babel/runtime/helpers/extends';\nimport '@emotion/weak-memoize';\nimport '../../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport 'hoist-non-react-statics';\nimport '@emotion/utils';\nimport '@emotion/serialize';\nimport '@emotion/use-insertion-effect-with-fallbacks';\n\nvar Fragment = ReactJSXRuntime.Fragment;\nfunction jsx(type, props, key) {\n  if (!hasOwn.call(props, 'css')) {\n    return ReactJSXRuntime.jsx(type, props, key);\n  }\n\n  return ReactJSXRuntime.jsx(Emotion, createEmotionProps(type, props), key);\n}\nfunction jsxs(type, props, key) {\n  if (!hasOwn.call(props, 'css')) {\n    return ReactJSXRuntime.jsxs(type, props, key);\n  }\n\n  return ReactJSXRuntime.jsxs(Emotion, createEmotionProps(type, props), key);\n}\n\nexport { Fragment, jsx, jsxs };\n","import {\n  HTMLAttributes,\n  ImgHTMLAttributes,\n  forwardRef,\n  useCallback,\n  useEffect,\n  useRef,\n} from 'react'\n\nexport interface ComicImageProps\n  extends Omit<ImgHTMLAttributes<HTMLImageElement>, 'src' | 'srcSet'> {\n  img: typeof import('*.png').default\n  alt?: string\n}\n\nexport const ComicImage = forwardRef<HTMLImageElement, ComicImageProps>(\n  function ComicImage({ img, alt = '', ...props }, ref) {\n    return (\n      <img\n        {...props}\n        ref={ref}\n        src={img.url['2x']}\n        srcSet={img.srcSet}\n        width={img.width}\n        height={img.height}\n        alt={alt}\n        draggable=\"false\"\n      />\n    )\n  },\n)\n\nexport const ComicImageAnimation = function ComicImageAnimation({\n  imgs,\n  rateMS = 0,\n  showIdx = null,\n  ...props\n}: {\n  imgs: Array<typeof import('*.png').default>\n  rateMS?: number\n  showIdx?: number | null\n  animate?: boolean\n} & HTMLAttributes<HTMLDivElement>) {\n  const ref = useRef<HTMLImageElement>(null)\n  const lastIdx = useRef<number | null>(null)\n\n  const updateIdx = useCallback((idx: number) => {\n    const { current: el } = ref\n    if (!el) {\n      return\n    }\n    if (lastIdx.current != null) {\n      el.children[lastIdx.current].setAttribute('style', 'display: none')\n    }\n    el.children[idx].setAttribute('style', 'display: block')\n    lastIdx.current = idx\n  }, [])\n\n  useEffect(() => {\n    if (showIdx != null) {\n      updateIdx(showIdx)\n      return\n    } else if (lastIdx.current == null) {\n      // On first render, always show first frame, even if paused.\n      updateIdx(0)\n    }\n\n    if (rateMS === 0) {\n      return\n    }\n\n    let idx = 0\n    const interval = setInterval(() => {\n      idx = (idx + 1) % imgs.length\n      updateIdx(idx)\n    }, 1000 / rateMS)\n\n    updateIdx(0)\n\n    return () => {\n      clearInterval(interval)\n    }\n  }, [imgs, rateMS, updateIdx, showIdx])\n\n  return (\n    <div\n      ref={ref}\n      css={{\n        position: 'relative',\n        width: imgs[0].width,\n        height: imgs[0].height,\n        img: {\n          position: 'absolute',\n          display: 'none',\n        },\n      }}\n      {...props}\n    >\n      {imgs.map((img, idx) => (\n        <ComicImage key={idx} img={img} />\n      ))}\n    </div>\n  )\n}\n","import { ComicImage } from './ComicImage'\n\nimport ballBlueImg from '@art/ball-blue_4x.png'\nimport ballGreenImg from '@art/ball-green_4x.png'\nimport ballRedImg from '@art/ball-red_4x.png'\nimport ballYellowImg from '@art/ball-yellow_4x.png'\nimport { css, keyframes } from '@emotion/react'\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nconst fadeIn = keyframes`\n  0% {\n    opacity: 0;\n  }\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n`\n\nconst counterRotateStyle = css({\n  animation: `${rotate} 1s linear infinite reverse`,\n})\n\nexport default function LoadingSpinner({ className }: { className?: string }) {\n  return (\n    <div\n      css={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n      }}\n      className={className}\n    >\n      <div\n        css={{\n          position: 'absolute',\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr',\n          gap: 4,\n          margin: 4,\n          animation: `1s linear infinite ${rotate}, 500ms ease-in ${fadeIn}`,\n        }}\n      >\n        <ComicImage css={counterRotateStyle} img={ballBlueImg} />\n        <ComicImage css={counterRotateStyle} img={ballGreenImg} />\n        <ComicImage css={counterRotateStyle} img={ballRedImg} />\n        <ComicImage css={counterRotateStyle} img={ballYellowImg} />\n      </div>\n    </div>\n  )\n}\n","import { useCallback, useRef } from 'react'\nimport { Bounds } from '../types'\n\nexport function useIdGen(getInitial?: () => number) {\n  const nextIdRef = useRef<number | null>(null)\n  if (nextIdRef.current === null) {\n    nextIdRef.current = getInitial ? getInitial() : 0\n  }\n  return useCallback(() => String(nextIdRef.current!++), [])\n}\n\nexport function px(value: number) {\n  return `${value}px`\n}\n\nexport function percent(value: number) {\n  return `${(100 * value).toFixed(2)}%`\n}\n\nexport function ms(value: number) {\n  return `${value.toFixed(1)}ms`\n}\n\nexport function inBounds(x: number, y: number, [x1, y1, x2, y2]: Bounds) {\n  return x >= x1 && x <= x2 && y >= y1 && y <= y2\n}\n\nexport function inBoundsOutset(\n  x: number,\n  y: number,\n  outset: number,\n  [x1, y1, x2, y2]: Bounds,\n) {\n  return (\n    x >= x1 - outset && x <= x2 + outset && y >= y1 - outset && y <= y2 + outset\n  )\n}\n\nexport function inBoundsObject(\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  [x1, y1, x2, y2]: Bounds,\n) {\n  return (\n    x >= x1 - 0.5 * width &&\n    x <= x2 + 0.5 * width &&\n    y >= y1 - 0.5 * height &&\n    y <= y2 + 0.5 * height\n  )\n}\n\nexport function intersectBounds(\n  [ax1, ay1, ax2, ay2]: Bounds,\n  [bx1, by1, bx2, by2]: Bounds,\n): Bounds {\n  return [\n    Math.max(ax1, bx1),\n    Math.max(ay1, by1),\n    Math.min(ax2, bx2),\n    Math.min(ay2, by2),\n  ]\n}\n\nexport function rotate(\n  rotationAngle: number,\n  { x, y }: { x: number; y: number },\n) {\n  return {\n    x: x * Math.cos(rotationAngle) - y * Math.sin(rotationAngle),\n    y: x * Math.sin(rotationAngle) + y * Math.cos(rotationAngle),\n  }\n}\n\nexport interface Basis {\n  xBasis: number\n  yBasis: number\n}\n\nexport interface RandallPath {\n  x1: number\n  y1: number\n  x2: number\n  y2: number\n  thickness: number\n}\n","import { Bounds } from '../types'\nimport { intersectBounds } from './utils'\n\nexport type Grid<T> = T[][]\n\nexport function tileBounds(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  tileWidth: number,\n  tileHeight: number,\n  outset: number = 0,\n): Bounds {\n  const xt1 = Math.floor((x1 - outset) / tileWidth)\n  const yt1 = Math.floor((y1 - outset) / tileHeight)\n\n  // The bottom right bounds are -1 tile to factor in the last tile's width and height.\n  const xt2 = Math.ceil((x2 + outset) / tileWidth) - 1\n  const yt2 = Math.ceil((y2 + outset) / tileHeight) - 1\n\n  return [xt1, yt1, xt2, yt2]\n}\n\nexport function* iterTiles(\n  xt1: number,\n  yt1: number,\n  xt2: number,\n  yt2: number,\n): Generator<[xt: number, yt: number]> {\n  for (let yt = yt1; yt <= yt2; yt++) {\n    for (let xt = xt1; xt <= xt2; xt++) {\n      yield [xt, yt]\n    }\n  }\n}\n\nexport function gridDimensions(grid: Grid<unknown>) {\n  const tilesX = grid[0].length\n  const tilesY = grid.length\n  return [tilesX, tilesY]\n}\n\nexport function gridViewBounds(\n  viewBounds: Bounds,\n  tilesX: number,\n  tilesY: number,\n  tileWidth: number,\n  tileHeight: number,\n  outset: number,\n): Bounds {\n  const rawBounds = tileBounds(...viewBounds, tileWidth, tileHeight, outset)\n  return intersectBounds(rawBounds, [0, 0, tilesX - 1, tilesY - 1])\n}\n\nexport function tileKey(xt: number, yt: number) {\n  return `${xt},${yt}`\n}\n","import type { Collider, RigidBody } from '@dimforge/rapier2d'\nimport type { Vector } from '../types'\nimport { Basis } from './utils'\n\nexport const M_PER_PX = 1 / 50\n\nexport const coords = {\n  toRapier: {\n    x(distance: number) {\n      return distance * M_PER_PX\n    },\n\n    y(distance: number) {\n      return -distance * M_PER_PX\n    },\n\n    length(this: void, length: number) {\n      return length * M_PER_PX\n    },\n\n    lengths<T extends number[]>(...lengths: T): T {\n      return lengths.map(this.length) as T\n    },\n\n    vector(\n      x: number,\n      y: number,\n      { xBasis, yBasis }: Basis = { xBasis: 0, yBasis: 0 },\n    ): [number, number] {\n      return [this.x(x - xBasis), this.y(y - yBasis)]\n    },\n\n    vectorObject(\n      x: number,\n      y: number,\n      { xBasis, yBasis }: Basis = { xBasis: 0, yBasis: 0 },\n    ): Vector {\n      return { x: this.x(x - xBasis), y: this.y(y - yBasis) }\n    },\n\n    angle(angle: number) {\n      return -angle\n    },\n  },\n\n  fromRapier: {\n    x(distance: number) {\n      return distance / M_PER_PX\n    },\n\n    y(distance: number) {\n      return -distance / M_PER_PX\n    },\n\n    length(this: void, length: number) {\n      return length / M_PER_PX\n    },\n\n    vector(x: number, y: number): [number, number] {\n      return [this.x(x), this.y(y)]\n    },\n\n    angle(angle: number) {\n      return -angle\n    },\n  },\n\n  fromBody: {\n    vector(body: RigidBody | Collider) {\n      const { x, y } = body.translation()\n      return coords.fromRapier.vector(x, y)\n    },\n\n    angle(body: RigidBody | Collider) {\n      return coords.fromRapier.angle(body.rotation())\n    },\n  },\n}\n\nexport function vectorMagnitude(a: Vector) {\n  return Math.sqrt(a.x * a.x + a.y * a.y)\n}\n\nexport function vectorDistance(a: Vector, b: Vector) {\n  return Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2))\n}\n\nexport function vectorAngle(a: Vector, b: Vector) {\n  return Math.atan2(b.y - a.y, b.x - a.x)\n}\n\nexport function vectorDifference(a: Vector, b: Vector): Vector {\n  return { x: a.x - b.x, y: a.y - b.y }\n}\n\nexport function vectorNorm(a: Vector): Vector {\n  const invLength = 1.0 / Math.sqrt(a.x * a.x + a.y * a.y)\n\n  return { x: a.x * invLength, y: a.y * invLength }\n}\n\nexport function vectorScale(a: Vector, scale: number): Vector {\n  return { x: a.x * scale, y: a.y * scale }\n}\n\nexport function vectorRotate(toRotate: Vector, angleDegrees: number): Vector {\n  const angle = angleDegrees * (Math.PI / 180.0)\n  const cosA = Math.cos(angle)\n  const sinA = Math.cos(angle)\n  const { x, y } = toRotate\n\n  return { x: cosA * x - sinA * y, y: sinA * x + cosA * y }\n}\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nexport default noop;\n","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import type { RigidBody, Vector } from '@dimforge/rapier2d'\nimport { Angled, BallType } from '../types'\n\nexport interface BodySnapshot extends Vector, Angled {\n  vx: number\n  vy: number\n  va: number\n}\n\nexport interface WidgetSnapshot extends BodySnapshot {\n  key: string\n}\n\nexport interface BallSnapshot extends BodySnapshot {\n  type: BallType\n  age: number\n}\n\nexport interface MachineSnapshot {\n  widgets: Record<string, WidgetSnapshot>\n  balls: BallSnapshot[]\n}\n\nexport function snapshotBody(body: RigidBody): BodySnapshot {\n  const { x: vx, y: vy } = body.linvel()\n  return {\n    ...body.translation(),\n    angle: body.rotation(),\n    vx,\n    vy,\n    va: body.angvel(),\n  }\n}\nexport function applySnapshotToBody(\n  snapshot: BodySnapshot,\n  body: RigidBody,\n  offsetX = 0,\n  offsetY = 0,\n) {\n  body.setTranslation(\n    { x: snapshot.x + offsetX, y: snapshot.y + offsetY },\n    true,\n  )\n  body.setRotation(snapshot.angle, true)\n  body.setLinvel({ x: snapshot.vx, y: snapshot.vy }, true)\n  body.setAngvel(snapshot.va, true)\n}\n\nexport function offsetSnapshot<T extends BodySnapshot>(\n  xOffset: number,\n  yOffset: number,\n  { x, y, ...rest }: T,\n) {\n  return { ...rest, x: x + xOffset, y: y + yOffset }\n}\n","import * as React from 'react';\n\nconst useLatest = current => {\n  const storedValue = React.useRef(current);\n  React.useEffect(() => {\n    storedValue.current = current;\n  });\n  return storedValue;\n};\n\nexport default useLatest;","import type RAPIER from '@dimforge/rapier2d'\nimport {\n  EventQueue,\n  type Collider,\n  type ColliderDesc,\n  type ImpulseJoint,\n  type JointData,\n  type RigidBody,\n  type World,\n} from '@dimforge/rapier2d'\nimport useLatest from '@react-hook/latest'\nimport { random } from 'lodash'\nimport mitt, { Emitter } from 'mitt'\nimport {\n  DependencyList,\n  EffectCallback,\n  ReactNode,\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from 'react'\nimport { ms } from '../lib/utils'\n\ntype LoopEvents = {\n  step: void\n} & {\n  [K in `collision_start_${number}` | `collision_end_${number}`]: number\n}\n\nexport const GRAVITY = { x: 0.0, y: -9.81 }\nexport const TICK_MS = 1000 / 60\n\nexport interface PhysicsContextType {\n  tickMs: number\n  rapier: typeof RAPIER\n  world: World\n  events: Emitter<LoopEvents>\n  getCurrentTick: () => number\n}\n\nexport const PhysicsContext = createContext<PhysicsContextType | null>(null)\n\nexport function PhysicsContextProvider({\n  stepRateMultiplier = 1,\n  debug,\n  children,\n}: {\n  stepRateMultiplier?: number\n  debug?: boolean\n  children: ReactNode\n}) {\n  const [contextValue, setContextValue] = useState<PhysicsContextType | null>(\n    null,\n  )\n\n  const eventQueueRef = useRef<EventQueue | undefined>()\n  const baseTimeRef = useRef(0)\n  const tickCountRef = useRef(0)\n  const isDebugRef = useLatest(debug)\n\n  const getCurrentTick = useCallback(() => tickCountRef.current, [])\n\n  // TODO: pause when page inactive\n  useEffect(() => {\n    let destroyed = false\n    let world: World | undefined\n\n    async function loadAndInit() {\n      const rapier = await import('@dimforge/rapier2d')\n      if (destroyed) {\n        return\n      }\n\n      const world = new rapier.World(GRAVITY)\n      world.numSolverIterations = 4\n      world.timestep = TICK_MS / 1000\n      const events = mitt<LoopEvents>()\n      eventQueueRef.current = new rapier.EventQueue(true)\n      setContextValue({\n        tickMs: TICK_MS,\n        rapier,\n        world,\n        events,\n        getCurrentTick,\n      })\n    }\n\n    void loadAndInit()\n\n    return () => {\n      destroyed = true\n      world?.free()\n    }\n  }, [getCurrentTick, isDebugRef])\n\n  const resetBaseTime = useCallback(\n    (now: number, tickMs: number) => {\n      const newBaseTime = now - (tickCountRef.current + 1) * tickMs\n      if (isDebugRef.current) {\n        console.debug(`Skipping ${newBaseTime - baseTimeRef.current}ms`)\n      }\n      baseTimeRef.current = newBaseTime\n    },\n    [isDebugRef],\n  )\n\n  useEffect(() => {\n    if (stepRateMultiplier === 0) {\n      return\n    }\n\n    let lastTickTime = performance.now()\n\n    const tickMs = Math.floor(TICK_MS * (1 / stepRateMultiplier))\n    resetBaseTime(lastTickTime, tickMs)\n\n    function step() {\n      if (!contextValue) {\n        return\n      }\n\n      const { current: eventQueue } = eventQueueRef\n      const { world, events } = contextValue\n      if (!eventQueue || !world) {\n        return\n      }\n\n      const now = performance.now()\n\n      // Skip forward in case of large pauses.\n      if (now - lastTickTime > 30 * tickMs) {\n        resetBaseTime(now, tickMs)\n      }\n\n      const neededTicks = Math.ceil((now - baseTimeRef.current) / tickMs)\n\n      while (tickCountRef.current < neededTicks) {\n        const rapierStart = performance.now()\n        world.step(eventQueue)\n        const rapierEnd = performance.now()\n\n        const eventQueueCallbackStart = performance.now()\n        eventQueue.drainCollisionEvents((handle1, handle2, started) => {\n          const eventName = started ? 'start' : 'end'\n          events.emit(`collision_${eventName}_${handle1}`, handle2)\n          events.emit(`collision_${eventName}_${handle2}`, handle1)\n        })\n        const eventQueueCallbackEnd = performance.now()\n\n        const stepCallbackStart = performance.now()\n        events.emit('step')\n        const stepCallbackEnd = performance.now()\n\n        if (isDebugRef.current && tickCountRef.current % 60 === 0) {\n          console.debug({\n            rapier: ms(rapierEnd - rapierStart),\n            eventQueue: ms(eventQueueCallbackEnd - eventQueueCallbackStart),\n            stepCallback: ms(stepCallbackEnd - stepCallbackStart),\n            bodies: world.bodies.len(),\n          })\n        }\n\n        tickCountRef.current++\n      }\n\n      lastTickTime = performance.now()\n    }\n\n    const interval = window.setInterval(step, tickMs)\n\n    return () => {\n      clearInterval(interval)\n    }\n  }, [contextValue, isDebugRef, resetBaseTime, stepRateMultiplier])\n\n  return (\n    <PhysicsContext.Provider value={contextValue}>\n      {children}\n    </PhysicsContext.Provider>\n  )\n}\n\nexport function useRapierEffect(\n  rapierEffect: (physics: PhysicsContextType) => ReturnType<EffectCallback>,\n  deps: DependencyList,\n) {\n  const physics = useContext(PhysicsContext)\n\n  useEffect(() => {\n    if (!physics) {\n      return\n    }\n\n    return rapierEffect(physics)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [physics, ...deps])\n}\n\nexport function useCollider(\n  create: (rapier: typeof RAPIER) => ColliderDesc | null,\n  deps: DependencyList,\n) {\n  // TODO: needed to make this a setState for useCollisionHandler to get collider object updates because of the useRapierEffect updates the ref async. Ideally this would be solved without triggering a render. A JSX component-based approach would be more ergonomic than the hooks here.\n  const [collider, setCollider] = useState<Collider>()\n\n  useRapierEffect(({ rapier, world }) => {\n    const colliderDesc = create(rapier)\n    if (!colliderDesc) {\n      return\n    }\n    const collider = world.createCollider(colliderDesc)\n    setCollider(collider)\n    return () => {\n      setTimeout(() => {\n        world.removeCollider(collider, false)\n      }, 0)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps)\n\n  return collider\n}\n\n// TODO: Test this! It looks right but I haven't tested it <.<  >.>\nexport function useImpulseJoint(\n  create: (rapier: typeof RAPIER) => JointData | null,\n  body1Ref: React.MutableRefObject<RigidBody | null>,\n  body2Ref: React.MutableRefObject<RigidBody | null>,\n  deps: DependencyList,\n) {\n  const jointRef = useRef<ImpulseJoint | null>(null)\n  useRapierEffect(\n    ({ rapier, world }) => {\n      const jointDesc = create(rapier)\n      const { current: left } = body1Ref\n      const { current: right } = body2Ref\n\n      if (!jointDesc || !left || !right) {\n        return\n      }\n\n      const joint = world.createImpulseJoint(jointDesc, left, right, false)\n      jointRef.current = joint\n\n      return () => {\n        setTimeout(() => {\n          world.removeImpulseJoint(joint, false)\n        }, 0)\n      }\n    },\n    // don't support changing 'create' since it'll break the deps array on every render =(\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [deps, body1Ref, body2Ref],\n  )\n\n  return jointRef\n}\n\nexport function useLoopHandler(\n  handler: (physics: PhysicsContextType) => void,\n  deps: DependencyList,\n) {\n  useRapierEffect((physics) => {\n    const { events } = physics\n    function triggerHandler() {\n      handler(physics)\n    }\n    events.on('step', triggerHandler)\n    return () => {\n      events.off('step', triggerHandler)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps)\n}\n\nexport function useCollisionHandler(\n  event: 'start' | 'end',\n  collider: Collider | undefined,\n  handler: (otherCollider: Collider) => void,\n  deps: DependencyList,\n) {\n  useRapierEffect(\n    (physics) => {\n      if (!collider) {\n        return\n      }\n\n      const { world, events } = physics\n      function triggerHandler(handle: number) {\n        const otherCollider = world.getCollider(handle)\n        handler(otherCollider)\n      }\n\n      const { handle } = collider\n      events.on(`collision_${event}_${handle}`, triggerHandler)\n      return () => {\n        events.off(`collision_${event}_${handle}`, triggerHandler)\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [event, collider, ...deps],\n  )\n}\n\nexport function usePhysicsLoaded() {\n  return useContext(PhysicsContext) != null\n}\n\nexport function PhysicsLoader({\n  spinner,\n  children,\n}: {\n  spinner: ReactNode\n  children: ReactNode\n}) {\n  const isPhysicsLoaded = usePhysicsLoaded()\n  if (!isPhysicsLoaded) {\n    return spinner\n  }\n  return children\n}\n\nexport function deferATick(callback: () => void) {\n  return setTimeout(() => {\n    callback()\n  }, random(TICK_MS))\n}\n","import { noop } from 'lodash'\nimport mitt, { Emitter } from 'mitt'\nimport {\n  MutableRefObject,\n  ReactNode,\n  createContext,\n  forwardRef,\n  useCallback,\n  useContext,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react'\n\nimport type { RigidBody } from '@dimforge/rapier2d'\nimport { coords } from '../lib/coords'\nimport { BallSnapshot, BodySnapshot, snapshotBody } from '../lib/snapshot'\nimport { inBounds, useIdGen } from '../lib/utils'\nimport { BallType, Bounds } from '../types'\nimport { PhysicsContext } from './PhysicsContext'\n\nexport interface BallData {\n  id: string\n  snapshot: BodySnapshot\n  age: number\n  type: BallType\n  overrideDamping?: number\n}\n\nexport type BallDestroyReason = 'expiry'\n\nexport type BallFollowCallback = (x: number, y: number) => void\n\ntype MachineEvents = {\n  createBall: BallData\n  destroyBall: string\n  exitBall: string\n  renewBall: string\n  killBall: string\n  followBall: BallFollowCallback\n  unfollowBall: void\n  ballExpired: void\n}\n\ntype ActiveBalls = Record<\n  string,\n  {\n    type: BallType\n    body: RigidBody\n    renewTick: number\n  }\n>\n\nexport type CreateBallOptions = {\n  vx?: number\n  vy?: number\n  overrideDamping?: number\n}\n\nexport type MachineContextType = {\n  msPerBall: number\n  createBall: (\n    x: number,\n    y: number,\n    type: BallType,\n    opts?: CreateBallOptions,\n  ) => void\n  destroyBall: (id: string, reason?: BallDestroyReason) => void\n  /** Destroy the ball when it leaves the viewable area */\n  exitBall: (id: string) => void\n  renewBall: (id: string) => void\n  killBall: (id: string) => void\n  clearBalls: () => void\n  followBall: (callback: BallFollowCallback) => void\n  unfollowBall: () => void\n  registerBall: (\n    id: string,\n    type: BallType,\n    body: RigidBody,\n    renewTick: number,\n  ) => void\n  unregisterBall: (id: string) => void\n  snapshotBalls: (bounds: Bounds) => BallSnapshot[]\n  restoreBalls: (ballSnapshots: BallSnapshot[]) => void\n  simulationBoundsRef: MutableRefObject<Bounds>\n  viewBoundsRef: MutableRefObject<Bounds>\n  events: Emitter<MachineEvents>\n}\n\nexport interface MachineContextProviderRef {\n  createBall: MachineContextType['createBall']\n  clearBalls: MachineContextType['clearBalls']\n  followBall: MachineContextType['followBall']\n  unfollowBall: MachineContextType['unfollowBall']\n  events: MachineContextType['events']\n  simulationBoundsRef: MachineContextType['simulationBoundsRef']\n  viewBoundsRef: MachineContextType['viewBoundsRef']\n}\n\nconst infiniteBounds: Bounds = [-Infinity, -Infinity, Infinity, Infinity]\n\nexport const MachineContext = createContext<MachineContextType>({\n  msPerBall: Infinity,\n  createBall: noop,\n  destroyBall: noop,\n  exitBall: noop,\n  renewBall: noop,\n  killBall: noop,\n  followBall: noop,\n  unfollowBall: noop,\n  clearBalls: noop,\n  registerBall: noop,\n  unregisterBall: noop,\n  snapshotBalls: () => [],\n  restoreBalls: noop,\n  simulationBoundsRef: { current: infiniteBounds },\n  viewBoundsRef: { current: infiniteBounds },\n  events: mitt(),\n})\n\nexport const MachineContextProvider = forwardRef(\n  function MachineContextProvider(\n    {\n      msPerBall,\n      initialSimulationBounds = infiniteBounds,\n      initialViewBounds = infiniteBounds,\n      children,\n    }: {\n      msPerBall: number\n      initialSimulationBounds?: Bounds\n      initialViewBounds?: Bounds\n      children: ReactNode\n    },\n    ref,\n  ) {\n    const physics = useContext(PhysicsContext)\n\n    const nextBallId = useIdGen()\n\n    const [events] = useState(() => mitt<MachineEvents>())\n\n    const activeBalls = useRef<ActiveBalls>({})\n\n    const createBall = useCallback(\n      (\n        x: number,\n        y: number,\n        type: BallType,\n        { vx = 0, vy = 0, overrideDamping }: CreateBallOptions = {},\n      ) => {\n        events.emit('createBall', {\n          id: nextBallId(),\n          snapshot: {\n            x: coords.toRapier.x(x),\n            y: coords.toRapier.y(y),\n            angle: 0,\n            vx,\n            vy,\n            va: 0,\n          },\n          age: 0,\n          type,\n          overrideDamping,\n        })\n      },\n      [events, nextBallId],\n    )\n\n    const destroyBall = useCallback(\n      (id: string, reason?: BallDestroyReason) => {\n        events.emit('destroyBall', id)\n        if (reason === 'expiry') {\n          events.emit('ballExpired')\n        }\n      },\n      [events],\n    )\n\n    const exitBall = useCallback(\n      (id: string) => {\n        events.emit('exitBall', id)\n      },\n      [events],\n    )\n\n    const renewBall = useCallback(\n      (id: string) => {\n        events.emit('renewBall', id)\n      },\n      [events],\n    )\n\n    const killBall = useCallback(\n      (id: string) => {\n        events.emit('killBall', id)\n      },\n      [events],\n    )\n\n    const followBall = useCallback(\n      (callback: BallFollowCallback) => {\n        events.emit('followBall', callback)\n      },\n      [events],\n    )\n\n    const unfollowBall = useCallback(() => {\n      events.emit('unfollowBall')\n    }, [events])\n\n    const clearBalls = useCallback(() => {\n      Object.keys(activeBalls.current).forEach((id) => destroyBall(id))\n    }, [destroyBall])\n\n    const registerBall = useCallback(\n      (id: string, type: BallType, body: RigidBody, renewTick: number) => {\n        activeBalls.current[id] = { type, body, renewTick }\n      },\n      [],\n    )\n\n    const unregisterBall = useCallback((id: string) => {\n      delete activeBalls.current[id]\n    }, [])\n\n    const snapshotBalls = useCallback(\n      (bounds: Bounds) => {\n        if (!physics) {\n          return []\n        }\n        const currentTick = physics.getCurrentTick()\n        return Object.values(activeBalls.current)\n          .filter(({ body }) => {\n            const { x, y } = body.translation()\n            return inBounds(x, y, bounds)\n          })\n          .map(({ type, body, renewTick }) => ({\n            ...snapshotBody(body),\n            age: currentTick - renewTick,\n            type,\n          }))\n      },\n      [physics],\n    )\n\n    const restoreBalls = useCallback(\n      (ballSnapshots: BallSnapshot[]) => {\n        for (const { type, age, ...snapshot } of ballSnapshots) {\n          events.emit('createBall', {\n            id: nextBallId(),\n            snapshot,\n            age,\n            type,\n          })\n        }\n      },\n      [events, nextBallId],\n    )\n\n    const simulationBoundsRef = useRef<Bounds>(initialSimulationBounds)\n    const viewBoundsRef = useRef<Bounds>(initialViewBounds)\n\n    const contextValue: MachineContextType = useMemo(\n      () => ({\n        msPerBall,\n        createBall,\n        destroyBall,\n        exitBall,\n        renewBall,\n        killBall,\n        followBall,\n        unfollowBall,\n        clearBalls,\n        registerBall,\n        unregisterBall,\n        snapshotBalls,\n        restoreBalls,\n        simulationBoundsRef,\n        viewBoundsRef,\n        events,\n      }),\n      [\n        msPerBall,\n        createBall,\n        destroyBall,\n        exitBall,\n        renewBall,\n        killBall,\n        followBall,\n        unfollowBall,\n        clearBalls,\n        registerBall,\n        unregisterBall,\n        snapshotBalls,\n        restoreBalls,\n        events,\n      ],\n    )\n\n    useImperativeHandle(ref, () => ({\n      createBall,\n      followBall,\n      unfollowBall,\n      clearBalls,\n      events,\n      simulationBoundsRef,\n      viewBoundsRef,\n    }))\n\n    return (\n      <MachineContext.Provider value={contextValue}>\n        {children}\n      </MachineContext.Provider>\n    )\n  },\n)\n\nexport function useMachine() {\n  return useContext(MachineContext)\n}\n","import imgBottomPit from '@art/bottom_pit_4x.png'\nimport imgBottomChute from '@art/chute-0v_4x.png'\nimport imgBottomTank from '@art/tank-blue_4x.png'\n\nexport const BALL_RADIUS = 8\nexport const INPUT_SPINNER_SIZE = 42\nexport const INPUT_SPINNER_SPEED = 2\nexport const INPUT_TEETH_COUNT = 8\nexport const INPUT_WIDTH = 2 * INPUT_SPINNER_SIZE + 5\nexport const MAX_WIDGET_COUNT = 100\nexport const TRIANGLE_BUMPER_SENSOR_OFFSET = 0.2\nexport const TRIANGLE_BUMPER_RADIUS_RATIO = 0.14159\nexport const TRIANGLE_BUMPER_SENSOR_FUDGE = 2.2\nexport const TRIANGLE_BUMPER_STRENGTH = 35\nexport const ROUND_BUMPER_STRENGTH = 35\nexport const BONK_ANIMATION_DELAY_MS = 200\nexport const TRIANGLE_BUMPER_CONTACT_DISTANCE = 0.1\nexport const ROAND_BUMPER_RADIUS_RATIO = 0.49\nexport const ROUND_BUMPER_FALLBACK_RATIO = 0.9\nexport const BOTTOM_PIT_WIDTH = imgBottomPit.width\nexport const BOTTOM_PIT_HEIGHT = imgBottomPit.height\nexport const BOTTOM_PIT_EDGE_WIDTH = 94\nexport const BOTTOM_MECHANISM_HEIGHT = 3000\nexport const BOTTOM_CHUTE_DROP = 50\nexport const BOTTOM_CHUTE_HEIGHT = imgBottomChute.height\nexport const BOTTOM_TANK_WIDTH = imgBottomTank.width\nexport const BOTTOM_TANK_HEIGHT = imgBottomTank.height\nexport const BOTTOM_TANK_SPACING = 100\nexport const BOTTOM_TANK_TARGET_TOP = 50\n","// src/queryObserver.ts\nimport {\n  isServer,\n  isValidTimeout,\n  noop,\n  replaceData,\n  shallowEqualObjects,\n  timeUntilStale\n} from \"./utils.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nimport { fetchState } from \"./query.js\";\nvar QueryObserver = class extends Subscribable {\n  constructor(client, options) {\n    super();\n    this.options = options;\n    this.#client = client;\n    this.#selectError = null;\n    this.bindMethods();\n    this.setOptions(options);\n  }\n  #client;\n  #currentQuery = void 0;\n  #currentQueryInitialState = void 0;\n  #currentResult = void 0;\n  #currentResultState;\n  #currentResultOptions;\n  #selectError;\n  #selectFn;\n  #selectResult;\n  // This property keeps track of the last query with defined data.\n  // It will be used to pass the previous data and query to the placeholder function between renders.\n  #lastQueryWithDefinedData;\n  #staleTimeoutId;\n  #refetchIntervalId;\n  #currentRefetchInterval;\n  #trackedProps = /* @__PURE__ */ new Set();\n  bindMethods() {\n    this.refetch = this.refetch.bind(this);\n  }\n  onSubscribe() {\n    if (this.listeners.size === 1) {\n      this.#currentQuery.addObserver(this);\n      if (shouldFetchOnMount(this.#currentQuery, this.options)) {\n        this.#executeFetch();\n      } else {\n        this.updateResult();\n      }\n      this.#updateTimers();\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.destroy();\n    }\n  }\n  shouldFetchOnReconnect() {\n    return shouldFetchOn(\n      this.#currentQuery,\n      this.options,\n      this.options.refetchOnReconnect\n    );\n  }\n  shouldFetchOnWindowFocus() {\n    return shouldFetchOn(\n      this.#currentQuery,\n      this.options,\n      this.options.refetchOnWindowFocus\n    );\n  }\n  destroy() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.#clearStaleTimeout();\n    this.#clearRefetchInterval();\n    this.#currentQuery.removeObserver(this);\n  }\n  setOptions(options, notifyOptions) {\n    const prevOptions = this.options;\n    const prevQuery = this.#currentQuery;\n    this.options = this.#client.defaultQueryOptions(options);\n    if (this.options.enabled !== void 0 && typeof this.options.enabled !== \"boolean\") {\n      throw new Error(\"Expected enabled to be a boolean\");\n    }\n    this.#updateQuery();\n    this.#currentQuery.setOptions(this.options);\n    if (prevOptions._defaulted && !shallowEqualObjects(this.options, prevOptions)) {\n      this.#client.getQueryCache().notify({\n        type: \"observerOptionsUpdated\",\n        query: this.#currentQuery,\n        observer: this\n      });\n    }\n    const mounted = this.hasListeners();\n    if (mounted && shouldFetchOptionally(\n      this.#currentQuery,\n      prevQuery,\n      this.options,\n      prevOptions\n    )) {\n      this.#executeFetch();\n    }\n    this.updateResult(notifyOptions);\n    if (mounted && (this.#currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || this.options.staleTime !== prevOptions.staleTime)) {\n      this.#updateStaleTimeout();\n    }\n    const nextRefetchInterval = this.#computeRefetchInterval();\n    if (mounted && (this.#currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || nextRefetchInterval !== this.#currentRefetchInterval)) {\n      this.#updateRefetchInterval(nextRefetchInterval);\n    }\n  }\n  getOptimisticResult(options) {\n    const query = this.#client.getQueryCache().build(this.#client, options);\n    const result = this.createResult(query, options);\n    if (shouldAssignObserverCurrentProperties(this, result)) {\n      this.#currentResult = result;\n      this.#currentResultOptions = this.options;\n      this.#currentResultState = this.#currentQuery.state;\n    }\n    return result;\n  }\n  getCurrentResult() {\n    return this.#currentResult;\n  }\n  trackResult(result, onPropTracked) {\n    const trackedResult = {};\n    Object.keys(result).forEach((key) => {\n      Object.defineProperty(trackedResult, key, {\n        configurable: false,\n        enumerable: true,\n        get: () => {\n          this.trackProp(key);\n          onPropTracked?.(key);\n          return result[key];\n        }\n      });\n    });\n    return trackedResult;\n  }\n  trackProp(key) {\n    this.#trackedProps.add(key);\n  }\n  getCurrentQuery() {\n    return this.#currentQuery;\n  }\n  refetch({ ...options } = {}) {\n    return this.fetch({\n      ...options\n    });\n  }\n  fetchOptimistic(options) {\n    const defaultedOptions = this.#client.defaultQueryOptions(options);\n    const query = this.#client.getQueryCache().build(this.#client, defaultedOptions);\n    query.isFetchingOptimistic = true;\n    return query.fetch().then(() => this.createResult(query, defaultedOptions));\n  }\n  fetch(fetchOptions) {\n    return this.#executeFetch({\n      ...fetchOptions,\n      cancelRefetch: fetchOptions.cancelRefetch ?? true\n    }).then(() => {\n      this.updateResult();\n      return this.#currentResult;\n    });\n  }\n  #executeFetch(fetchOptions) {\n    this.#updateQuery();\n    let promise = this.#currentQuery.fetch(\n      this.options,\n      fetchOptions\n    );\n    if (!fetchOptions?.throwOnError) {\n      promise = promise.catch(noop);\n    }\n    return promise;\n  }\n  #updateStaleTimeout() {\n    this.#clearStaleTimeout();\n    if (isServer || this.#currentResult.isStale || !isValidTimeout(this.options.staleTime)) {\n      return;\n    }\n    const time = timeUntilStale(\n      this.#currentResult.dataUpdatedAt,\n      this.options.staleTime\n    );\n    const timeout = time + 1;\n    this.#staleTimeoutId = setTimeout(() => {\n      if (!this.#currentResult.isStale) {\n        this.updateResult();\n      }\n    }, timeout);\n  }\n  #computeRefetchInterval() {\n    return (typeof this.options.refetchInterval === \"function\" ? this.options.refetchInterval(this.#currentQuery) : this.options.refetchInterval) ?? false;\n  }\n  #updateRefetchInterval(nextInterval) {\n    this.#clearRefetchInterval();\n    this.#currentRefetchInterval = nextInterval;\n    if (isServer || this.options.enabled === false || !isValidTimeout(this.#currentRefetchInterval) || this.#currentRefetchInterval === 0) {\n      return;\n    }\n    this.#refetchIntervalId = setInterval(() => {\n      if (this.options.refetchIntervalInBackground || focusManager.isFocused()) {\n        this.#executeFetch();\n      }\n    }, this.#currentRefetchInterval);\n  }\n  #updateTimers() {\n    this.#updateStaleTimeout();\n    this.#updateRefetchInterval(this.#computeRefetchInterval());\n  }\n  #clearStaleTimeout() {\n    if (this.#staleTimeoutId) {\n      clearTimeout(this.#staleTimeoutId);\n      this.#staleTimeoutId = void 0;\n    }\n  }\n  #clearRefetchInterval() {\n    if (this.#refetchIntervalId) {\n      clearInterval(this.#refetchIntervalId);\n      this.#refetchIntervalId = void 0;\n    }\n  }\n  createResult(query, options) {\n    const prevQuery = this.#currentQuery;\n    const prevOptions = this.options;\n    const prevResult = this.#currentResult;\n    const prevResultState = this.#currentResultState;\n    const prevResultOptions = this.#currentResultOptions;\n    const queryChange = query !== prevQuery;\n    const queryInitialState = queryChange ? query.state : this.#currentQueryInitialState;\n    const { state } = query;\n    let newState = { ...state };\n    let isPlaceholderData = false;\n    let data;\n    if (options._optimisticResults) {\n      const mounted = this.hasListeners();\n      const fetchOnMount = !mounted && shouldFetchOnMount(query, options);\n      const fetchOptionally = mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions);\n      if (fetchOnMount || fetchOptionally) {\n        newState = {\n          ...newState,\n          ...fetchState(state.data, query.options)\n        };\n      }\n      if (options._optimisticResults === \"isRestoring\") {\n        newState.fetchStatus = \"idle\";\n      }\n    }\n    let { error, errorUpdatedAt, status } = newState;\n    if (options.select && newState.data !== void 0) {\n      if (prevResult && newState.data === prevResultState?.data && options.select === this.#selectFn) {\n        data = this.#selectResult;\n      } else {\n        try {\n          this.#selectFn = options.select;\n          data = options.select(newState.data);\n          data = replaceData(prevResult?.data, data, options);\n          this.#selectResult = data;\n          this.#selectError = null;\n        } catch (selectError) {\n          this.#selectError = selectError;\n        }\n      }\n    } else {\n      data = newState.data;\n    }\n    if (options.placeholderData !== void 0 && data === void 0 && status === \"pending\") {\n      let placeholderData;\n      if (prevResult?.isPlaceholderData && options.placeholderData === prevResultOptions?.placeholderData) {\n        placeholderData = prevResult.data;\n      } else {\n        placeholderData = typeof options.placeholderData === \"function\" ? options.placeholderData(\n          this.#lastQueryWithDefinedData?.state.data,\n          this.#lastQueryWithDefinedData\n        ) : options.placeholderData;\n        if (options.select && placeholderData !== void 0) {\n          try {\n            placeholderData = options.select(placeholderData);\n            this.#selectError = null;\n          } catch (selectError) {\n            this.#selectError = selectError;\n          }\n        }\n      }\n      if (placeholderData !== void 0) {\n        status = \"success\";\n        data = replaceData(\n          prevResult?.data,\n          placeholderData,\n          options\n        );\n        isPlaceholderData = true;\n      }\n    }\n    if (this.#selectError) {\n      error = this.#selectError;\n      data = this.#selectResult;\n      errorUpdatedAt = Date.now();\n      status = \"error\";\n    }\n    const isFetching = newState.fetchStatus === \"fetching\";\n    const isPending = status === \"pending\";\n    const isError = status === \"error\";\n    const isLoading = isPending && isFetching;\n    const hasData = data !== void 0;\n    const result = {\n      status,\n      fetchStatus: newState.fetchStatus,\n      isPending,\n      isSuccess: status === \"success\",\n      isError,\n      isInitialLoading: isLoading,\n      isLoading,\n      data,\n      dataUpdatedAt: newState.dataUpdatedAt,\n      error,\n      errorUpdatedAt,\n      failureCount: newState.fetchFailureCount,\n      failureReason: newState.fetchFailureReason,\n      errorUpdateCount: newState.errorUpdateCount,\n      isFetched: newState.dataUpdateCount > 0 || newState.errorUpdateCount > 0,\n      isFetchedAfterMount: newState.dataUpdateCount > queryInitialState.dataUpdateCount || newState.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching,\n      isRefetching: isFetching && !isPending,\n      isLoadingError: isError && !hasData,\n      isPaused: newState.fetchStatus === \"paused\",\n      isPlaceholderData,\n      isRefetchError: isError && hasData,\n      isStale: isStale(query, options),\n      refetch: this.refetch\n    };\n    return result;\n  }\n  updateResult(notifyOptions) {\n    const prevResult = this.#currentResult;\n    const nextResult = this.createResult(this.#currentQuery, this.options);\n    this.#currentResultState = this.#currentQuery.state;\n    this.#currentResultOptions = this.options;\n    if (this.#currentResultState.data !== void 0) {\n      this.#lastQueryWithDefinedData = this.#currentQuery;\n    }\n    if (shallowEqualObjects(nextResult, prevResult)) {\n      return;\n    }\n    this.#currentResult = nextResult;\n    const defaultNotifyOptions = {};\n    const shouldNotifyListeners = () => {\n      if (!prevResult) {\n        return true;\n      }\n      const { notifyOnChangeProps } = this.options;\n      const notifyOnChangePropsValue = typeof notifyOnChangeProps === \"function\" ? notifyOnChangeProps() : notifyOnChangeProps;\n      if (notifyOnChangePropsValue === \"all\" || !notifyOnChangePropsValue && !this.#trackedProps.size) {\n        return true;\n      }\n      const includedProps = new Set(\n        notifyOnChangePropsValue ?? this.#trackedProps\n      );\n      if (this.options.throwOnError) {\n        includedProps.add(\"error\");\n      }\n      return Object.keys(this.#currentResult).some((key) => {\n        const typedKey = key;\n        const changed = this.#currentResult[typedKey] !== prevResult[typedKey];\n        return changed && includedProps.has(typedKey);\n      });\n    };\n    if (notifyOptions?.listeners !== false && shouldNotifyListeners()) {\n      defaultNotifyOptions.listeners = true;\n    }\n    this.#notify({ ...defaultNotifyOptions, ...notifyOptions });\n  }\n  #updateQuery() {\n    const query = this.#client.getQueryCache().build(this.#client, this.options);\n    if (query === this.#currentQuery) {\n      return;\n    }\n    const prevQuery = this.#currentQuery;\n    this.#currentQuery = query;\n    this.#currentQueryInitialState = query.state;\n    if (this.hasListeners()) {\n      prevQuery?.removeObserver(this);\n      query.addObserver(this);\n    }\n  }\n  onQueryUpdate() {\n    this.updateResult();\n    if (this.hasListeners()) {\n      this.#updateTimers();\n    }\n  }\n  #notify(notifyOptions) {\n    notifyManager.batch(() => {\n      if (notifyOptions.listeners) {\n        this.listeners.forEach((listener) => {\n          listener(this.#currentResult);\n        });\n      }\n      this.#client.getQueryCache().notify({\n        query: this.#currentQuery,\n        type: \"observerResultsUpdated\"\n      });\n    });\n  }\n};\nfunction shouldLoadOnMount(query, options) {\n  return options.enabled !== false && query.state.data === void 0 && !(query.state.status === \"error\" && options.retryOnMount === false);\n}\nfunction shouldFetchOnMount(query, options) {\n  return shouldLoadOnMount(query, options) || query.state.data !== void 0 && shouldFetchOn(query, options, options.refetchOnMount);\n}\nfunction shouldFetchOn(query, options, field) {\n  if (options.enabled !== false) {\n    const value = typeof field === \"function\" ? field(query) : field;\n    return value === \"always\" || value !== false && isStale(query, options);\n  }\n  return false;\n}\nfunction shouldFetchOptionally(query, prevQuery, options, prevOptions) {\n  return (query !== prevQuery || prevOptions.enabled === false) && (!options.suspense || query.state.status !== \"error\") && isStale(query, options);\n}\nfunction isStale(query, options) {\n  return options.enabled !== false && query.isStaleByTime(options.staleTime);\n}\nfunction shouldAssignObserverCurrentProperties(observer, optimisticResult) {\n  if (!shallowEqualObjects(observer.getCurrentResult(), optimisticResult)) {\n    return true;\n  }\n  return false;\n}\nexport {\n  QueryObserver\n};\n//# sourceMappingURL=queryObserver.js.map","\"use client\";\n\n// src/QueryErrorResetBoundary.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createValue() {\n  let isReset = false;\n  return {\n    clearReset: () => {\n      isReset = false;\n    },\n    reset: () => {\n      isReset = true;\n    },\n    isReset: () => {\n      return isReset;\n    }\n  };\n}\nvar QueryErrorResetBoundaryContext = React.createContext(createValue());\nvar useQueryErrorResetBoundary = () => React.useContext(QueryErrorResetBoundaryContext);\nvar QueryErrorResetBoundary = ({\n  children\n}) => {\n  const [value] = React.useState(() => createValue());\n  return /* @__PURE__ */ jsx(QueryErrorResetBoundaryContext.Provider, { value, children: typeof children === \"function\" ? children(value) : children });\n};\nexport {\n  QueryErrorResetBoundary,\n  useQueryErrorResetBoundary\n};\n//# sourceMappingURL=QueryErrorResetBoundary.js.map","\"use client\";\n\n// src/isRestoring.ts\nimport * as React from \"react\";\nvar IsRestoringContext = React.createContext(false);\nvar useIsRestoring = () => React.useContext(IsRestoringContext);\nvar IsRestoringProvider = IsRestoringContext.Provider;\nexport {\n  IsRestoringProvider,\n  useIsRestoring\n};\n//# sourceMappingURL=isRestoring.js.map","// src/utils.ts\nfunction shouldThrowError(throwError, params) {\n  if (typeof throwError === \"function\") {\n    return throwError(...params);\n  }\n  return !!throwError;\n}\nfunction noop() {\n}\nexport {\n  noop,\n  shouldThrowError\n};\n//# sourceMappingURL=utils.js.map","\"use client\";\n\n// src/errorBoundaryUtils.ts\nimport * as React from \"react\";\nimport { shouldThrowError } from \"./utils.js\";\nvar ensurePreventErrorBoundaryRetry = (options, errorResetBoundary) => {\n  if (options.suspense || options.throwOnError) {\n    if (!errorResetBoundary.isReset()) {\n      options.retryOnMount = false;\n    }\n  }\n};\nvar useClearResetErrorBoundary = (errorResetBoundary) => {\n  React.useEffect(() => {\n    errorResetBoundary.clearReset();\n  }, [errorResetBoundary]);\n};\nvar getHasError = ({\n  result,\n  errorResetBoundary,\n  throwOnError,\n  query\n}) => {\n  return result.isError && !errorResetBoundary.isReset() && !result.isFetching && query && shouldThrowError(throwOnError, [result.error, query]);\n};\nexport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary\n};\n//# sourceMappingURL=errorBoundaryUtils.js.map","// src/suspense.ts\nvar defaultThrowOnError = (_error, query) => query.state.data === void 0;\nvar ensureStaleTime = (defaultedOptions) => {\n  if (defaultedOptions.suspense) {\n    if (typeof defaultedOptions.staleTime !== \"number\") {\n      defaultedOptions.staleTime = 1e3;\n    }\n  }\n};\nvar willFetch = (result, isRestoring) => result.isLoading && result.isFetching && !isRestoring;\nvar shouldSuspend = (defaultedOptions, result) => defaultedOptions?.suspense && result.isPending;\nvar fetchOptimistic = (defaultedOptions, observer, errorResetBoundary) => observer.fetchOptimistic(defaultedOptions).catch(() => {\n  errorResetBoundary.clearReset();\n});\nexport {\n  defaultThrowOnError,\n  ensureStaleTime,\n  fetchOptimistic,\n  shouldSuspend,\n  willFetch\n};\n//# sourceMappingURL=suspense.js.map","\"use client\";\n\n// src/useQuery.ts\nimport { QueryObserver } from \"@tanstack/query-core\";\nimport { useBaseQuery } from \"./useBaseQuery.js\";\nfunction useQuery(options, queryClient) {\n  return useBaseQuery(options, QueryObserver, queryClient);\n}\nexport {\n  useQuery\n};\n//# sourceMappingURL=useQuery.js.map","\"use client\";\n\n// src/useBaseQuery.ts\nimport * as React from \"react\";\nimport { notifyManager } from \"@tanstack/query-core\";\nimport { useQueryErrorResetBoundary } from \"./QueryErrorResetBoundary.js\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nimport { useIsRestoring } from \"./isRestoring.js\";\nimport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary\n} from \"./errorBoundaryUtils.js\";\nimport { ensureStaleTime, fetchOptimistic, shouldSuspend } from \"./suspense.js\";\nfunction useBaseQuery(options, Observer, queryClient) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof options !== \"object\" || Array.isArray(options)) {\n      throw new Error(\n        'Bad argument type. Starting with v5, only the \"Object\" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object'\n      );\n    }\n  }\n  const client = useQueryClient(queryClient);\n  const isRestoring = useIsRestoring();\n  const errorResetBoundary = useQueryErrorResetBoundary();\n  const defaultedOptions = client.defaultQueryOptions(options);\n  defaultedOptions._optimisticResults = isRestoring ? \"isRestoring\" : \"optimistic\";\n  ensureStaleTime(defaultedOptions);\n  ensurePreventErrorBoundaryRetry(defaultedOptions, errorResetBoundary);\n  useClearResetErrorBoundary(errorResetBoundary);\n  const [observer] = React.useState(\n    () => new Observer(\n      client,\n      defaultedOptions\n    )\n  );\n  const result = observer.getOptimisticResult(defaultedOptions);\n  React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => {\n        const unsubscribe = isRestoring ? () => void 0 : observer.subscribe(notifyManager.batchCalls(onStoreChange));\n        observer.updateResult();\n        return unsubscribe;\n      },\n      [observer, isRestoring]\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult()\n  );\n  React.useEffect(() => {\n    observer.setOptions(defaultedOptions, { listeners: false });\n  }, [defaultedOptions, observer]);\n  if (shouldSuspend(defaultedOptions, result)) {\n    throw fetchOptimistic(defaultedOptions, observer, errorResetBoundary);\n  }\n  if (getHasError({\n    result,\n    errorResetBoundary,\n    throwOnError: defaultedOptions.throwOnError,\n    query: client.getQueryCache().get(defaultedOptions.queryHash)\n  })) {\n    throw result.error;\n  }\n  return !defaultedOptions.notifyOnChangeProps ? observer.trackResult(result) : result;\n}\nexport {\n  useBaseQuery\n};\n//# sourceMappingURL=useBaseQuery.js.map","// src/queriesObserver.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { QueryObserver } from \"./queryObserver.js\";\nimport { Subscribable } from \"./subscribable.js\";\nimport { replaceEqualDeep } from \"./utils.js\";\nfunction difference(array1, array2) {\n  return array1.filter((x) => !array2.includes(x));\n}\nfunction replaceAt(array, index, value) {\n  const copy = array.slice(0);\n  copy[index] = value;\n  return copy;\n}\nvar QueriesObserver = class extends Subscribable {\n  #client;\n  #result;\n  #queries;\n  #observers;\n  #options;\n  #combinedResult;\n  constructor(client, queries, options) {\n    super();\n    this.#client = client;\n    this.#queries = [];\n    this.#observers = [];\n    this.#setResult([]);\n    this.setQueries(queries, options);\n  }\n  #setResult(value) {\n    this.#result = value;\n    this.#combinedResult = this.#combineResult(value, this.#options?.combine);\n  }\n  onSubscribe() {\n    if (this.listeners.size === 1) {\n      this.#observers.forEach((observer) => {\n        observer.subscribe((result) => {\n          this.#onUpdate(observer, result);\n        });\n      });\n    }\n  }\n  onUnsubscribe() {\n    if (!this.listeners.size) {\n      this.destroy();\n    }\n  }\n  destroy() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.#observers.forEach((observer) => {\n      observer.destroy();\n    });\n  }\n  setQueries(queries, options, notifyOptions) {\n    this.#queries = queries;\n    this.#options = options;\n    notifyManager.batch(() => {\n      const prevObservers = this.#observers;\n      const newObserverMatches = this.#findMatchingObservers(this.#queries);\n      newObserverMatches.forEach(\n        (match) => match.observer.setOptions(match.defaultedQueryOptions, notifyOptions)\n      );\n      const newObservers = newObserverMatches.map((match) => match.observer);\n      const newResult = newObservers.map(\n        (observer) => observer.getCurrentResult()\n      );\n      const hasIndexChange = newObservers.some(\n        (observer, index) => observer !== prevObservers[index]\n      );\n      if (prevObservers.length === newObservers.length && !hasIndexChange) {\n        return;\n      }\n      this.#observers = newObservers;\n      this.#setResult(newResult);\n      if (!this.hasListeners()) {\n        return;\n      }\n      difference(prevObservers, newObservers).forEach((observer) => {\n        observer.destroy();\n      });\n      difference(newObservers, prevObservers).forEach((observer) => {\n        observer.subscribe((result) => {\n          this.#onUpdate(observer, result);\n        });\n      });\n      this.#notify();\n    });\n  }\n  getCurrentResult() {\n    return this.#combinedResult;\n  }\n  getQueries() {\n    return this.#observers.map((observer) => observer.getCurrentQuery());\n  }\n  getObservers() {\n    return this.#observers;\n  }\n  getOptimisticResult(queries, combine) {\n    const matches = this.#findMatchingObservers(queries);\n    const result = matches.map(\n      (match) => match.observer.getOptimisticResult(match.defaultedQueryOptions)\n    );\n    return [\n      result,\n      (r) => {\n        return this.#combineResult(r ?? result, combine);\n      },\n      () => {\n        return matches.map((match, index) => {\n          const observerResult = result[index];\n          return !match.defaultedQueryOptions.notifyOnChangeProps ? match.observer.trackResult(observerResult, (accessedProp) => {\n            matches.forEach((m) => {\n              m.observer.trackProp(accessedProp);\n            });\n          }) : observerResult;\n        });\n      }\n    ];\n  }\n  #combineResult(input, combine) {\n    if (combine) {\n      return replaceEqualDeep(this.#combinedResult, combine(input));\n    }\n    return input;\n  }\n  #findMatchingObservers(queries) {\n    const prevObservers = this.#observers;\n    const prevObserversMap = new Map(\n      prevObservers.map((observer) => [observer.options.queryHash, observer])\n    );\n    const defaultedQueryOptions = queries.map(\n      (options) => this.#client.defaultQueryOptions(options)\n    );\n    const matchingObservers = defaultedQueryOptions.flatMap((defaultedOptions) => {\n      const match = prevObserversMap.get(defaultedOptions.queryHash);\n      if (match != null) {\n        return [{ defaultedQueryOptions: defaultedOptions, observer: match }];\n      }\n      return [];\n    });\n    const matchedQueryHashes = new Set(\n      matchingObservers.map((match) => match.defaultedQueryOptions.queryHash)\n    );\n    const unmatchedQueries = defaultedQueryOptions.filter(\n      (defaultedOptions) => !matchedQueryHashes.has(defaultedOptions.queryHash)\n    );\n    const getObserver = (options) => {\n      const defaultedOptions = this.#client.defaultQueryOptions(options);\n      const currentObserver = this.#observers.find(\n        (o) => o.options.queryHash === defaultedOptions.queryHash\n      );\n      return currentObserver ?? new QueryObserver(this.#client, defaultedOptions);\n    };\n    const newOrReusedObservers = unmatchedQueries.map((options) => {\n      return {\n        defaultedQueryOptions: options,\n        observer: getObserver(options)\n      };\n    });\n    const sortMatchesByOrderOfQueries = (a, b) => defaultedQueryOptions.indexOf(a.defaultedQueryOptions) - defaultedQueryOptions.indexOf(b.defaultedQueryOptions);\n    return matchingObservers.concat(newOrReusedObservers).sort(sortMatchesByOrderOfQueries);\n  }\n  #onUpdate(observer, result) {\n    const index = this.#observers.indexOf(observer);\n    if (index !== -1) {\n      this.#setResult(replaceAt(this.#result, index, result));\n      this.#notify();\n    }\n  }\n  #notify() {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(this.#result);\n      });\n    });\n  }\n};\nexport {\n  QueriesObserver\n};\n//# sourceMappingURL=queriesObserver.js.map","// src/mutationObserver.ts\nimport { getDefaultState } from \"./mutation.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nimport { hashKey, shallowEqualObjects } from \"./utils.js\";\nvar MutationObserver = class extends Subscribable {\n  #client;\n  #currentResult = void 0;\n  #currentMutation;\n  #mutateOptions;\n  constructor(client, options) {\n    super();\n    this.#client = client;\n    this.setOptions(options);\n    this.bindMethods();\n    this.#updateResult();\n  }\n  bindMethods() {\n    this.mutate = this.mutate.bind(this);\n    this.reset = this.reset.bind(this);\n  }\n  setOptions(options) {\n    const prevOptions = this.options;\n    this.options = this.#client.defaultMutationOptions(options);\n    if (!shallowEqualObjects(this.options, prevOptions)) {\n      this.#client.getMutationCache().notify({\n        type: \"observerOptionsUpdated\",\n        mutation: this.#currentMutation,\n        observer: this\n      });\n    }\n    if (prevOptions?.mutationKey && this.options.mutationKey && hashKey(prevOptions.mutationKey) !== hashKey(this.options.mutationKey)) {\n      this.reset();\n    } else if (this.#currentMutation?.state.status === \"pending\") {\n      this.#currentMutation.setOptions(this.options);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#currentMutation?.removeObserver(this);\n    }\n  }\n  onMutationUpdate(action) {\n    this.#updateResult();\n    this.#notify(action);\n  }\n  getCurrentResult() {\n    return this.#currentResult;\n  }\n  reset() {\n    this.#currentMutation?.removeObserver(this);\n    this.#currentMutation = void 0;\n    this.#updateResult();\n    this.#notify();\n  }\n  mutate(variables, options) {\n    this.#mutateOptions = options;\n    this.#currentMutation?.removeObserver(this);\n    this.#currentMutation = this.#client.getMutationCache().build(this.#client, this.options);\n    this.#currentMutation.addObserver(this);\n    return this.#currentMutation.execute(variables);\n  }\n  #updateResult() {\n    const state = this.#currentMutation?.state ?? getDefaultState();\n    this.#currentResult = {\n      ...state,\n      isPending: state.status === \"pending\",\n      isSuccess: state.status === \"success\",\n      isError: state.status === \"error\",\n      isIdle: state.status === \"idle\",\n      mutate: this.mutate,\n      reset: this.reset\n    };\n  }\n  #notify(action) {\n    notifyManager.batch(() => {\n      if (this.#mutateOptions && this.hasListeners()) {\n        const variables = this.#currentResult.variables;\n        const context = this.#currentResult.context;\n        if (action?.type === \"success\") {\n          this.#mutateOptions.onSuccess?.(action.data, variables, context);\n          this.#mutateOptions.onSettled?.(action.data, null, variables, context);\n        } else if (action?.type === \"error\") {\n          this.#mutateOptions.onError?.(action.error, variables, context);\n          this.#mutateOptions.onSettled?.(\n            void 0,\n            action.error,\n            variables,\n            context\n          );\n        }\n      }\n      this.listeners.forEach((listener) => {\n        listener(this.#currentResult);\n      });\n    });\n  }\n};\nexport {\n  MutationObserver\n};\n//# sourceMappingURL=mutationObserver.js.map","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","import Stack from './_Stack.js';\nimport baseIsEqual from './_baseIsEqual.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nexport default baseIsMatch;\n","import isObject from './isObject.js';\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nexport default isStrictComparable;\n","import isStrictComparable from './_isStrictComparable.js';\nimport keys from './keys.js';\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nexport default getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nexport default matchesStrictComparable;\n","import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nexport default baseMatches;\n","import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n","import MapCache from './_MapCache.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nexport default memoize;\n","import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nexport default memoizeCapped;\n","import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nexport default castPath;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n","import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n","import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nexport default get;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n","import baseIsEqual from './_baseIsEqual.js';\nimport get from './get.js';\nimport hasIn from './hasIn.js';\nimport isKey from './_isKey.js';\nimport isStrictComparable from './_isStrictComparable.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\nimport toKey from './_toKey.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nexport default baseMatchesProperty;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default baseProperty;\n","import baseGet from './_baseGet.js';\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nexport default basePropertyDeep;\n","import baseProperty from './_baseProperty.js';\nimport basePropertyDeep from './_basePropertyDeep.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nexport default property;\n","import baseMatches from './_baseMatches.js';\nimport baseMatchesProperty from './_baseMatchesProperty.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\nimport property from './property.js';\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nexport default baseIteratee;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nexport default baseSlice;\n","import baseSlice from './_baseSlice.js';\n\n/**\n * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n * without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {Function} predicate The function invoked per iteration.\n * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseWhile(array, predicate, isDrop, fromRight) {\n  var length = array.length,\n      index = fromRight ? length : -1;\n\n  while ((fromRight ? index-- : ++index < length) &&\n    predicate(array[index], index, array)) {}\n\n  return isDrop\n    ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n    : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n}\n\nexport default baseWhile;\n","import baseIteratee from './_baseIteratee.js';\nimport baseWhile from './_baseWhile.js';\n\n/**\n * Creates a slice of `array` excluding elements dropped from the end.\n * Elements are dropped until `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index, array).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': true },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': false }\n * ];\n *\n * _.dropRightWhile(users, function(o) { return !o.active; });\n * // => objects for ['barney']\n *\n * // The `_.matches` iteratee shorthand.\n * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n * // => objects for ['barney', 'fred']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.dropRightWhile(users, ['active', false]);\n * // => objects for ['barney']\n *\n * // The `_.property` iteratee shorthand.\n * _.dropRightWhile(users, 'active');\n * // => objects for ['barney', 'fred', 'pebbles']\n */\nfunction dropRightWhile(array, predicate) {\n  return (array && array.length)\n    ? baseWhile(array, baseIteratee(predicate, 3), true, true)\n    : [];\n}\n\nexport default dropRightWhile;\n","/**\n * Checks if `value` is `null`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n * @example\n *\n * _.isNull(null);\n * // => true\n *\n * _.isNull(void 0);\n * // => false\n */\nfunction isNull(value) {\n  return value === null;\n}\n\nexport default isNull;\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n    throw new Error(value);\n}\n\nexport { invariant as default };\n","import {\n  queryOptions,\n  useMutation,\n  useQueries,\n  useQuery,\n} from '@tanstack/react-query'\nimport { dropRightWhile, isNull } from 'lodash'\nimport { useCallback, useMemo } from 'react'\nimport invariant from 'tiny-invariant'\nimport { apiClient, queryClient } from '../api'\nimport { MachineSnapshot } from '../lib/snapshot'\nimport {\n  gridDimensions,\n  gridViewBounds,\n  iterTiles,\n  tileKey,\n} from '../lib/tiles'\nimport { Bounds, Puzzle, PuzzleOrder, WidgetCollection } from '../types'\nimport { WidgetData } from './widgets'\n\nexport interface TileData {\n  blueprintId: string\n  title: string\n  puzzle: Puzzle\n  widgets: WidgetCollection\n  snapshot?: MachineSnapshot\n}\n\nexport type GetMachineFunction = (\n  xt: number,\n  yt: number,\n) => TileData | undefined\n\nexport interface MetaMachineInfo {\n  version: number\n  tileWidth: number\n  tileHeight: number\n  tilesX: number\n  tilesY: number\n  getMachine: GetMachineFunction\n  hasBlueprint: (xt: number, yt: number) => boolean\n  msPerBall: number\n}\n\nexport interface MetaMachineClient {\n  isLoading: boolean\n  allTilesLoaded: boolean\n  metaMachine: MetaMachineInfo | null\n}\n\nexport interface SavedBlueprintLocation {\n  blueprintId: string\n  xt: number\n  yt: number\n}\n\nexport type SavedMachine = SavedBlueprintLocation & TileData\n\nexport function blueprintQueryOptions(blueprintid: string | undefined) {\n  return queryOptions({\n    enabled: blueprintid != null,\n    queryKey: ['folio', blueprintid],\n    queryFn: async ({ signal }) => {\n      invariant(blueprintid, 'blueprintid must be non-null')\n      const { data } = await apiClient.GET('/folio/{blueprintid}', {\n        params: {\n          path: {\n            blueprintid,\n          },\n        },\n        signal,\n      })\n      return data\n    },\n    staleTime: Infinity,\n  })\n}\n\nexport function useMetaMachineClient({\n  viewBounds,\n  lastSubmission,\n  fetchOutset = 2000,\n}: {\n  viewBounds: Bounds\n  lastSubmission?: SavedMachine | undefined\n  fetchOutset?: number\n}): MetaMachineClient {\n  const { data: machineData, isLoading } = useQuery({\n    queryKey: ['machine'],\n    queryFn: async ({ signal }) => {\n      const { data } = await apiClient.GET('/machine/current', { signal })\n      return data\n    },\n  })\n\n  const tileWidth = machineData?.tile_size.x ?? 0\n  const tileHeight = machineData?.tile_size.y ?? 0\n  const msPerBall = machineData?.ms_per_ball ?? Infinity\n  const version = machineData?.version ?? 0\n\n  const trimmedGrid = machineData?.grid\n    ? dropRightWhile(machineData.grid, (row, idx) => {\n        if (idx === 0) {\n          return false\n        }\n        if (lastSubmission && idx <= lastSubmission.yt) {\n          return false\n        }\n        return row.every(isNull)\n      })\n    : []\n\n  const [tilesX, tilesY] = machineData ? gridDimensions(trimmedGrid) : [0, 0]\n\n  const tileBounds: Bounds = machineData\n    ? gridViewBounds(\n        viewBounds,\n        tilesX,\n        tilesY,\n        tileWidth,\n        tileHeight,\n        fetchOutset,\n      )\n    : [0, 0, 0, 0]\n\n  const tiles = [...iterTiles(...tileBounds)]\n  const { sparseTileData, allTilesLoaded } = useQueries({\n    queries: machineData\n      ? tiles.map(([xt, yt]) => blueprintQueryOptions(trimmedGrid[yt][xt]))\n      : [],\n    combine: (results) => {\n      const sparseTileData: Record<string, TileData> = {}\n      let allTilesLoaded = results.length > 0\n      for (let i = 0; i < results.length; i++) {\n        allTilesLoaded &&= !results[i].isLoading\n\n        const data = results[i].data\n        const [xt, yt] = tiles[i]\n        if (!data) {\n          continue\n        }\n\n        sparseTileData[tileKey(xt, yt)] = {\n          blueprintId: trimmedGrid[yt][xt],\n          title: data.blueprint.title,\n          puzzle: data.puzzle,\n          widgets: data.blueprint.widgets as Record<string, WidgetData>,\n          snapshot: data.snapshot as unknown as MachineSnapshot,\n        }\n      }\n      return { sparseTileData, allTilesLoaded }\n    },\n  })\n\n  const getMachine = useCallback(\n    (xt: number, yt: number) =>\n      xt === lastSubmission?.xt && yt === lastSubmission?.yt\n        ? lastSubmission\n        : sparseTileData[tileKey(xt, yt)],\n    [lastSubmission, sparseTileData],\n  )\n\n  const hasBlueprint = useCallback(\n    (xt: number, yt: number) => machineData?.grid[yt][xt] != null,\n    [machineData?.grid],\n  )\n\n  return useMemo(\n    () => ({\n      isLoading,\n      allTilesLoaded,\n      metaMachine: machineData\n        ? {\n            version,\n            tilesX,\n            tilesY,\n            tileWidth,\n            tileHeight,\n            getMachine,\n            hasBlueprint,\n            msPerBall,\n          }\n        : null,\n    }),\n    [\n      allTilesLoaded,\n      getMachine,\n      hasBlueprint,\n      isLoading,\n      machineData,\n      msPerBall,\n      tileHeight,\n      tileWidth,\n      tilesX,\n      tilesY,\n      version,\n    ],\n  )\n}\n\nexport function useGetPuzzles(): PuzzleOrder[] | undefined {\n  const { data, isStale } = useQuery({\n    queryKey: ['puzzle'],\n    queryFn: async ({ signal }) => {\n      const { data, response } = await apiClient.GET('/puzzle', {\n        signal,\n      })\n\n      const workOrder = response.headers.get('X-WorkOrder')\n      if (!workOrder) {\n        return\n      }\n\n      const puzzles = data\n        ? Object.entries(data).map(([puzzleId, puzzleData]) => ({\n            id: puzzleId,\n            workOrder: workOrder,\n            inputs: puzzleData.inputs,\n            outputs: puzzleData.outputs,\n          }))\n        : undefined\n\n      return puzzles\n    },\n    staleTime: Infinity,\n  })\n\n  return !isStale ? data : undefined\n}\n\nexport function useSubmitBlueprint() {\n  return useMutation({\n    mutationFn: async ({\n      puzzleId,\n      workOrder,\n      title,\n      widgets,\n    }: {\n      puzzleId: string\n      workOrder: string\n      title: string\n      widgets: WidgetCollection\n    }) => {\n      const { data } = await apiClient.POST('/blueprint/file', {\n        body: { puzzle: puzzleId, title, widgets },\n        headers: { 'X-WorkOrder': workOrder },\n      })\n\n      if (!data) {\n        return null\n      }\n\n      const [blueprintId, [xt, yt]] = data\n      return { blueprintId, xt, yt }\n    },\n    onSuccess: () => {\n      void queryClient.invalidateQueries({ queryKey: ['puzzle'] })\n    },\n  })\n}\n","\"use client\";\n\n// src/useQueries.ts\nimport * as React from \"react\";\nimport {\n  QueriesObserver,\n  QueryObserver,\n  notifyManager\n} from \"@tanstack/query-core\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nimport { useIsRestoring } from \"./isRestoring.js\";\nimport { useQueryErrorResetBoundary } from \"./QueryErrorResetBoundary.js\";\nimport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary\n} from \"./errorBoundaryUtils.js\";\nimport {\n  ensureStaleTime,\n  fetchOptimistic,\n  shouldSuspend,\n  willFetch\n} from \"./suspense.js\";\nfunction useQueries({\n  queries,\n  ...options\n}, queryClient) {\n  const client = useQueryClient(queryClient);\n  const isRestoring = useIsRestoring();\n  const errorResetBoundary = useQueryErrorResetBoundary();\n  const defaultedQueries = React.useMemo(\n    () => queries.map((opts) => {\n      const defaultedOptions = client.defaultQueryOptions(\n        opts\n      );\n      defaultedOptions._optimisticResults = isRestoring ? \"isRestoring\" : \"optimistic\";\n      return defaultedOptions;\n    }),\n    [queries, client, isRestoring]\n  );\n  defaultedQueries.forEach((query) => {\n    ensureStaleTime(query);\n    ensurePreventErrorBoundaryRetry(query, errorResetBoundary);\n  });\n  useClearResetErrorBoundary(errorResetBoundary);\n  const [observer] = React.useState(\n    () => new QueriesObserver(\n      client,\n      defaultedQueries,\n      options\n    )\n  );\n  const [optimisticResult, getCombinedResult, trackResult] = observer.getOptimisticResult(\n    defaultedQueries,\n    options.combine\n  );\n  React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => isRestoring ? () => void 0 : observer.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [observer, isRestoring]\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult()\n  );\n  React.useEffect(() => {\n    observer.setQueries(\n      defaultedQueries,\n      options,\n      {\n        listeners: false\n      }\n    );\n  }, [defaultedQueries, options, observer]);\n  const shouldAtLeastOneSuspend = optimisticResult.some(\n    (result, index) => shouldSuspend(defaultedQueries[index], result)\n  );\n  const suspensePromises = shouldAtLeastOneSuspend ? optimisticResult.flatMap((result, index) => {\n    const opts = defaultedQueries[index];\n    if (opts) {\n      const queryObserver = new QueryObserver(client, opts);\n      if (shouldSuspend(opts, result)) {\n        return fetchOptimistic(opts, queryObserver, errorResetBoundary);\n      } else if (willFetch(result, isRestoring)) {\n        void fetchOptimistic(opts, queryObserver, errorResetBoundary);\n      }\n    }\n    return [];\n  }) : [];\n  if (suspensePromises.length > 0) {\n    throw Promise.all(suspensePromises);\n  }\n  const firstSingleResultWhichShouldThrow = optimisticResult.find(\n    (result, index) => {\n      const query = defaultedQueries[index];\n      return query && getHasError({\n        result,\n        errorResetBoundary,\n        throwOnError: query.throwOnError,\n        query: client.getQueryCache().get(query.queryHash)\n      });\n    }\n  );\n  if (firstSingleResultWhichShouldThrow?.error) {\n    throw firstSingleResultWhichShouldThrow.error;\n  }\n  return getCombinedResult(trackResult());\n}\nexport {\n  useQueries\n};\n//# sourceMappingURL=useQueries.js.map","\"use client\";\n\n// src/useMutation.ts\nimport * as React from \"react\";\nimport { MutationObserver, notifyManager } from \"@tanstack/query-core\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nimport { noop, shouldThrowError } from \"./utils.js\";\nfunction useMutation(options, queryClient) {\n  const client = useQueryClient(queryClient);\n  const [observer] = React.useState(\n    () => new MutationObserver(\n      client,\n      options\n    )\n  );\n  React.useEffect(() => {\n    observer.setOptions(options);\n  }, [observer, options]);\n  const result = React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => observer.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [observer]\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult()\n  );\n  const mutate = React.useCallback(\n    (variables, mutateOptions) => {\n      observer.mutate(variables, mutateOptions).catch(noop);\n    },\n    [observer]\n  );\n  if (result.error && shouldThrowError(observer.options.throwOnError, [result.error])) {\n    throw result.error;\n  }\n  return { ...result, mutate, mutateAsync: result.mutate };\n}\nexport {\n  useMutation\n};\n//# sourceMappingURL=useMutation.js.map","import baseRandom from './_baseRandom.js';\n\n/**\n * A specialized version of `_.sample` for arrays.\n *\n * @private\n * @param {Array} array The array to sample.\n * @returns {*} Returns the random element.\n */\nfunction arraySample(array) {\n  var length = array.length;\n  return length ? array[baseRandom(0, length - 1)] : undefined;\n}\n\nexport default arraySample;\n","import arrayMap from './_arrayMap.js';\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nexport default baseValues;\n","import baseValues from './_baseValues.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nexport default values;\n","import arraySample from './_arraySample.js';\nimport values from './values.js';\n\n/**\n * The base implementation of `_.sample`.\n *\n * @private\n * @param {Array|Object} collection The collection to sample.\n * @returns {*} Returns the random element.\n */\nfunction baseSample(collection) {\n  return arraySample(values(collection));\n}\n\nexport default baseSample;\n","import arraySample from './_arraySample.js';\nimport baseSample from './_baseSample.js';\nimport isArray from './isArray.js';\n\n/**\n * Gets a random element from `collection`.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to sample.\n * @returns {*} Returns the random element.\n * @example\n *\n * _.sample([1, 2, 3, 4]);\n * // => 2\n */\nfunction sample(collection) {\n  var func = isArray(collection) ? arraySample : baseSample;\n  return func(collection);\n}\n\nexport default sample;\n","import ballBlueImg from '@art/ball-blue_4x.png'\nimport ballGreenImg from '@art/ball-green_4x.png'\nimport ballRedImg from '@art/ball-red_4x.png'\nimport ballYellowImg from '@art/ball-yellow_4x.png'\nimport type RAPIER from '@dimforge/rapier2d'\nimport type { World } from '@dimforge/rapier2d'\nimport { ClassNames, css } from '@emotion/react'\nimport useLatest from '@react-hook/latest'\nimport { sample } from 'lodash'\nimport { MutableRefObject, useRef } from 'react'\nimport { coords } from '../../lib/coords'\nimport { inBoundsOutset, px } from '../../lib/utils'\nimport { UserData } from '../../types'\nimport {\n  BallData,\n  BallDestroyReason,\n  BallFollowCallback,\n  MachineContextType,\n  useMachine,\n} from '../MachineContext'\nimport { useRapierEffect } from '../PhysicsContext'\nimport {\n  BALL_RADIUS,\n  BOTTOM_CHUTE_DROP,\n  BOTTOM_CHUTE_HEIGHT,\n} from '../constants'\n\ntype BallRecord = BallData & { el: HTMLDivElement }\n\ninterface BallActor {\n  step: () => void\n  destroy: (reason?: BallDestroyReason) => void\n  exit: () => void\n  renew: () => void\n  die: () => void\n  follow: (callback: BallFollowCallback) => void\n  unfollow: () => void\n}\n\nexport const BASE_BALL_LIFETIME_TICKS = 30 * 60 // 30 seconds at 60tps\n\nconst ballStyles = css({\n  position: 'absolute',\n  left: 0,\n  top: 0,\n  pointerEvents: 'none',\n  width: 2 * BALL_RADIUS,\n  height: 2 * BALL_RADIUS,\n  backgroundSize: 'contain',\n  zIndex: 5,\n  contain: 'strict',\n  '&.blue': {\n    backgroundImage: `url(${ballBlueImg.url['2x']})`,\n  },\n  '&.red': {\n    backgroundImage: `url(${ballRedImg.url['2x']})`,\n  },\n  '&.green': {\n    backgroundImage: `url(${ballGreenImg.url['2x']})`,\n  },\n  '&.yellow': {\n    backgroundImage: `url(${ballYellowImg.url['2x']})`,\n  },\n})\n\nexport const ballClassNames = ['blue', 'red', 'green', 'yellow']\n\nfunction runBall(\n  { id, type, age, snapshot, overrideDamping, el }: BallRecord,\n  ballClassName: string,\n  { RigidBodyDesc, RigidBodyType, ColliderDesc }: typeof RAPIER,\n  world: World,\n  machineRef: MutableRefObject<MachineContextType>,\n  getCurrentTick: () => number,\n  lifetimeTicks: number,\n): BallActor {\n  el.className = ballClassName\n\n  const bodyDesc = new RigidBodyDesc(RigidBodyType.Dynamic)\n    .setTranslation(snapshot.x, snapshot.y)\n    .setRotation(snapshot.angle)\n    .setLinvel(snapshot.vx, snapshot.vy)\n    .setAngvel(snapshot.va)\n    .setCcdEnabled(true)\n    .setUserData({ type: 'BallData', id, ballType: type } satisfies UserData)\n\n  const colliderDesc = ColliderDesc.ball(coords.toRapier.length(BALL_RADIUS))\n\n  if (type === 2) {\n    colliderDesc.setRestitution(0.8).setDensity(1)\n  }\n\n  if (type === 3) {\n    colliderDesc.setMass(0.75)\n  }\n\n  if (type === 4) {\n    bodyDesc.setLinearDamping(2)\n    colliderDesc.setDensity(0.3).setRestitution(0.6)\n  }\n\n  if (overrideDamping != null) {\n    bodyDesc.setLinearDamping(overrideDamping)\n  }\n\n  const body = world.createRigidBody(bodyDesc)\n  const collider = world.createCollider(colliderDesc, body)\n\n  let wasVisible = true\n  let isDying = false\n  let isExiting = false\n  let followCallback: BallFollowCallback | null = null\n  let renewTick = getCurrentTick() - age\n\n  machineRef.current.registerBall(id, type, body, renewTick)\n\n  const actor: BallActor = {\n    step() {\n      const { simulationBoundsRef, viewBoundsRef } = machineRef.current\n\n      const ballAge = getCurrentTick() - renewTick\n      if (ballAge >= lifetimeTicks && !followCallback) {\n        this.die()\n      }\n\n      const [x, y] = coords.fromBody.vector(body)\n\n      followCallback?.(x, y)\n\n      if (\n        !inBoundsOutset(\n          x,\n          y,\n          BOTTOM_CHUTE_DROP + BOTTOM_CHUTE_HEIGHT,\n          simulationBoundsRef.current,\n        )\n      ) {\n        machineRef.current?.destroyBall(id)\n        el.style.display = 'none'\n        return\n      }\n\n      const isVisible = inBoundsOutset(x, y, BALL_RADIUS, viewBoundsRef.current)\n\n      if (isVisible != wasVisible) {\n        el.style.display = isVisible ? 'block' : 'none'\n      }\n      if (!isVisible && isExiting) {\n        machineRef.current?.destroyBall(id)\n        return\n      }\n      if (isVisible) {\n        el.style.transform = `translate(${px(x - BALL_RADIUS)}, ${px(y - BALL_RADIUS)})`\n      }\n      wasVisible = isVisible\n    },\n\n    destroy() {\n      el.remove()\n      machineRef.current.unregisterBall(id)\n\n      // Immediately destroying the body seems to cause panics when iterating over colliders.\n      setTimeout(() => {\n        world.removeRigidBody(body)\n      }, 0)\n    },\n\n    exit() {\n      isExiting = true\n    },\n\n    renew() {\n      renewTick = getCurrentTick()\n      machineRef.current.registerBall(id, type, body, renewTick)\n    },\n\n    die() {\n      if (isDying) {\n        return\n      }\n      isDying = true\n\n      el.style.transition = 'opacity 200ms ease-in'\n      el.style.opacity = '0'\n\n      setTimeout(() => {\n        world.removeCollider(collider, false)\n      }, 0)\n\n      setTimeout(() => {\n        machineRef.current?.destroyBall(id, 'expiry')\n      }, 200)\n    },\n\n    follow(callback: BallFollowCallback) {\n      followCallback = callback\n    },\n\n    unfollow() {\n      followCallback = null\n    },\n  }\n\n  actor.step()\n\n  return actor\n}\n\nexport function BallsRunner({\n  lifetimeTicks,\n  ballClassName,\n}: {\n  lifetimeTicks: number\n  ballClassName: string\n}) {\n  const machine = useMachine()\n  const parentRef = useRef<HTMLDivElement>(null)\n\n  const { events } = machine\n  const machineRef = useLatest(machine)\n\n  useRapierEffect(\n    ({ events: worldEvents, rapier, world, getCurrentTick }) => {\n      const actors: Record<string, BallActor> = {}\n      let followingId: string | null = null\n\n      function handleCreateBall(ball: BallData) {\n        const el = document.createElement('div')\n        actors[ball.id] = runBall(\n          { ...ball, el },\n          `${ballClassName} ${ballClassNames[ball.type - 1]}`,\n          rapier,\n          world,\n          machineRef,\n          getCurrentTick,\n          lifetimeTicks,\n        )\n        parentRef.current?.appendChild(el)\n      }\n\n      function handleDestroyBall(id: string) {\n        actors[id]?.destroy()\n        delete actors[id]\n      }\n\n      function handleExitBall(id: string) {\n        actors[id]?.exit()\n      }\n\n      function handleRenewBall(id: string) {\n        actors[id]?.renew()\n      }\n\n      function handleKillBall(id: string) {\n        actors[id]?.die()\n      }\n\n      function handleFollowBall(callback: BallFollowCallback) {\n        handleUnfollowBall()\n        followingId = sample(Object.keys(actors))!\n        actors[followingId].follow(callback)\n      }\n\n      function handleUnfollowBall() {\n        if (followingId && actors[followingId]) {\n          actors[followingId].unfollow()\n        }\n      }\n\n      function handleStep() {\n        Object.values(actors).forEach((actor) => actor.step())\n      }\n\n      events.on('createBall', handleCreateBall)\n      events.on('destroyBall', handleDestroyBall)\n      events.on('exitBall', handleExitBall)\n      events.on('renewBall', handleRenewBall)\n      events.on('killBall', handleKillBall)\n      events.on('followBall', handleFollowBall)\n      events.on('unfollowBall', handleUnfollowBall)\n      worldEvents.on('step', handleStep)\n\n      return () => {\n        events.off('createBall', handleCreateBall)\n        events.off('destroyBall', handleDestroyBall)\n        events.off('exitBall', handleExitBall)\n        events.off('renewBall', handleRenewBall)\n        events.off('killBall', handleKillBall)\n        events.off('followBall', handleFollowBall)\n        events.off('unfollowBall', handleUnfollowBall)\n        worldEvents.off('step', handleStep)\n        Object.values(actors).forEach((actor) => actor.destroy())\n      }\n    },\n    [ballClassName, events, lifetimeTicks, machineRef],\n  )\n\n  return <div ref={parentRef} />\n}\n\nexport function Balls({\n  lifetimeTicks = BASE_BALL_LIFETIME_TICKS,\n}: {\n  lifetimeTicks?: number\n}) {\n  return (\n    <ClassNames>\n      {({ css }) => (\n        <BallsRunner\n          lifetimeTicks={lifetimeTicks}\n          ballClassName={css(ballStyles)}\n        />\n      )}\n    </ClassNames>\n  )\n}\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import baseFor from './_baseFor.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nexport default baseForOwn;\n","import baseAssignValue from './_baseAssignValue.js';\nimport baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nexport default mapValues;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nexport default isNumber;\n","import baseGetTag from './_baseGetTag.js';\nimport isArray from './isArray.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nexport default isString;\n","import type { RigidBody, Vector } from '@dimforge/rapier2d'\nimport { isNumber, isString } from 'lodash'\nimport { WidgetData } from './components/widgets'\n\nexport type { Vector }\n\nexport interface Sized {\n  width: number\n  height: number\n}\n\nexport interface Angled {\n  angle: number\n}\n\nexport interface OutputLoc {\n  pos: Vector\n}\n\nexport type BallType = number\nexport type BallTypeRate = { type: BallType; rate: number }\nexport type PuzzlePosition = { balls: BallTypeRate[] } & Vector\n\nexport interface Puzzle {\n  inputs: PuzzlePosition[]\n  outputs: PuzzlePosition[]\n}\n\nexport interface PuzzleOrder extends Puzzle {\n  id: string\n  workOrder: string\n}\n\nexport type WidgetCollection = Record<string, WidgetData>\n\nexport type Bounds = [x1: number, y1: number, x2: number, y2: number]\n\nexport type BallData = {\n  type: 'BallData'\n  id: string\n  ballType: BallType\n}\n\nexport type UserData = BallData & { type: unknown }\n\nexport type Ball = RigidBody & { userData: BallData }\n\nexport function isBall(body: RigidBody): body is Ball {\n  const userData = body.userData\n  if (userData == null) {\n    return false\n  }\n  const ballData = userData as BallData\n  return (\n    ballData.type === 'BallData' &&\n    isNumber(ballData.ballType) &&\n    isString(ballData.id)\n  )\n}\n","import { mapValues, noop } from 'lodash'\nimport {\n  DependencyList,\n  ReactNode,\n  createContext,\n  forwardRef,\n  useCallback,\n  useContext,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n} from 'react'\n\nimport type RAPIER from '@dimforge/rapier2d'\nimport type {\n  Collider,\n  ColliderDesc,\n  RigidBody,\n  RigidBodyDesc,\n} from '@dimforge/rapier2d'\nimport { coords } from '../lib/coords'\nimport {\n  MachineSnapshot,\n  applySnapshotToBody,\n  offsetSnapshot,\n  snapshotBody,\n} from '../lib/snapshot'\nimport { inBounds } from '../lib/utils'\nimport { Bounds, isBall } from '../types'\nimport { useMachine } from './MachineContext'\nimport { useLoopHandler, useRapierEffect } from './PhysicsContext'\n\ntype ActiveBodies = Record<string, RigidBody>\n\nexport type MachineTileContextType = {\n  bounds: Bounds\n  width: number\n  height: number\n  registerBody: (key: string, body: RigidBody) => void\n  unregisterBody: (key: string) => void\n  snapshot: () => MachineSnapshot\n  loadSnapshot: (snapshot: MachineSnapshot) => void\n}\n\nexport interface MachineTileContextProviderRef {\n  snapshot: MachineTileContextType['snapshot']\n  loadSnapshot: MachineTileContextType['loadSnapshot']\n}\n\nexport const MachineTileContext = createContext<MachineTileContextType>({\n  bounds: [0, 0, 0, 0],\n  width: 0,\n  height: 0,\n  registerBody: noop,\n  unregisterBody: noop,\n  snapshot: () => ({ widgets: {}, balls: [] }),\n  loadSnapshot: noop,\n})\n\nexport const MachineTileContextProvider = forwardRef(\n  function MachineTileContextProvider(\n    {\n      bounds,\n      initialSnapshot,\n      children,\n    }: {\n      bounds: Bounds\n      initialSnapshot?: MachineSnapshot\n      children: ReactNode\n    },\n    ref,\n  ) {\n    const { snapshotBalls, restoreBalls, destroyBall } = useMachine()\n\n    const [x1, y1, x2, y2] = bounds\n    const stableBounds = useMemo(() => [x1, y1, x2, y2], [x1, x2, y1, y2])\n\n    const width = x2 - x1\n    const height = y2 - y1\n\n    const activeBodies = useRef<ActiveBodies>({})\n\n    const registerBody = useCallback((key: string, body: RigidBody) => {\n      activeBodies.current[key] = body\n    }, [])\n\n    const unregisterBody = useCallback((key: string) => {\n      delete activeBodies.current[key]\n    }, [])\n\n    const snapshot = useCallback(() => {\n      const [x1, y1, x2, y2] = stableBounds\n      const rapierBounds: Bounds = [\n        // This is tricky: because rapier's y axis grows in the opposite direction of ours, we swap y1 and y2.\n        ...coords.toRapier.vector(x1, y2),\n        ...coords.toRapier.vector(x2, y1),\n      ]\n\n      return {\n        widgets: mapValues(activeBodies.current, (body, key) => ({\n          ...snapshotBody(body),\n          key,\n        })),\n        balls: snapshotBalls(rapierBounds),\n      }\n    }, [snapshotBalls, stableBounds])\n\n    const loadSnapshot = useCallback(\n      (snapshot: MachineSnapshot) => {\n        const [x1, y1] = stableBounds\n\n        // Tile snapshots are based on a zero origin. We must offset the translation coordinates to our tile position in rapier space.\n        const [rapierOffsetX, rapierOffsetY] = coords.toRapier.vector(x1, y1)\n\n        for (const [id, widgetSnapshot] of Object.entries(snapshot.widgets)) {\n          const body = activeBodies.current[id]\n          if (body) {\n            applySnapshotToBody(\n              offsetSnapshot(rapierOffsetX, rapierOffsetY, widgetSnapshot),\n              body,\n            )\n          }\n        }\n\n        restoreBalls(\n          snapshot.balls.map((snapshot) =>\n            offsetSnapshot(rapierOffsetX, rapierOffsetY, snapshot),\n          ),\n        )\n      },\n      [restoreBalls, stableBounds],\n    )\n\n    const contextValue = useMemo(\n      () => ({\n        bounds,\n        width,\n        height,\n        registerBody,\n        unregisterBody,\n        snapshot,\n        loadSnapshot,\n      }),\n      [\n        bounds,\n        width,\n        height,\n        registerBody,\n        unregisterBody,\n        snapshot,\n        loadSnapshot,\n      ],\n    )\n\n    useImperativeHandle(ref, () => ({\n      snapshot,\n      loadSnapshot,\n    }))\n\n    const hasRestoredSnapshot = useRef(false)\n    useRapierEffect(\n      ({ world, rapier: { Cuboid } }) => {\n        if (initialSnapshot && !hasRestoredSnapshot.current) {\n          loadSnapshot(initialSnapshot)\n          hasRestoredSnapshot.current = true\n        }\n\n        // Clean up balls when tiles removed\n        return () => {\n          world.intersectionsWithShape(\n            coords.toRapier.vectorObject(x1 + width / 2, y1 + height / 2),\n            0,\n            new Cuboid(...coords.toRapier.lengths(width / 2, height / 2)),\n            (collider) => {\n              const body = collider.parent()\n              if (!body || !isBall(body)) {\n                return true\n              }\n\n              destroyBall(body.userData.id)\n              return true\n            },\n          )\n        }\n      },\n      [loadSnapshot, initialSnapshot, x1, width, y1, height, destroyBall],\n    )\n\n    return (\n      <MachineTileContext.Provider value={contextValue}>\n        {children}\n      </MachineTileContext.Provider>\n    )\n  },\n)\n\nexport function useRigidBody(\n  create: (rapier: typeof RAPIER) => {\n    key: string | null\n    bodyDesc: RigidBodyDesc\n    colliderDescs?: ColliderDesc[]\n  },\n  deps: DependencyList,\n) {\n  const { registerBody, unregisterBody } = useContext(MachineTileContext)\n\n  const bodyRef = useRef<RigidBody | null>(null)\n\n  useRapierEffect(({ rapier, world }) => {\n    const { key, bodyDesc, colliderDescs } = create(rapier)\n    const body = world.createRigidBody(bodyDesc)\n    bodyRef.current = body\n\n    colliderDescs\n      ? colliderDescs.map((colliderDesc) =>\n          world.createCollider(colliderDesc, body),\n        )\n      : null\n\n    if (key != null) {\n      registerBody(key, body)\n    }\n\n    return () => {\n      if (key != null) {\n        unregisterBody(key)\n      }\n      setTimeout(() => {\n        world.removeRigidBody(body)\n      }, 0)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps)\n\n  return bodyRef\n}\n\nexport function useSensorInTile(\n  collider: Collider | undefined,\n  handler: (otherCollider: Collider) => void,\n  deps: DependencyList,\n) {\n  const { bounds } = useContext(MachineTileContext)\n\n  useLoopHandler(\n    ({ world }) => {\n      if (!collider) {\n        return\n      }\n\n      world.intersectionPairsWith(collider, (otherCollider) => {\n        const [x, y] = coords.fromBody.vector(otherCollider)\n        if (inBounds(x, y, bounds)) {\n          handler(otherCollider)\n        }\n      })\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [collider, ...deps],\n  )\n}\n\nexport function useMachineTile() {\n  return useContext(MachineTileContext)\n}\n","import type { RigidBody } from '@dimforge/rapier2d'\nimport {\n  MutableRefObject,\n  RefObject,\n  useCallback,\n  useEffect,\n  useRef,\n} from 'react'\nimport { coords } from '../lib/coords'\nimport { inBoundsObject, px } from '../lib/utils'\nimport { useMachine } from './MachineContext'\nimport { useLoopHandler } from './PhysicsContext'\n\nexport function getPositionStyles(x: number, y: number, angle: number = 0) {\n  return {\n    position: 'absolute' as const,\n    top: 0,\n    left: 0,\n    transform: `translate(${px(x)}, ${px(y)}) translate(-50%, -50%) rotate(${angle}rad)`,\n  }\n}\n\nexport function usePositionedBodyRef<T extends HTMLElement>(\n  bodyRef: RefObject<RigidBody>,\n  {\n    width,\n    height,\n    initialX,\n    initialY,\n    initialAngle,\n    xBasis = 0,\n    yBasis = 0,\n  }: {\n    width: number\n    height: number\n    initialX: number\n    initialY: number\n    initialAngle?: number\n    xBasis?: number\n    yBasis?: number\n  },\n): MutableRefObject<T | null> {\n  const elRef = useRef<T>(null)\n\n  const { viewBoundsRef } = useMachine()\n\n  const wasVisibleRef = useRef(true)\n\n  const updateStyle = useCallback(() => {\n    const { current: el } = elRef\n    const { current: body } = bodyRef\n\n    if (!el) {\n      return\n    }\n\n    const [bodyX, bodyY] = body ? coords.fromBody.vector(body) : []\n    const x = bodyX ?? initialX\n    const y = bodyY ?? initialY\n    if (x == null || y == null) {\n      el.style.display = 'none'\n      wasVisibleRef.current = false\n      return\n    }\n\n    const isVisible = inBoundsObject(x, y, width, height, viewBoundsRef.current)\n    if (isVisible != wasVisibleRef.current) {\n      el.style.display = isVisible ? 'block' : 'none'\n    }\n    if (isVisible) {\n      Object.assign(\n        el.style,\n        getPositionStyles(\n          x - xBasis,\n          y - yBasis,\n          body ? coords.fromBody.angle(body) : initialAngle,\n        ),\n      )\n    }\n    wasVisibleRef.current = isVisible\n  }, [\n    bodyRef,\n    initialX,\n    initialY,\n    initialAngle,\n    width,\n    height,\n    viewBoundsRef,\n    xBasis,\n    yBasis,\n  ])\n\n  useEffect(updateStyle)\n  useLoopHandler(updateStyle, [updateStyle])\n\n  return elRef\n}\n","import boatImage from '@art/boat_4x.png'\nimport { type Vector } from '@dimforge/rapier2d'\nimport { coords } from '../../lib/coords'\nimport { ComicImage } from '../ComicImage'\nimport { useRigidBody } from '../MachineTileContext'\nimport { EditableWidget } from '../MachineTileEditor'\nimport { useLoopHandler, useRapierEffect } from '../PhysicsContext'\nimport { getPositionStyles, usePositionedBodyRef } from '../positionStyles'\n\nexport default function Boat({ id, x, y }: Vector & EditableWidget) {\n  const radius = 30\n  const bodyRef = useRigidBody(\n    ({ RigidBodyDesc, ColliderDesc, RigidBodyType }) => {\n      return {\n        key: id,\n        bodyDesc: new RigidBodyDesc(RigidBodyType.Dynamic)\n          .setLinearDamping(6)\n          .setAngularDamping(2),\n        colliderDescs: [\n          // Weight\n          ColliderDesc.capsule(\n            coords.toRapier.length(boatImage.width / 3 - radius),\n            coords.toRapier.length(radius),\n          )\n            .setTranslation(...coords.toRapier.vector(30, 45))\n            .setRotation(Math.PI / 2)\n            .setMass(12),\n\n          // Sensor\n          ColliderDesc.cuboid(\n            ...coords.toRapier.lengths(\n              boatImage.width / 3,\n              boatImage.height / 2,\n            ),\n          )\n            .setTranslation(...coords.toRapier.vector(0, 10))\n            .setSensor(true),\n        ],\n      }\n    },\n    [id],\n  )\n\n  useRapierEffect(() => {\n    const { current: body } = bodyRef\n    if (!body) {\n      return\n    }\n\n    body.setTranslation(coords.toRapier.vectorObject(x, y), true)\n  }, [bodyRef, x, y])\n\n  useLoopHandler(\n    ({ world }) => {\n      const { current: body } = bodyRef\n      if (!body) {\n        return\n      }\n\n      const rotation = body.rotation()\n      const springConstant = -1\n      body.resetTorques(true)\n      body.applyTorqueImpulse(rotation * springConstant, true)\n\n      let countTouchingWater = 0\n      world.intersectionPairsWith(body.collider(1), () => {\n        countTouchingWater++\n      })\n\n      if (countTouchingWater) {\n        body.applyImpulse(\n          { x: 0, y: coords.toRapier.y(-6 * countTouchingWater) },\n          true,\n        )\n      }\n    },\n    [bodyRef],\n  )\n\n  return (\n    <ComicImage\n      ref={usePositionedBodyRef(bodyRef, {\n        width: boatImage.width,\n        height: boatImage.height,\n        initialX: x,\n        initialY: y,\n      })}\n      css={{ zIndex: 20 }}\n      style={getPositionStyles(x, y)}\n      img={boatImage}\n    ></ComicImage>\n  )\n}\n","import imgBottomChute from '@art/chute-0v_4x.png'\nimport imgBottomChute25L from '@art/chute-25l_4x.png'\nimport imgBottomChute25R from '@art/chute-25r_4x.png'\nimport imgBottomChute50L from '@art/chute-50l_4x.png'\nimport imgBottomChute50R from '@art/chute-50r_4x.png'\nimport imgBottomChute75L from '@art/chute-75l_4x.png'\nimport imgBottomChute75R from '@art/chute-75r_4x.png'\nimport { coords } from '../../lib/coords'\nimport { Angled, Ball, Vector, isBall } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { useMachine } from '../MachineContext'\nimport { useCollider, useCollisionHandler } from '../PhysicsContext'\nimport { getPositionStyles } from '../positionStyles'\n\nexport function BottomChute({\n  x,\n  y,\n  angle,\n  onReceiveBall,\n}: {\n  onReceiveBall: (ball: Ball) => void\n} & Angled &\n  Vector) {\n  const { destroyBall } = useMachine()\n\n  const width = imgBottomChute.width\n  const height = imgBottomChute.height\n  const bottomExitOffset = 24\n\n  const sensorCollider = useCollider(\n    ({ ColliderDesc, ActiveEvents }) =>\n      ColliderDesc.cuboid(...coords.toRapier.lengths(width / 2, height / 8))\n        .setTranslation(...coords.toRapier.vector(x, y + bottomExitOffset))\n        .setSensor(true)\n        .setActiveEvents(ActiveEvents.COLLISION_EVENTS),\n    [height, width, x, y],\n  )\n\n  useCollisionHandler(\n    'start',\n    sensorCollider,\n    (otherCollider) => {\n      const body = otherCollider.parent()\n      if (!body || !isBall(body)) {\n        return\n      }\n\n      onReceiveBall(body)\n\n      destroyBall(body.userData.id)\n    },\n    [],\n  )\n\n  const angleDeg = angle * (180 / Math.PI) - 90\n  let img = imgBottomChute\n  if (angleDeg < -40) {\n    img = imgBottomChute75R\n  } else if (angleDeg < -10) {\n    img = imgBottomChute50R\n  } else if (angleDeg < -2) {\n    img = imgBottomChute25R\n  } else if (angleDeg < 2) {\n    img = imgBottomChute\n  } else if (angleDeg < 10) {\n    img = imgBottomChute25L\n  } else if (angleDeg < 40) {\n    img = imgBottomChute50L\n  } else {\n    img = imgBottomChute75L\n  }\n\n  return (\n    <ComicImage\n      img={img}\n      css={{ zIndex: 20 }}\n      style={getPositionStyles(x, y)}\n    />\n  )\n}\n","import imgBottomPit from '@art/bottom_pit_4x.png'\nimport { coords } from '../../lib/coords'\nimport { Vector } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { useCollider } from '../PhysicsContext'\nimport {\n  BOTTOM_PIT_EDGE_WIDTH,\n  BOTTOM_PIT_HEIGHT,\n  BOTTOM_PIT_WIDTH,\n} from '../constants'\nimport { getPositionStyles } from '../positionStyles'\n\nexport function BottomPit({ x, y }: Vector) {\n  const width = BOTTOM_PIT_WIDTH\n  const height = BOTTOM_PIT_HEIGHT\n  const edgeWidth = BOTTOM_PIT_EDGE_WIDTH\n  const bottomHeight = 92\n\n  useCollider(\n    ({ ColliderDesc }) =>\n      ColliderDesc.cuboid(...coords.toRapier.lengths(edgeWidth / 2, height / 2))\n        .setTranslation(\n          ...coords.toRapier.vector(x - width / 2 + edgeWidth / 2, y),\n        )\n        .setRestitution(0.1),\n    [edgeWidth, height, width, x, y],\n  )\n\n  useCollider(\n    ({ ColliderDesc }) =>\n      ColliderDesc.cuboid(...coords.toRapier.lengths(edgeWidth / 2, height / 2))\n        .setTranslation(\n          ...coords.toRapier.vector(x + width / 2 - edgeWidth / 2, y),\n        )\n        .setRestitution(0.1),\n    [edgeWidth, height, width, x, y],\n  )\n\n  useCollider(\n    ({ ColliderDesc }) =>\n      ColliderDesc.cuboid(\n        ...coords.toRapier.lengths(width / 2, bottomHeight / 2),\n      )\n        .setTranslation(\n          ...coords.toRapier.vector(x, y + height / 2 - bottomHeight / 2),\n        )\n        .setRestitution(0.1),\n    [height, width, x, y],\n  )\n\n  useCollider(\n    ({ ColliderDesc }) =>\n      ColliderDesc.cuboid(\n        ...coords.toRapier.lengths(width / 2, bottomHeight / 2),\n      )\n        .setTranslation(\n          ...coords.toRapier.vector(x, y + height / 2 - bottomHeight / 2),\n        )\n        .setRestitution(0.1),\n    [height, width, x, y],\n  )\n\n  return <ComicImage img={imgBottomPit} style={getPositionStyles(x, y)} />\n}\n","import type { ColliderDesc } from '@dimforge/rapier2d'\nimport { coords } from '../../../lib/coords'\nimport { Basis, RandallPath } from '../../../lib/utils'\n\nexport function lineCuboid(\n  c: typeof ColliderDesc,\n  { x1, x2, y1, y2, thickness }: RandallPath,\n  { xBasis, yBasis }: Basis,\n): ColliderDesc {\n  const width = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2)\n  const height = thickness\n  const rotation = -Math.atan2(y2 - y1, x2 - x1)\n\n  return c\n    .cuboid(...coords.toRapier.lengths(width / 2, height / 2))\n    .setTranslation(\n      ...coords.toRapier.vector((x1 + x2) / 2 - xBasis, (y1 + y2) / 2 - yBasis),\n    )\n    .setRotation(rotation)\n}\n","import tankBlueOpenImg from '@art/tank-blue-open_4x.png'\nimport tankBlueImg from '@art/tank-blue_4x.png'\nimport tankGreenOpenImg from '@art/tank-green-open_4x.png'\nimport tankGreenImg from '@art/tank-green_4x.png'\nimport tankRedOpenImg from '@art/tank-red-open_4x.png'\nimport tankRedImg from '@art/tank-red_4x.png'\nimport tankYellowOpenImg from '@art/tank-yellow-open_4x.png'\nimport tankYellowImg from '@art/tank-yellow_4x.png'\nimport { useMemo, useState } from 'react'\nimport { coords } from '../../lib/coords'\nimport { BallType, Vector, isBall } from '../../types'\nimport { ComicImageAnimation } from '../ComicImage'\nimport { useMachine } from '../MachineContext'\nimport {\n  TICK_MS,\n  useCollider,\n  useCollisionHandler,\n  useLoopHandler,\n} from '../PhysicsContext'\nimport { BOTTOM_TANK_HEIGHT, BOTTOM_TANK_WIDTH } from '../constants'\nimport { getPositionStyles } from '../positionStyles'\nimport { lineCuboid } from './lib/lineCuboid'\n\nconst tankImages = [\n  [tankBlueImg, tankBlueOpenImg],\n  [tankRedImg, tankRedOpenImg],\n  [tankGreenImg, tankGreenOpenImg],\n  [tankYellowImg, tankYellowOpenImg],\n]\n\nconst intervalTicks = Math.floor((12 * 1000) / TICK_MS)\nconst openTime = Math.floor(800 / TICK_MS)\n\nexport function BottomTank({\n  x,\n  y,\n  type,\n}: {\n  type: BallType\n} & Vector) {\n  const { killBall } = useMachine()\n  const [isOpen, setOpen] = useState(false)\n\n  const basis = useMemo(() => ({ xBasis: -x, yBasis: -y }), [x, y])\n\n  // Left top funnel\n  useCollider(\n    ({ ColliderDesc }) =>\n      lineCuboid(\n        ColliderDesc,\n        { x1: -43, y1: -209, x2: -28, y2: -180, thickness: 2 },\n        basis,\n      ).setRestitution(0.05),\n    [basis],\n  )\n\n  // Right top funnel\n  useCollider(\n    ({ ColliderDesc }) =>\n      lineCuboid(\n        ColliderDesc,\n        { x1: 43, y1: -209, x2: 28, y2: -180, thickness: 2 },\n        basis,\n      ).setRestitution(0.05),\n    [basis],\n  )\n\n  // Left top\n  useCollider(\n    ({ ColliderDesc }) =>\n      lineCuboid(\n        ColliderDesc,\n        { x1: -85, y1: -164, x2: -32, y2: -190, thickness: 17 },\n        basis,\n      ),\n    [basis],\n  )\n\n  // Right top\n  useCollider(\n    ({ ColliderDesc }) =>\n      lineCuboid(\n        ColliderDesc,\n        { x1: 85, y1: -164, x2: 32, y2: -190, thickness: 17 },\n        basis,\n      ),\n    [basis],\n  )\n\n  // Left edge\n  useCollider(\n    ({ ColliderDesc }) =>\n      lineCuboid(\n        ColliderDesc,\n        { x1: -79, y1: -170, x2: -79, y2: 205, thickness: 20 },\n        basis,\n      ),\n    [basis],\n  )\n\n  // Right edge\n  useCollider(\n    ({ ColliderDesc }) =>\n      lineCuboid(\n        ColliderDesc,\n        { x1: 79, y1: -170, x2: 79, y2: 205, thickness: 20 },\n        basis,\n      ),\n    [basis],\n  )\n\n  // Left lip\n  useCollider(\n    ({ ColliderDesc }) =>\n      lineCuboid(\n        ColliderDesc,\n        { x1: -86, y1: 172, x2: -86, y2: 205, thickness: 20 },\n        basis,\n      ),\n    [basis],\n  )\n\n  // Right lip\n  useCollider(\n    ({ ColliderDesc }) =>\n      lineCuboid(\n        ColliderDesc,\n        { x1: 82, y1: 164, x2: 82, y2: 209, thickness: 26 },\n        basis,\n      ),\n    [basis],\n  )\n\n  // Bottom bar\n  useCollider(\n    ({ ColliderDesc }) =>\n      lineCuboid(\n        ColliderDesc,\n        { x1: -82, y1: 188, x2: isOpen ? -82 : 82, y2: 188, thickness: 7 },\n        basis,\n      ),\n    [basis, isOpen],\n  )\n\n  const sensorCollider = useCollider(\n    ({ ColliderDesc, ActiveEvents }) =>\n      ColliderDesc.cuboid(\n        ...coords.toRapier.lengths(\n          BOTTOM_TANK_WIDTH / 2 - 26,\n          BOTTOM_TANK_HEIGHT / 2 - 26,\n        ),\n      )\n        .setTranslation(...coords.toRapier.vector(x, y + 10))\n        .setSensor(true)\n        .setActiveEvents(ActiveEvents.COLLISION_EVENTS),\n    [x, y],\n  )\n\n  useCollisionHandler(\n    'start',\n    sensorCollider,\n    (otherCollider) => {\n      const body = otherCollider.parent()\n      if (!body || !isBall(body)) {\n        return\n      }\n\n      if (body.userData.ballType !== type) {\n        killBall(body.userData.id)\n      }\n    },\n    [],\n  )\n\n  useLoopHandler(({ getCurrentTick }) => {\n    const currentTick = getCurrentTick()\n    if (currentTick % intervalTicks === 0) {\n      setOpen(true)\n    }\n    if (currentTick % intervalTicks === openTime) {\n      setOpen(false)\n    }\n  }, [])\n\n  return (\n    <ComicImageAnimation\n      imgs={tankImages[type - 1]}\n      showIdx={isOpen ? 1 : 0}\n      style={getPositionStyles(x, y)}\n    />\n  )\n}\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nexport default baseSum;\n","import baseIteratee from './_baseIteratee.js';\nimport baseSum from './_baseSum.js';\n\n/**\n * This method is like `_.sum` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the value to be summed.\n * The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {number} Returns the sum.\n * @example\n *\n * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n *\n * _.sumBy(objects, function(o) { return o.n; });\n * // => 20\n *\n * // The `_.property` iteratee shorthand.\n * _.sumBy(objects, 'n');\n * // => 20\n */\nfunction sumBy(array, iteratee) {\n  return (array && array.length)\n    ? baseSum(array, baseIteratee(iteratee, 2))\n    : 0;\n}\n\nexport default sumBy;\n","import imgRoller1 from '@art/one-roller-1_4x.png'\nimport imgRoller2 from '@art/one-roller-2_4x.png'\nimport imgRoller3 from '@art/one-roller-3_4x.png'\nimport imgRoller4 from '@art/one-roller-4_4x.png'\nimport imgRoller5 from '@art/one-roller-5_4x.png'\nimport type { ColliderDesc } from '@dimforge/rapier2d'\nimport { sample } from 'lodash'\nimport { useMemo } from 'react'\nimport { coords } from '../../lib/coords'\nimport {\n  BallData,\n  BallTypeRate,\n  PuzzlePosition,\n  Vector,\n  isBall,\n} from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { useMachine } from '../MachineContext'\nimport { useRigidBody } from '../MachineTileContext'\nimport { useCollider, useCollisionHandler } from '../PhysicsContext'\nimport {\n  INPUT_SPINNER_SIZE,\n  INPUT_SPINNER_SPEED,\n  INPUT_TEETH_COUNT,\n  INPUT_WIDTH,\n} from '../constants'\nimport { getPositionStyles, usePositionedBodyRef } from '../positionStyles'\nimport { ballClassNames } from './Balls'\n\nconst imgRollerChoices = [\n  imgRoller1,\n  imgRoller2,\n  imgRoller3,\n  imgRoller4,\n  imgRoller5,\n]\n\nexport type InputOutputSide = 'left' | 'top' | 'right' | 'bottom'\n\nexport function positionToSide(\n  position: PuzzlePosition,\n): InputOutputSide | undefined {\n  if (position.y > 0 && position.y < 1) {\n    if (position.x === 0) {\n      return 'left'\n    } else if (position.x === 1) {\n      return 'right'\n    }\n  } else {\n    if (position.y === 0) {\n      return 'top'\n    } else if (position.y === 1) {\n      return 'bottom'\n    }\n  }\n}\n\nfunction Triangle({ className }: { className?: string }) {\n  // Thanks to https://blog.kalehmann.de/blog/2020/09/10/css-centered-equilateral-triangle.html\n  return (\n    <svg viewBox=\"0 0 120 120\" className={className}>\n      <polygon points=\"60 95, 10 10, 110 10\" />\n    </svg>\n  )\n}\n\nfunction TypeIndicators({\n  x,\n  y,\n  balls,\n  side,\n}: {\n  x: number\n  y: number\n  balls: BallTypeRate[]\n  side: InputOutputSide\n}) {\n  const size = 12\n  const offset = 36\n  return (\n    <div\n      css={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: 4,\n        '&.top': {\n          marginTop: offset,\n        },\n        '&.bottom': {\n          marginTop: -offset,\n        },\n        '&.left, &.right': {\n          flexDirection: 'column',\n        },\n        '&.left': {\n          marginLeft: offset,\n          svg: {\n            transform: 'rotate(90deg)',\n          },\n        },\n        '&.right': {\n          marginLeft: -offset,\n          svg: {\n            transform: 'rotate(-90deg)',\n          },\n        },\n      }}\n      style={getPositionStyles(x, y)}\n      className={side}\n    >\n      {balls.map(({ type }) => (\n        <Triangle\n          key={type}\n          css={{\n            height: size,\n            stroke: 'black',\n            strokeWidth: 10,\n            opacity: 0.5,\n            '&.blue': {\n              fill: 'blue',\n            },\n            '&.red': {\n              fill: 'red',\n            },\n            '&.green': {\n              fill: 'green',\n            },\n            '&.yellow': {\n              fill: 'yellow',\n            },\n          }}\n          className={ballClassNames[type - 1] ?? undefined}\n        />\n      ))}\n    </div>\n  )\n}\n\nfunction Roller({\n  x,\n  y,\n  rotationSpeed,\n  spokes,\n}: Vector & {\n  rotationSpeed: number\n  spokes?: number\n}) {\n  const innerCircleRadius = 14\n  const img = useMemo(() => sample(imgRollerChoices)!, [])\n\n  const bodyRef = useRigidBody(\n    ({\n      RigidBodyDesc,\n      ColliderDesc,\n      RigidBodyType,\n      CoefficientCombineRule,\n    }) => {\n      const toothColliders: ColliderDesc[] =\n        spokes != null\n          ? Array(spokes)\n              .fill(0)\n              .map((_, index) => {\n                return ColliderDesc.cuboid(\n                  ...coords.toRapier.lengths(INPUT_SPINNER_SIZE / 2, 0.5),\n                )\n                  .setRotation((index * Math.PI) / spokes)\n                  .setRestitution(0.01)\n                  .setFriction(1)\n              })\n          : []\n      return {\n        key: null,\n        bodyDesc: new RigidBodyDesc(RigidBodyType.KinematicVelocityBased)\n          .setTranslation(...coords.toRapier.vector(x, y))\n          .lockTranslations()\n          .setAngvel(rotationSpeed),\n        colliderDescs: [\n          ColliderDesc.ball(coords.toRapier.length(innerCircleRadius))\n            .setRestitution(0.01)\n            .setRestitutionCombineRule(CoefficientCombineRule.Min),\n          ...toothColliders,\n        ],\n      }\n    },\n    [spokes, x, y, rotationSpeed],\n  )\n\n  return (\n    <ComicImage\n      img={img}\n      ref={usePositionedBodyRef(bodyRef, {\n        width: INPUT_SPINNER_SIZE,\n        height: INPUT_SPINNER_SIZE,\n        initialX: x,\n        initialY: y,\n      })}\n      css={{ zIndex: 10 }}\n    />\n  )\n}\n\nexport default function InputOutput({\n  x,\n  y,\n  side,\n  balls,\n  isInput,\n  onReceiveBall,\n}: {\n  side: InputOutputSide\n  isInput: boolean\n  onReceiveBall?: (ballData: BallData) => void\n} & PuzzlePosition) {\n  const { renewBall } = useMachine()\n\n  const isVertical = side === 'left' || side === 'right'\n\n  const sensorCollider = useCollider(\n    ({ ColliderDesc, ActiveEvents }) =>\n      ColliderDesc.cuboid(...coords.toRapier.lengths(INPUT_WIDTH / 4, 6))\n        .setTranslation(...coords.toRapier.vector(x, y))\n        .setRotation(isVertical ? Math.PI / 2 : 0)\n        .setSensor(true)\n        .setActiveEvents(ActiveEvents.COLLISION_EVENTS),\n    [isVertical, x, y],\n  )\n\n  // Ramp to help feed vertical inputs\n  useCollider(\n    ({ ColliderDesc }) =>\n      isInput && isVertical\n        ? ColliderDesc.cuboid(...coords.toRapier.lengths(INPUT_WIDTH / 2, 2))\n            .setTranslation(\n              ...coords.toRapier.vector(\n                side === 'left'\n                  ? x - INPUT_SPINNER_SIZE * 1.5\n                  : x + INPUT_SPINNER_SIZE * 1.5,\n                y - INPUT_SPINNER_SIZE / 3,\n              ),\n            )\n            .setRotation(side === 'left' ? -Math.PI / 6 : Math.PI / 6)\n        : null,\n    [isInput, isVertical, side, x, y],\n  )\n\n  useCollisionHandler(\n    'start',\n    sensorCollider,\n    (otherCollider) => {\n      const body = otherCollider.parent()\n      if (!sensorCollider || !body) {\n        return\n      }\n\n      if (!isBall(body)) {\n        return\n      }\n\n      body.setLinvel({ x: 0, y: 0 }, true)\n      body.setAngvel(0, true)\n\n      renewBall(body.userData.id)\n      onReceiveBall?.(body.userData)\n    },\n    [onReceiveBall, renewBall],\n  )\n\n  const offset = INPUT_WIDTH / 2 - INPUT_SPINNER_SIZE / 2\n  const spinDirection =\n    (isInput ? 1 : -1) * (side === 'left' || side === 'bottom' ? -1 : 1)\n\n  return (\n    <>\n      {!isInput ? (\n        <TypeIndicators x={x} y={y} balls={balls} side={side} />\n      ) : null}\n      <Roller\n        x={isVertical ? x : x - offset}\n        y={isVertical ? y - offset : y}\n        rotationSpeed={-INPUT_SPINNER_SPEED * spinDirection}\n        spokes={INPUT_TEETH_COUNT / 2}\n      />\n      <Roller\n        x={isVertical ? x : x + offset}\n        y={isVertical ? y + offset : y}\n        rotationSpeed={INPUT_SPINNER_SPEED * spinDirection}\n        spokes={INPUT_TEETH_COUNT / 2}\n      />\n    </>\n  )\n}\n","import { sumBy } from 'lodash'\nimport { useCallback, useRef } from 'react'\nimport weighted from 'weighted'\nimport { PuzzlePosition } from '../../types'\nimport { CreateBallOptions, useMachine } from '../MachineContext'\nimport {\n  PhysicsContextType,\n  useLoopHandler,\n  useRapierEffect,\n} from '../PhysicsContext'\nimport { BALL_RADIUS, INPUT_SPINNER_SIZE } from '../constants'\nimport InputOutput, { InputOutputSide } from './InputOutput'\n\nexport const BALL_RATE_VARIANCE = 1 // 50% either direction\n\nexport function BallSpawner({\n  x,\n  y,\n  vx,\n  vy,\n  overrideDamping,\n  balls,\n}: PuzzlePosition & CreateBallOptions) {\n  const { createBall, msPerBall } = useMachine()\n\n  const nextBallTick = useRef(0)\n\n  const scheduleNextBall = useCallback(\n    ({ tickMs, getCurrentTick }: PhysicsContextType) => {\n      const totalRate = sumBy(balls, ({ rate }) => rate)\n      const msPerSpawn = msPerBall / totalRate\n      const periodTicks = msPerSpawn / tickMs\n      const variance = 1 + (0.5 - Math.random()) * BALL_RATE_VARIANCE\n      nextBallTick.current =\n        getCurrentTick() + Math.round(periodTicks * variance)\n    },\n    [msPerBall, balls],\n  )\n\n  useRapierEffect(scheduleNextBall, [scheduleNextBall])\n\n  useLoopHandler(\n    (physics) => {\n      const currentTick = physics.getCurrentTick()\n      if (currentTick >= nextBallTick.current) {\n        const { type } = weighted(\n          balls,\n          balls.map(({ rate }) => rate),\n        )\n        createBall(x, y, type, { vx, vy, overrideDamping })\n        scheduleNextBall(physics)\n        return\n      }\n    },\n    [createBall, overrideDamping, scheduleNextBall, balls, vx, vy, x, y],\n  )\n\n  return null\n}\n\nexport default function SpawnInput({\n  x,\n  y,\n  balls,\n  side,\n}: { side: InputOutputSide } & PuzzlePosition) {\n  // Side inputs are tricky since we don't have gravity. We spawn the ball to the side with a line sloping down.\n  const sideSpawnOffset = 0.75 * INPUT_SPINNER_SIZE\n  const xOffset =\n    side === 'left' ? -sideSpawnOffset : side === 'right' ? sideSpawnOffset : 0\n\n  const yOffset =\n    side === 'top'\n      ? -BALL_RADIUS\n      : side === 'bottom'\n        ? BALL_RADIUS\n        : -BALL_RADIUS * 2\n\n  return (\n    <>\n      <BallSpawner x={x + xOffset} y={y + yOffset} balls={balls} />\n      <InputOutput x={x} y={y} balls={balls} side={side} isInput />\n    </>\n  )\n}\n","import { useCallback, useMemo, useRef } from 'react'\nimport { coords, vectorAngle } from '../lib/coords'\nimport { inBounds } from '../lib/utils'\nimport { Ball, BallType, Bounds } from '../types'\nimport {\n  MachineContextProvider,\n  MachineContextProviderRef,\n  useMachine,\n} from './MachineContext'\nimport { GRAVITY, PhysicsContextProvider } from './PhysicsContext'\nimport {\n  BOTTOM_CHUTE_DROP,\n  BOTTOM_MECHANISM_HEIGHT,\n  BOTTOM_PIT_HEIGHT,\n  BOTTOM_TANK_HEIGHT,\n  BOTTOM_TANK_SPACING,\n  BOTTOM_TANK_TARGET_TOP,\n  BOTTOM_TANK_WIDTH,\n} from './constants'\nimport { useMetaMachineClient } from './useMetaMachineClient'\nimport { BASE_BALL_LIFETIME_TICKS, Balls } from './widgets/Balls'\nimport Boat from './widgets/Boat'\nimport { BottomChute } from './widgets/BottomChute'\nimport { BottomPit } from './widgets/BottomPit'\nimport { BottomTank } from './widgets/BottomTank'\nimport { BallSpawner } from './widgets/SpawnInput'\n\nconst tankIdxByType = [2, 0, 3, 1]\n\n/**\n * Bottom pool with balls fed by chutes at the bottom of the puzzle.\n *\n */\nexport function BallPitMechanism({\n  tilesX,\n  tilesY,\n  tileWidth,\n  tileHeight,\n  stepRateMultiplier = 1,\n}: {\n  tilesX: number\n  tilesY: number\n  tileWidth: number\n  tileHeight: number\n  stepRateMultiplier?: number\n}) {\n  const { msPerBall, simulationBoundsRef } = useMachine()\n  const subMachineRef = useRef<MachineContextProviderRef>(null)\n\n  const totalWidth = tilesX * tileWidth\n  const totalHeight = tilesY * tileHeight\n  const pitX = totalWidth / 2\n  const pitY =\n    totalHeight + BOTTOM_MECHANISM_HEIGHT - BOTTOM_PIT_HEIGHT / 2 - 10\n  const tankCount = 4\n  const firstTankCenterX =\n    pitX -\n    (4 * BOTTOM_TANK_WIDTH + 3 * BOTTOM_TANK_SPACING) / 2 +\n    BOTTOM_TANK_WIDTH / 2\n  const tankTopY = pitY - BOTTOM_TANK_HEIGHT - 400\n\n  const lastLineBounds: Bounds = [\n    0,\n    (tilesY - 1) * tileHeight,\n    totalWidth,\n    tilesY * tileHeight,\n  ]\n\n  const bounds: Bounds = useMemo(\n    () => [0, 0, totalWidth, totalHeight + BOTTOM_MECHANISM_HEIGHT],\n    [totalHeight, totalWidth],\n  )\n\n  // Load the last row of machines\n  const { metaMachine } = useMetaMachineClient({ viewBounds: lastLineBounds })\n\n  /**\n   * Velocity of ball to hit the bool target\n   */\n  const getBallVx = useCallback(\n    (x: number, y: number, ballType: BallType) => {\n      const tankIdx = tankIdxByType[ballType - 1]\n      const targetX =\n        firstTankCenterX + tankIdx * (BOTTOM_TANK_WIDTH + BOTTOM_TANK_SPACING)\n\n      const [tx, ty] = coords.toRapier.vector(\n        targetX,\n        tankTopY + BOTTOM_TANK_TARGET_TOP,\n      )\n\n      return (tx - x) / Math.sqrt((2 * (y - ty)) / -GRAVITY.y)\n    },\n    [firstTankCenterX, tankTopY],\n  )\n\n  // When balls are received in the chutes in the meta machine, spawn a ball in our machine targeting the pool.\n  const handleReceiveBall = useCallback(\n    (ball: Ball) => {\n      const { current: subMachine } = subMachineRef\n      if (!subMachine) {\n        return\n      }\n\n      const { x, y } = ball.translation()\n\n      subMachine.createBall(\n        ...coords.fromRapier.vector(x, y),\n        ball.userData.ballType,\n        {\n          vx: getBallVx(x, y, ball.userData.ballType),\n          overrideDamping: 0,\n        },\n      )\n    },\n    [getBallVx],\n  )\n\n  if (!metaMachine) {\n    return null\n  }\n\n  const tanks = []\n  for (let tankType = 1; tankType <= tankCount; tankType++) {\n    tanks.push(\n      <BottomTank\n        x={\n          firstTankCenterX +\n          tankIdxByType[tankType - 1] *\n            (BOTTOM_TANK_WIDTH + BOTTOM_TANK_SPACING)\n        }\n        y={tankTopY + BOTTOM_TANK_HEIGHT / 2}\n        type={tankType}\n        key={`tank-${tankType}`}\n      />,\n    )\n  }\n\n  const chutes = []\n  const ballSpawns = []\n  for (let xt = 0; xt < tilesX; xt++) {\n    const machine = metaMachine.getMachine(xt, tilesY - 1)\n    if (!machine) {\n      continue\n    }\n\n    for (const output of machine.puzzle.outputs) {\n      if (output.y !== 1) {\n        continue\n      }\n\n      const x = xt * tileWidth + tileWidth * output.x\n      const y = totalHeight\n\n      // If the output exists in simulation, put a chute under it, otherwise, proxy it with a spawner.\n      if (inBounds(x, y, simulationBoundsRef.current)) {\n        chutes.push(\n          <BottomChute\n            key={`${xt}-${output.x}`}\n            x={x}\n            y={y + BOTTOM_CHUTE_DROP}\n            angle={vectorAngle({ x, y }, { x: pitX, y: pitY })}\n            onReceiveBall={handleReceiveBall}\n          />,\n        )\n      } else {\n        ballSpawns.push(\n          <BallSpawner\n            key={`${xt}-${output.x}`}\n            x={x}\n            y={y}\n            vx={getBallVx(\n              ...coords.toRapier.vector(x, y + BOTTOM_CHUTE_DROP),\n              output.balls[0]['type'], // No combined outputs at bottom of map\n            )}\n            overrideDamping={0}\n            balls={output.balls}\n          />,\n        )\n      }\n    }\n  }\n\n  return (\n    <>\n      {chutes}\n      <PhysicsContextProvider stepRateMultiplier={stepRateMultiplier}>\n        <MachineContextProvider\n          ref={subMachineRef}\n          msPerBall={msPerBall}\n          initialSimulationBounds={bounds}\n          initialViewBounds={bounds}\n        >\n          {ballSpawns}\n          {tanks}\n          <Boat id=\"boat\" x={pitX} y={pitY - 10} />\n          <BottomPit x={pitX} y={pitY} />\n          <Balls lifetimeTicks={3.5 * BASE_BALL_LIFETIME_TICKS} />\n        </MachineContextProvider>\n      </PhysicsContextProvider>\n    </>\n  )\n}\n","import { useContext, useState, useEffect } from 'react';\nimport { motionValue } from './index.mjs';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { useConstant } from '../utils/use-constant.mjs';\n\n/**\n * Creates a `MotionValue` to track the state and velocity of a value.\n *\n * Usually, these are created automatically. For advanced use-cases, like use with `useTransform`, you can create `MotionValue`s externally and pass them into the animated component via the `style` prop.\n *\n * ```jsx\n * export const MyComponent = () => {\n *   const scale = useMotionValue(1)\n *\n *   return <motion.div style={{ scale }} />\n * }\n * ```\n *\n * @param initial - The initial state.\n *\n * @public\n */\nfunction useMotionValue(initial) {\n    const value = useConstant(() => motionValue(initial));\n    /**\n     * If this motion value is being used in static mode, like on\n     * the Framer canvas, force components to rerender when the motion\n     * value is updated.\n     */\n    const { isStatic } = useContext(MotionConfigContext);\n    if (isStatic) {\n        const [, setLatest] = useState(initial);\n        useEffect(() => value.on(\"change\", setLatest), []);\n    }\n    return value;\n}\n\nexport { useMotionValue };\n","import { interpolate } from './interpolate.mjs';\n\nconst isCustomValueType = (v) => {\n    return v && typeof v === \"object\" && v.mix;\n};\nconst getMixer = (v) => (isCustomValueType(v) ? v.mix : undefined);\nfunction transform(...args) {\n    const useImmediate = !Array.isArray(args[0]);\n    const argOffset = useImmediate ? 0 : -1;\n    const inputValue = args[0 + argOffset];\n    const inputRange = args[1 + argOffset];\n    const outputRange = args[2 + argOffset];\n    const options = args[3 + argOffset];\n    const interpolator = interpolate(inputRange, outputRange, {\n        mixer: getMixer(outputRange[0]),\n        ...options,\n    });\n    return useImmediate ? interpolator(inputValue) : interpolator;\n}\n\nexport { transform };\n","import { useMotionValue } from './use-motion-value.mjs';\nimport { useIsomorphicLayoutEffect } from '../utils/use-isomorphic-effect.mjs';\nimport { cancelFrame, frame } from '../frameloop/frame.mjs';\n\nfunction useCombineMotionValues(values, combineValues) {\n    /**\n     * Initialise the returned motion value. This remains the same between renders.\n     */\n    const value = useMotionValue(combineValues());\n    /**\n     * Create a function that will update the template motion value with the latest values.\n     * This is pre-bound so whenever a motion value updates it can schedule its\n     * execution in Framesync. If it's already been scheduled it won't be fired twice\n     * in a single frame.\n     */\n    const updateValue = () => value.set(combineValues());\n    /**\n     * Synchronously update the motion value with the latest values during the render.\n     * This ensures that within a React render, the styles applied to the DOM are up-to-date.\n     */\n    updateValue();\n    /**\n     * Subscribe to all motion values found within the template. Whenever any of them change,\n     * schedule an update.\n     */\n    useIsomorphicLayoutEffect(() => {\n        const scheduleUpdate = () => frame.update(updateValue, false, true);\n        const subscriptions = values.map((v) => v.on(\"change\", scheduleUpdate));\n        return () => {\n            subscriptions.forEach((unsubscribe) => unsubscribe());\n            cancelFrame(updateValue);\n        };\n    });\n    return value;\n}\n\nexport { useCombineMotionValues };\n","import { transform } from '../utils/transform.mjs';\nimport { useCombineMotionValues } from './use-combine-values.mjs';\nimport { useConstant } from '../utils/use-constant.mjs';\nimport { useComputed } from './use-computed.mjs';\n\nfunction useTransform(input, inputRangeOrTransformer, outputRange, options) {\n    if (typeof input === \"function\") {\n        return useComputed(input);\n    }\n    const transformer = typeof inputRangeOrTransformer === \"function\"\n        ? inputRangeOrTransformer\n        : transform(inputRangeOrTransformer, outputRange, options);\n    return Array.isArray(input)\n        ? useListTransform(input, transformer)\n        : useListTransform([input], ([latest]) => transformer(latest));\n}\nfunction useListTransform(values, transformer) {\n    const latest = useConstant(() => []);\n    return useCombineMotionValues(values, () => {\n        latest.length = 0;\n        const numValues = values.length;\n        for (let i = 0; i < numValues; i++) {\n            latest[i] = values[i].get();\n        }\n        return transformer(latest);\n    });\n}\n\nexport { useTransform };\n","import { collectMotionValues } from './index.mjs';\nimport { useCombineMotionValues } from './use-combine-values.mjs';\n\nfunction useComputed(compute) {\n    /**\n     * Open session of collectMotionValues. Any MotionValue that calls get()\n     * will be saved into this array.\n     */\n    collectMotionValues.current = [];\n    compute();\n    const value = useCombineMotionValues(collectMotionValues.current, compute);\n    /**\n     * Synchronously close session of collectMotionValues.\n     */\n    collectMotionValues.current = undefined;\n    return value;\n}\n\nexport { useComputed };\n","import { invariant } from '../../../utils/errors.mjs';\n\nfunction resolveElements(elements, scope, selectorCache) {\n    var _a;\n    if (typeof elements === \"string\") {\n        let root = document;\n        if (scope) {\n            invariant(Boolean(scope.current), \"Scope provided, but no element detected.\");\n            root = scope.current;\n        }\n        if (selectorCache) {\n            (_a = selectorCache[elements]) !== null && _a !== void 0 ? _a : (selectorCache[elements] = root.querySelectorAll(elements));\n            elements = selectorCache[elements];\n        }\n        else {\n            elements = root.querySelectorAll(elements);\n        }\n    }\n    else if (elements instanceof Element) {\n        elements = [elements];\n    }\n    /**\n     * Return an empty array\n     */\n    return Array.from(elements || []);\n}\n\nexport { resolveElements };\n","import { memo } from '../../../utils/memo.mjs';\n\nconst supportsScrollTimeline = memo(() => window.ScrollTimeline !== undefined);\n\nexport { supportsScrollTimeline };\n","import { observeTimeline } from '../render/dom/scroll/observe.mjs';\nimport { supportsScrollTimeline } from '../render/dom/scroll/supports.mjs';\n\nclass GroupPlaybackControls {\n    constructor(animations) {\n        this.animations = animations.filter(Boolean);\n    }\n    then(onResolve, onReject) {\n        return Promise.all(this.animations).then(onResolve).catch(onReject);\n    }\n    /**\n     * TODO: Filter out cancelled or stopped animations before returning\n     */\n    getAll(propName) {\n        return this.animations[0][propName];\n    }\n    setAll(propName, newValue) {\n        for (let i = 0; i < this.animations.length; i++) {\n            this.animations[i][propName] = newValue;\n        }\n    }\n    attachTimeline(timeline) {\n        const cancelAll = this.animations.map((animation) => {\n            if (supportsScrollTimeline() && animation.attachTimeline) {\n                animation.attachTimeline(timeline);\n            }\n            else {\n                animation.pause();\n                return observeTimeline((progress) => {\n                    animation.time = animation.duration * progress;\n                }, timeline);\n            }\n        });\n        return () => {\n            cancelAll.forEach((cancelTimeline, i) => {\n                if (cancelTimeline)\n                    cancelTimeline();\n                this.animations[i].stop();\n            });\n        };\n    }\n    get time() {\n        return this.getAll(\"time\");\n    }\n    set time(time) {\n        this.setAll(\"time\", time);\n    }\n    get speed() {\n        return this.getAll(\"speed\");\n    }\n    set speed(speed) {\n        this.setAll(\"speed\", speed);\n    }\n    get duration() {\n        let max = 0;\n        for (let i = 0; i < this.animations.length; i++) {\n            max = Math.max(max, this.animations[i].duration);\n        }\n        return max;\n    }\n    runAll(methodName) {\n        this.animations.forEach((controls) => controls[methodName]());\n    }\n    play() {\n        this.runAll(\"play\");\n    }\n    pause() {\n        this.runAll(\"pause\");\n    }\n    stop() {\n        this.runAll(\"stop\");\n    }\n    cancel() {\n        this.runAll(\"cancel\");\n    }\n    complete() {\n        this.runAll(\"complete\");\n    }\n}\n\nexport { GroupPlaybackControls };\n","import { frame, cancelFrame } from '../../../frameloop/frame.mjs';\n\nfunction observeTimeline(update, timeline) {\n    let prevProgress;\n    const onFrame = () => {\n        const { currentTime } = timeline;\n        const percentage = currentTime === null ? 0 : currentTime.value;\n        const progress = percentage / 100;\n        if (prevProgress !== progress) {\n            update(progress);\n        }\n        prevProgress = progress;\n    };\n    frame.update(onFrame, true);\n    return () => cancelFrame(onFrame);\n}\n\nexport { observeTimeline };\n","import { isSVGElement } from '../../render/dom/utils/is-svg-element.mjs';\nimport { SVGVisualElement } from '../../render/svg/SVGVisualElement.mjs';\nimport { HTMLVisualElement } from '../../render/html/HTMLVisualElement.mjs';\nimport { visualElementStore } from '../../render/store.mjs';\n\nfunction createVisualElement(element) {\n    const options = {\n        presenceContext: null,\n        props: {},\n        visualState: {\n            renderState: {\n                transform: {},\n                transformOrigin: {},\n                style: {},\n                vars: {},\n                attrs: {},\n            },\n            latestValues: {},\n        },\n    };\n    const node = isSVGElement(element)\n        ? new SVGVisualElement(options, {\n            enableHardwareAcceleration: false,\n        })\n        : new HTMLVisualElement(options, {\n            enableHardwareAcceleration: true,\n        });\n    node.mount(element);\n    visualElementStore.set(element, node);\n}\n\nexport { createVisualElement };\n","import { spring } from '../../animation/generators/spring/index.mjs';\nimport { calcGeneratorDuration, maxGeneratorDuration } from '../../animation/generators/utils/calc-duration.mjs';\nimport { millisecondsToSeconds } from '../../utils/time-conversion.mjs';\n\n/**\n * Create a progress => progress easing function from a generator.\n */\nfunction createGeneratorEasing(options, scale = 100) {\n    const generator = spring({ keyframes: [0, scale], ...options });\n    const duration = Math.min(calcGeneratorDuration(generator), maxGeneratorDuration);\n    return {\n        type: \"keyframes\",\n        ease: (progress) => generator.next(duration * progress).value / scale,\n        duration: millisecondsToSeconds(duration),\n    };\n}\n\nexport { createGeneratorEasing };\n","/**\n * Given a absolute or relative time definition and current/prev time state of the sequence,\n * calculate an absolute time for the next keyframes.\n */\nfunction calcNextTime(current, next, prev, labels) {\n    var _a;\n    if (typeof next === \"number\") {\n        return next;\n    }\n    else if (next.startsWith(\"-\") || next.startsWith(\"+\")) {\n        return Math.max(0, current + parseFloat(next));\n    }\n    else if (next === \"<\") {\n        return prev;\n    }\n    else {\n        return (_a = labels.get(next)) !== null && _a !== void 0 ? _a : current;\n    }\n}\n\nexport { calcNextTime };\n","const wrap = (min, max, v) => {\n    const rangeSize = max - min;\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\n};\n\nexport { wrap };\n","import { wrap } from '../../utils/wrap.mjs';\nimport { isEasingArray } from './is-easing-array.mjs';\n\nfunction getEasingForSegment(easing, i) {\n    return isEasingArray(easing) ? easing[wrap(0, easing.length, i)] : easing;\n}\n\nexport { getEasingForSegment };\n","import { getEasingForSegment } from '../../../easing/utils/get-easing-for-segment.mjs';\nimport { removeItem } from '../../../utils/array.mjs';\nimport { mixNumber } from '../../../utils/mix/number.mjs';\n\nfunction eraseKeyframes(sequence, startTime, endTime) {\n    for (let i = 0; i < sequence.length; i++) {\n        const keyframe = sequence[i];\n        if (keyframe.at > startTime && keyframe.at < endTime) {\n            removeItem(sequence, keyframe);\n            // If we remove this item we have to push the pointer back one\n            i--;\n        }\n    }\n}\nfunction addKeyframes(sequence, keyframes, easing, offset, startTime, endTime) {\n    /**\n     * Erase every existing value between currentTime and targetTime,\n     * this will essentially splice this timeline into any currently\n     * defined ones.\n     */\n    eraseKeyframes(sequence, startTime, endTime);\n    for (let i = 0; i < keyframes.length; i++) {\n        sequence.push({\n            value: keyframes[i],\n            at: mixNumber(startTime, endTime, offset[i]),\n            easing: getEasingForSegment(easing, i),\n        });\n    }\n}\n\nexport { addKeyframes, eraseKeyframes };\n","function compareByTime(a, b) {\n    if (a.at === b.at) {\n        if (a.value === null)\n            return 1;\n        if (b.value === null)\n            return -1;\n        return 0;\n    }\n    else {\n        return a.at - b.at;\n    }\n}\n\nexport { compareByTime };\n","import { createGeneratorEasing } from '../../easing/utils/create-generator-easing.mjs';\nimport { resolveElements } from '../../render/dom/utils/resolve-element.mjs';\nimport { defaultOffset } from '../../utils/offsets/default.mjs';\nimport { fillOffset } from '../../utils/offsets/fill.mjs';\nimport { progress } from '../../utils/progress.mjs';\nimport { secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\nimport { calcNextTime } from './utils/calc-time.mjs';\nimport { addKeyframes } from './utils/edit.mjs';\nimport { compareByTime } from './utils/sort.mjs';\n\nconst defaultSegmentEasing = \"easeInOut\";\nfunction createAnimationsFromSequence(sequence, { defaultTransition = {}, ...sequenceTransition } = {}, scope) {\n    const defaultDuration = defaultTransition.duration || 0.3;\n    const animationDefinitions = new Map();\n    const sequences = new Map();\n    const elementCache = {};\n    const timeLabels = new Map();\n    let prevTime = 0;\n    let currentTime = 0;\n    let totalDuration = 0;\n    /**\n     * Build the timeline by mapping over the sequence array and converting\n     * the definitions into keyframes and offsets with absolute time values.\n     * These will later get converted into relative offsets in a second pass.\n     */\n    for (let i = 0; i < sequence.length; i++) {\n        const segment = sequence[i];\n        /**\n         * If this is a timeline label, mark it and skip the rest of this iteration.\n         */\n        if (typeof segment === \"string\") {\n            timeLabels.set(segment, currentTime);\n            continue;\n        }\n        else if (!Array.isArray(segment)) {\n            timeLabels.set(segment.name, calcNextTime(currentTime, segment.at, prevTime, timeLabels));\n            continue;\n        }\n        let [subject, keyframes, transition = {}] = segment;\n        /**\n         * If a relative or absolute time value has been specified we need to resolve\n         * it in relation to the currentTime.\n         */\n        if (transition.at !== undefined) {\n            currentTime = calcNextTime(currentTime, transition.at, prevTime, timeLabels);\n        }\n        /**\n         * Keep track of the maximum duration in this definition. This will be\n         * applied to currentTime once the definition has been parsed.\n         */\n        let maxDuration = 0;\n        const resolveValueSequence = (valueKeyframes, valueTransition, valueSequence, elementIndex = 0, numElements = 0) => {\n            const valueKeyframesAsList = keyframesAsList(valueKeyframes);\n            const { delay = 0, times = defaultOffset(valueKeyframesAsList), type = \"keyframes\", ...remainingTransition } = valueTransition;\n            let { ease = defaultTransition.ease || \"easeOut\", duration } = valueTransition;\n            /**\n             * Resolve stagger() if defined.\n             */\n            const calculatedDelay = typeof delay === \"function\"\n                ? delay(elementIndex, numElements)\n                : delay;\n            /**\n             * If this animation should and can use a spring, generate a spring easing function.\n             */\n            const numKeyframes = valueKeyframesAsList.length;\n            if (numKeyframes <= 2 && type === \"spring\") {\n                /**\n                 * As we're creating an easing function from a spring,\n                 * ideally we want to generate it using the real distance\n                 * between the two keyframes. However this isn't always\n                 * possible - in these situations we use 0-100.\n                 */\n                let absoluteDelta = 100;\n                if (numKeyframes === 2 &&\n                    isNumberKeyframesArray(valueKeyframesAsList)) {\n                    const delta = valueKeyframesAsList[1] - valueKeyframesAsList[0];\n                    absoluteDelta = Math.abs(delta);\n                }\n                const springTransition = { ...remainingTransition };\n                if (duration !== undefined) {\n                    springTransition.duration = secondsToMilliseconds(duration);\n                }\n                const springEasing = createGeneratorEasing(springTransition, absoluteDelta);\n                ease = springEasing.ease;\n                duration = springEasing.duration;\n            }\n            duration !== null && duration !== void 0 ? duration : (duration = defaultDuration);\n            const startTime = currentTime + calculatedDelay;\n            const targetTime = startTime + duration;\n            /**\n             * If there's only one time offset of 0, fill in a second with length 1\n             */\n            if (times.length === 1 && times[0] === 0) {\n                times[1] = 1;\n            }\n            /**\n             * Fill out if offset if fewer offsets than keyframes\n             */\n            const remainder = times.length - valueKeyframesAsList.length;\n            remainder > 0 && fillOffset(times, remainder);\n            /**\n             * If only one value has been set, ie [1], push a null to the start of\n             * the keyframe array. This will let us mark a keyframe at this point\n             * that will later be hydrated with the previous value.\n             */\n            valueKeyframesAsList.length === 1 &&\n                valueKeyframesAsList.unshift(null);\n            /**\n             * Add keyframes, mapping offsets to absolute time.\n             */\n            addKeyframes(valueSequence, valueKeyframesAsList, ease, times, startTime, targetTime);\n            maxDuration = Math.max(calculatedDelay + duration, maxDuration);\n            totalDuration = Math.max(targetTime, totalDuration);\n        };\n        if (isMotionValue(subject)) {\n            const subjectSequence = getSubjectSequence(subject, sequences);\n            resolveValueSequence(keyframes, transition, getValueSequence(\"default\", subjectSequence));\n        }\n        else {\n            /**\n             * Find all the elements specified in the definition and parse value\n             * keyframes from their timeline definitions.\n             */\n            const elements = resolveElements(subject, scope, elementCache);\n            const numElements = elements.length;\n            /**\n             * For every element in this segment, process the defined values.\n             */\n            for (let elementIndex = 0; elementIndex < numElements; elementIndex++) {\n                /**\n                 * Cast necessary, but we know these are of this type\n                 */\n                keyframes = keyframes;\n                transition = transition;\n                const element = elements[elementIndex];\n                const subjectSequence = getSubjectSequence(element, sequences);\n                for (const key in keyframes) {\n                    resolveValueSequence(keyframes[key], getValueTransition(transition, key), getValueSequence(key, subjectSequence), elementIndex, numElements);\n                }\n            }\n        }\n        prevTime = currentTime;\n        currentTime += maxDuration;\n    }\n    /**\n     * For every element and value combination create a new animation.\n     */\n    sequences.forEach((valueSequences, element) => {\n        for (const key in valueSequences) {\n            const valueSequence = valueSequences[key];\n            /**\n             * Arrange all the keyframes in ascending time order.\n             */\n            valueSequence.sort(compareByTime);\n            const keyframes = [];\n            const valueOffset = [];\n            const valueEasing = [];\n            /**\n             * For each keyframe, translate absolute times into\n             * relative offsets based on the total duration of the timeline.\n             */\n            for (let i = 0; i < valueSequence.length; i++) {\n                const { at, value, easing } = valueSequence[i];\n                keyframes.push(value);\n                valueOffset.push(progress(0, totalDuration, at));\n                valueEasing.push(easing || \"easeOut\");\n            }\n            /**\n             * If the first keyframe doesn't land on offset: 0\n             * provide one by duplicating the initial keyframe. This ensures\n             * it snaps to the first keyframe when the animation starts.\n             */\n            if (valueOffset[0] !== 0) {\n                valueOffset.unshift(0);\n                keyframes.unshift(keyframes[0]);\n                valueEasing.unshift(defaultSegmentEasing);\n            }\n            /**\n             * If the last keyframe doesn't land on offset: 1\n             * provide one with a null wildcard value. This will ensure it\n             * stays static until the end of the animation.\n             */\n            if (valueOffset[valueOffset.length - 1] !== 1) {\n                valueOffset.push(1);\n                keyframes.push(null);\n            }\n            if (!animationDefinitions.has(element)) {\n                animationDefinitions.set(element, {\n                    keyframes: {},\n                    transition: {},\n                });\n            }\n            const definition = animationDefinitions.get(element);\n            definition.keyframes[key] = keyframes;\n            definition.transition[key] = {\n                ...defaultTransition,\n                duration: totalDuration,\n                ease: valueEasing,\n                times: valueOffset,\n                ...sequenceTransition,\n            };\n        }\n    });\n    return animationDefinitions;\n}\nfunction getSubjectSequence(subject, sequences) {\n    !sequences.has(subject) && sequences.set(subject, {});\n    return sequences.get(subject);\n}\nfunction getValueSequence(name, sequences) {\n    if (!sequences[name])\n        sequences[name] = [];\n    return sequences[name];\n}\nfunction keyframesAsList(keyframes) {\n    return Array.isArray(keyframes) ? keyframes : [keyframes];\n}\nfunction getValueTransition(transition, key) {\n    return transition[key]\n        ? { ...transition, ...transition[key] }\n        : { ...transition };\n}\nconst isNumber = (keyframe) => typeof keyframe === \"number\";\nconst isNumberKeyframesArray = (keyframes) => keyframes.every(isNumber);\n\nexport { createAnimationsFromSequence, getValueTransition };\n","import { resolveElements } from '../render/dom/utils/resolve-element.mjs';\nimport { visualElementStore } from '../render/store.mjs';\nimport { invariant } from '../utils/errors.mjs';\nimport { GroupPlaybackControls } from './GroupPlaybackControls.mjs';\nimport { isDOMKeyframes } from './utils/is-dom-keyframes.mjs';\nimport { animateTarget } from './interfaces/visual-element-target.mjs';\nimport { createVisualElement } from './utils/create-visual-element.mjs';\nimport { animateSingleValue } from './interfaces/single-value.mjs';\nimport { createAnimationsFromSequence } from './sequence/create.mjs';\nimport { isMotionValue } from '../value/utils/is-motion-value.mjs';\n\nfunction animateElements(elementOrSelector, keyframes, options, scope) {\n    const elements = resolveElements(elementOrSelector, scope);\n    const numElements = elements.length;\n    invariant(Boolean(numElements), \"No valid element provided.\");\n    const animations = [];\n    for (let i = 0; i < numElements; i++) {\n        const element = elements[i];\n        /**\n         * Check each element for an associated VisualElement. If none exists,\n         * we need to create one.\n         */\n        if (!visualElementStore.has(element)) {\n            /**\n             * TODO: We only need render-specific parts of the VisualElement.\n             * With some additional work the size of the animate() function\n             * could be reduced significantly.\n             */\n            createVisualElement(element);\n        }\n        const visualElement = visualElementStore.get(element);\n        const transition = { ...options };\n        /**\n         * Resolve stagger function if provided.\n         */\n        if (typeof transition.delay === \"function\") {\n            transition.delay = transition.delay(i, numElements);\n        }\n        animations.push(...animateTarget(visualElement, { ...keyframes, transition }, {}));\n    }\n    return new GroupPlaybackControls(animations);\n}\nconst isSequence = (value) => Array.isArray(value) && Array.isArray(value[0]);\nfunction animateSequence(sequence, options, scope) {\n    const animations = [];\n    const animationDefinitions = createAnimationsFromSequence(sequence, options, scope);\n    animationDefinitions.forEach(({ keyframes, transition }, subject) => {\n        let animation;\n        if (isMotionValue(subject)) {\n            animation = animateSingleValue(subject, keyframes.default, transition.default);\n        }\n        else {\n            animation = animateElements(subject, keyframes, transition);\n        }\n        animations.push(animation);\n    });\n    return new GroupPlaybackControls(animations);\n}\nconst createScopedAnimate = (scope) => {\n    /**\n     * Implementation\n     */\n    function scopedAnimate(valueOrElementOrSequence, keyframes, options) {\n        let animation;\n        if (isSequence(valueOrElementOrSequence)) {\n            animation = animateSequence(valueOrElementOrSequence, keyframes, scope);\n        }\n        else if (isDOMKeyframes(keyframes)) {\n            animation = animateElements(valueOrElementOrSequence, keyframes, options, scope);\n        }\n        else {\n            animation = animateSingleValue(valueOrElementOrSequence, keyframes, options);\n        }\n        if (scope) {\n            scope.animations.push(animation);\n        }\n        return animation;\n    }\n    return scopedAnimate;\n};\nconst animate = createScopedAnimate();\n\nexport { animate, createScopedAnimate };\n","function isDOMKeyframes(keyframes) {\n    return typeof keyframes === \"object\" && !Array.isArray(keyframes);\n}\n\nexport { isDOMKeyframes };\n","import { animate, motion, useMotionValue, useTransform } from 'framer-motion'\nimport {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useState,\n} from 'react'\nimport { Bounds } from '../types'\n\nexport interface SlippyMapRef {\n  getPosition(): [x: number, y: number]\n  isAnimating(): boolean\n  animateTo(x: number, y: number, zoom?: number): Promise<void>\n  jumpTo(x: number, y: number, zoom?: number): void\n}\n\nexport interface CenteredSlippyMapProps {\n  width: number\n  height: number\n  totalWidth: number\n  totalHeight: number\n  innerClassName?: string\n  onPosition: (viewBounds: Bounds) => void\n  children: React.ReactElement\n  initialX?: number\n  initialY?: number\n  initialZoom?: number\n}\n\nexport const CenteredSlippyMap = forwardRef<\n  SlippyMapRef,\n  CenteredSlippyMapProps\n>(function CenteredSlippyMap(\n  {\n    width,\n    height,\n    totalWidth,\n    totalHeight,\n    innerClassName,\n    onPosition,\n    children,\n    initialX = 0,\n    initialY = 0,\n    initialZoom = 1,\n  }: CenteredSlippyMapProps,\n  ref,\n) {\n  const scaleVal = useMotionValue(initialZoom)\n  const [scale, setScale] = useState(initialZoom)\n\n  // The input position in unzoomed child screen space, centered in viewport.\n  // We need to scale it by the zoom level into screen space.\n  const centerXVal = useMotionValue(-initialX * initialZoom)\n  const centerYVal = useMotionValue(-initialY * initialZoom)\n\n  // Translation offset in screen space of drag gesture\n  const dragXVal = useTransform(() => centerXVal.get() + 0.5 * width)\n  const dragYVal = useTransform(() => centerYVal.get() + 0.5 * height)\n\n  const handleUpdate = useCallback(() => {\n    const x = dragXVal.get()\n    const y = dragYVal.get()\n    const scale = scaleVal.get()\n\n    const scaleFactor = 1 / scale\n    const viewBounds: Bounds = [\n      -x * scaleFactor,\n      -y * scaleFactor,\n      (-x + width) * scaleFactor,\n      (-y + height) * scaleFactor,\n    ]\n    onPosition(viewBounds)\n  }, [dragXVal, dragYVal, scaleVal, width, height, onPosition])\n\n  // Initial set of bounds on mount\n  useEffect(handleUpdate, [handleUpdate])\n\n  const getPosition = useCallback(() => {\n    return [\n      -centerXVal.get() / scaleVal.get(),\n      -centerYVal.get() / scaleVal.get(),\n    ] as [number, number]\n  }, [centerXVal, centerYVal, scaleVal])\n\n  const isAnimating = useCallback(() => {\n    return centerXVal.isAnimating() || centerYVal.isAnimating()\n  }, [centerXVal, centerYVal])\n\n  const animateTo = useCallback(\n    async (x: number, y: number, zoom: number = 1) => {\n      await Promise.all([\n        setScale(zoom),\n        animate(scaleVal, zoom),\n        animate(centerXVal, -x * zoom),\n        animate(centerYVal, -y * zoom),\n      ])\n    },\n    [scaleVal, centerXVal, centerYVal],\n  )\n\n  const jumpTo = useCallback(\n    (x: number, y: number, zoom: number = 1) => {\n      setScale(zoom)\n      scaleVal.set(zoom)\n      centerXVal.set(-x * zoom)\n      centerYVal.set(-y * zoom)\n    },\n    [scaleVal, centerXVal, centerYVal],\n  )\n\n  useImperativeHandle(ref, () => ({\n    getPosition,\n    isAnimating,\n    animateTo,\n    jumpTo,\n  }))\n\n  const dragConstraints = useMemo(() => {\n    const right = -0.5 * scale * width\n    const left = right - (totalWidth - width) * scale\n    const bottom = -0.5 * scale * height\n    const top = bottom - (totalHeight - height) * scale\n    return {\n      left,\n      right,\n      top,\n      bottom,\n    }\n  }, [height, scale, totalHeight, totalWidth, width])\n\n  return (\n    <div\n      css={{\n        overflow: 'hidden',\n        width,\n        height,\n        userSelect: 'none',\n        // Allow framer to handle touch pans\n        touchAction: 'none',\n      }}\n    >\n      <motion.div\n        css={{\n          position: 'relative',\n          width: totalWidth,\n          height: totalHeight,\n          overflow: 'hidden',\n          contain: 'strict',\n        }}\n        style={{\n          x: dragXVal,\n          y: dragYVal,\n          scale: scaleVal,\n          originX: 0,\n          originY: 0,\n        }}\n        className={innerClassName}\n        whileDrag={{ cursor: 'grabbing' }}\n        onUpdate={handleUpdate}\n        dragConstraints={dragConstraints}\n        _dragX={centerXVal}\n        _dragY={centerYVal}\n        drag\n      >\n        {children}\n      </motion.div>\n    </div>\n  )\n})\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nexport default baseClamp;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","import baseRandom from './_baseRandom.js';\n\n/**\n * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n *\n * @private\n * @param {Array} array The array to shuffle.\n * @param {number} [size=array.length] The size of `array`.\n * @returns {Array} Returns `array`.\n */\nfunction shuffleSelf(array, size) {\n  var index = -1,\n      length = array.length,\n      lastIndex = length - 1;\n\n  size = size === undefined ? length : size;\n  while (++index < size) {\n    var rand = baseRandom(index, lastIndex),\n        value = array[rand];\n\n    array[rand] = array[index];\n    array[index] = value;\n  }\n  array.length = size;\n  return array;\n}\n\nexport default shuffleSelf;\n","import baseClamp from './_baseClamp.js';\nimport copyArray from './_copyArray.js';\nimport shuffleSelf from './_shuffleSelf.js';\n\n/**\n * A specialized version of `_.sampleSize` for arrays.\n *\n * @private\n * @param {Array} array The array to sample.\n * @param {number} n The number of elements to sample.\n * @returns {Array} Returns the random elements.\n */\nfunction arraySampleSize(array, n) {\n  return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n}\n\nexport default arraySampleSize;\n","import baseClamp from './_baseClamp.js';\nimport shuffleSelf from './_shuffleSelf.js';\nimport values from './values.js';\n\n/**\n * The base implementation of `_.sampleSize` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to sample.\n * @param {number} n The number of elements to sample.\n * @returns {Array} Returns the random elements.\n */\nfunction baseSampleSize(collection, n) {\n  var array = values(collection);\n  return shuffleSelf(array, baseClamp(n, 0, array.length));\n}\n\nexport default baseSampleSize;\n","import toFinite from './toFinite.js';\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nexport default toInteger;\n","import arraySampleSize from './_arraySampleSize.js';\nimport baseSampleSize from './_baseSampleSize.js';\nimport isArray from './isArray.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport toInteger from './toInteger.js';\n\n/**\n * Gets `n` random elements at unique keys from `collection` up to the\n * size of `collection`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to sample.\n * @param {number} [n=1] The number of elements to sample.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the random elements.\n * @example\n *\n * _.sampleSize([1, 2, 3], 2);\n * // => [3, 1]\n *\n * _.sampleSize([1, 2, 3], 4);\n * // => [2, 3, 1]\n */\nfunction sampleSize(collection, n, guard) {\n  if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n    n = 1;\n  } else {\n    n = toInteger(n);\n  }\n  var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n  return func(collection, n);\n}\n\nexport default sampleSize;\n","import imgConstruction1 from '@art/construction-1_4x.png'\nimport imgConstruction2 from '@art/construction-2_4x.png'\nimport imgConstruction3 from '@art/construction-3_4x.png'\nimport imgConstruction4 from '@art/construction-4_4x.png'\nimport imgConstruction5 from '@art/construction-5_4x.png'\nimport imgConstruction6 from '@art/construction-6_4x.png'\nimport imgConstruction7 from '@art/construction-7_4x.png'\nimport imgConstruction8 from '@art/construction-8_4x.png'\nimport imgConstruction9 from '@art/construction-9_4x.png'\nimport { random, sampleSize } from 'lodash'\nimport { useMemo } from 'react'\nimport { ComicImage } from './ComicImage'\n\nconst imgConstructionChoices = [\n  imgConstruction1,\n  imgConstruction2,\n  imgConstruction3,\n  imgConstruction4,\n  imgConstruction5,\n  imgConstruction6,\n  imgConstruction7,\n  imgConstruction8,\n  imgConstruction9,\n]\n\nexport default function MachineTilePlaceholder({\n  tileWidth,\n  tileHeight,\n  xt,\n  yt,\n}: {\n  tileWidth: number\n  tileHeight: number\n  xt: number\n  yt: number\n}) {\n  const imgs = useMemo(\n    () => sampleSize(imgConstructionChoices, random(2, 3)),\n    [],\n  )\n  return (\n    <div\n      css={{\n        position: 'absolute',\n        background: 'white',\n        left: xt * tileWidth,\n        top: yt * tileHeight,\n        width: tileWidth,\n        height: tileHeight,\n        border: '1px solid black',\n        boxSizing: 'border-box',\n        pointerEvents: 'none',\n        zIndex: 20,\n      }}\n    >\n      {imgs.map((img, idx) => (\n        <ComicImage\n          key={idx}\n          img={img}\n          css={{\n            position: 'absolute',\n            left: 0,\n            top: 0,\n          }}\n        />\n      ))}\n    </div>\n  )\n}\n","import isSymbol from './isSymbol.js';\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nexport default baseExtremum;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nexport default baseGt;\n","import baseExtremum from './_baseExtremum.js';\nimport baseGt from './_baseGt.js';\nimport identity from './identity.js';\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nexport default max;\n","/*\nCopyright (c) 2015 NAVER Corp.\nname: @egjs/agent\nlicense: MIT\nauthor: NAVER Corp.\nrepository: git+https://github.com/naver/agent.git\nversion: 2.4.3\n*/\nfunction some(arr, callback) {\n  var length = arr.length;\n\n  for (var i = 0; i < length; ++i) {\n    if (callback(arr[i], i)) {\n      return true;\n    }\n  }\n\n  return false;\n}\nfunction find(arr, callback) {\n  var length = arr.length;\n\n  for (var i = 0; i < length; ++i) {\n    if (callback(arr[i], i)) {\n      return arr[i];\n    }\n  }\n\n  return null;\n}\nfunction getUserAgentString(agent) {\n  var userAgent = agent;\n\n  if (typeof userAgent === \"undefined\") {\n    if (typeof navigator === \"undefined\" || !navigator) {\n      return \"\";\n    }\n\n    userAgent = navigator.userAgent || \"\";\n  }\n\n  return userAgent.toLowerCase();\n}\nfunction execRegExp(pattern, text) {\n  try {\n    return new RegExp(pattern, \"g\").exec(text);\n  } catch (e) {\n    return null;\n  }\n}\nfunction hasUserAgentData() {\n  if (typeof navigator === \"undefined\" || !navigator || !navigator.userAgentData) {\n    return false;\n  }\n\n  var userAgentData = navigator.userAgentData;\n  var brands = userAgentData.brands || userAgentData.uaList;\n  return !!(brands && brands.length);\n}\nfunction findVersion(versionTest, userAgent) {\n  var result = execRegExp(\"(\" + versionTest + \")((?:\\\\/|\\\\s|:)([0-9|\\\\.|_]+))\", userAgent);\n  return result ? result[3] : \"\";\n}\nfunction convertVersion(text) {\n  return text.replace(/_/g, \".\");\n}\nfunction findPreset(presets, userAgent) {\n  var userPreset = null;\n  var version = \"-1\";\n  some(presets, function (preset) {\n    var result = execRegExp(\"(\" + preset.test + \")((?:\\\\/|\\\\s|:)([0-9|\\\\.|_]+))?\", userAgent);\n\n    if (!result || preset.brand) {\n      return false;\n    }\n\n    userPreset = preset;\n    version = result[3] || \"-1\";\n\n    if (preset.versionAlias) {\n      version = preset.versionAlias;\n    } else if (preset.versionTest) {\n      version = findVersion(preset.versionTest.toLowerCase(), userAgent) || version;\n    }\n\n    version = convertVersion(version);\n    return true;\n  });\n  return {\n    preset: userPreset,\n    version: version\n  };\n}\nfunction findPresetBrand(presets, brands) {\n  var brandInfo = {\n    brand: \"\",\n    version: \"-1\"\n  };\n  some(presets, function (preset) {\n    var result = findBrand(brands, preset);\n\n    if (!result) {\n      return false;\n    }\n\n    brandInfo.brand = preset.id;\n    brandInfo.version = preset.versionAlias || result.version;\n    return brandInfo.version !== \"-1\";\n  });\n  return brandInfo;\n}\nfunction findBrand(brands, preset) {\n  return find(brands, function (_a) {\n    var brand = _a.brand;\n    return execRegExp(\"\" + preset.test, brand.toLowerCase());\n  });\n}\n\nvar BROWSER_PRESETS = [{\n  test: \"phantomjs\",\n  id: \"phantomjs\"\n}, {\n  test: \"whale\",\n  id: \"whale\"\n}, {\n  test: \"edgios|edge|edg\",\n  id: \"edge\"\n}, {\n  test: \"msie|trident|windows phone\",\n  id: \"ie\",\n  versionTest: \"iemobile|msie|rv\"\n}, {\n  test: \"miuibrowser\",\n  id: \"miui browser\"\n}, {\n  test: \"samsungbrowser\",\n  id: \"samsung internet\"\n}, {\n  test: \"samsung\",\n  id: \"samsung internet\",\n  versionTest: \"version\"\n}, {\n  test: \"chrome|crios\",\n  id: \"chrome\"\n}, {\n  test: \"firefox|fxios\",\n  id: \"firefox\"\n}, {\n  test: \"android\",\n  id: \"android browser\",\n  versionTest: \"version\"\n}, {\n  test: \"safari|iphone|ipad|ipod\",\n  id: \"safari\",\n  versionTest: \"version\"\n}]; // chromium's engine(blink) is based on applewebkit 537.36.\n\nvar CHROMIUM_PRESETS = [{\n  test: \"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\\\schrome)\",\n  id: \"chrome\",\n  versionTest: \"chrome\"\n}, {\n  test: \"chromium\",\n  id: \"chrome\"\n}, {\n  test: \"whale\",\n  id: \"chrome\",\n  versionAlias: \"-1\",\n  brand: true\n}];\nvar WEBKIT_PRESETS = [{\n  test: \"applewebkit\",\n  id: \"webkit\",\n  versionTest: \"applewebkit|safari\"\n}];\nvar WEBVIEW_PRESETS = [{\n  test: \"(?=(iphone|ipad))(?!(.*version))\",\n  id: \"webview\"\n}, {\n  test: \"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))\",\n  id: \"webview\"\n}, {\n  // test webview\n  test: \"webview\",\n  id: \"webview\"\n}];\nvar OS_PRESETS = [{\n  test: \"windows phone\",\n  id: \"windows phone\"\n}, {\n  test: \"windows 2000\",\n  id: \"window\",\n  versionAlias: \"5.0\"\n}, {\n  test: \"windows nt\",\n  id: \"window\"\n}, {\n  test: \"win32|windows\",\n  id: \"window\"\n}, {\n  test: \"iphone|ipad|ipod\",\n  id: \"ios\",\n  versionTest: \"iphone os|cpu os\"\n}, {\n  test: \"macos|macintel|mac os x\",\n  id: \"mac\"\n}, {\n  test: \"android|linux armv81\",\n  id: \"android\"\n}, {\n  test: \"tizen\",\n  id: \"tizen\"\n}, {\n  test: \"webos|web0s\",\n  id: \"webos\"\n}];\n\nfunction isWebView(userAgent) {\n  return !!findPreset(WEBVIEW_PRESETS, userAgent).preset;\n}\nfunction getLegacyAgent(userAgent) {\n  var nextAgent = getUserAgentString(userAgent);\n  var isMobile = !!/mobi/g.exec(nextAgent);\n  var browser = {\n    name: \"unknown\",\n    version: \"-1\",\n    majorVersion: -1,\n    webview: isWebView(nextAgent),\n    chromium: false,\n    chromiumVersion: \"-1\",\n    webkit: false,\n    webkitVersion: \"-1\"\n  };\n  var os = {\n    name: \"unknown\",\n    version: \"-1\",\n    majorVersion: -1\n  };\n\n  var _a = findPreset(BROWSER_PRESETS, nextAgent),\n      browserPreset = _a.preset,\n      browserVersion = _a.version;\n\n  var _b = findPreset(OS_PRESETS, nextAgent),\n      osPreset = _b.preset,\n      osVersion = _b.version;\n\n  var chromiumPreset = findPreset(CHROMIUM_PRESETS, nextAgent);\n  browser.chromium = !!chromiumPreset.preset;\n  browser.chromiumVersion = chromiumPreset.version;\n\n  if (!browser.chromium) {\n    var webkitPreset = findPreset(WEBKIT_PRESETS, nextAgent);\n    browser.webkit = !!webkitPreset.preset;\n    browser.webkitVersion = webkitPreset.version;\n  }\n\n  if (osPreset) {\n    os.name = osPreset.id;\n    os.version = osVersion;\n    os.majorVersion = parseInt(osVersion, 10);\n  }\n\n  if (browserPreset) {\n    browser.name = browserPreset.id;\n    browser.version = browserVersion; // Early whale bugs\n\n    if (browser.webview && os.name === \"ios\" && browser.name !== \"safari\") {\n      browser.webview = false;\n    }\n  }\n\n  browser.majorVersion = parseInt(browser.version, 10);\n  return {\n    browser: browser,\n    os: os,\n    isMobile: isMobile,\n    isHints: false\n  };\n}\n\nfunction getClientHintsAgent(osData) {\n  var userAgentData = navigator.userAgentData;\n  var brands = (userAgentData.uaList || userAgentData.brands).slice();\n  var fullVersionList = osData && osData.fullVersionList;\n  var isMobile = userAgentData.mobile || false;\n  var firstBrand = brands[0];\n  var platform = (osData && osData.platform || userAgentData.platform || navigator.platform).toLowerCase();\n  var browser = {\n    name: firstBrand.brand,\n    version: firstBrand.version,\n    majorVersion: -1,\n    webkit: false,\n    webkitVersion: \"-1\",\n    chromium: false,\n    chromiumVersion: \"-1\",\n    webview: !!findPresetBrand(WEBVIEW_PRESETS, brands).brand || isWebView(getUserAgentString())\n  };\n  var os = {\n    name: \"unknown\",\n    version: \"-1\",\n    majorVersion: -1\n  };\n  browser.webkit = !browser.chromium && some(WEBKIT_PRESETS, function (preset) {\n    return findBrand(brands, preset);\n  });\n  var chromiumBrand = findPresetBrand(CHROMIUM_PRESETS, brands);\n  browser.chromium = !!chromiumBrand.brand;\n  browser.chromiumVersion = chromiumBrand.version;\n\n  if (!browser.chromium) {\n    var webkitBrand = findPresetBrand(WEBKIT_PRESETS, brands);\n    browser.webkit = !!webkitBrand.brand;\n    browser.webkitVersion = webkitBrand.version;\n  }\n\n  var platfomResult = find(OS_PRESETS, function (preset) {\n    return new RegExp(\"\" + preset.test, \"g\").exec(platform);\n  });\n  os.name = platfomResult ? platfomResult.id : \"\";\n\n  if (osData) {\n    os.version = osData.platformVersion;\n  }\n\n  if (fullVersionList && fullVersionList.length) {\n    var browserBrandByFullVersionList = findPresetBrand(BROWSER_PRESETS, fullVersionList);\n    browser.name = browserBrandByFullVersionList.brand || browser.name;\n    browser.version = browserBrandByFullVersionList.version || browser.version;\n  } else {\n    var browserBrand = findPresetBrand(BROWSER_PRESETS, brands);\n    browser.name = browserBrand.brand || browser.name;\n    browser.version = browserBrand.brand && osData ? osData.uaFullVersion : browserBrand.version;\n  }\n\n  if (browser.webkit) {\n    os.name = isMobile ? \"ios\" : \"mac\";\n  }\n\n  if (os.name === \"ios\" && browser.webview) {\n    browser.version = \"-1\";\n  }\n\n  os.version = convertVersion(os.version);\n  browser.version = convertVersion(browser.version);\n  os.majorVersion = parseInt(os.version, 10);\n  browser.majorVersion = parseInt(browser.version, 10);\n  return {\n    browser: browser,\n    os: os,\n    isMobile: isMobile,\n    isHints: true\n  };\n}\n\n/**\n * @namespace eg.agent\n */\n\n/**\n* Extracts accuate browser and operating system information from the user agent string or client hints.\n* @ko 유저 에이전트 문자열 또는 client hints에서 정확한 브라우저와 운영체제 정보를 추출한다.\n* @function eg.agent#getAccurateAgent\n* @param - Callback function to get the accuate agent <ko>정확한 에이전트를 가져오기 위한 callback 함수</ko>\n* @return - get the accuate agent promise. If Promise are not supported, null is returned. <ko> 정확한 에이전트 promise를 가져온다. Promise를 지원 하지 않는 경우, null을 반환한다. </ko>\n* @example\nimport { getAccurateAgent } from \"@egjs/agent\";\n// eg.agent.getAccurateAgent()\ngetAccurateAgent().then(agent => {\n   const { os, browser, isMobile } = agent;\n});\ngetAccurateAgent(agent => {\n    const { os, browser, isMobile } = agent;\n});\n*/\n\nfunction getAccurateAgent(callback) {\n  if (hasUserAgentData()) {\n    return navigator.userAgentData.getHighEntropyValues([\"architecture\", \"model\", \"platform\", \"platformVersion\", \"uaFullVersion\", \"fullVersionList\"]).then(function (info) {\n      var agentInfo = getClientHintsAgent(info);\n      callback && callback(agentInfo);\n      return agentInfo;\n    });\n  }\n\n  callback && callback(agent());\n\n  if (typeof Promise === \"undefined\" || !Promise) {\n    return null;\n  }\n\n  return Promise.resolve(agent());\n}\n/**\n * Extracts browser and operating system information from the user agent string.\n * @ko 유저 에이전트 문자열에서 브라우저와 운영체제 정보를 추출한다.\n * @function eg.agent#agent\n * @param - user agent string to parse <ko>파싱할 유저에이전트 문자열</ko>\n * @return - agent Info <ko> 에이전트 정보 </ko>\n * @example\nimport agent from \"@egjs/agent\";\n// eg.agent();\nconst { os, browser, isMobile } = agent();\n */\n\nfunction agent(userAgent) {\n  if (typeof userAgent === \"undefined\" && hasUserAgentData()) {\n    return getClientHintsAgent();\n  } else {\n    return getLegacyAgent(userAgent);\n  }\n}\n\nexport default agent;\nexport { getAccurateAgent, getLegacyAgent };\n//# sourceMappingURL=agent.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: framework-utils\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/framework-utils.git\nversion: 1.1.0\n*/\nfunction prefixNames(prefix) {\n  var classNames = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    classNames[_i - 1] = arguments[_i];\n  }\n\n  return classNames.map(function (className) {\n    return className.split(\" \").map(function (name) {\n      return name ? \"\" + prefix + name : \"\";\n    }).join(\" \");\n  }).join(\" \");\n}\nfunction prefixCSS(prefix, css) {\n  return css.replace(/([^}{]*){/gm, function (_, selector) {\n    return selector.replace(/\\.([^{,\\s\\d.]+)/g, \".\" + prefix + \"$1\") + \"{\";\n  });\n}\n/* react */\n\nfunction ref(target, name) {\n  return function (e) {\n    e && (target[name] = e);\n  };\n}\nfunction refs(target, name, i) {\n  return function (e) {\n    e && (target[name][i] = e);\n  };\n}\n/* Class Decorator */\n\nfunction Properties(properties, action) {\n  return function (component) {\n    var prototype = component.prototype;\n    properties.forEach(function (property) {\n      action(prototype, property);\n    });\n  };\n}\n/* Property Decorator */\n\nfunction withMethods(methods, duplicate) {\n  if (duplicate === void 0) {\n    duplicate = {};\n  }\n\n  return function (prototype, propertyName) {\n    methods.forEach(function (name) {\n      var methodName = duplicate[name] || name;\n\n      if (methodName in prototype) {\n        return;\n      }\n\n      prototype[methodName] = function () {\n        var _a;\n\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        var result = (_a = this[propertyName])[name].apply(_a, args);\n\n        if (result === this[propertyName]) {\n          return this;\n        } else {\n          return result;\n        }\n      };\n    });\n  };\n}\n\nexport { Properties, prefixCSS, prefixNames, ref, refs, withMethods };\n//# sourceMappingURL=utils.esm.js.map\n","/*\nCopyright (c) 2018 Daybrush\n@name: @daybrush/utils\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/utils\n@version 1.13.0\n*/\n/**\n* @namespace\n* @name Consts\n*/\n/**\n* get string \"rgb\"\n* @memberof Color\n* @example\nimport {RGB} from \"@daybrush/utils\";\n\nconsole.log(RGB); // \"rgb\"\n*/\nvar RGB = \"rgb\";\n/**\n* get string \"rgba\"\n* @memberof Color\n* @example\nimport {RGBA} from \"@daybrush/utils\";\n\nconsole.log(RGBA); // \"rgba\"\n*/\nvar RGBA = \"rgba\";\n/**\n* get string \"hsl\"\n* @memberof Color\n* @example\nimport {HSL} from \"@daybrush/utils\";\n\nconsole.log(HSL); // \"hsl\"\n*/\nvar HSL = \"hsl\";\n/**\n* get string \"hsla\"\n* @memberof Color\n* @example\nimport {HSLA} from \"@daybrush/utils\";\n\nconsole.log(HSLA); // \"hsla\"\n*/\nvar HSLA = \"hsla\";\n/**\n* gets an array of color models.\n* @memberof Color\n* @example\nimport {COLOR_MODELS} from \"@daybrush/utils\";\n\nconsole.log(COLOR_MODELS); // [\"rgb\", \"rgba\", \"hsl\", \"hsla\"];\n*/\nvar COLOR_MODELS = [RGB, RGBA, HSL, HSLA];\n/**\n* get string \"function\"\n* @memberof Consts\n* @example\nimport {FUNCTION} from \"@daybrush/utils\";\n\nconsole.log(FUNCTION); // \"function\"\n*/\nvar FUNCTION = \"function\";\n/**\n* get string \"property\"\n* @memberof Consts\n* @example\nimport {PROPERTY} from \"@daybrush/utils\";\n\nconsole.log(PROPERTY); // \"property\"\n*/\nvar PROPERTY = \"property\";\n/**\n* get string \"array\"\n* @memberof Consts\n* @example\nimport {ARRAY} from \"@daybrush/utils\";\n\nconsole.log(ARRAY); // \"array\"\n*/\nvar ARRAY = \"array\";\n/**\n* get string \"object\"\n* @memberof Consts\n* @example\nimport {OBJECT} from \"@daybrush/utils\";\n\nconsole.log(OBJECT); // \"object\"\n*/\nvar OBJECT = \"object\";\n/**\n* get string \"string\"\n* @memberof Consts\n* @example\nimport {STRING} from \"@daybrush/utils\";\n\nconsole.log(STRING); // \"string\"\n*/\nvar STRING = \"string\";\n/**\n* get string \"number\"\n* @memberof Consts\n* @example\nimport {NUMBER} from \"@daybrush/utils\";\n\nconsole.log(NUMBER); // \"number\"\n*/\nvar NUMBER = \"number\";\n/**\n* get string \"undefined\"\n* @memberof Consts\n* @example\nimport {UNDEFINED} from \"@daybrush/utils\";\n\nconsole.log(UNDEFINED); // \"undefined\"\n*/\nvar UNDEFINED = \"undefined\";\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nvar IS_WINDOW = typeof window !== UNDEFINED;\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @name document\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nvar doc = typeof document !== UNDEFINED && document; // FIXME: this type maybe false\nvar prefixes = [\"webkit\", \"ms\", \"moz\", \"o\"];\n/**\n * @namespace CrossBrowser\n */\n/**\n* Get a CSS property with a vendor prefix that supports cross browser.\n* @function\n* @param {string} property - A CSS property\n* @return {string} CSS property with cross-browser vendor prefix\n* @memberof CrossBrowser\n* @example\nimport {getCrossBrowserProperty} from \"@daybrush/utils\";\n\nconsole.log(getCrossBrowserProperty(\"transform\")); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\nconsole.log(getCrossBrowserProperty(\"filter\")); // \"filter\", \"-webkit-filter\"\n*/\nvar getCrossBrowserProperty = /*#__PURE__*/function (property) {\n  if (!doc) {\n    return \"\";\n  }\n  var styles = (doc.body || doc.documentElement).style;\n  var length = prefixes.length;\n  if (typeof styles[property] !== UNDEFINED) {\n    return property;\n  }\n  for (var i = 0; i < length; ++i) {\n    var name = \"-\" + prefixes[i] + \"-\" + property;\n    if (typeof styles[name] !== UNDEFINED) {\n      return name;\n    }\n  }\n  return \"\";\n};\n/**\n* get string \"transfrom\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {TRANSFORM} from \"@daybrush/utils\";\n\nconsole.log(TRANSFORM); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\n*/\nvar TRANSFORM = /*#__PURE__*/getCrossBrowserProperty(\"transform\");\n/**\n* get string \"filter\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {FILTER} from \"@daybrush/utils\";\n\nconsole.log(FILTER); // \"filter\", \"-ms-filter\", \"-webkit-filter\"\n*/\nvar FILTER = /*#__PURE__*/getCrossBrowserProperty(\"filter\");\n/**\n* get string \"animation\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {ANIMATION} from \"@daybrush/utils\";\n\nconsole.log(ANIMATION); // \"animation\", \"-ms-animation\", \"-webkit-animation\"\n*/\nvar ANIMATION = /*#__PURE__*/getCrossBrowserProperty(\"animation\");\n/**\n* get string \"keyframes\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {KEYFRAMES} from \"@daybrush/utils\";\n\nconsole.log(KEYFRAMES); // \"keyframes\", \"-ms-keyframes\", \"-webkit-keyframes\"\n*/\nvar KEYFRAMES = /*#__PURE__*/ANIMATION.replace(\"animation\", \"keyframes\");\nvar OPEN_CLOSED_CHARACTERS = [{\n  open: \"(\",\n  close: \")\"\n}, {\n  open: \"\\\"\",\n  close: \"\\\"\"\n}, {\n  open: \"'\",\n  close: \"'\"\n}, {\n  open: \"\\\\\\\"\",\n  close: \"\\\\\\\"\"\n}, {\n  open: \"\\\\'\",\n  close: \"\\\\'\"\n}];\nvar TINY_NUM = 0.0000001;\nvar REVERSE_TINY_NUM = 1 / TINY_NUM;\nvar DEFAULT_UNIT_PRESETS = {\n  \"cm\": function (pos) {\n    return pos * 96 / 2.54;\n  },\n  \"mm\": function (pos) {\n    return pos * 96 / 254;\n  },\n  \"in\": function (pos) {\n    return pos * 96;\n  },\n  \"pt\": function (pos) {\n    return pos * 96 / 72;\n  },\n  \"pc\": function (pos) {\n    return pos * 96 / 6;\n  },\n  \"%\": function (pos, size) {\n    return pos * size / 100;\n  },\n  \"vw\": function (pos, size) {\n    if (size === void 0) {\n      size = window.innerWidth;\n    }\n    return pos / 100 * size;\n  },\n  \"vh\": function (pos, size) {\n    if (size === void 0) {\n      size = window.innerHeight;\n    }\n    return pos / 100 * size;\n  },\n  \"vmax\": function (pos, size) {\n    if (size === void 0) {\n      size = Math.max(window.innerWidth, window.innerHeight);\n    }\n    return pos / 100 * size;\n  },\n  \"vmin\": function (pos, size) {\n    if (size === void 0) {\n      size = Math.min(window.innerWidth, window.innerHeight);\n    }\n    return pos / 100 * size;\n  }\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n  return r;\n}\n\n/**\n* @namespace\n* @name Utils\n*/\n/**\n * Returns the inner product of two numbers(`a1`, `a2`) by two criteria(`b1`, `b2`).\n * @memberof Utils\n * @param - The first number\n * @param - The second number\n * @param - The first number to base on the inner product\n * @param - The second number to base on the inner product\n * @return - Returns the inner product\nimport { dot } from \"@daybrush/utils\";\n\nconsole.log(dot(0, 15, 2, 3)); // 6\nconsole.log(dot(5, 15, 2, 3)); // 9\nconsole.log(dot(5, 15, 1, 1)); // 10\n */\nfunction dot(a1, a2, b1, b2) {\n  return (a1 * b2 + a2 * b1) / (b1 + b2);\n}\n/**\n* Check the type that the value is undefined.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {boolean} true if the type is correct, false otherwise\n* @example\nimport {isUndefined} from \"@daybrush/utils\";\n\nconsole.log(isUndefined(undefined)); // true\nconsole.log(isUndefined(\"\")); // false\nconsole.log(isUndefined(1)); // false\nconsole.log(isUndefined(null)); // false\n*/\nfunction isUndefined(value) {\n  return typeof value === UNDEFINED;\n}\n/**\n* Check the type that the value is object.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isObject} from \"@daybrush/utils\";\n\nconsole.log(isObject({})); // true\nconsole.log(isObject(undefined)); // false\nconsole.log(isObject(\"\")); // false\nconsole.log(isObject(null)); // false\n*/\nfunction isObject(value) {\n  return value && typeof value === OBJECT;\n}\n/**\n* Check the type that the value is isArray.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isArray} from \"@daybrush/utils\";\n\nconsole.log(isArray([])); // true\nconsole.log(isArray({})); // false\nconsole.log(isArray(undefined)); // false\nconsole.log(isArray(null)); // false\n*/\nfunction isArray(value) {\n  return Array.isArray(value);\n}\n/**\n* Check the type that the value is string.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isString} from \"@daybrush/utils\";\n\nconsole.log(isString(\"1234\")); // true\nconsole.log(isString(undefined)); // false\nconsole.log(isString(1)); // false\nconsole.log(isString(null)); // false\n*/\nfunction isString(value) {\n  return typeof value === STRING;\n}\nfunction isNumber(value) {\n  return typeof value === NUMBER;\n}\n/**\n* Check the type that the value is function.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isFunction} from \"@daybrush/utils\";\n\nconsole.log(isFunction(function a() {})); // true\nconsole.log(isFunction(() => {})); // true\nconsole.log(isFunction(\"1234\")); // false\nconsole.log(isFunction(1)); // false\nconsole.log(isFunction(null)); // false\n*/\nfunction isFunction(value) {\n  return typeof value === FUNCTION;\n}\nfunction isEqualSeparator(character, separator) {\n  var isCharacterSpace = character === \"\" || character == \" \";\n  var isSeparatorSpace = separator === \"\" || separator == \" \";\n  return isSeparatorSpace && isCharacterSpace || character === separator;\n}\nfunction findOpen(openCharacter, texts, index, length, openCloseCharacters) {\n  var isIgnore = findIgnore(openCharacter, texts, index);\n  if (!isIgnore) {\n    return findClose(openCharacter, texts, index + 1, length, openCloseCharacters);\n  }\n  return index;\n}\nfunction findIgnore(character, texts, index) {\n  if (!character.ignore) {\n    return null;\n  }\n  var otherText = texts.slice(Math.max(index - 3, 0), index + 3).join(\"\");\n  return new RegExp(character.ignore).exec(otherText);\n}\nfunction findClose(closeCharacter, texts, index, length, openCloseCharacters) {\n  var _loop_1 = function (i) {\n    var character = texts[i].trim();\n    if (character === closeCharacter.close && !findIgnore(closeCharacter, texts, i)) {\n      return {\n        value: i\n      };\n    }\n    var nextIndex = i;\n    // re open\n    var openCharacter = find(openCloseCharacters, function (_a) {\n      var open = _a.open;\n      return open === character;\n    });\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n    }\n    if (nextIndex === -1) {\n      return out_i_1 = i, \"break\";\n    }\n    i = nextIndex;\n    out_i_1 = i;\n  };\n  var out_i_1;\n  for (var i = index; i < length; ++i) {\n    var state_1 = _loop_1(i);\n    i = out_i_1;\n    if (typeof state_1 === \"object\") return state_1.value;\n    if (state_1 === \"break\") break;\n  }\n  return -1;\n}\nfunction splitText(text, splitOptions) {\n  var _a = isString(splitOptions) ? {\n      separator: splitOptions\n    } : splitOptions,\n    _b = _a.separator,\n    separator = _b === void 0 ? \",\" : _b,\n    isSeparateFirst = _a.isSeparateFirst,\n    isSeparateOnlyOpenClose = _a.isSeparateOnlyOpenClose,\n    _c = _a.isSeparateOpenClose,\n    isSeparateOpenClose = _c === void 0 ? isSeparateOnlyOpenClose : _c,\n    _d = _a.openCloseCharacters,\n    openCloseCharacters = _d === void 0 ? OPEN_CLOSED_CHARACTERS : _d;\n  var openClosedText = openCloseCharacters.map(function (_a) {\n    var open = _a.open,\n      close = _a.close;\n    if (open === close) {\n      return open;\n    }\n    return open + \"|\" + close;\n  }).join(\"|\");\n  var regexText = \"(\\\\s*\" + separator + \"\\\\s*|\" + openClosedText + \"|\\\\s+)\";\n  var regex = new RegExp(regexText, \"g\");\n  var texts = text.split(regex).filter(function (chr) {\n    return chr && chr !== \"undefined\";\n  });\n  var length = texts.length;\n  var values = [];\n  var tempValues = [];\n  function resetTemp() {\n    if (tempValues.length) {\n      values.push(tempValues.join(\"\"));\n      tempValues = [];\n      return true;\n    }\n    return false;\n  }\n  var _loop_2 = function (i) {\n    var character = texts[i].trim();\n    var nextIndex = i;\n    var openCharacter = find(openCloseCharacters, function (_a) {\n      var open = _a.open;\n      return open === character;\n    });\n    var closeCharacter = find(openCloseCharacters, function (_a) {\n      var close = _a.close;\n      return close === character;\n    });\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n      if (nextIndex !== -1 && isSeparateOpenClose) {\n        if (resetTemp() && isSeparateFirst) {\n          return out_i_2 = i, \"break\";\n        }\n        values.push(texts.slice(i, nextIndex + 1).join(\"\"));\n        i = nextIndex;\n        if (isSeparateFirst) {\n          return out_i_2 = i, \"break\";\n        }\n        return out_i_2 = i, \"continue\";\n      }\n    } else if (closeCharacter && !findIgnore(closeCharacter, texts, i)) {\n      var nextOpenCloseCharacters = __spreadArrays(openCloseCharacters);\n      nextOpenCloseCharacters.splice(openCloseCharacters.indexOf(closeCharacter), 1);\n      return {\n        value: splitText(text, {\n          separator: separator,\n          isSeparateFirst: isSeparateFirst,\n          isSeparateOnlyOpenClose: isSeparateOnlyOpenClose,\n          isSeparateOpenClose: isSeparateOpenClose,\n          openCloseCharacters: nextOpenCloseCharacters\n        })\n      };\n    } else if (isEqualSeparator(character, separator) && !isSeparateOnlyOpenClose) {\n      resetTemp();\n      if (isSeparateFirst) {\n        return out_i_2 = i, \"break\";\n      }\n      return out_i_2 = i, \"continue\";\n    }\n    if (nextIndex === -1) {\n      nextIndex = length - 1;\n    }\n    tempValues.push(texts.slice(i, nextIndex + 1).join(\"\"));\n    i = nextIndex;\n    out_i_2 = i;\n  };\n  var out_i_2;\n  for (var i = 0; i < length; ++i) {\n    var state_2 = _loop_2(i);\n    i = out_i_2;\n    if (typeof state_2 === \"object\") return state_2.value;\n    if (state_2 === \"break\") break;\n  }\n  if (tempValues.length) {\n    values.push(tempValues.join(\"\"));\n  }\n  return values;\n}\n/**\n* divide text by space.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {spliceSpace} from \"@daybrush/utils\";\n\nconsole.log(splitSpace(\"a b c d e f g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitSpace(\"'a,b' c 'd,e' f g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nfunction splitSpace(text) {\n  // divide comma(space)\n  return splitText(text, \"\");\n}\n/**\n* divide text by comma.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {splitComma} from \"@daybrush/utils\";\n\nconsole.log(splitComma(\"a,b,c,d,e,f,g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitComma(\"'a,b',c,'d,e',f,g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nfunction splitComma(text) {\n  // divide comma(,)\n  // \"[^\"]*\"|'[^']*'\n  return splitText(text, \",\");\n}\n/**\n* divide text by bracket \"(\", \")\".\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {object} divided texts\n* @example\nimport {splitBracket} from \"@daybrush/utils\";\n\nconsole.log(splitBracket(\"a(1, 2)\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"\"}\nconsole.log(splitBracket(\"a(1, 2)b\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"b\"}\n*/\nfunction splitBracket(text) {\n  var matches = /([^(]*)\\(([\\s\\S]*)\\)([\\s\\S]*)/g.exec(text);\n  if (!matches || matches.length < 4) {\n    return {};\n  } else {\n    return {\n      prefix: matches[1],\n      value: matches[2],\n      suffix: matches[3]\n    };\n  }\n}\n/**\n* divide text by number and unit.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {} divided texts\n* @example\nimport {splitUnit} from \"@daybrush/utils\";\n\nconsole.log(splitUnit(\"10px\"));\n// {prefix: \"\", value: 10, unit: \"px\"}\nconsole.log(splitUnit(\"-10px\"));\n// {prefix: \"\", value: -10, unit: \"px\"}\nconsole.log(splitUnit(\"a10%\"));\n// {prefix: \"a\", value: 10, unit: \"%\"}\n*/\nfunction splitUnit(text) {\n  var matches = /^([^\\d|e|\\-|\\+]*)((?:\\d|\\.|-|e-|e\\+)+)(\\S*)$/g.exec(text);\n  if (!matches) {\n    return {\n      prefix: \"\",\n      unit: \"\",\n      value: NaN\n    };\n  }\n  var prefix = matches[1];\n  var value = matches[2];\n  var unit = matches[3];\n  return {\n    prefix: prefix,\n    unit: unit,\n    value: parseFloat(value)\n  };\n}\n/**\n* transform strings to camel-case\n* @memberof Utils\n* @param {String} text - string\n* @return {String} camel-case string\n* @example\nimport {camelize} from \"@daybrush/utils\";\n\nconsole.log(camelize(\"transform-origin\")); // transformOrigin\nconsole.log(camelize(\"abcd_efg\")); // abcdEfg\nconsole.log(camelize(\"abcd efg\")); // abcdEfg\n*/\nfunction camelize(str) {\n  return str.replace(/[\\s-_]+([^\\s-_])/g, function (all, letter) {\n    return letter.toUpperCase();\n  });\n}\n/**\n* transform a camelized string into a lowercased string.\n* @memberof Utils\n* @param {string} text - a camel-cased string\n* @param {string} [separator=\"-\"] - a separator\n* @return {string}  a lowercased string\n* @example\nimport {decamelize} from \"@daybrush/utils\";\n\nconsole.log(decamelize(\"transformOrigin\")); // transform-origin\nconsole.log(decamelize(\"abcdEfg\", \"_\")); // abcd_efg\n*/\nfunction decamelize(str, separator) {\n  if (separator === void 0) {\n    separator = \"-\";\n  }\n  return str.replace(/([a-z])([A-Z])/g, function (all, letter, letter2) {\n    return \"\" + letter + separator + letter2.toLowerCase();\n  });\n}\n/**\n* transforms something in an array into an array.\n* @memberof Utils\n* @param - Array form\n* @return an array\n* @example\nimport {toArray} from \"@daybrush/utils\";\n\nconst arr1 = toArray(document.querySelectorAll(\".a\")); // Element[]\nconst arr2 = toArray(document.querySelectorAll<HTMLElement>(\".a\")); // HTMLElement[]\n*/\nfunction toArray(value) {\n  return [].slice.call(value);\n}\n/**\n* Date.now() method\n* @memberof CrossBrowser\n* @return {number} milliseconds\n* @example\nimport {now} from \"@daybrush/utils\";\n\nconsole.log(now()); // 12121324241(milliseconds)\n*/\nfunction now() {\n  return Date.now ? Date.now() : new Date().getTime();\n}\n/**\n* Returns the index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findIndex } from \"@daybrush/utils\";\n\nfindIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nfunction findIndex(arr, callback, defaultIndex) {\n  if (defaultIndex === void 0) {\n    defaultIndex = -1;\n  }\n  var length = arr.length;\n  for (var i = 0; i < length; ++i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n/**\n* Returns the reverse direction index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLastIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findLastIndex } from \"@daybrush/utils\";\n\nfindLastIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nfunction findLastIndex(arr, callback, defaultIndex) {\n  if (defaultIndex === void 0) {\n    defaultIndex = -1;\n  }\n  var length = arr.length;\n  for (var i = length - 1; i >= 0; --i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n/**\n* Returns the value of the reverse direction element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLast` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nfunction findLast(arr, callback, defalutValue) {\n  var index = findLastIndex(arr, callback);\n  return index > -1 ? arr[index] : defalutValue;\n}\n/**\n* Returns the value of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `find` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nfunction find(arr, callback, defalutValue) {\n  var index = findIndex(arr, callback);\n  return index > -1 ? arr[index] : defalutValue;\n}\n/**\n* window.requestAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {FrameRequestCallback} callback - The function to call when it's time to update your animation for the next repaint.\n* @return {number} id\n* @example\nimport {requestAnimationFrame} from \"@daybrush/utils\";\n\nrequestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n*/\nvar requestAnimationFrame = /*#__PURE__*/function () {\n  var firstTime = now();\n  var raf = IS_WINDOW && (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame);\n  return raf ? raf.bind(window) : function (callback) {\n    var currTime = now();\n    var id = setTimeout(function () {\n      callback(currTime - firstTime);\n    }, 1000 / 60);\n    return id;\n  };\n}();\n/**\n* window.cancelAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {number} handle - the id obtained through requestAnimationFrame method\n* @return {void}\n* @example\nimport { requestAnimationFrame, cancelAnimationFrame } from \"@daybrush/utils\";\n\nconst id = requestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n\ncancelAnimationFrame(id);\n*/\nvar cancelAnimationFrame = /*#__PURE__*/function () {\n  var caf = IS_WINDOW && (window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.msCancelAnimationFrame);\n  return caf ? caf.bind(window) : function (handle) {\n    clearTimeout(handle);\n  };\n}();\n/**\n* @function\n* @memberof Utils\n*/\nfunction getKeys(obj) {\n  return Object.keys(obj);\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction getValues(obj) {\n  var keys = getKeys(obj);\n  return keys.map(function (key) {\n    return obj[key];\n  });\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction getEntries(obj) {\n  var keys = getKeys(obj);\n  return keys.map(function (key) {\n    return [key, obj[key]];\n  });\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction sortOrders(keys, orders) {\n  if (orders === void 0) {\n    orders = [];\n  }\n  keys.sort(function (a, b) {\n    var index1 = orders.indexOf(a);\n    var index2 = orders.indexOf(b);\n    if (index2 === -1 && index1 === -1) {\n      return 0;\n    }\n    if (index1 === -1) {\n      return 1;\n    }\n    if (index2 === -1) {\n      return -1;\n    }\n    return index1 - index2;\n  });\n}\n/**\n* convert unit size to px size\n* @function\n* @memberof Utils\n*/\nfunction convertUnitSize(pos, size) {\n  var _a = splitUnit(pos),\n    value = _a.value,\n    unit = _a.unit;\n  if (isObject(size)) {\n    var sizeFunction = size[unit];\n    if (sizeFunction) {\n      if (isFunction(sizeFunction)) {\n        return sizeFunction(value);\n      } else if (DEFAULT_UNIT_PRESETS[unit]) {\n        return DEFAULT_UNIT_PRESETS[unit](value, sizeFunction);\n      }\n    }\n  } else if (unit === \"%\") {\n    return value * size / 100;\n  }\n  if (DEFAULT_UNIT_PRESETS[unit]) {\n    return DEFAULT_UNIT_PRESETS[unit](value);\n  }\n  return value;\n}\n/**\n* calculate between min, max\n* @function\n* @memberof Utils\n*/\nfunction between(value, min, max) {\n  return Math.max(min, Math.min(value, max));\n}\nfunction checkBoundSize(targetSize, compareSize, isMax, ratio) {\n  if (ratio === void 0) {\n    ratio = targetSize[0] / targetSize[1];\n  }\n  return [[throttle(compareSize[0], TINY_NUM), throttle(compareSize[0] / ratio, TINY_NUM)], [throttle(compareSize[1] * ratio, TINY_NUM), throttle(compareSize[1], TINY_NUM)]].filter(function (size) {\n    return size.every(function (value, i) {\n      var defaultSize = compareSize[i];\n      var throttledSize = throttle(defaultSize, TINY_NUM);\n      return isMax ? value <= defaultSize || value <= throttledSize : value >= defaultSize || value >= throttledSize;\n    });\n  })[0] || targetSize;\n}\n/**\n* calculate bound size\n* @function\n* @memberof Utils\n*/\nfunction calculateBoundSize(size, minSize, maxSize, keepRatio) {\n  if (!keepRatio) {\n    return size.map(function (value, i) {\n      return between(value, minSize[i], maxSize[i]);\n    });\n  }\n  var width = size[0],\n    height = size[1];\n  var ratio = keepRatio === true ? width / height : keepRatio;\n  // width : height = minWidth : minHeight;\n  var _a = checkBoundSize(size, minSize, false, ratio),\n    minWidth = _a[0],\n    minHeight = _a[1];\n  var _b = checkBoundSize(size, maxSize, true, ratio),\n    maxWidth = _b[0],\n    maxHeight = _b[1];\n  if (width < minWidth || height < minHeight) {\n    width = minWidth;\n    height = minHeight;\n  } else if (width > maxWidth || height > maxHeight) {\n    width = maxWidth;\n    height = maxHeight;\n  }\n  return [width, height];\n}\n/**\n* Add all the numbers.\n* @function\n* @memberof Utils\n*/\nfunction sum(nums) {\n  var length = nums.length;\n  var total = 0;\n  for (var i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return total;\n}\n/**\n* Average all numbers.\n* @function\n* @memberof Utils\n*/\nfunction average(nums) {\n  var length = nums.length;\n  var total = 0;\n  for (var i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return length ? total / length : 0;\n}\n/**\n* Get the angle of two points. (0 <= rad < 359)\n* @function\n* @memberof Utils\n*/\nfunction getRad(pos1, pos2) {\n  var distX = pos2[0] - pos1[0];\n  var distY = pos2[1] - pos1[1];\n  var rad = Math.atan2(distY, distX);\n  return rad >= 0 ? rad : rad + Math.PI * 2;\n}\n/**\n* Get the average point of all points.\n* @function\n* @memberof Utils\n*/\nfunction getCenterPoint(points) {\n  return [0, 1].map(function (i) {\n    return average(points.map(function (pos) {\n      return pos[i];\n    }));\n  });\n}\n/**\n* Gets the direction of the shape.\n* @function\n* @memberof Utils\n*/\nfunction getShapeDirection(points) {\n  var center = getCenterPoint(points);\n  var pos1Rad = getRad(center, points[0]);\n  var pos2Rad = getRad(center, points[1]);\n  return pos1Rad < pos2Rad && pos2Rad - pos1Rad < Math.PI || pos1Rad > pos2Rad && pos2Rad - pos1Rad < -Math.PI ? 1 : -1;\n}\n/**\n* Get the distance between two points.\n* @function\n* @memberof Utils\n*/\nfunction getDist(a, b) {\n  return Math.sqrt(Math.pow((b ? b[0] : 0) - a[0], 2) + Math.pow((b ? b[1] : 0) - a[1], 2));\n}\n/**\n* throttle number depending on the unit.\n* @function\n* @memberof Utils\n*/\nfunction throttle(num, unit) {\n  if (!unit) {\n    return num;\n  }\n  var reverseUnit = 1 / unit;\n  return Math.round(num / unit) / reverseUnit;\n}\n/**\n* throttle number array depending on the unit.\n* @function\n* @memberof Utils\n*/\nfunction throttleArray(nums, unit) {\n  nums.forEach(function (_, i) {\n    nums[i] = throttle(nums[i], unit);\n  });\n  return nums;\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction counter(num) {\n  var nums = [];\n  for (var i = 0; i < num; ++i) {\n    nums.push(i);\n  }\n  return nums;\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction replaceOnce(text, fromText, toText) {\n  var isOnce = false;\n  return text.replace(fromText, function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    if (isOnce) {\n      return args[0];\n    }\n    isOnce = true;\n    return isString(toText) ? toText : toText.apply(void 0, args);\n  });\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction flat(arr) {\n  return arr.reduce(function (prev, cur) {\n    return prev.concat(cur);\n  }, []);\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction deepFlat(arr) {\n  return arr.reduce(function (prev, cur) {\n    if (isArray(cur)) {\n      prev.push.apply(prev, deepFlat(cur));\n    } else {\n      prev.push(cur);\n    }\n    return prev;\n  }, []);\n}\n/**\n * @function\n * @memberof Utils\n */\nfunction pushSet(elements, element) {\n  if (elements.indexOf(element) === -1) {\n    elements.push(element);\n  }\n}\n\n/**\n* @namespace\n* @name Color\n*/\n/**\n* Remove the # from the hex color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} hex color\n* @example\nimport {cutHex} from \"@daybrush/utils\";\n\nconsole.log(cutHex(\"#000000\")) // \"000000\"\n*/\nfunction cutHex(hex) {\n  return hex.replace(\"#\", \"\");\n}\n/**\n* convert hex color to rgb color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} rgb color\n* @example\nimport {hexToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hexToRGBA(\"#00000005\"));\n// [0, 0, 0, 1]\nconsole.log(hexToRGBA(\"#201045\"));\n// [32, 16, 69, 1]\n*/\nfunction hexToRGBA(hex) {\n  var h = cutHex(hex);\n  var r = parseInt(h.substring(0, 2), 16);\n  var g = parseInt(h.substring(2, 4), 16);\n  var b = parseInt(h.substring(4, 6), 16);\n  var a = parseInt(h.substring(6, 8), 16) / 255;\n  if (isNaN(a)) {\n    a = 1;\n  }\n  return [r, g, b, a];\n}\n/**\n* convert 3(or 4)-digit hex color to 6(or 8)-digit hex color.\n* @memberof Color\n* @param {} hex - 3(or 4)-digit hex color\n* @return {} 6(or 8)-digit hex color\n* @example\nimport {toFullHex} from \"@daybrush/utils\";\n\nconsole.log(toFullHex(\"#123\")); // \"#112233\"\nconsole.log(toFullHex(\"#123a\")); // \"#112233aa\"\n*/\nfunction toFullHex(h) {\n  var r = h.charAt(1);\n  var g = h.charAt(2);\n  var b = h.charAt(3);\n  var a = h.charAt(4);\n  var arr = [\"#\", r, r, g, g, b, b, a, a];\n  return arr.join(\"\");\n}\n/**\n* convert hsl color to rgba color.\n* @memberof Color\n* @param {} hsl - hsl color(hue: 0 ~ 360, saturation: 0 ~ 1, lightness: 0 ~ 1, alpha: 0 ~ 1)\n* @return {} rgba color\n* @example\nimport {hslToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hslToRGBA([150, 0.5, 0.4]));\n// [51, 153, 102, 1]\n*/\nfunction hslToRGBA(hsl) {\n  var _a;\n  var h = hsl[0];\n  var s = hsl[1];\n  var l = hsl[2];\n  if (h < 0) {\n    h += Math.floor((Math.abs(h) + 360) / 360) * 360;\n  }\n  h %= 360;\n  var c = (1 - Math.abs(2 * l - 1)) * s;\n  var x = c * (1 - Math.abs(h / 60 % 2 - 1));\n  var m = l - c / 2;\n  var rgb;\n  if (h < 60) {\n    rgb = [c, x, 0];\n  } else if (h < 120) {\n    rgb = [x, c, 0];\n  } else if (h < 180) {\n    rgb = [0, c, x];\n  } else if (h < 240) {\n    rgb = [0, x, c];\n  } else if (h < 300) {\n    rgb = [x, 0, c];\n  } else if (h < 360) {\n    rgb = [c, 0, x];\n  } else {\n    rgb = [0, 0, 0];\n  }\n  return [Math.round((rgb[0] + m) * 255), Math.round((rgb[1] + m) * 255), Math.round((rgb[2] + m) * 255), (_a = hsl[3]) !== null && _a !== void 0 ? _a : 1];\n}\n/**\n* convert string to rgba color.\n* @memberof Color\n* @param {} - 3-hex(#000), 4-hex(#0000) 6-hex(#000000), 8-hex(#00000000) or RGB(A), or HSL(A)\n* @return {} rgba color\n* @example\nimport {stringToRGBA} from \"@daybrush/utils\";\n\nconsole.log(stringToRGBA(\"#000000\")); // [0, 0, 0, 1]\nconsole.log(stringToRGBA(\"rgb(100, 100, 100)\")); // [100, 100, 100, 1]\nconsole.log(stringToRGBA(\"hsl(150, 0.5, 0.4)\")); // [51, 153, 102, 1]\n*/\nfunction stringToRGBA(color) {\n  if (color.charAt(0) === \"#\") {\n    if (color.length === 4 || color.length === 5) {\n      return hexToRGBA(toFullHex(color));\n    } else {\n      return hexToRGBA(color);\n    }\n  } else if (color.indexOf(\"(\") !== -1) {\n    // in bracket.\n    var _a = splitBracket(color),\n      prefix = _a.prefix,\n      value = _a.value;\n    if (!prefix || !value) {\n      return undefined;\n    }\n    var arr = splitComma(value);\n    var colorArr = [0, 0, 0, 1];\n    var length = arr.length;\n    switch (prefix) {\n      case RGB:\n      case RGBA:\n        for (var i = 0; i < length; ++i) {\n          colorArr[i] = parseFloat(arr[i]);\n        }\n        return colorArr;\n      case HSL:\n      case HSLA:\n        for (var i = 0; i < length; ++i) {\n          if (arr[i].indexOf(\"%\") !== -1) {\n            colorArr[i] = parseFloat(arr[i]) / 100;\n          } else {\n            colorArr[i] = parseFloat(arr[i]);\n          }\n        }\n        // hsl, hsla to rgba\n        return hslToRGBA(colorArr);\n    }\n  }\n  return undefined;\n}\n\n/**\n * Returns all element descendants of node that\n * match selectors.\n */\n/**\n * Checks if the specified class value exists in the element's class attribute.\n * @memberof DOM\n * @param - A DOMString containing one or more selectors to match\n * @param - If multi is true, a DOMString containing one or more selectors to match against.\n * @example\nimport {$} from \"@daybrush/utils\";\n\nconsole.log($(\"div\")); // div element\nconsole.log($(\"div\", true)); // [div, div] elements\n*/\nfunction $(selectors, multi) {\n  if (!doc) {\n    return multi ? [] : null;\n  }\n  return multi ? doc.querySelectorAll(selectors) : doc.querySelector(selectors);\n}\n/**\n* Checks if the specified class value exists in the element's class attribute.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to search\n* @return {boolean} return false if the class is not found.\n* @example\nimport {hasClass} from \"@daybrush/utils\";\n\nconsole.log(hasClass(element, \"start\")); // true or false\n*/\nfunction hasClass(element, className) {\n  if (element.classList) {\n    return element.classList.contains(className);\n  }\n  return !!element.className.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n}\n/**\n* Add the specified class value. If these classe already exist in the element's class attribute they are ignored.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to add\n* @example\nimport {addClass} from \"@daybrush/utils\";\n\naddClass(element, \"start\");\n*/\nfunction addClass(element, className) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else {\n    element.className += \" \" + className;\n  }\n}\n/**\n* Removes the specified class value.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to remove\n* @example\nimport {removeClass} from \"@daybrush/utils\";\n\nremoveClass(element, \"start\");\n*/\nfunction removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else {\n    var reg = new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n    element.className = element.className.replace(reg, \" \");\n  }\n}\n/**\n* Gets the CSS properties from the element.\n* @memberof DOM\n* @param elements - elements\n* @param properites - the CSS properties\n* @return returns CSS properties and values.\n* @example\nimport {fromCSS} from \"@daybrush/utils\";\n\nconsole.log(fromCSS(element, [\"left\", \"opacity\", \"top\"])); // {\"left\": \"10px\", \"opacity\": 1, \"top\": \"10px\"}\n*/\nfunction fromCSS(elements, properties) {\n  if (!elements || !properties || !properties.length) {\n    return {};\n  }\n  var element;\n  if (elements instanceof Element) {\n    element = elements;\n  } else if (elements.length) {\n    element = elements[0];\n  } else {\n    return {};\n  }\n  var cssObject = {};\n  var styles = getWindow(element).getComputedStyle(element);\n  var length = properties.length;\n  for (var i = 0; i < length; ++i) {\n    cssObject[properties[i]] = styles[properties[i]];\n  }\n  return cssObject;\n}\n/**\n* Sets up a function that will be called whenever the specified event is delivered to the target\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The object which receives a notification (an object that implements the Event interface) when an event of the specified type occurs\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent} from \"@daybrush/utils\";\n\naddEvent(el, \"click\", e => {\n  console.log(e);\n});\n*/\nfunction addEvent(el, type, listener, options) {\n  el.addEventListener(type, listener, options);\n}\n/**\n* removes from the EventTarget an event listener previously registered with EventTarget.addEventListener()\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The EventListener function of the event handler to remove from the event target.\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent, removeEvent} from \"@daybrush/utils\";\nconst listener = e => {\n  console.log(e);\n};\naddEvent(el, \"click\", listener);\nremoveEvent(el, \"click\", listener);\n*/\nfunction removeEvent(el, type, listener, options) {\n  el.removeEventListener(type, listener, options);\n}\nfunction getDocument(el) {\n  return (el === null || el === void 0 ? void 0 : el.ownerDocument) || doc;\n}\nfunction getDocumentElement(el) {\n  return getDocument(el).documentElement;\n}\nfunction getDocumentBody(el) {\n  return getDocument(el).body;\n}\nfunction getWindow(el) {\n  var _a;\n  return ((_a = el === null || el === void 0 ? void 0 : el.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView) || window;\n}\nfunction isWindow(val) {\n  return val && \"postMessage\" in val && \"blur\" in val && \"self\" in val;\n}\nfunction isNode(el) {\n  return isObject(el) && el.nodeName && el.nodeType && \"ownerDocument\" in el;\n}\n\nexport { RGB, RGBA, HSL, HSLA, COLOR_MODELS, FUNCTION, PROPERTY, ARRAY, OBJECT, STRING, NUMBER, UNDEFINED, IS_WINDOW, doc as document, getCrossBrowserProperty, TRANSFORM, FILTER, ANIMATION, KEYFRAMES, OPEN_CLOSED_CHARACTERS, TINY_NUM, REVERSE_TINY_NUM, DEFAULT_UNIT_PRESETS, cutHex, hexToRGBA, toFullHex, hslToRGBA, stringToRGBA, dot, isUndefined, isObject, isArray, isString, isNumber, isFunction, splitText, splitSpace, splitComma, splitBracket, splitUnit, camelize, decamelize, toArray, now, findIndex, findLastIndex, findLast, find, requestAnimationFrame, cancelAnimationFrame, getKeys, getValues, getEntries, sortOrders, convertUnitSize, between, checkBoundSize, calculateBoundSize, sum, average, getRad, getCenterPoint, getShapeDirection, getDist, throttle, throttleArray, counter, replaceOnce, flat, deepFlat, pushSet, $, hasClass, addClass, removeClass, fromCSS, addEvent, removeEvent, getDocument, getDocumentElement, getDocumentBody, getWindow, isWindow, isNode };\n//# sourceMappingURL=utils.esm.js.map\n","/*\nCopyright (c) 2020 Daybrush\nname: @scena/matrix\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/matrix\nversion: 1.1.1\n*/\nimport { throttle, TINY_NUM, average } from '@daybrush/utils';\n\nfunction add(matrix, inverseMatrix, startIndex, fromIndex, n, k) {\n  for (var i = 0; i < n; ++i) {\n    var x = startIndex + i * n;\n    var fromX = fromIndex + i * n;\n    matrix[x] += matrix[fromX] * k;\n    inverseMatrix[x] += inverseMatrix[fromX] * k;\n  }\n}\n\nfunction swap(matrix, inverseMatrix, startIndex, fromIndex, n) {\n  for (var i = 0; i < n; ++i) {\n    var x = startIndex + i * n;\n    var fromX = fromIndex + i * n;\n    var v = matrix[x];\n    var iv = inverseMatrix[x];\n    matrix[x] = matrix[fromX];\n    matrix[fromX] = v;\n    inverseMatrix[x] = inverseMatrix[fromX];\n    inverseMatrix[fromX] = iv;\n  }\n}\n\nfunction divide(matrix, inverseMatrix, startIndex, n, k) {\n  for (var i = 0; i < n; ++i) {\n    var x = startIndex + i * n;\n    matrix[x] /= k;\n    inverseMatrix[x] /= k;\n  }\n}\n/**\n *\n * @namespace Matrix\n */\n\n/**\n * @memberof Matrix\n */\n\n\nfunction ignoreDimension(matrix, m, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = matrix.slice();\n\n  for (var i = 0; i < n; ++i) {\n    newMatrix[i * n + m - 1] = 0;\n    newMatrix[(m - 1) * n + i] = 0;\n  }\n\n  newMatrix[(m - 1) * (n + 1)] = 1;\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction invert(matrix, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = matrix.slice();\n  var inverseMatrix = createIdentityMatrix(n);\n\n  for (var i = 0; i < n; ++i) {\n    // diagonal\n    var identityIndex = n * i + i;\n\n    if (!throttle(newMatrix[identityIndex], TINY_NUM)) {\n      // newMatrix[identityIndex] = 0;\n      for (var j = i + 1; j < n; ++j) {\n        if (newMatrix[n * i + j]) {\n          swap(newMatrix, inverseMatrix, i, j, n);\n          break;\n        }\n      }\n    }\n\n    if (!throttle(newMatrix[identityIndex], TINY_NUM)) {\n      // no inverse matrix\n      return [];\n    }\n\n    divide(newMatrix, inverseMatrix, i, n, newMatrix[identityIndex]);\n\n    for (var j = 0; j < n; ++j) {\n      var targetStartIndex = j;\n      var targetIndex = j + i * n;\n      var target = newMatrix[targetIndex];\n\n      if (!throttle(target, TINY_NUM) || i === j) {\n        continue;\n      }\n\n      add(newMatrix, inverseMatrix, targetStartIndex, i, n, -target);\n    }\n  }\n\n  return inverseMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction transpose(matrix, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = [];\n\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0; j < n; ++j) {\n      newMatrix[j * n + i] = matrix[n * i + j];\n    }\n  }\n\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction getOrigin(matrix, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var originMatrix = [];\n  var w = matrix[n * n - 1];\n\n  for (var i = 0; i < n - 1; ++i) {\n    originMatrix[i] = matrix[n * (n - 1) + i] / w;\n  }\n\n  originMatrix[n - 1] = 0;\n  return originMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction fromTranslation(pos, n) {\n  var newMatrix = createIdentityMatrix(n);\n\n  for (var i = 0; i < n - 1; ++i) {\n    newMatrix[n * (n - 1) + i] = pos[i] || 0;\n  }\n\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction convertPositionMatrix(matrix, n) {\n  var newMatrix = matrix.slice();\n\n  for (var i = matrix.length; i < n - 1; ++i) {\n    newMatrix[i] = 0;\n  }\n\n  newMatrix[n - 1] = 1;\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction convertDimension(matrix, n, m) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  } // n < m\n\n\n  if (n === m) {\n    return matrix;\n  }\n\n  var newMatrix = createIdentityMatrix(m);\n  var length = Math.min(n, m);\n\n  for (var i = 0; i < length - 1; ++i) {\n    for (var j = 0; j < length - 1; ++j) {\n      newMatrix[i * m + j] = matrix[i * n + j];\n    }\n\n    newMatrix[(i + 1) * m - 1] = matrix[(i + 1) * n - 1];\n    newMatrix[(m - 1) * m + i] = matrix[(n - 1) * n + i];\n  }\n\n  newMatrix[m * m - 1] = matrix[n * n - 1];\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction multiplies(n) {\n  var matrixes = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    matrixes[_i - 1] = arguments[_i];\n  }\n\n  var m = createIdentityMatrix(n);\n  matrixes.forEach(function (matrix) {\n    m = multiply(m, matrix, n);\n  });\n  return m;\n}\n/**\n * @memberof Matrix\n */\n\nfunction multiply(matrix, matrix2, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = []; // 1 y: n\n  // 1 x: m\n  // 2 x: m\n  // 2 y: k\n  // n * m X m * k\n\n  var m = matrix.length / n;\n  var k = matrix2.length / m;\n\n  if (!m) {\n    return matrix2;\n  } else if (!k) {\n    return matrix;\n  }\n\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0; j < k; ++j) {\n      newMatrix[j * n + i] = 0;\n\n      for (var l = 0; l < m; ++l) {\n        // m1 x: m(l), y: n(i)\n        // m2 x: k(j):  y: m(l)\n        // nw x: n(i), y: k(j)\n        newMatrix[j * n + i] += matrix[l * n + i] * matrix2[j * m + l];\n      }\n    }\n  } // n * k\n\n\n  return newMatrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction plus(pos1, pos2) {\n  var length = Math.min(pos1.length, pos2.length);\n  var nextPos = pos1.slice();\n\n  for (var i = 0; i < length; ++i) {\n    nextPos[i] = nextPos[i] + pos2[i];\n  }\n\n  return nextPos;\n}\n/**\n * @memberof Matrix\n */\n\nfunction minus(pos1, pos2) {\n  var length = Math.min(pos1.length, pos2.length);\n  var nextPos = pos1.slice();\n\n  for (var i = 0; i < length; ++i) {\n    nextPos[i] = nextPos[i] - pos2[i];\n  }\n\n  return nextPos;\n}\n/**\n * @memberof Matrix\n */\n\nfunction convertCSStoMatrix(a, is2d) {\n  if (is2d === void 0) {\n    is2d = a.length === 6;\n  }\n\n  if (is2d) {\n    return [a[0], a[1], 0, a[2], a[3], 0, a[4], a[5], 1];\n  }\n\n  return a;\n}\n/**\n * @memberof Matrix\n */\n\nfunction convertMatrixtoCSS(a, is2d) {\n  if (is2d === void 0) {\n    is2d = a.length === 9;\n  }\n\n  if (is2d) {\n    return [a[0], a[1], a[3], a[4], a[6], a[7]];\n  }\n\n  return a;\n}\n/**\n * @memberof Matrix\n */\n\nfunction calculate(matrix, matrix2, n) {\n  if (n === void 0) {\n    n = matrix2.length;\n  }\n\n  var result = multiply(matrix, matrix2, n);\n  var k = result[n - 1];\n  return result.map(function (v) {\n    return v / k;\n  });\n}\n/**\n * @memberof Matrix\n */\n\nfunction rotateX3d(matrix, rad) {\n  return multiply(matrix, [1, 0, 0, 0, 0, Math.cos(rad), Math.sin(rad), 0, 0, -Math.sin(rad), Math.cos(rad), 0, 0, 0, 0, 1], 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction rotateY3d(matrix, rad) {\n  return multiply(matrix, [Math.cos(rad), 0, -Math.sin(rad), 0, 0, 1, 0, 0, Math.sin(rad), 0, Math.cos(rad), 0, 0, 0, 0, 1], 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction rotateZ3d(matrix, rad) {\n  return multiply(matrix, createRotateMatrix(rad, 4));\n}\n/**\n * @memberof Matrix\n */\n\nfunction scale3d(matrix, _a) {\n  var _b = _a[0],\n      sx = _b === void 0 ? 1 : _b,\n      _c = _a[1],\n      sy = _c === void 0 ? 1 : _c,\n      _d = _a[2],\n      sz = _d === void 0 ? 1 : _d;\n  return multiply(matrix, [sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1], 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction rotate(pos, rad) {\n  return calculate(createRotateMatrix(rad, 3), convertPositionMatrix(pos, 3));\n}\n/**\n * @memberof Matrix\n */\n\nfunction translate3d(matrix, _a) {\n  var _b = _a[0],\n      tx = _b === void 0 ? 0 : _b,\n      _c = _a[1],\n      ty = _c === void 0 ? 0 : _c,\n      _d = _a[2],\n      tz = _d === void 0 ? 0 : _d;\n  return multiply(matrix, [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1], 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction matrix3d(matrix1, matrix2) {\n  return multiply(matrix1, matrix2, 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction createRotateMatrix(rad, n) {\n  var cos = Math.cos(rad);\n  var sin = Math.sin(rad);\n  var m = createIdentityMatrix(n); // cos -sin\n  // sin cos\n\n  m[0] = cos;\n  m[1] = sin;\n  m[n] = -sin;\n  m[n + 1] = cos;\n  return m;\n}\n/**\n * @memberof Matrix\n */\n\nfunction createIdentityMatrix(n) {\n  var length = n * n;\n  var matrix = [];\n\n  for (var i = 0; i < length; ++i) {\n    matrix[i] = i % (n + 1) ? 0 : 1;\n  }\n\n  return matrix;\n}\n/**\n * @memberof Matrix\n */\n\nfunction createScaleMatrix(scale, n) {\n  var m = createIdentityMatrix(n);\n  var length = Math.min(scale.length, n - 1);\n\n  for (var i = 0; i < length; ++i) {\n    m[(n + 1) * i] = scale[i];\n  }\n\n  return m;\n}\n/**\n * @memberof Matrix\n */\n\nfunction createOriginMatrix(origin, n) {\n  var m = createIdentityMatrix(n);\n  var length = Math.min(origin.length, n - 1);\n\n  for (var i = 0; i < length; ++i) {\n    m[n * (n - 1) + i] = origin[i];\n  }\n\n  return m;\n}\n/**\n * @memberof Matrix\n */\n\nfunction createWarpMatrix(pos0, pos1, pos2, pos3, nextPos0, nextPos1, nextPos2, nextPos3) {\n  var x0 = pos0[0],\n      y0 = pos0[1];\n  var x1 = pos1[0],\n      y1 = pos1[1];\n  var x2 = pos2[0],\n      y2 = pos2[1];\n  var x3 = pos3[0],\n      y3 = pos3[1];\n  var u0 = nextPos0[0],\n      v0 = nextPos0[1];\n  var u1 = nextPos1[0],\n      v1 = nextPos1[1];\n  var u2 = nextPos2[0],\n      v2 = nextPos2[1];\n  var u3 = nextPos3[0],\n      v3 = nextPos3[1];\n  var matrix = [x0, 0, x1, 0, x2, 0, x3, 0, y0, 0, y1, 0, y2, 0, y3, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, x0, 0, x1, 0, x2, 0, x3, 0, y0, 0, y1, 0, y2, 0, y3, 0, 1, 0, 1, 0, 1, 0, 1, -u0 * x0, -v0 * x0, -u1 * x1, -v1 * x1, -u2 * x2, -v2 * x2, -u3 * x3, -v3 * x3, -u0 * y0, -v0 * y0, -u1 * y1, -v1 * y1, -u2 * y2, -v2 * y2, -u3 * y3, -v3 * y3];\n  var inverseMatrix = invert(matrix, 8);\n\n  if (!inverseMatrix.length) {\n    return [];\n  }\n\n  var h = multiply(inverseMatrix, [u0, v0, u1, v1, u2, v2, u3, v3], 8);\n  h[8] = 1;\n  return convertDimension(transpose(h), 3, 4);\n}\n/**\n * @memberof Matrix\n */\n\nfunction getCenter(points) {\n  return [0, 1].map(function (i) {\n    return average(points.map(function (pos) {\n      return pos[i];\n    }));\n  });\n}\n\nexport { calculate, convertCSStoMatrix, convertDimension, convertMatrixtoCSS, convertPositionMatrix, createIdentityMatrix, createOriginMatrix, createRotateMatrix, createScaleMatrix, createWarpMatrix, fromTranslation, getCenter, getOrigin, ignoreDimension, invert, matrix3d, minus, multiplies, multiply, plus, rotate, rotateX3d, rotateY3d, rotateZ3d, scale3d, translate3d, transpose };\n//# sourceMappingURL=matrix.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: css-to-mat\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/css-to-mat.git\nversion: 1.1.0\n*/\nimport { isArray, splitSpace, splitBracket, isObject, splitComma, convertUnitSize, splitUnit } from '@daybrush/utils';\nimport { calculate, matrix3d, invert, translate3d, scale3d, rotateZ3d, rotateX3d, rotateY3d } from '@scena/matrix';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nfunction createMatrix() {\n    return [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n}\nfunction parseMat(transform, size) {\n    if (size === void 0) { size = 0; }\n    return toMat(parse(transform, size));\n}\nfunction getElementMatrix(el) {\n    return parseMat(getComputedStyle(el).transform);\n}\nfunction calculateMatrixDist(matrix, pos) {\n    var res = calculate(matrix, [pos[0], pos[1] || 0, pos[2] || 0, 1], 4);\n    var w = res[3] || 1;\n    return [\n        res[0] / w,\n        res[1] / w,\n        res[2] / w,\n    ];\n}\nfunction getDistElementMatrix(el, container) {\n    if (container === void 0) { container = document.body; }\n    var target = el;\n    var matrix = createMatrix();\n    while (target) {\n        var transform = getComputedStyle(target).transform;\n        matrix = matrix3d(parseMat(transform), matrix);\n        if (target === container) {\n            break;\n        }\n        target = target.parentElement;\n    }\n    matrix = invert(matrix, 4);\n    matrix[12] = 0;\n    matrix[13] = 0;\n    matrix[14] = 0;\n    return matrix;\n}\nfunction toMat(matrixInfos) {\n    var target = createMatrix();\n    matrixInfos.forEach(function (info) {\n        var matrixFunction = info.matrixFunction, functionValue = info.functionValue;\n        if (!matrixFunction) {\n            return;\n        }\n        target = matrixFunction(target, functionValue);\n    });\n    return target;\n}\nfunction parse(transform, size) {\n    if (size === void 0) { size = 0; }\n    var transforms = isArray(transform) ? transform : splitSpace(transform);\n    return transforms.map(function (t) {\n        var _a = splitBracket(t), name = _a.prefix, value = _a.value;\n        var matrixFunction = null;\n        var functionName = name;\n        var functionValue = \"\";\n        if (name === \"translate\" || name === \"translateX\" || name === \"translate3d\") {\n            var nextSize_1 = isObject(size) ? __assign(__assign({}, size), { \"o%\": size[\"%\"] }) : {\n                \"%\": size,\n                \"o%\": size,\n            };\n            var _b = splitComma(value).map(function (v, i) {\n                if (i === 0 && \"x%\" in nextSize_1) {\n                    nextSize_1[\"%\"] = size[\"x%\"];\n                }\n                else if (i === 1 && \"y%\" in nextSize_1) {\n                    nextSize_1[\"%\"] = size[\"y%\"];\n                }\n                else {\n                    nextSize_1[\"%\"] = size[\"o%\"];\n                }\n                return convertUnitSize(v, nextSize_1);\n            }), posX = _b[0], _c = _b[1], posY = _c === void 0 ? 0 : _c, _d = _b[2], posZ = _d === void 0 ? 0 : _d;\n            matrixFunction = translate3d;\n            functionValue = [posX, posY, posZ];\n        }\n        else if (name === \"translateY\") {\n            var nextSize = isObject(size) ? __assign({ \"%\": size[\"y%\"] }, size) : {\n                \"%\": size,\n            };\n            var posY = convertUnitSize(value, nextSize);\n            matrixFunction = translate3d;\n            functionValue = [0, posY, 0];\n        }\n        else if (name === \"translateZ\") {\n            var posZ = parseFloat(value);\n            matrixFunction = translate3d;\n            functionValue = [0, 0, posZ];\n        }\n        else if (name === \"scale\" || name === \"scale3d\") {\n            var _e = splitComma(value).map(function (v) { return parseFloat(v); }), sx = _e[0], _f = _e[1], sy = _f === void 0 ? sx : _f, _g = _e[2], sz = _g === void 0 ? 1 : _g;\n            matrixFunction = scale3d;\n            functionValue = [sx, sy, sz];\n        }\n        else if (name === \"scaleX\") {\n            var sx = parseFloat(value);\n            matrixFunction = scale3d;\n            functionValue = [sx, 1, 1];\n        }\n        else if (name === \"scaleY\") {\n            var sy = parseFloat(value);\n            matrixFunction = scale3d;\n            functionValue = [1, sy, 1];\n        }\n        else if (name === \"scaleZ\") {\n            var sz = parseFloat(value);\n            matrixFunction = scale3d;\n            functionValue = [1, 1, sz];\n        }\n        else if (name === \"rotate\" || name === \"rotateZ\" || name === \"rotateX\" || name === \"rotateY\") {\n            var _h = splitUnit(value), unit = _h.unit, unitValue = _h.value;\n            var rad = unit === \"rad\" ? unitValue : unitValue * Math.PI / 180;\n            if (name === \"rotate\" || name === \"rotateZ\") {\n                functionName = \"rotateZ\";\n                matrixFunction = rotateZ3d;\n            }\n            else if (name === \"rotateX\") {\n                matrixFunction = rotateX3d;\n            }\n            else if (name === \"rotateY\") {\n                matrixFunction = rotateY3d;\n            }\n            functionValue = rad;\n        }\n        else if (name === \"matrix3d\") {\n            matrixFunction = matrix3d;\n            functionValue = splitComma(value).map(function (v) { return parseFloat(v); });\n        }\n        else if (name === \"matrix\") {\n            var m = splitComma(value).map(function (v) { return parseFloat(v); });\n            matrixFunction = matrix3d;\n            functionValue = [\n                m[0], m[1], 0, 0,\n                m[2], m[3], 0, 0,\n                0, 0, 1, 0,\n                m[4], m[5], 0, 1,\n            ];\n        }\n        else {\n            functionName = \"\";\n        }\n        return {\n            name: name,\n            functionName: functionName,\n            value: value,\n            matrixFunction: matrixFunction,\n            functionValue: functionValue,\n        };\n    });\n}\n\nexport { calculateMatrixDist, createMatrix, getDistElementMatrix, getElementMatrix, parse, parseMat, toMat };\n//# sourceMappingURL=css-to-mat.esm.js.map\n","/*\nCopyright (c) 2019-present NAVER Corp.\nname: @egjs/list-differ\nlicense: MIT\nauthor: NAVER Corp.\nrepository: https://github.com/naver/egjs-list-differ\nversion: 1.0.1\n*/\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar PolyMap =\n/*#__PURE__*/\nfunction () {\n  function PolyMap() {\n    this.keys = [];\n    this.values = [];\n  }\n\n  var __proto = PolyMap.prototype;\n\n  __proto.get = function (key) {\n    return this.values[this.keys.indexOf(key)];\n  };\n\n  __proto.set = function (key, value) {\n    var keys = this.keys;\n    var values = this.values;\n    var prevIndex = keys.indexOf(key);\n    var index = prevIndex === -1 ? keys.length : prevIndex;\n    keys[index] = key;\n    values[index] = value;\n  };\n\n  return PolyMap;\n}();\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar HashMap =\n/*#__PURE__*/\nfunction () {\n  function HashMap() {\n    this.object = {};\n  }\n\n  var __proto = HashMap.prototype;\n\n  __proto.get = function (key) {\n    return this.object[key];\n  };\n\n  __proto.set = function (key, value) {\n    this.object[key] = value;\n  };\n\n  return HashMap;\n}();\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar SUPPORT_MAP = typeof Map === \"function\";\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar Link =\n/*#__PURE__*/\nfunction () {\n  function Link() {}\n\n  var __proto = Link.prototype;\n\n  __proto.connect = function (prevLink, nextLink) {\n    this.prev = prevLink;\n    this.next = nextLink;\n    prevLink && (prevLink.next = this);\n    nextLink && (nextLink.prev = this);\n  };\n\n  __proto.disconnect = function () {\n    // In double linked list, diconnect the interconnected relationship.\n    var prevLink = this.prev;\n    var nextLink = this.next;\n    prevLink && (prevLink.next = nextLink);\n    nextLink && (nextLink.prev = prevLink);\n  };\n\n  __proto.getIndex = function () {\n    var link = this;\n    var index = -1;\n\n    while (link) {\n      link = link.prev;\n      ++index;\n    }\n\n    return index;\n  };\n\n  return Link;\n}();\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\n\nfunction orderChanged(changed, fixed) {\n  // It is roughly in the order of these examples.\n  // 4, 6, 0, 2, 1, 3, 5, 7\n  var fromLinks = []; // 0, 1, 2, 3, 4, 5, 6, 7\n\n  var toLinks = [];\n  changed.forEach(function (_a) {\n    var from = _a[0],\n        to = _a[1];\n    var link = new Link();\n    fromLinks[from] = link;\n    toLinks[to] = link;\n  }); // `fromLinks` are connected to each other by double linked list.\n\n  fromLinks.forEach(function (link, i) {\n    link.connect(fromLinks[i - 1]);\n  });\n  return changed.filter(function (_, i) {\n    return !fixed[i];\n  }).map(function (_a, i) {\n    var from = _a[0],\n        to = _a[1];\n\n    if (from === to) {\n      return [0, 0];\n    }\n\n    var fromLink = fromLinks[from];\n    var toLink = toLinks[to - 1];\n    var fromIndex = fromLink.getIndex(); // Disconnect the link connected to `fromLink`.\n\n    fromLink.disconnect(); // Connect `fromLink` to the right of `toLink`.\n\n    if (!toLink) {\n      fromLink.connect(undefined, fromLinks[0]);\n    } else {\n      fromLink.connect(toLink, toLink.next);\n    }\n\n    var toIndex = fromLink.getIndex();\n    return [fromIndex, toIndex];\n  });\n}\n\nvar Result =\n/*#__PURE__*/\nfunction () {\n  function Result(prevList, list, added, removed, changed, maintained, changedBeforeAdded, fixed) {\n    this.prevList = prevList;\n    this.list = list;\n    this.added = added;\n    this.removed = removed;\n    this.changed = changed;\n    this.maintained = maintained;\n    this.changedBeforeAdded = changedBeforeAdded;\n    this.fixed = fixed;\n  }\n\n  var __proto = Result.prototype;\n  Object.defineProperty(__proto, \"ordered\", {\n    get: function () {\n      if (!this.cacheOrdered) {\n        this.caculateOrdered();\n      }\n\n      return this.cacheOrdered;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(__proto, \"pureChanged\", {\n    get: function () {\n      if (!this.cachePureChanged) {\n        this.caculateOrdered();\n      }\n\n      return this.cachePureChanged;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  __proto.caculateOrdered = function () {\n    var ordered = orderChanged(this.changedBeforeAdded, this.fixed);\n    var changed = this.changed;\n    var pureChanged = [];\n    this.cacheOrdered = ordered.filter(function (_a, i) {\n      var from = _a[0],\n          to = _a[1];\n      var _b = changed[i],\n          fromBefore = _b[0],\n          toBefore = _b[1];\n\n      if (from !== to) {\n        pureChanged.push([fromBefore, toBefore]);\n        return true;\n      }\n    });\n    this.cachePureChanged = pureChanged;\n  };\n\n  return Result;\n}();\n\n/**\n *\n * @memberof eg.ListDiffer\n * @static\n * @function\n * @param - Previous List <ko> 이전 목록 </ko>\n * @param - List to Update <ko> 업데이트 할 목록 </ko>\n * @param - This callback function returns the key of the item. <ko> 아이템의 키를 반환하는 콜백 함수입니다.</ko>\n * @return - Returns the diff between `prevList` and `list` <ko> `prevList`와 `list`의 다른 점을 반환한다.</ko>\n * @example\n * import { diff } from \"@egjs/list-differ\";\n * // script => eg.ListDiffer.diff\n * const result = diff([0, 1, 2, 3, 4, 5], [7, 8, 0, 4, 3, 6, 2, 1], e => e);\n * // List before update\n * // [1, 2, 3, 4, 5]\n * console.log(result.prevList);\n * // Updated list\n * // [4, 3, 6, 2, 1]\n * console.log(result.list);\n * // Index array of values added to `list`\n * // [0, 1, 5]\n * console.log(result.added);\n * // Index array of values removed in `prevList`\n * // [5]\n * console.log(result.removed);\n * // An array of index pairs of `prevList` and `list` with different indexes from `prevList` and `list`\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.changed);\n * // The subset of `changed` and an array of index pairs that moved data directly. Indicate an array of absolute index pairs of `ordered`.(Formatted by: Array<[index of prevList, index of list]>)\n * // [[4, 3], [3, 4], [2, 6]]\n * console.log(result.pureChanged);\n * // An array of index pairs to be `ordered` that can synchronize `list` before adding data. (Formatted by: Array<[prevIndex, nextIndex]>)\n * // [[4, 1], [4, 2], [4, 3]]\n * console.log(result.ordered);\n * // An array of index pairs of `prevList` and `list` that have not been added/removed so data is preserved\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.maintained);\n */\n\nfunction diff(prevList, list, findKeyCallback) {\n  var mapClass = SUPPORT_MAP ? Map : findKeyCallback ? HashMap : PolyMap;\n\n  var callback = findKeyCallback || function (e) {\n    return e;\n  };\n\n  var added = [];\n  var removed = [];\n  var maintained = [];\n  var prevKeys = prevList.map(callback);\n  var keys = list.map(callback);\n  var prevKeyMap = new mapClass();\n  var keyMap = new mapClass();\n  var changedBeforeAdded = [];\n  var fixed = [];\n  var removedMap = {};\n  var changed = [];\n  var addedCount = 0;\n  var removedCount = 0; // Add prevKeys and keys to the hashmap.\n\n  prevKeys.forEach(function (key, prevListIndex) {\n    prevKeyMap.set(key, prevListIndex);\n  });\n  keys.forEach(function (key, listIndex) {\n    keyMap.set(key, listIndex);\n  }); // Compare `prevKeys` and `keys` and add them to `removed` if they are not in `keys`.\n\n  prevKeys.forEach(function (key, prevListIndex) {\n    var listIndex = keyMap.get(key); // In prevList, but not in list, it is removed.\n\n    if (typeof listIndex === \"undefined\") {\n      ++removedCount;\n      removed.push(prevListIndex);\n    } else {\n      removedMap[listIndex] = removedCount;\n    }\n  }); // Compare `prevKeys` and `keys` and add them to `added` if they are not in `prevKeys`.\n\n  keys.forEach(function (key, listIndex) {\n    var prevListIndex = prevKeyMap.get(key); // In list, but not in prevList, it is added.\n\n    if (typeof prevListIndex === \"undefined\") {\n      added.push(listIndex);\n      ++addedCount;\n    } else {\n      maintained.push([prevListIndex, listIndex]);\n      removedCount = removedMap[listIndex] || 0;\n      changedBeforeAdded.push([prevListIndex - removedCount, listIndex - addedCount]);\n      fixed.push(listIndex === prevListIndex);\n\n      if (prevListIndex !== listIndex) {\n        changed.push([prevListIndex, listIndex]);\n      }\n    }\n  }); // Sort by ascending order of 'to(list's index).\n\n  removed.reverse();\n  return new Result(prevList, list, added, removed, changed, maintained, changedBeforeAdded, fixed);\n}\n\n/**\n * A module that checks diff when values are added, removed, or changed in an array.\n * @ko 배열 또는 오브젝트에서 값이 추가되거나 삭제되거나 순서가 변경사항을 체크하는 모듈입니다.\n * @memberof eg\n */\n\nvar ListDiffer =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param - Initializing Data Array. <ko> 초기 설정할 데이터 배열.</ko>\n   * @param - This callback function returns the key of the item. <ko> 아이템의 키를 반환하는 콜백 함수입니다.</ko>\n   * @example\n   * import ListDiffer from \"@egjs/list-differ\";\n   * // script => eg.ListDiffer\n   * const differ = new ListDiffer([0, 1, 2, 3, 4, 5], e => e);\n   * const result = differ.update([7, 8, 0, 4, 3, 6, 2, 1]);\n   * // List before update\n   * // [1, 2, 3, 4, 5]\n   * console.log(result.prevList);\n   * // Updated list\n   * // [4, 3, 6, 2, 1]\n   * console.log(result.list);\n   * // Index array of values added to `list`.\n   * // [0, 1, 5]\n   * console.log(result.added);\n   * // Index array of values removed in `prevList`.\n   * // [5]\n   * console.log(result.removed);\n   * // An array of index pairs of `prevList` and `list` with different indexes from `prevList` and `list`.\n   * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n   * console.log(result.changed);\n   * // The subset of `changed` and an array of index pairs that moved data directly. Indicate an array of absolute index pairs of `ordered`.(Formatted by: Array<[index of prevList, index of list]>)\n   * // [[4, 3], [3, 4], [2, 6]]\n   * console.log(result.pureChanged);\n   * // An array of index pairs to be `ordered` that can synchronize `list` before adding data. (Formatted by: Array<[prevIndex, nextIndex]>)\n   * // [[4, 1], [4, 2], [4, 3]]\n   * console.log(result.ordered);\n   * // An array of index pairs of `prevList` and `list` that have not been added/removed so data is preserved.\n   * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n   * console.log(result.maintained);\n   */\n  function ListDiffer(list, findKeyCallback) {\n    if (list === void 0) {\n      list = [];\n    }\n\n    this.findKeyCallback = findKeyCallback;\n    this.list = [].slice.call(list);\n  }\n  /**\n   * Update list.\n   * @ko 리스트를 업데이트를 합니다.\n   * @param - List to update <ko> 업데이트할 리스트 </ko>\n   * @return - Returns the results of an update from `prevList` to `list`.<ko> `prevList`에서 `list`로 업데이트한 결과를 반환한다. </ko>\n   */\n\n\n  var __proto = ListDiffer.prototype;\n\n  __proto.update = function (list) {\n    var newData = [].slice.call(list);\n    var result = diff(this.list, newData, this.findKeyCallback);\n    this.list = newData;\n    return result;\n  };\n\n  return ListDiffer;\n}();\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\n\nexport default ListDiffer;\nexport { diff };\n//# sourceMappingURL=list-differ.esm.js.map\n","/*\nCopyright (c) 2019-present NAVER Corp.\nname: @egjs/children-differ\nlicense: MIT\nauthor: NAVER Corp.\nrepository: https://github.com/naver/egjs-children-differ\nversion: 1.0.1\n*/\nimport ListDiffer, { diff as diff$1 } from '@egjs/list-differ';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\n/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar findKeyCallback = typeof Map === \"function\" ? undefined : function () {\n  var childrenCount = 0;\n  return function (el) {\n    return el.__DIFF_KEY__ || (el.__DIFF_KEY__ = ++childrenCount);\n  };\n}();\n\n/**\n * A module that checks diff when child are added, removed, or changed .\n * @ko 자식 노드들에서 자식 노드가 추가되거나 삭제되거나 순서가 변경된 사항을 체크하는 모듈입니다.\n * @memberof eg\n * @extends eg.ListDiffer\n */\n\nvar ChildrenDiffer =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ChildrenDiffer, _super);\n  /**\n   * @param - Initializing Children <ko> 초기 설정할 자식 노드들</ko>\n   */\n\n\n  function ChildrenDiffer(list) {\n    if (list === void 0) {\n      list = [];\n    }\n\n    return _super.call(this, list, findKeyCallback) || this;\n  }\n\n  return ChildrenDiffer;\n}(ListDiffer);\n\n/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\n/**\n *\n * @memberof eg.ChildrenDiffer\n * @static\n * @function\n * @param - Previous List <ko> 이전 목록 </ko>\n * @param - List to Update <ko> 업데이트 할 목록 </ko>\n * @return - Returns the diff between `prevList` and `list` <ko> `prevList`와 `list`의 다른 점을 반환한다.</ko>\n * @example\n * import { diff } from \"@egjs/children-differ\";\n * // script => eg.ChildrenDiffer.diff\n * const result = diff([0, 1, 2, 3, 4, 5], [7, 8, 0, 4, 3, 6, 2, 1]);\n * // List before update\n * // [1, 2, 3, 4, 5]\n * console.log(result.prevList);\n * // Updated list\n * // [4, 3, 6, 2, 1]\n * console.log(result.list);\n * // Index array of values added to `list`\n * // [0, 1, 5]\n * console.log(result.added);\n * // Index array of values removed in `prevList`\n * // [5]\n * console.log(result.removed);\n * // An array of index pairs of `prevList` and `list` with different indexes from `prevList` and `list`\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.changed);\n * // The subset of `changed` and an array of index pairs that moved data directly. Indicate an array of absolute index pairs of `ordered`.(Formatted by: Array<[index of prevList, index of list]>)\n * // [[4, 3], [3, 4], [2, 6]]\n * console.log(result.pureChanged);\n * // An array of index pairs to be `ordered` that can synchronize `list` before adding data. (Formatted by: Array<[prevIndex, nextIndex]>)\n * // [[4, 1], [4, 2], [4, 3]]\n * console.log(result.ordered);\n * // An array of index pairs of `prevList` and `list` that have not been added/removed so data is preserved\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.maintained);\n */\n\nfunction diff(prevList, list) {\n  return diff$1(prevList, list, findKeyCallback);\n}\n\n/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\n\nexport default ChildrenDiffer;\nexport { diff };\n//# sourceMappingURL=children-differ.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: @scena/event-emitter\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/gesture.git\nversion: 1.0.5\n*/\nimport { isObject, findIndex } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\n/**\n * Implement EventEmitter on object or component.\n */\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    this._events = {};\n  }\n  /**\n   * Add a listener to the registered event.\n   * @param - Name of the event to be added\n   * @param - listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add listener in \"a\" event\n   * emitter.on(\"a\", () => {\n   * });\n   * // Add listeners\n   * emitter.on({\n   *  a: () => {},\n   *  b: () => {},\n   * });\n   */\n\n\n  var __proto = EventEmitter.prototype;\n\n  __proto.on = function (eventName, listener) {\n    if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.on(name, eventName[name]);\n      }\n    } else {\n      this._addEvent(eventName, listener, {});\n    }\n\n    return this;\n  };\n  /**\n   * Remove listeners registered in the event target.\n   * @param - Name of the event to be removed\n   * @param - listener function of the event to be removed\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Remove all listeners.\n   * emitter.off();\n   *\n   * // Remove all listeners in \"A\" event.\n   * emitter.off(\"a\");\n   *\n   *\n   * // Remove \"listener\" listener in \"a\" event.\n   * emitter.off(\"a\", listener);\n   */\n\n\n  __proto.off = function (eventName, listener) {\n    if (!eventName) {\n      this._events = {};\n    } else if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.off(name);\n      }\n    } else if (!listener) {\n      this._events[eventName] = [];\n    } else {\n      var events = this._events[eventName];\n\n      if (events) {\n        var index = findIndex(events, function (e) {\n          return e.listener === listener;\n        });\n\n        if (index > -1) {\n          events.splice(index, 1);\n        }\n      }\n    }\n\n    return this;\n  };\n  /**\n   * Add a disposable listener and Use promise to the registered event.\n   * @param - Name of the event to be added\n   * @param - disposable listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add a disposable listener in \"a\" event\n   * emitter.once(\"a\", () => {\n   * });\n   *\n   * // Use Promise\n   * emitter.once(\"a\").then(e => {\n   * });\n   */\n\n\n  __proto.once = function (eventName, listener) {\n    var _this = this;\n\n    if (listener) {\n      this._addEvent(eventName, listener, {\n        once: true\n      });\n    }\n\n    return new Promise(function (resolve) {\n      _this._addEvent(eventName, resolve, {\n        once: true\n      });\n    });\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n\n  __proto.emit = function (eventName, param) {\n    var _this = this;\n\n    if (param === void 0) {\n      param = {};\n    }\n\n    var events = this._events[eventName];\n\n    if (!eventName || !events) {\n      return true;\n    }\n\n    var isStop = false;\n    param.eventType = eventName;\n\n    param.stop = function () {\n      isStop = true;\n    };\n\n    param.currentTarget = this;\n\n    __spreadArrays(events).forEach(function (info) {\n      info.listener(param);\n\n      if (info.once) {\n        _this.off(eventName, info.listener);\n      }\n    });\n\n    return !isStop;\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n  /**\n  * Fires an event to call listeners.\n  * @param - Event name\n  * @param - Event parameter\n  * @return If false, stop the event.\n  * @example\n  *\n  * import EventEmitter from \"@scena/event-emitter\";\n  *\n  *\n  * const emitter = new EventEmitter();\n  *\n  * emitter.on(\"a\", e => {\n  * });\n  *\n  * // emit\n  * emitter.trigger(\"a\", {\n  *   a: 1,\n  * });\n  */\n\n\n  __proto.trigger = function (eventName, param) {\n    if (param === void 0) {\n      param = {};\n    }\n\n    return this.emit(eventName, param);\n  };\n\n  __proto._addEvent = function (eventName, listener, options) {\n    var events = this._events;\n    events[eventName] = events[eventName] || [];\n    var listeners = events[eventName];\n    listeners.push(__assign({\n      listener: listener\n    }, options));\n  };\n\n  return EventEmitter;\n}();\n\nexport default EventEmitter;\n//# sourceMappingURL=event-emitter.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: @scena/dragscroll\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/dragscroll.git\nversion: 1.4.0\n*/\nimport EventEmitter from '@scena/event-emitter';\nimport { now, isString, isFunction } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\n\nfunction getDefaultScrollPosition(e) {\n  var container = e.container;\n  if (container === document.body) {\n    return [container.scrollLeft || document.documentElement.scrollLeft, container.scrollTop || document.documentElement.scrollTop];\n  }\n  return [container.scrollLeft, container.scrollTop];\n}\nfunction checkDefaultScrollEvent(container, callback) {\n  container.addEventListener(\"scroll\", callback);\n  return function () {\n    container.removeEventListener(\"scroll\", callback);\n  };\n}\nfunction getContainerElement(container) {\n  if (!container) {\n    return null;\n  } else if (isString(container)) {\n    return document.querySelector(container);\n  }\n  if (isFunction(container)) {\n    return container();\n  } else if (container instanceof Element) {\n    return container;\n  } else if (\"current\" in container) {\n    return container.current;\n  } else if (\"value\" in container) {\n    return container.value;\n  }\n}\n/**\n * @sort 1\n */\nvar DragScroll = /*#__PURE__*/function (_super) {\n  __extends(DragScroll, _super);\n  function DragScroll() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._startRect = null;\n    _this._startPos = [];\n    _this._prevTime = 0;\n    _this._timer = 0;\n    _this._prevScrollPos = [0, 0];\n    _this._isWait = false;\n    _this._flag = false;\n    _this._currentOptions = null;\n    _this._lock = false;\n    _this._unregister = null;\n    _this._onScroll = function () {\n      var options = _this._currentOptions;\n      if (_this._lock || !options) {\n        return;\n      }\n      _this.emit(\"scrollDrag\", {\n        next: function (inputEvent) {\n          _this.checkScroll({\n            container: options.container,\n            inputEvent: inputEvent\n          });\n        }\n      });\n    };\n    return _this;\n  }\n  /**\n   */\n  var __proto = DragScroll.prototype;\n  __proto.dragStart = function (e, options) {\n    var container = getContainerElement(options.container);\n    if (!container) {\n      this._flag = false;\n      return;\n    }\n    var top = 0;\n    var left = 0;\n    var width = 0;\n    var height = 0;\n    if (container === document.body) {\n      width = window.innerWidth;\n      height = window.innerHeight;\n    } else {\n      var rect = container.getBoundingClientRect();\n      top = rect.top;\n      left = rect.left;\n      width = rect.width;\n      height = rect.height;\n    }\n    this._flag = true;\n    this._startPos = [e.clientX, e.clientY];\n    this._startRect = {\n      top: top,\n      left: left,\n      width: width,\n      height: height\n    };\n    this._prevScrollPos = this._getScrollPosition([0, 0], options);\n    this._currentOptions = options;\n    this._registerScrollEvent(options);\n  };\n  __proto.drag = function (e, options) {\n    clearTimeout(this._timer);\n    if (!this._flag) {\n      return;\n    }\n    var clientX = e.clientX,\n      clientY = e.clientY;\n    var _a = options.threshold,\n      threshold = _a === void 0 ? 0 : _a;\n    var _b = this,\n      _startRect = _b._startRect,\n      _startPos = _b._startPos;\n    this._currentOptions = options;\n    var direction = [0, 0];\n    if (_startRect.top > clientY - threshold) {\n      if (_startPos[1] > _startRect.top || clientY < _startPos[1]) {\n        direction[1] = -1;\n      }\n    } else if (_startRect.top + _startRect.height < clientY + threshold) {\n      if (_startPos[1] < _startRect.top + _startRect.height || clientY > _startPos[1]) {\n        direction[1] = 1;\n      }\n    }\n    if (_startRect.left > clientX - threshold) {\n      if (_startPos[0] > _startRect.left || clientX < _startPos[0]) {\n        direction[0] = -1;\n      }\n    } else if (_startRect.left + _startRect.width < clientX + threshold) {\n      if (_startPos[0] < _startRect.left + _startRect.width || clientX > _startPos[0]) {\n        direction[0] = 1;\n      }\n    }\n    if (!direction[0] && !direction[1]) {\n      return false;\n    }\n    return this._continueDrag(__assign(__assign({}, options), {\n      direction: direction,\n      inputEvent: e,\n      isDrag: true\n    }));\n  };\n  /**\n   */\n  __proto.checkScroll = function (options) {\n    var _this = this;\n    if (this._isWait) {\n      return false;\n    }\n    var _a = options.prevScrollPos,\n      prevScrollPos = _a === void 0 ? this._prevScrollPos : _a,\n      direction = options.direction,\n      _b = options.throttleTime,\n      throttleTime = _b === void 0 ? 0 : _b,\n      inputEvent = options.inputEvent,\n      isDrag = options.isDrag;\n    var nextScrollPos = this._getScrollPosition(direction || [0, 0], options);\n    var offsetX = nextScrollPos[0] - prevScrollPos[0];\n    var offsetY = nextScrollPos[1] - prevScrollPos[1];\n    var nextDirection = direction || [offsetX ? Math.abs(offsetX) / offsetX : 0, offsetY ? Math.abs(offsetY) / offsetY : 0];\n    this._prevScrollPos = nextScrollPos;\n    this._lock = false;\n    if (!offsetX && !offsetY) {\n      return false;\n    }\n    /**\n     * @event DragScroll#move\n     */\n    this.emit(\"move\", {\n      offsetX: nextDirection[0] ? offsetX : 0,\n      offsetY: nextDirection[1] ? offsetY : 0,\n      inputEvent: inputEvent\n    });\n    if (throttleTime && isDrag) {\n      clearTimeout(this._timer);\n      this._timer = window.setTimeout(function () {\n        _this._continueDrag(options);\n      }, throttleTime);\n    }\n    return true;\n  };\n  /**\n   *\n   */\n  __proto.dragEnd = function () {\n    this._flag = false;\n    this._lock = false;\n    clearTimeout(this._timer);\n    this._unregisterScrollEvent();\n  };\n  __proto._getScrollPosition = function (direction, options) {\n    var container = options.container,\n      _a = options.getScrollPosition,\n      getScrollPosition = _a === void 0 ? getDefaultScrollPosition : _a;\n    return getScrollPosition({\n      container: getContainerElement(container),\n      direction: direction\n    });\n  };\n  __proto._continueDrag = function (options) {\n    var _this = this;\n    var _a;\n    var container = options.container,\n      direction = options.direction,\n      throttleTime = options.throttleTime,\n      useScroll = options.useScroll,\n      isDrag = options.isDrag,\n      inputEvent = options.inputEvent;\n    if (!this._flag || isDrag && this._isWait) {\n      return;\n    }\n    var nowTime = now();\n    var distTime = Math.max(throttleTime + this._prevTime - nowTime, 0);\n    if (distTime > 0) {\n      clearTimeout(this._timer);\n      this._timer = window.setTimeout(function () {\n        _this._continueDrag(options);\n      }, distTime);\n      return false;\n    }\n    this._prevTime = nowTime;\n    var prevScrollPos = this._getScrollPosition(direction, options);\n    this._prevScrollPos = prevScrollPos;\n    if (isDrag) {\n      this._isWait = true;\n    }\n    // unregister native scroll event\n    if (!useScroll) {\n      this._lock = true;\n    }\n    var param = {\n      container: getContainerElement(container),\n      direction: direction,\n      inputEvent: inputEvent\n    };\n    (_a = options.requestScroll) === null || _a === void 0 ? void 0 : _a.call(options, param);\n    /**\n     * @event DragScroll#scroll\n     */\n    this.emit(\"scroll\", param);\n    this._isWait = false;\n    return useScroll || this.checkScroll(__assign(__assign({}, options), {\n      prevScrollPos: prevScrollPos,\n      direction: direction,\n      inputEvent: inputEvent\n    }));\n  };\n  __proto._registerScrollEvent = function (options) {\n    this._unregisterScrollEvent();\n    var checkScrollEvent = options.checkScrollEvent;\n    if (!checkScrollEvent) {\n      return;\n    }\n    var callback = checkScrollEvent === true ? checkDefaultScrollEvent : checkScrollEvent;\n    var container = getContainerElement(options.container);\n    if (checkScrollEvent === true && (container === document.body || container === document.documentElement)) {\n      this._unregister = checkDefaultScrollEvent(window, this._onScroll);\n    } else {\n      this._unregister = callback(container, this._onScroll);\n    }\n  };\n  __proto._unregisterScrollEvent = function () {\n    var _a;\n    (_a = this._unregister) === null || _a === void 0 ? void 0 : _a.call(this);\n    this._unregister = null;\n  };\n  return DragScroll;\n}(EventEmitter);\n\nexport default DragScroll;\n//# sourceMappingURL=dragscroll.esm.js.map\n","/*\nCopyright (c) 2020 Daybrush\nname: overlap-area\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/overlap-area.git\nversion: 1.1.0\n*/\nimport { throttle, TINY_NUM, sum, find, getDist, getShapeDirection, findIndex } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\nfunction tinyThrottle(num) {\n  return throttle(num, TINY_NUM);\n}\nfunction isSameConstants(linearConstants1, linearConstants2) {\n  return linearConstants1.every(function (v, i) {\n    return tinyThrottle(v - linearConstants2[i]) === 0;\n  });\n}\nfunction isSamePoint(point1, point2) {\n  return !tinyThrottle(point1[0] - point2[0]) && !tinyThrottle(point1[1] - point2[1]);\n}\nfunction flat(arr) {\n  return arr.reduce(function (prev, current) {\n    prev.push.apply(prev, current);\n    return prev;\n  }, []);\n}\n\n/**\n * @namespace OverlapArea\n */\n\n/**\n * Gets the size of a shape (polygon) made of points.\n * @memberof OverlapArea\n */\n\nfunction getAreaSize(points) {\n  if (points.length < 3) {\n    return 0;\n  }\n\n  return Math.abs(sum(points.map(function (point, i) {\n    var nextPoint = points[i + 1] || points[0];\n    return point[0] * nextPoint[1] - nextPoint[0] * point[1];\n  }))) / 2;\n}\n/**\n * Get points that fit the rect,\n * @memberof OverlapArea\n */\n\nfunction fitPoints(points, rect) {\n  var width = rect.width,\n      height = rect.height,\n      left = rect.left,\n      top = rect.top;\n\n  var _a = getMinMaxs(points),\n      minX = _a.minX,\n      minY = _a.minY,\n      maxX = _a.maxX,\n      maxY = _a.maxY;\n\n  var ratioX = width / (maxX - minX);\n  var ratioY = height / (maxY - minY);\n  return points.map(function (point) {\n    return [left + (point[0] - minX) * ratioX, top + (point[1] - minY) * ratioY];\n  });\n}\n/**\n * Get the minimum and maximum points of the points.\n * @memberof OverlapArea\n */\n\nfunction getMinMaxs(points) {\n  var xs = points.map(function (point) {\n    return point[0];\n  });\n  var ys = points.map(function (point) {\n    return point[1];\n  });\n  return {\n    minX: Math.min.apply(Math, xs),\n    minY: Math.min.apply(Math, ys),\n    maxX: Math.max.apply(Math, xs),\n    maxY: Math.max.apply(Math, ys)\n  };\n}\n/**\n * Whether the point is in shape\n * @param - point pos\n * @param - shape points\n * @param - whether to check except line\n * @memberof OverlapArea\n */\n\nfunction isInside(pos, points, excludeLine) {\n  var x = pos[0],\n      y = pos[1];\n\n  var _a = getMinMaxs(points),\n      minX = _a.minX,\n      maxX = _a.maxX;\n\n  var xLine = [[minX, y], [maxX, y]];\n  var xLinearConstants = getLinearConstants(xLine[0], xLine[1]);\n  var lines = convertLines(points);\n  var intersectionPosInfos = [];\n  lines.forEach(function (line) {\n    var linearConstants = getLinearConstants(line[0], line[1]);\n    var standardPoint = line[0];\n\n    if (isSameConstants(xLinearConstants, linearConstants)) {\n      intersectionPosInfos.push({\n        pos: pos,\n        line: line,\n        type: \"line\"\n      });\n    } else {\n      var xPoints = getPointsOnLines(getIntersectionPointsByConstants(xLinearConstants, linearConstants), [xLine, line]);\n      xPoints.forEach(function (point) {\n        if (line.some(function (linePoint) {\n          return isSamePoint(linePoint, point);\n        })) {\n          intersectionPosInfos.push({\n            pos: point,\n            line: line,\n            type: \"point\"\n          });\n        } else if (tinyThrottle(standardPoint[1] - y) !== 0) {\n          intersectionPosInfos.push({\n            pos: point,\n            line: line,\n            type: \"intersection\"\n          });\n        }\n      });\n    }\n  });\n\n  if (!excludeLine) {\n    // on line\n    if (find(intersectionPosInfos, function (p) {\n      return p[0] === x;\n    })) {\n      return true;\n    }\n  }\n\n  var intersectionCount = 0;\n  var xMap = {};\n  intersectionPosInfos.forEach(function (_a) {\n    var pos = _a.pos,\n        type = _a.type,\n        line = _a.line;\n\n    if (pos[0] > x) {\n      return;\n    }\n\n    if (type === \"intersection\") {\n      ++intersectionCount;\n    } else if (type === \"line\") {\n      return;\n    } else if (type === \"point\") {\n      var point = find(line, function (linePoint) {\n        return linePoint[1] !== y;\n      });\n      var prevValue = xMap[pos[0]];\n      var nextValue = point[1] > y ? 1 : -1;\n\n      if (!prevValue) {\n        xMap[pos[0]] = nextValue;\n      } else if (prevValue !== nextValue) {\n        ++intersectionCount;\n      }\n    }\n  });\n  return intersectionCount % 2 === 1;\n}\n/**\n * Get distance from point to constants. [a, b, c] (ax + by + c = 0)\n * @return [a, b, c]\n * @memberof OverlapArea\n */\n\nfunction getDistanceFromPointToConstants(_a, pos) {\n  var a = _a[0],\n      b = _a[1],\n      c = _a[2];\n  return (a * pos[0] + b * pos[1] + c) / (a * a + b * b);\n}\n/**\n * Get the coefficient of the linear function. [a, b, c] (ax + by + c = 0)\n * @return [a, b, c]\n * @memberof OverlapArea\n */\n\nfunction getLinearConstants(point1, point2) {\n  var x1 = point1[0],\n      y1 = point1[1];\n  var x2 = point2[0],\n      y2 = point2[1]; // ax + by + c = 0\n  // [a, b, c]\n\n  var dx = x2 - x1;\n  var dy = y2 - y1;\n\n  if (Math.abs(dx) < TINY_NUM) {\n    dx = 0;\n  }\n\n  if (Math.abs(dy) < TINY_NUM) {\n    dy = 0;\n  } // b > 0\n  // ax + by + c = 0\n\n\n  var a = 0;\n  var b = 0;\n  var c = 0;\n\n  if (!dx) {\n    if (dy) {\n      // -x + 1 = 0\n      a = -1;\n      c = x1;\n    }\n  } else if (!dy) {\n    // y - 1 = 0\n    b = 1;\n    c = -y1;\n  } else {\n    // y = -a(x - x1) + y1\n    // ax + y + a * x1 - y1 = 0\n    a = -dy / dx;\n    b = 1;\n    c = -a * x1 - y1;\n  }\n\n  return [a, b, c];\n}\n/**\n * Get intersection points with linear functions.\n * @memberof OverlapArea\n */\n\nfunction getIntersectionPointsByConstants(linearConstants1, linearConstants2) {\n  var a1 = linearConstants1[0],\n      b1 = linearConstants1[1],\n      c1 = linearConstants1[2];\n  var a2 = linearConstants2[0],\n      b2 = linearConstants2[1],\n      c2 = linearConstants2[2];\n  var isZeroA = a1 === 0 && a2 === 0;\n  var isZeroB = b1 === 0 && b2 === 0;\n  var results = [];\n\n  if (isZeroA && isZeroB) {\n    return [];\n  } else if (isZeroA) {\n    // b1 * y + c1 = 0\n    // b2 * y + c2 = 0\n    var y1 = -c1 / b1;\n    var y2 = -c2 / b2;\n\n    if (y1 !== y2) {\n      return [];\n    } else {\n      return [[-Infinity, y1], [Infinity, y1]];\n    }\n  } else if (isZeroB) {\n    // a1 * x + c1 = 0\n    // a2 * x + c2 = 0\n    var x1 = -c1 / a1;\n    var x2 = -c2 / a2;\n\n    if (x1 !== x2) {\n      return [];\n    } else {\n      return [[x1, -Infinity], [x1, Infinity]];\n    }\n  } else if (a1 === 0) {\n    // b1 * y + c1 = 0\n    // y = - c1 / b1;\n    // a2 * x + b2 * y + c2 = 0\n    var y = -c1 / b1;\n    var x = -(b2 * y + c2) / a2;\n    results = [[x, y]];\n  } else if (a2 === 0) {\n    // b2 * y + c2 = 0\n    // y = - c2 / b2;\n    // a1 * x + b1 * y + c1 = 0\n    var y = -c2 / b2;\n    var x = -(b1 * y + c1) / a1;\n    results = [[x, y]];\n  } else if (b1 === 0) {\n    // a1 * x + c1 = 0\n    // x = - c1 / a1;\n    // a2 * x + b2 * y + c2 = 0\n    var x = -c1 / a1;\n    var y = -(a2 * x + c2) / b2;\n    results = [[x, y]];\n  } else if (b2 === 0) {\n    // a2 * x + c2 = 0\n    // x = - c2 / a2;\n    // a1 * x + b1 * y + c1 = 0\n    var x = -c2 / a2;\n    var y = -(a1 * x + c1) / b1;\n    results = [[x, y]];\n  } else {\n    // a1 * x + b1 * y + c1 = 0\n    // a2 * x + b2 * y + c2 = 0\n    // b2 * a1 * x + b2 * b1 * y + b2 * c1 = 0\n    // b1 * a2 * x + b1 * b2 * y + b1 * c2 = 0\n    // (b2 * a1 - b1 * a2)  * x = (b1 * c2 - b2 * c1)\n    var x = (b1 * c2 - b2 * c1) / (b2 * a1 - b1 * a2);\n    var y = -(a1 * x + c1) / b1;\n    results = [[x, y]];\n  }\n\n  return results.map(function (result) {\n    return [result[0], result[1]];\n  });\n}\n/**\n * Get intersection points to the two lines.\n * @memberof OverlapArea\n */\n\nfunction getIntersectionPoints(line1, line2, isLimit) {\n  var points = getIntersectionPointsByConstants(getLinearConstants(line1[0], line1[1]), getLinearConstants(line2[0], line2[1]));\n\n  if (isLimit) {\n    return getPointsOnLines(points, [line1, line2]);\n  }\n\n  return points;\n}\nfunction isPointOnLine(pos, line) {\n  var linearConstants = getLinearConstants(line[0], line[1]);\n  return tinyThrottle(getDistanceFromPointToConstants(linearConstants, pos)) === 0;\n}\n/**\n * Get the points on the lines (between two points).\n * @memberof OverlapArea\n */\n\nfunction getPointsOnLines(points, lines) {\n  var minMaxs = lines.map(function (line) {\n    return [0, 1].map(function (order) {\n      return [Math.min(line[0][order], line[1][order]), Math.max(line[0][order], line[1][order])];\n    });\n  });\n  var results = [];\n\n  if (points.length === 2) {\n    var _a = points[0],\n        x = _a[0],\n        y = _a[1];\n\n    if (!tinyThrottle(x - points[1][0])) {\n      /// Math.max(minY1, minY2)\n      var top = Math.max.apply(Math, minMaxs.map(function (minMax) {\n        return minMax[1][0];\n      })); /// Math.min(maxY1, miax2)\n\n      var bottom = Math.min.apply(Math, minMaxs.map(function (minMax) {\n        return minMax[1][1];\n      }));\n\n      if (tinyThrottle(top - bottom) > 0) {\n        return [];\n      }\n\n      results = [[x, top], [x, bottom]];\n    } else if (!tinyThrottle(y - points[1][1])) {\n      /// Math.max(minY1, minY2)\n      var left = Math.max.apply(Math, minMaxs.map(function (minMax) {\n        return minMax[0][0];\n      })); /// Math.min(maxY1, miax2)\n\n      var right = Math.min.apply(Math, minMaxs.map(function (minMax) {\n        return minMax[0][1];\n      }));\n\n      if (tinyThrottle(left - right) > 0) {\n        return [];\n      }\n\n      results = [[left, y], [right, y]];\n    }\n  }\n\n  if (!results.length) {\n    results = points.filter(function (point) {\n      var pointX = point[0],\n          pointY = point[1];\n      return minMaxs.every(function (minMax) {\n        return 0 <= tinyThrottle(pointX - minMax[0][0]) && 0 <= tinyThrottle(minMax[0][1] - pointX) && 0 <= tinyThrottle(pointY - minMax[1][0]) && 0 <= tinyThrottle(minMax[1][1] - pointY);\n      });\n    });\n  }\n\n  return results.map(function (result) {\n    return [tinyThrottle(result[0]), tinyThrottle(result[1])];\n  });\n}\n/**\n* Convert two points into lines.\n* @function\n* @memberof OverlapArea\n*/\n\nfunction convertLines(points) {\n  return __spreadArrays(points.slice(1), [points[0]]).map(function (point, i) {\n    return [points[i], point];\n  });\n}\n\nfunction getOverlapPointInfos(points1, points2) {\n  var targetPoints1 = points1.slice();\n  var targetPoints2 = points2.slice();\n\n  if (getShapeDirection(targetPoints1) === -1) {\n    targetPoints1.reverse();\n  }\n\n  if (getShapeDirection(targetPoints2) === -1) {\n    targetPoints2.reverse();\n  }\n\n  var lines1 = convertLines(targetPoints1);\n  var lines2 = convertLines(targetPoints2);\n  var linearConstantsList1 = lines1.map(function (line1) {\n    return getLinearConstants(line1[0], line1[1]);\n  });\n  var linearConstantsList2 = lines2.map(function (line2) {\n    return getLinearConstants(line2[0], line2[1]);\n  });\n  var overlapInfos = [];\n  linearConstantsList1.forEach(function (linearConstants1, i) {\n    var line1 = lines1[i];\n    var linePointInfos = [];\n    linearConstantsList2.forEach(function (linearConstants2, j) {\n      var intersectionPoints = getIntersectionPointsByConstants(linearConstants1, linearConstants2);\n      var points = getPointsOnLines(intersectionPoints, [line1, lines2[j]]);\n      linePointInfos.push.apply(linePointInfos, points.map(function (pos) {\n        return {\n          index1: i,\n          index2: j,\n          pos: pos,\n          type: \"intersection\"\n        };\n      }));\n    });\n    linePointInfos.sort(function (a, b) {\n      return getDist(line1[0], a.pos) - getDist(line1[0], b.pos);\n    });\n    overlapInfos.push.apply(overlapInfos, linePointInfos);\n\n    if (isInside(line1[1], targetPoints2)) {\n      overlapInfos.push({\n        index1: i,\n        index2: -1,\n        pos: line1[1],\n        type: \"inside\"\n      });\n    }\n  });\n  lines2.forEach(function (line2, i) {\n    if (!isInside(line2[1], targetPoints1)) {\n      return;\n    }\n\n    var isNext = false;\n    var index = findIndex(overlapInfos, function (_a) {\n      var index2 = _a.index2;\n\n      if (index2 === i) {\n        isNext = true;\n        return false;\n      }\n\n      if (isNext) {\n        return true;\n      }\n\n      return false;\n    });\n\n    if (index === -1) {\n      isNext = false;\n      index = findIndex(overlapInfos, function (_a) {\n        var index1 = _a.index1,\n            index2 = _a.index2;\n\n        if (index1 === -1 && index2 + 1 === i) {\n          isNext = true;\n          return false;\n        }\n\n        if (isNext) {\n          return true;\n        }\n\n        return false;\n      });\n    }\n\n    if (index === -1) {\n      overlapInfos.push({\n        index1: -1,\n        index2: i,\n        pos: line2[1],\n        type: \"inside\"\n      });\n    } else {\n      overlapInfos.splice(index, 0, {\n        index1: -1,\n        index2: i,\n        pos: line2[1],\n        type: \"inside\"\n      });\n    }\n  });\n  var pointMap = {};\n  return overlapInfos.filter(function (_a) {\n    var pos = _a.pos;\n    var key = pos[0] + \"x\" + pos[1];\n\n    if (pointMap[key]) {\n      return false;\n    }\n\n    pointMap[key] = true;\n    return true;\n  });\n}\n/**\n* Get the points of the overlapped part of two shapes.\n* @function\n* @memberof OverlapArea\n*/\n\n\nfunction getOverlapPoints(points1, points2) {\n  var infos = getOverlapPointInfos(points1, points2);\n  return infos.map(function (_a) {\n    var pos = _a.pos;\n    return pos;\n  });\n}\n\nfunction isConnectedLine(line) {\n  var _a = line[0],\n      prevIndex1 = _a.index1,\n      prevIndex2 = _a.index2,\n      _b = line[1],\n      nextIndex1 = _b.index1,\n      nextIndex2 = _b.index2;\n\n  if (prevIndex1 !== -1) {\n    // same line\n    if (prevIndex1 === nextIndex1) {\n      return true;\n    }\n\n    if (prevIndex1 + 1 === nextIndex1) {\n      return true;\n    }\n  }\n\n  if (prevIndex2 !== -1) {\n    // same line\n    if (prevIndex2 === nextIndex2) {\n      return true;\n    }\n\n    if (prevIndex2 + 1 === nextIndex2) {\n      return true;\n    }\n  }\n\n  return false;\n}\n/**\n* Get the areas of the overlapped part of two shapes.\n* @function\n* @memberof OverlapArea\n*/\n\n\nfunction getOverlapAreas(points1, points2) {\n  var infos = getOverlapPointInfos(points1, points2);\n  var areas = [];\n  var area;\n  getOverlapPointInfos(points1, points2).forEach(function (info, i, arr) {\n    if (i === 0 || !isConnectedLine([arr[i - 1], info])) {\n      area = [info];\n      areas.push(area);\n    } else {\n      area.push(info);\n    }\n  });\n  return areas.map(function (area) {\n    return area.map(function (_a) {\n      var pos = _a.pos;\n      return pos;\n    });\n  });\n}\n\nfunction findReversedAreas(points1, points2, index, areas) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (areas === void 0) {\n    areas = [];\n  }\n\n  var isFirst = areas.length === 0;\n  var length = points1.length;\n  var nextIndex = points1[index] ? index : 0;\n\n  var nextPoints1 = __spreadArrays(points1.slice(nextIndex), points1.slice(0, nextIndex));\n\n  var _loop_1 = function (i) {\n    var point1 = nextPoints1[i];\n\n    if (find(points2, function (point2) {\n      return point2[0] === point1[0] && point2[1] === point1[1];\n    })) {\n      return \"continue\";\n    }\n\n    if (areas.some(function (nextArea) {\n      return find(nextArea, function (areaPoint) {\n        return areaPoint[0] === point1[0] && areaPoint[1] === point1[1];\n      });\n    })) {\n      if (isFirst) {\n        return \"continue\";\n      } else {\n        return \"break\";\n      }\n    }\n\n    var nextArea = void 0;\n\n    if (isFirst) {\n      nextArea = [];\n      areas.push(nextArea);\n    } else {\n      nextArea = areas[areas.length - 1];\n    }\n\n    nextArea.push(point1);\n    var line = [point1, points1[index + 1] || points1[0]];\n    var nextPoint2 = points2.filter(function (point2) {\n      return isPointOnLine(point2, line);\n    }).sort(function (a, b) {\n      return getDist(point1, a) - getDist(point1, b);\n    })[0];\n\n    if (!nextPoint2) {\n      findReversedAreas(nextPoints1, points2, i + 1, areas);\n      return \"break\";\n    } else {\n      var point2Index = points2.indexOf(nextPoint2);\n      findReversedAreas(points2, points1, point2Index, areas);\n\n      if (!isFirst) {\n        return \"break\";\n      }\n    }\n  };\n\n  for (var i = 0; i < length; ++i) {\n    var state_1 = _loop_1(i);\n\n    if (state_1 === \"break\") break;\n  }\n\n  return areas;\n}\n\nfunction findConnectedAreas(points1, points2) {\n  return findReversedAreas(points1, __spreadArrays(points2).reverse());\n}\n/**\n* Get non-overlapping areas of two shapes based on points1.\n* @memberof OverlapArea\n*/\n\nfunction getUnoverlapAreas(points1, points2) {\n  if (!points2.length) {\n    return [__spreadArrays(points1)];\n  }\n\n  var overlapAreas = getOverlapAreas(points1, points2);\n  var unoverlapAreas = [points1];\n  overlapAreas.forEach(function (overlapArea) {\n    var nextOverlapArea = __spreadArrays(overlapArea).reverse();\n\n    unoverlapAreas = flat(unoverlapAreas.map(function (area) {\n      var connectedAreas = findReversedAreas(area, nextOverlapArea);\n      var firstConnectedArea = connectedAreas[0];\n\n      if (connectedAreas.length === 1 && nextOverlapArea.every(function (point) {\n        return firstConnectedArea.indexOf(point) === -1;\n      })) {\n        var lastPoint_1 = firstConnectedArea[firstConnectedArea.length - 1];\n\n        var firstPoint = __spreadArrays(nextOverlapArea).sort(function (a, b) {\n          return getDist(lastPoint_1, a) - getDist(lastPoint_1, b);\n        })[0];\n\n        var firstIndex = nextOverlapArea.indexOf(firstPoint);\n        firstConnectedArea.push.apply(firstConnectedArea, __spreadArrays(nextOverlapArea.slice(firstIndex), nextOverlapArea.slice(0, firstIndex), [nextOverlapArea[firstIndex], lastPoint_1]));\n      }\n\n      return connectedAreas;\n    }));\n  });\n  return unoverlapAreas;\n}\n/**\n* Gets the size of the overlapped part of two shapes.\n* @function\n* @memberof OverlapArea\n*/\n\nfunction getOverlapSize(points1, points2) {\n  var points = getOverlapPoints(points1, points2);\n  return getAreaSize(points);\n}\n\nexport { convertLines, findConnectedAreas, fitPoints, getAreaSize, getDistanceFromPointToConstants, getIntersectionPoints, getIntersectionPointsByConstants, getLinearConstants, getMinMaxs, getOverlapAreas, getOverlapPoints, getOverlapSize, getPointsOnLines, getUnoverlapAreas, isInside, isPointOnLine };\n//# sourceMappingURL=overlap-area.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: gesto\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/gesto.git\nversion: 1.19.4\n*/\nimport EventEmitter from '@scena/event-emitter';\nimport { removeEvent, addEvent, now, isWindow, getWindow } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nfunction getRad(pos1, pos2) {\n    var distX = pos2[0] - pos1[0];\n    var distY = pos2[1] - pos1[1];\n    var rad = Math.atan2(distY, distX);\n    return rad >= 0 ? rad : rad + Math.PI * 2;\n}\nfunction getRotatiion(touches) {\n    return getRad([\n        touches[0].clientX,\n        touches[0].clientY,\n    ], [\n        touches[1].clientX,\n        touches[1].clientY,\n    ]) / Math.PI * 180;\n}\nfunction isMultiTouch(e) {\n    return e.touches && e.touches.length >= 2;\n}\nfunction getEventClients(e) {\n    if (!e) {\n        return [];\n    }\n    if (e.touches) {\n        return getClients(e.touches);\n    }\n    else {\n        return [getClient(e)];\n    }\n}\nfunction isMouseEvent(e) {\n    return e && (e.type.indexOf(\"mouse\") > -1 || \"button\" in e);\n}\nfunction getPosition(clients, prevClients, startClients) {\n    var length = startClients.length;\n    var _a = getAverageClient(clients, length), clientX = _a.clientX, clientY = _a.clientY, originalClientX = _a.originalClientX, originalClientY = _a.originalClientY;\n    var _b = getAverageClient(prevClients, length), prevX = _b.clientX, prevY = _b.clientY;\n    var _c = getAverageClient(startClients, length), startX = _c.clientX, startY = _c.clientY;\n    var deltaX = clientX - prevX;\n    var deltaY = clientY - prevY;\n    var distX = clientX - startX;\n    var distY = clientY - startY;\n    return {\n        clientX: originalClientX,\n        clientY: originalClientY,\n        deltaX: deltaX,\n        deltaY: deltaY,\n        distX: distX,\n        distY: distY,\n    };\n}\nfunction getDist(clients) {\n    return Math.sqrt(Math.pow(clients[0].clientX - clients[1].clientX, 2)\n        + Math.pow(clients[0].clientY - clients[1].clientY, 2));\n}\nfunction getClients(touches) {\n    var length = Math.min(touches.length, 2);\n    var clients = [];\n    for (var i = 0; i < length; ++i) {\n        clients.push(getClient(touches[i]));\n    }\n    return clients;\n}\nfunction getClient(e) {\n    return {\n        clientX: e.clientX,\n        clientY: e.clientY,\n    };\n}\nfunction getAverageClient(clients, length) {\n    if (length === void 0) { length = clients.length; }\n    var sumClient = {\n        clientX: 0,\n        clientY: 0,\n        originalClientX: 0,\n        originalClientY: 0,\n    };\n    var minLength = Math.min(clients.length, length);\n    for (var i = 0; i < minLength; ++i) {\n        var client = clients[i];\n        sumClient.originalClientX += \"originalClientX\" in client ? client.originalClientX : client.clientX;\n        sumClient.originalClientY += \"originalClientY\" in client ? client.originalClientY : client.clientY;\n        sumClient.clientX += client.clientX;\n        sumClient.clientY += client.clientY;\n    }\n    if (!length) {\n        return sumClient;\n    }\n    return {\n        clientX: sumClient.clientX / length,\n        clientY: sumClient.clientY / length,\n        originalClientX: sumClient.originalClientX / length,\n        originalClientY: sumClient.originalClientY / length,\n    };\n}\n\nvar ClientStore = /*#__PURE__*/ (function () {\n    function ClientStore(clients) {\n        this.prevClients = [];\n        this.startClients = [];\n        this.movement = 0;\n        this.length = 0;\n        this.startClients = clients;\n        this.prevClients = clients;\n        this.length = clients.length;\n    }\n    ClientStore.prototype.getAngle = function (clients) {\n        if (clients === void 0) { clients = this.prevClients; }\n        return getRotatiion(clients);\n    };\n    ClientStore.prototype.getRotation = function (clients) {\n        if (clients === void 0) { clients = this.prevClients; }\n        return getRotatiion(clients) - getRotatiion(this.startClients);\n    };\n    ClientStore.prototype.getPosition = function (clients, isAdd) {\n        if (clients === void 0) { clients = this.prevClients; }\n        var position = getPosition(clients || this.prevClients, this.prevClients, this.startClients);\n        var deltaX = position.deltaX, deltaY = position.deltaY;\n        this.movement += Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n        this.prevClients = clients;\n        return position;\n    };\n    ClientStore.prototype.getPositions = function (clients) {\n        if (clients === void 0) { clients = this.prevClients; }\n        var prevClients = this.prevClients;\n        var startClients = this.startClients;\n        var minLength = Math.min(this.length, prevClients.length);\n        var positions = [];\n        for (var i = 0; i < minLength; ++i) {\n            positions[i] = getPosition([clients[i]], [prevClients[i]], [startClients[i]]);\n        }\n        return positions;\n    };\n    ClientStore.prototype.getMovement = function (clients) {\n        var movement = this.movement;\n        if (!clients) {\n            return movement;\n        }\n        var currentClient = getAverageClient(clients, this.length);\n        var prevClient = getAverageClient(this.prevClients, this.length);\n        var deltaX = currentClient.clientX - prevClient.clientX;\n        var deltaY = currentClient.clientY - prevClient.clientY;\n        return Math.sqrt(deltaX * deltaX + deltaY * deltaY) + movement;\n    };\n    ClientStore.prototype.getDistance = function (clients) {\n        if (clients === void 0) { clients = this.prevClients; }\n        return getDist(clients);\n    };\n    ClientStore.prototype.getScale = function (clients) {\n        if (clients === void 0) { clients = this.prevClients; }\n        return getDist(clients) / getDist(this.startClients);\n    };\n    ClientStore.prototype.move = function (deltaX, deltaY) {\n        this.startClients.forEach(function (client) {\n            client.clientX -= deltaX;\n            client.clientY -= deltaY;\n        });\n        this.prevClients.forEach(function (client) {\n            client.clientX -= deltaX;\n            client.clientY -= deltaY;\n        });\n    };\n    return ClientStore;\n}());\n\nvar INPUT_TAGNAMES = [\"textarea\", \"input\"];\n/**\n * You can set up drag, pinch events in any browser.\n */\nvar Gesto = /*#__PURE__*/ (function (_super) {\n    __extends(Gesto, _super);\n    /**\n     *\n     */\n    function Gesto(targets, options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this.options = {};\n        _this.flag = false;\n        _this.pinchFlag = false;\n        _this.data = {};\n        _this.isDrag = false;\n        _this.isPinch = false;\n        _this.clientStores = [];\n        _this.targets = [];\n        _this.prevTime = 0;\n        _this.doubleFlag = false;\n        _this._useMouse = false;\n        _this._useTouch = false;\n        _this._useDrag = false;\n        _this._dragFlag = false;\n        _this._isTrusted = false;\n        _this._isMouseEvent = false;\n        _this._isSecondaryButton = false;\n        _this._preventMouseEvent = false;\n        _this._prevInputEvent = null;\n        _this._isDragAPI = false;\n        _this._isIdle = true;\n        _this._preventMouseEventId = 0;\n        _this._window = window;\n        _this.onDragStart = function (e, isTrusted) {\n            if (isTrusted === void 0) { isTrusted = true; }\n            if (!_this.flag && e.cancelable === false) {\n                return;\n            }\n            var isDragAPI = e.type.indexOf(\"drag\") >= -1;\n            if (_this.flag && isDragAPI) {\n                return;\n            }\n            _this._isDragAPI = true;\n            var _a = _this.options, container = _a.container, pinchOutside = _a.pinchOutside, preventWheelClick = _a.preventWheelClick, preventRightClick = _a.preventRightClick, preventDefault = _a.preventDefault, checkInput = _a.checkInput, dragFocusedInput = _a.dragFocusedInput, preventClickEventOnDragStart = _a.preventClickEventOnDragStart, preventClickEventOnDrag = _a.preventClickEventOnDrag, preventClickEventByCondition = _a.preventClickEventByCondition;\n            var useTouch = _this._useTouch;\n            var isDragStart = !_this.flag;\n            _this._isSecondaryButton = e.which === 3 || e.button === 2;\n            if ((preventWheelClick && (e.which === 2 || e.button === 1))\n                || (preventRightClick && (e.which === 3 || e.button === 2))) {\n                _this.stop();\n                return false;\n            }\n            if (isDragStart) {\n                var activeElement = _this._window.document.activeElement;\n                var target = e.target;\n                if (target) {\n                    var tagName = target.tagName.toLowerCase();\n                    var hasInput = INPUT_TAGNAMES.indexOf(tagName) > -1;\n                    var hasContentEditable = target.isContentEditable;\n                    if (hasInput || hasContentEditable) {\n                        if (checkInput || (!dragFocusedInput && activeElement === target)) {\n                            // force false or already focused.\n                            return false;\n                        }\n                        // no focus\n                        if (activeElement && (activeElement === target\n                            || (hasContentEditable && activeElement.isContentEditable && activeElement.contains(target)))) {\n                            if (dragFocusedInput) {\n                                target.blur();\n                            }\n                            else {\n                                return false;\n                            }\n                        }\n                    }\n                    else if ((preventDefault || e.type === \"touchstart\") && activeElement) {\n                        var activeTagName = activeElement.tagName.toLowerCase();\n                        if (activeElement.isContentEditable || INPUT_TAGNAMES.indexOf(activeTagName) > -1) {\n                            activeElement.blur();\n                        }\n                    }\n                    if (preventClickEventOnDragStart || preventClickEventOnDrag || preventClickEventByCondition) {\n                        addEvent(_this._window, \"click\", _this._onClick, true);\n                    }\n                }\n                _this.clientStores = [new ClientStore(getEventClients(e))];\n                _this._isIdle = false;\n                _this.flag = true;\n                _this.isDrag = false;\n                _this._isTrusted = isTrusted;\n                _this._dragFlag = true;\n                _this._prevInputEvent = e;\n                _this.data = {};\n                _this.doubleFlag = now() - _this.prevTime < 200;\n                _this._isMouseEvent = isMouseEvent(e);\n                if (!_this._isMouseEvent && _this._preventMouseEvent) {\n                    _this._allowMouseEvent();\n                }\n                var result = _this._preventMouseEvent || _this.emit(\"dragStart\", __assign(__assign({ data: _this.data, datas: _this.data, inputEvent: e, isMouseEvent: _this._isMouseEvent, isSecondaryButton: _this._isSecondaryButton, isTrusted: isTrusted, isDouble: _this.doubleFlag }, _this.getCurrentStore().getPosition()), { preventDefault: function () {\n                        e.preventDefault();\n                    }, preventDrag: function () {\n                        _this._dragFlag = false;\n                    } }));\n                if (result === false) {\n                    _this.stop();\n                }\n                if (_this._isMouseEvent && _this.flag && preventDefault) {\n                    e.preventDefault();\n                }\n            }\n            if (!_this.flag) {\n                return false;\n            }\n            var timer = 0;\n            if (isDragStart) {\n                _this._attchDragEvent();\n                // wait pinch\n                if (useTouch && pinchOutside) {\n                    timer = setTimeout(function () {\n                        addEvent(container, \"touchstart\", _this.onDragStart, {\n                            passive: false\n                        });\n                    });\n                }\n            }\n            else if (useTouch && pinchOutside) {\n                // pinch is occured\n                removeEvent(container, \"touchstart\", _this.onDragStart);\n            }\n            if (_this.flag && isMultiTouch(e)) {\n                clearTimeout(timer);\n                if (isDragStart && (e.touches.length !== e.changedTouches.length)) {\n                    return;\n                }\n                if (!_this.pinchFlag) {\n                    _this.onPinchStart(e);\n                }\n            }\n        };\n        _this.onDrag = function (e, isScroll) {\n            if (!_this.flag) {\n                return;\n            }\n            var preventDefault = _this.options.preventDefault;\n            if (!_this._isMouseEvent && preventDefault) {\n                e.preventDefault();\n            }\n            _this._prevInputEvent = e;\n            var clients = getEventClients(e);\n            var result = _this.moveClients(clients, e, false);\n            if (_this._dragFlag) {\n                if (_this.pinchFlag || result.deltaX || result.deltaY) {\n                    var dragResult = _this._preventMouseEvent || _this.emit(\"drag\", __assign(__assign({}, result), { isScroll: !!isScroll, inputEvent: e }));\n                    if (dragResult === false) {\n                        _this.stop();\n                        return;\n                    }\n                }\n                if (_this.pinchFlag) {\n                    _this.onPinch(e, clients);\n                }\n            }\n            _this.getCurrentStore().getPosition(clients, true);\n        };\n        _this.onDragEnd = function (e) {\n            if (!_this.flag) {\n                return;\n            }\n            var _a = _this.options, pinchOutside = _a.pinchOutside, container = _a.container, preventClickEventOnDrag = _a.preventClickEventOnDrag, preventClickEventOnDragStart = _a.preventClickEventOnDragStart, preventClickEventByCondition = _a.preventClickEventByCondition;\n            var isDrag = _this.isDrag;\n            if (preventClickEventOnDrag || preventClickEventOnDragStart || preventClickEventByCondition) {\n                requestAnimationFrame(function () {\n                    _this._allowClickEvent();\n                });\n            }\n            if (!preventClickEventByCondition && !preventClickEventOnDragStart && preventClickEventOnDrag && !isDrag) {\n                _this._allowClickEvent();\n            }\n            if (_this._useTouch && pinchOutside) {\n                removeEvent(container, \"touchstart\", _this.onDragStart);\n            }\n            if (_this.pinchFlag) {\n                _this.onPinchEnd(e);\n            }\n            var clients = (e === null || e === void 0 ? void 0 : e.touches) ? getEventClients(e) : [];\n            var clientsLength = clients.length;\n            if (clientsLength === 0 || !_this.options.keepDragging) {\n                _this.flag = false;\n            }\n            else {\n                _this._addStore(new ClientStore(clients));\n            }\n            var position = _this._getPosition();\n            var currentTime = now();\n            var isDouble = !isDrag && _this.doubleFlag;\n            _this._prevInputEvent = null;\n            _this.prevTime = isDrag || isDouble ? 0 : currentTime;\n            if (!_this.flag) {\n                _this._dettachDragEvent();\n                _this._preventMouseEvent || _this.emit(\"dragEnd\", __assign({ data: _this.data, datas: _this.data, isDouble: isDouble, isDrag: isDrag, isClick: !isDrag, isMouseEvent: _this._isMouseEvent, isSecondaryButton: _this._isSecondaryButton, inputEvent: e, isTrusted: _this._isTrusted }, position));\n                _this.clientStores = [];\n                if (!_this._isMouseEvent) {\n                    _this._preventMouseEvent = true;\n                    // Prevent the problem of touch event and mouse event occurring simultaneously\n                    clearTimeout(_this._preventMouseEventId);\n                    _this._preventMouseEventId = setTimeout(function () {\n                        _this._preventMouseEvent = false;\n                    }, 200);\n                }\n                _this._isIdle = true;\n            }\n        };\n        _this.onBlur = function () {\n            _this.onDragEnd();\n        };\n        _this._allowClickEvent = function () {\n            removeEvent(_this._window, \"click\", _this._onClick, true);\n        };\n        _this._onClick = function (e) {\n            _this._allowClickEvent();\n            _this._allowMouseEvent();\n            var preventClickEventByCondition = _this.options.preventClickEventByCondition;\n            if (preventClickEventByCondition === null || preventClickEventByCondition === void 0 ? void 0 : preventClickEventByCondition(e)) {\n                return;\n            }\n            e.stopPropagation();\n            e.preventDefault();\n        };\n        _this._onContextMenu = function (e) {\n            var options = _this.options;\n            if (!options.preventRightClick) {\n                e.preventDefault();\n            }\n            else {\n                _this.onDragEnd(e);\n            }\n        };\n        _this._passCallback = function () { };\n        var elements = [].concat(targets);\n        var firstTarget = elements[0];\n        _this._window = isWindow(firstTarget) ? firstTarget : getWindow(firstTarget);\n        _this.options = __assign({ checkInput: false, container: firstTarget && !(\"document\" in firstTarget) ? getWindow(firstTarget) : firstTarget, preventRightClick: true, preventWheelClick: true, preventClickEventOnDragStart: false, preventClickEventOnDrag: false, preventClickEventByCondition: null, preventDefault: true, checkWindowBlur: false, keepDragging: false, pinchThreshold: 0, events: [\"touch\", \"mouse\"] }, options);\n        var _a = _this.options, container = _a.container, events = _a.events, checkWindowBlur = _a.checkWindowBlur;\n        _this._useDrag = events.indexOf(\"drag\") > -1;\n        _this._useTouch = events.indexOf(\"touch\") > -1;\n        _this._useMouse = events.indexOf(\"mouse\") > -1;\n        _this.targets = elements;\n        if (_this._useDrag) {\n            elements.forEach(function (el) {\n                addEvent(el, \"dragstart\", _this.onDragStart);\n            });\n        }\n        if (_this._useMouse) {\n            elements.forEach(function (el) {\n                addEvent(el, \"mousedown\", _this.onDragStart);\n                addEvent(el, \"mousemove\", _this._passCallback);\n            });\n            addEvent(container, \"contextmenu\", _this._onContextMenu);\n        }\n        if (checkWindowBlur) {\n            addEvent(getWindow(), \"blur\", _this.onBlur);\n        }\n        if (_this._useTouch) {\n            var passive_1 = {\n                passive: false,\n            };\n            elements.forEach(function (el) {\n                addEvent(el, \"touchstart\", _this.onDragStart, passive_1);\n                addEvent(el, \"touchmove\", _this._passCallback, passive_1);\n            });\n        }\n        return _this;\n    }\n    /**\n     * Stop Gesto's drag events.\n     */\n    Gesto.prototype.stop = function () {\n        this.isDrag = false;\n        this.data = {};\n        this.clientStores = [];\n        this.pinchFlag = false;\n        this.doubleFlag = false;\n        this.prevTime = 0;\n        this.flag = false;\n        this._isIdle = true;\n        this._allowClickEvent();\n        this._dettachDragEvent();\n        this._isDragAPI = false;\n    };\n    /**\n     * The total moved distance\n     */\n    Gesto.prototype.getMovement = function (clients) {\n        return this.getCurrentStore().getMovement(clients) + this.clientStores.slice(1).reduce(function (prev, cur) {\n            return prev + cur.movement;\n        }, 0);\n    };\n    /**\n     * Whether to drag\n     */\n    Gesto.prototype.isDragging = function () {\n        return this.isDrag;\n    };\n    /**\n     * Whether the operation of gesto is finished and is in idle state\n     */\n    Gesto.prototype.isIdle = function () {\n        return this._isIdle;\n    };\n    /**\n     * Whether to start drag\n     */\n    Gesto.prototype.isFlag = function () {\n        return this.flag;\n    };\n    /**\n     * Whether to start pinch\n     */\n    Gesto.prototype.isPinchFlag = function () {\n        return this.pinchFlag;\n    };\n    /**\n     * Whether to start double click\n     */\n    Gesto.prototype.isDoubleFlag = function () {\n        return this.doubleFlag;\n    };\n    /**\n     * Whether to pinch\n     */\n    Gesto.prototype.isPinching = function () {\n        return this.isPinch;\n    };\n    /**\n     * If a scroll event occurs, it is corrected by the scroll distance.\n     */\n    Gesto.prototype.scrollBy = function (deltaX, deltaY, e, isCallDrag) {\n        if (isCallDrag === void 0) { isCallDrag = true; }\n        if (!this.flag) {\n            return;\n        }\n        this.clientStores[0].move(deltaX, deltaY);\n        isCallDrag && this.onDrag(e, true);\n    };\n    /**\n     * Create a virtual drag event.\n     */\n    Gesto.prototype.move = function (_a, inputEvent) {\n        var deltaX = _a[0], deltaY = _a[1];\n        var store = this.getCurrentStore();\n        var nextClients = store.prevClients;\n        return this.moveClients(nextClients.map(function (_a) {\n            var clientX = _a.clientX, clientY = _a.clientY;\n            return {\n                clientX: clientX + deltaX,\n                clientY: clientY + deltaY,\n                originalClientX: clientX,\n                originalClientY: clientY,\n            };\n        }), inputEvent, true);\n    };\n    /**\n     * The dragStart event is triggered by an external event.\n     */\n    Gesto.prototype.triggerDragStart = function (e) {\n        this.onDragStart(e, false);\n    };\n    /**\n     * Set the event data while dragging.\n     */\n    Gesto.prototype.setEventData = function (data) {\n        var currentData = this.data;\n        for (var name_1 in data) {\n            currentData[name_1] = data[name_1];\n        }\n        return this;\n    };\n    /**\n     * Set the event data while dragging.\n     * Use `setEventData`\n     * @deprecated\n     */\n    Gesto.prototype.setEventDatas = function (data) {\n        return this.setEventData(data);\n    };\n    /**\n     * Get the current event state while dragging.\n     */\n    Gesto.prototype.getCurrentEvent = function (inputEvent) {\n        if (inputEvent === void 0) { inputEvent = this._prevInputEvent; }\n        return __assign(__assign({ data: this.data, datas: this.data }, this._getPosition()), { movement: this.getMovement(), isDrag: this.isDrag, isPinch: this.isPinch, isScroll: false, inputEvent: inputEvent });\n    };\n    /**\n     * Get & Set the event data while dragging.\n     */\n    Gesto.prototype.getEventData = function () {\n        return this.data;\n    };\n    /**\n     * Get & Set the event data while dragging.\n     * Use getEventData method\n     * @depreacated\n     */\n    Gesto.prototype.getEventDatas = function () {\n        return this.data;\n    };\n    /**\n     * Unset Gesto\n     */\n    Gesto.prototype.unset = function () {\n        var _this = this;\n        var targets = this.targets;\n        var container = this.options.container;\n        this.off();\n        removeEvent(this._window, \"blur\", this.onBlur);\n        if (this._useDrag) {\n            targets.forEach(function (el) {\n                removeEvent(el, \"dragstart\", _this.onDragStart);\n            });\n        }\n        if (this._useMouse) {\n            targets.forEach(function (target) {\n                removeEvent(target, \"mousedown\", _this.onDragStart);\n            });\n            removeEvent(container, \"contextmenu\", this._onContextMenu);\n        }\n        if (this._useTouch) {\n            targets.forEach(function (target) {\n                removeEvent(target, \"touchstart\", _this.onDragStart);\n            });\n            removeEvent(container, \"touchstart\", this.onDragStart);\n        }\n        this._prevInputEvent = null;\n        this._allowClickEvent();\n        this._dettachDragEvent();\n    };\n    Gesto.prototype.onPinchStart = function (e) {\n        var _this = this;\n        var pinchThreshold = this.options.pinchThreshold;\n        if (this.isDrag && this.getMovement() > pinchThreshold) {\n            return;\n        }\n        var store = new ClientStore(getEventClients(e));\n        this.pinchFlag = true;\n        this._addStore(store);\n        var result = this.emit(\"pinchStart\", __assign(__assign({ data: this.data, datas: this.data, angle: store.getAngle(), touches: this.getCurrentStore().getPositions() }, store.getPosition()), { inputEvent: e, isTrusted: this._isTrusted, preventDefault: function () {\n                e.preventDefault();\n            }, preventDrag: function () {\n                _this._dragFlag = false;\n            } }));\n        if (result === false) {\n            this.pinchFlag = false;\n        }\n    };\n    Gesto.prototype.onPinch = function (e, clients) {\n        if (!this.flag || !this.pinchFlag || clients.length < 2) {\n            return;\n        }\n        var store = this.getCurrentStore();\n        this.isPinch = true;\n        this.emit(\"pinch\", __assign(__assign({ data: this.data, datas: this.data, movement: this.getMovement(clients), angle: store.getAngle(clients), rotation: store.getRotation(clients), touches: store.getPositions(clients), scale: store.getScale(clients), distance: store.getDistance(clients) }, store.getPosition(clients)), { inputEvent: e, isTrusted: this._isTrusted }));\n    };\n    Gesto.prototype.onPinchEnd = function (e) {\n        if (!this.pinchFlag) {\n            return;\n        }\n        var isPinch = this.isPinch;\n        this.isPinch = false;\n        this.pinchFlag = false;\n        var store = this.getCurrentStore();\n        this.emit(\"pinchEnd\", __assign(__assign({ data: this.data, datas: this.data, isPinch: isPinch, touches: store.getPositions() }, store.getPosition()), { inputEvent: e }));\n    };\n    Gesto.prototype.getCurrentStore = function () {\n        return this.clientStores[0];\n    };\n    Gesto.prototype.moveClients = function (clients, inputEvent, isAdd) {\n        var position = this._getPosition(clients, isAdd);\n        var isPrevDrag = this.isDrag;\n        if (position.deltaX || position.deltaY) {\n            this.isDrag = true;\n        }\n        var isFirstDrag = false;\n        if (!isPrevDrag && this.isDrag) {\n            isFirstDrag = true;\n        }\n        return __assign(__assign({ data: this.data, datas: this.data }, position), { movement: this.getMovement(clients), isDrag: this.isDrag, isPinch: this.isPinch, isScroll: false, isMouseEvent: this._isMouseEvent, isSecondaryButton: this._isSecondaryButton, inputEvent: inputEvent, isTrusted: this._isTrusted, isFirstDrag: isFirstDrag });\n    };\n    Gesto.prototype._addStore = function (store) {\n        this.clientStores.splice(0, 0, store);\n    };\n    Gesto.prototype._getPosition = function (clients, isAdd) {\n        var store = this.getCurrentStore();\n        var position = store.getPosition(clients, isAdd);\n        var _a = this.clientStores.slice(1).reduce(function (prev, cur) {\n            var storePosition = cur.getPosition();\n            prev.distX += storePosition.distX;\n            prev.distY += storePosition.distY;\n            return prev;\n        }, position), distX = _a.distX, distY = _a.distY;\n        return __assign(__assign({}, position), { distX: distX, distY: distY });\n    };\n    Gesto.prototype._attchDragEvent = function () {\n        var win = this._window;\n        var container = this.options.container;\n        var passive = {\n            passive: false\n        };\n        if (this._isDragAPI) {\n            addEvent(container, \"dragover\", this.onDrag, passive);\n            addEvent(win, \"dragend\", this.onDragEnd);\n        }\n        if (this._useMouse) {\n            addEvent(container, \"mousemove\", this.onDrag);\n            addEvent(win, \"mouseup\", this.onDragEnd);\n        }\n        if (this._useTouch) {\n            addEvent(container, \"touchmove\", this.onDrag, passive);\n            addEvent(win, \"touchend\", this.onDragEnd, passive);\n            addEvent(win, \"touchcancel\", this.onDragEnd, passive);\n        }\n    };\n    Gesto.prototype._dettachDragEvent = function () {\n        var win = this._window;\n        var container = this.options.container;\n        if (this._isDragAPI) {\n            removeEvent(container, \"dragover\", this.onDrag);\n            removeEvent(win, \"dragend\", this.onDragEnd);\n        }\n        if (this._useMouse) {\n            removeEvent(container, \"mousemove\", this.onDrag);\n            removeEvent(win, \"mouseup\", this.onDragEnd);\n        }\n        if (this._useTouch) {\n            removeEvent(container, \"touchstart\", this.onDragStart);\n            removeEvent(container, \"touchmove\", this.onDrag);\n            removeEvent(win, \"touchend\", this.onDragEnd);\n            removeEvent(win, \"touchcancel\", this.onDragEnd);\n        }\n    };\n    Gesto.prototype._allowMouseEvent = function () {\n        this._preventMouseEvent = false;\n        clearTimeout(this._preventMouseEventId);\n    };\n    return Gesto;\n}(EventEmitter));\n\nexport { Gesto as default };\n//# sourceMappingURL=gesto.esm.js.map\n","/*\nCopyright (c) Daybrush\nname: css-styled\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/css-styled.git\nversion: 1.0.8\n*/\nimport { getDocument, splitComma } from '@daybrush/utils';\n\nfunction hash(str) {\n  var hash = 5381,\n      i    = str.length;\n\n  while(i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i);\n  }\n\n  /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */\n  return hash >>> 0;\n}\n\nvar stringHash = hash;\n\nfunction getHash(str) {\n  return stringHash(str).toString(36);\n}\nfunction getShadowRoot(parentElement) {\n  if (parentElement && parentElement.getRootNode) {\n    var rootNode = parentElement.getRootNode();\n    if (rootNode.nodeType === 11) {\n      return rootNode;\n    }\n  }\n  return;\n}\nfunction replaceStyle(className, css, options) {\n  if (options.original) {\n    return css;\n  }\n  return css.replace(/([^};{\\s}][^};{]*|^\\s*){/mg, function (_, selector) {\n    var trimmedSelector = selector.trim();\n    return (trimmedSelector ? splitComma(trimmedSelector) : [\"\"]).map(function (subSelector) {\n      var trimmedSubSelector = subSelector.trim();\n      if (trimmedSubSelector.indexOf(\"@\") === 0) {\n        return trimmedSubSelector;\n      } else if (trimmedSubSelector.indexOf(\":global\") > -1) {\n        return trimmedSubSelector.replace(/\\:global/g, \"\");\n      } else if (trimmedSubSelector.indexOf(\":host\") > -1) {\n        return \"\".concat(trimmedSubSelector.replace(/\\:host/g, \".\".concat(className)));\n      } else if (trimmedSubSelector) {\n        return \".\".concat(className, \" \").concat(trimmedSubSelector);\n      } else {\n        return \".\".concat(className);\n      }\n    }).join(\", \") + \" {\";\n  });\n}\nfunction injectStyle(className, css, options, el, shadowRoot) {\n  var doc = getDocument(el);\n  var style = doc.createElement(\"style\");\n  style.setAttribute(\"type\", \"text/css\");\n  style.setAttribute(\"data-styled-id\", className);\n  style.setAttribute(\"data-styled-count\", \"1\");\n  if (options.nonce) {\n    style.setAttribute(\"nonce\", options.nonce);\n  }\n  style.innerHTML = replaceStyle(className, css, options);\n  (shadowRoot || doc.head || doc.body).appendChild(style);\n  return style;\n}\n\n/**\n * Create an styled object that can be defined and inserted into the css.\n * @param - css styles\n */\nfunction styled(css) {\n  var injectClassName = \"rCS\" + getHash(css);\n  return {\n    className: injectClassName,\n    inject: function (el, options) {\n      if (options === void 0) {\n        options = {};\n      }\n      var shadowRoot = getShadowRoot(el);\n      var styleElement = (shadowRoot || el.ownerDocument || document).querySelector(\"style[data-styled-id=\\\"\".concat(injectClassName, \"\\\"]\"));\n      if (!styleElement) {\n        styleElement = injectStyle(injectClassName, css, options, el, shadowRoot);\n      } else {\n        var count = parseFloat(styleElement.getAttribute(\"data-styled-count\")) || 0;\n        styleElement.setAttribute(\"data-styled-count\", \"\".concat(count + 1));\n      }\n      return {\n        destroy: function () {\n          var _a;\n          var injectCount = parseFloat(styleElement.getAttribute(\"data-styled-count\")) || 0;\n          if (injectCount <= 1) {\n            if (styleElement.remove) {\n              styleElement.remove();\n            } else {\n              (_a = styleElement.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(styleElement);\n            }\n            styleElement = null;\n          } else {\n            styleElement.setAttribute(\"data-styled-count\", \"\".concat(injectCount - 1));\n          }\n        }\n      };\n    }\n  };\n}\n\nexport default styled;\n//# sourceMappingURL=styled.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: react-css-styled\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/css-styled/tree/master/packages/react-css-styled\nversion: 1.1.9\n*/\nimport cssStyled from 'css-styled';\nimport { version, createElement, Component, forwardRef, useRef, useImperativeHandle, useEffect } from 'react';\nimport { ref } from 'framework-utils';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nvar StyledElement = /*#__PURE__*/function (_super) {\n  __extends(StyledElement, _super);\n  function StyledElement() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.injectResult = null;\n    _this.tag = \"div\";\n    return _this;\n  }\n  var __proto = StyledElement.prototype;\n  __proto.render = function () {\n    var _a = this.props,\n      _b = _a.className,\n      className = _b === void 0 ? \"\" : _b,\n      cspNonce = _a.cspNonce,\n      portalContainer = _a.portalContainer,\n      attributes = __rest(_a, [\"className\", \"cspNonce\", \"portalContainer\"]);\n    var cssId = this.injector.className;\n    var Tag = this.tag;\n    var portalAttributes = {};\n    if ((version || \"\").indexOf(\"simple\") > -1 && portalContainer) {\n      portalAttributes = {\n        portalContainer: portalContainer\n      };\n    }\n    return createElement(Tag, __assign(__assign({\n      \"ref\": ref(this, \"element\"),\n      \"data-styled-id\": cssId,\n      \"className\": \"\".concat(className, \" \").concat(cssId)\n    }, portalAttributes), attributes));\n  };\n  __proto.componentDidMount = function () {\n    this.injectResult = this.injector.inject(this.element, {\n      nonce: this.props.cspNonce\n    });\n  };\n  __proto.componentWillUnmount = function () {\n    this.injectResult.destroy();\n    this.injectResult = null;\n  };\n  __proto.getElement = function () {\n    return this.element;\n  };\n  return StyledElement;\n}(Component);\n\nfunction defaultStyled(tag, css) {\n  var injector = cssStyled(css);\n  return (/*#__PURE__*/function (_super) {\n      __extends(Styled, _super);\n      function Styled() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.injector = injector;\n        _this.tag = tag;\n        return _this;\n      }\n      return Styled;\n    }(StyledElement)\n  );\n}\nfunction styled(Tag, css) {\n  var injector = cssStyled(css);\n  var cssId = injector.className;\n  return forwardRef(function (props, ref) {\n    var _a = props.className,\n      className = _a === void 0 ? \"\" : _a,\n      cspNonce = props.cspNonce,\n      attributes = __rest(props, [\"className\", \"cspNonce\"]);\n    var targetRef = useRef();\n    useImperativeHandle(ref, function () {\n      return targetRef.current;\n    }, []);\n    useEffect(function () {\n      var injectResult = injector.inject(targetRef.current, {\n        nonce: props.cspNonce\n      });\n      return function () {\n        injectResult.destroy();\n      };\n    }, []);\n    return createElement(Tag, __assign({\n      \"ref\": targetRef,\n      \"data-styled-id\": cssId,\n      \"className\": \"\".concat(className, \" \").concat(cssId)\n    }, attributes));\n  });\n}\n\nexport default defaultStyled;\nexport { StyledElement, styled };\n//# sourceMappingURL=styled.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: react-moveable\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/moveable/blob/master/packages/react-moveable\nversion: 0.56.0\n*/\nimport getAgent from '@egjs/agent';\nimport { prefixNames, ref, refs, prefixCSS, withMethods } from 'framework-utils';\nimport { findIndex, find, isArray, splitSpace, splitUnit, dot, isString, getDocumentElement, getDocumentBody, getWindow, throttle, getKeys, getRad, TINY_NUM as TINY_NUM$1, average, getDist as getDist$1, throttleArray, calculateBoundSize, convertUnitSize, isNumber, hasClass, isObject, flat as flat$1, decamelize, isNode, isFunction, isWindow, counter, isUndefined, between, addClass, requestAnimationFrame, removeClass, splitBracket, splitComma, cancelAnimationFrame, pushSet } from '@daybrush/utils';\nimport { minus, invert, convertPositionMatrix, plus, calculate, fromTranslation, multiply, convertDimension, createScaleMatrix, convertCSStoMatrix, createIdentityMatrix, createOriginMatrix, createRotateMatrix, rotate, getOrigin, multiplies, convertMatrixtoCSS, ignoreDimension, createWarpMatrix } from '@scena/matrix';\nimport { parse, parseMat, toMat, calculateMatrixDist } from 'css-to-mat';\nimport ChildrenDiffer, { diff } from '@egjs/children-differ';\nimport DragScroll from '@scena/dragscroll';\nimport { getMinMaxs, fitPoints, getOverlapSize, getAreaSize, isInside, getIntersectionPointsByConstants } from 'overlap-area';\nimport * as React from 'react';\nimport { createElement } from 'react';\nimport Gesto from 'gesto';\nimport { styled } from 'react-css-styled';\nimport EventEmitter from '@scena/event-emitter';\nimport { diff as diff$1 } from '@egjs/list-differ';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\n\nfunction makeAble(name, able) {\r\n    return __assign({ events: [], props: [], name: name }, able);\r\n}\n\nvar DIRECTIONS4 = [\"n\", \"w\", \"s\", \"e\"];\r\nvar DIRECTIONS = [\"n\", \"w\", \"s\", \"e\", \"nw\", \"ne\", \"sw\", \"se\"];\r\nfunction getSVGCursor(scale, degree) {\r\n    return \"data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"\".concat(32 * scale, \"px\\\" height=\\\"\").concat(32 * scale, \"px\\\" viewBox=\\\"0 0 32 32\\\" ><path d=\\\"M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1.2\\\" fill=\\\"black\\\" stroke=\\\"white\\\" style=\\\"transform:rotate(\").concat(degree, \"deg);transform-origin: 16px 16px\\\"></path></svg>\");\r\n}\r\nfunction getCursorCSS(degree) {\r\n    var x1 = getSVGCursor(1, degree);\r\n    // const x2 = getSVGCursor(2, degree);\r\n    var degree45 = (Math.round(degree / 45) * 45) % 180;\r\n    var defaultCursor = \"ns-resize\";\r\n    if (degree45 === 135) {\r\n        defaultCursor = \"nwse-resize\";\r\n    }\r\n    else if (degree45 === 45) {\r\n        defaultCursor = \"nesw-resize\";\r\n    }\r\n    else if (degree45 === 90) {\r\n        defaultCursor = \"ew-resize\";\r\n    }\r\n    // tslint:disable-next-line: max-line-length\r\n    return \"cursor:\".concat(defaultCursor, \";cursor: url('\").concat(x1, \"') 16 16, \").concat(defaultCursor, \";\");\r\n}\r\nvar agent = getAgent();\r\nvar IS_WEBKIT = agent.browser.webkit;\r\nvar IS_WEBKIT605 = IS_WEBKIT && (function () {\r\n    var navi = typeof window === \"undefined\" ? { userAgent: \"\" } : window.navigator;\r\n    var res = /applewebkit\\/([^\\s]+)/g.exec(navi.userAgent.toLowerCase());\r\n    return res ? parseFloat(res[1]) < 605 : false;\r\n})();\r\nvar browserName = agent.browser.name;\r\nvar browserVersion = parseInt(agent.browser.version, 10);\r\nvar IS_CHROME = browserName === \"chrome\";\r\nvar IS_CHROMIUM = agent.browser.chromium;\r\nvar chromiumVersion = parseInt(agent.browser.chromiumVersion, 10) || 0;\r\nvar IS_CHROMIUM109 = (IS_CHROME && browserVersion >= 109)\r\n    || (IS_CHROMIUM && chromiumVersion >= 109);\r\nvar IS_FIREFOX = browserName === \"firefox\";\r\nvar IS_SAFARI_ABOVE15 = parseInt(agent.browser.webkitVersion, 10) >= 612\r\n    || browserVersion >= 15;\r\nvar PREFIX = \"moveable-\";\r\nvar directionCSS = DIRECTIONS.map(function (dir) {\r\n    var top = \"\";\r\n    var left = \"\";\r\n    var originX = \"center\";\r\n    var originY = \"center\";\r\n    var offset = \"calc(var(--moveable-control-padding, 20) * -1px)\";\r\n    if (dir.indexOf(\"n\") > -1) {\r\n        top = \"top: \".concat(offset, \";\");\r\n        originY = \"bottom\";\r\n    }\r\n    if (dir.indexOf(\"s\") > -1) {\r\n        top = \"top: 0px;\";\r\n        originY = \"top\";\r\n    }\r\n    if (dir.indexOf(\"w\") > -1) {\r\n        left = \"left: \".concat(offset, \";\");\r\n        originX = \"right\";\r\n    }\r\n    if (dir.indexOf(\"e\") > -1) {\r\n        left = \"left: 0px;\";\r\n        originX = \"left\";\r\n    }\r\n    return \".around-control[data-direction*=\\\"\".concat(dir, \"\\\"] {\\n        \").concat(left).concat(top, \"\\n        transform-origin: \").concat(originX, \" \").concat(originY, \";\\n    }\");\r\n}).join(\"\\n\");\r\nvar MOVEABLE_CSS = \"\\n{\\nposition: absolute;\\nwidth: 1px;\\nheight: 1px;\\nleft: 0;\\ntop: 0;\\nz-index: 3000;\\n--moveable-color: #4af;\\n--zoom: 1;\\n--zoompx: 1px;\\n--moveable-line-padding: 0;\\n--moveable-control-padding: 0;\\nwill-change: transform;\\noutline: 1px solid transparent;\\n}\\n.control-box {\\nz-index: 0;\\n}\\n.line, .control {\\nposition: absolute;\\nleft: 0;\\ntop: 0;\\nwill-change: transform;\\n}\\n.control {\\nwidth: 14px;\\nheight: 14px;\\nborder-radius: 50%;\\nborder: 2px solid #fff;\\nbox-sizing: border-box;\\nbackground: #4af;\\nbackground: var(--moveable-color);\\nmargin-top: -7px;\\nmargin-left: -7px;\\nborder: 2px solid #fff;\\nz-index: 10;\\n}\\n.around-control {\\nposition: absolute;\\nwill-change: transform;\\nwidth: calc(var(--moveable-control-padding, 20) * 1px);\\nheight: calc(var(--moveable-control-padding, 20) * 1px);\\nleft: calc(var(--moveable-control-padding, 20) * -0.5px);\\ntop: calc(var(--moveable-control-padding, 20) * -0.5px);\\nbox-sizing: border-box;\\nbackground: transparent;\\nz-index: 8;\\ncursor: alias;\\ntransform-origin: center center;\\n}\\n\".concat(directionCSS, \"\\n.padding {\\nposition: absolute;\\ntop: 0px;\\nleft: 0px;\\nwidth: 100px;\\nheight: 100px;\\ntransform-origin: 0 0;\\n}\\n.line {\\nwidth: 1px;\\nheight: 1px;\\nbackground: #4af;\\nbackground: var(--moveable-color);\\ntransform-origin: 0px 50%;\\n}\\n.line.edge {\\nz-index: 1;\\nbackground: transparent;\\n}\\n.line.dashed {\\nbox-sizing: border-box;\\nbackground: transparent;\\n}\\n.line.dashed.horizontal {\\nborder-top: 1px dashed #4af;\\nborder-top-color: #4af;\\nborder-top-color: var(--moveable-color);\\n}\\n.line.dashed.vertical {\\nborder-left: 1px dashed #4af;\\nborder-left-color: #4af;\\nborder-left-color: var(--moveable-color);\\n}\\n.line.vertical {\\ntransform: translateX(-50%);\\n}\\n.line.horizontal {\\ntransform: translateY(-50%);\\n}\\n.line.vertical.bold {\\nwidth: 2px;\\n}\\n.line.horizontal.bold {\\nheight: 2px;\\n}\\n\\n.control.origin {\\nborder-color: #f55;\\nbackground: #fff;\\nwidth: 12px;\\nheight: 12px;\\nmargin-top: -6px;\\nmargin-left: -6px;\\npointer-events: none;\\n}\\n\").concat([0, 15, 30, 45, 60, 75, 90, 105, 120, 135, 150, 165].map(function (degree) { return \"\\n.direction[data-rotation=\\\"\".concat(degree, \"\\\"], :global .view-control-rotation\").concat(degree, \" {\\n\").concat(getCursorCSS(degree), \"\\n}\\n\"); }).join(\"\\n\"), \"\\n\\n.line.direction:before {\\ncontent: \\\"\\\";\\nposition: absolute;\\nwidth: 100%;\\nheight: calc(var(--moveable-line-padding, 0) * 1px);\\nbottom: 0;\\nleft: 0;\\n}\\n.group {\\nz-index: -1;\\n}\\n.area {\\nposition: absolute;\\n}\\n.area-pieces {\\nposition: absolute;\\ntop: 0;\\nleft: 0;\\ndisplay: none;\\n}\\n.area.avoid, .area.pass {\\npointer-events: none;\\n}\\n.area.avoid+.area-pieces {\\ndisplay: block;\\n}\\n.area-piece {\\nposition: absolute;\\n}\\n\\n\").concat(IS_WEBKIT605 ? \":global svg *:before {\\ncontent:\\\"\\\";\\ntransform-origin: inherit;\\n}\" : \"\", \"\\n\");\r\nvar NEARBY_POS = [\r\n    [0, 1, 2],\r\n    [1, 0, 3],\r\n    [2, 0, 3],\r\n    [3, 1, 2],\r\n];\r\nvar FLOAT_POINT_NUM = 0.0001;\r\nvar TINY_NUM = 0.0000001;\r\nvar MIN_SCALE = 0.000000001;\r\nvar MAX_NUM = Math.pow(10, 10);\r\nvar MIN_NUM = -MAX_NUM;\r\nvar DIRECTION_REGION_TO_DIRECTION = {\r\n    n: [0, -1],\r\n    e: [1, 0],\r\n    s: [0, 1],\r\n    w: [-1, 0],\r\n    nw: [-1, -1],\r\n    ne: [1, -1],\r\n    sw: [-1, 1],\r\n    se: [1, 1],\r\n};\r\nvar DIRECTION_INDEXES = {\r\n    n: [0, 1],\r\n    e: [1, 3],\r\n    s: [3, 2],\r\n    w: [2, 0],\r\n    nw: [0],\r\n    ne: [1],\r\n    sw: [2],\r\n    se: [3],\r\n};\r\nvar DIRECTION_ROTATIONS = {\r\n    n: 0,\r\n    s: 180,\r\n    w: 270,\r\n    e: 90,\r\n    nw: 315,\r\n    ne: 45,\r\n    sw: 225,\r\n    se: 135,\r\n};\r\nvar MOVEABLE_METHODS = [\r\n    \"isMoveableElement\",\r\n    \"updateRect\",\r\n    \"updateTarget\",\r\n    \"destroy\",\r\n    \"dragStart\",\r\n    \"isInside\",\r\n    \"hitTest\",\r\n    \"setState\",\r\n    \"getRect\",\r\n    \"request\",\r\n    \"isDragging\",\r\n    \"getManager\",\r\n    \"forceUpdate\",\r\n    \"waitToChangeTarget\",\r\n    \"updateSelectors\",\r\n    \"getTargets\",\r\n    \"stopDrag\",\r\n    \"getControlBoxElement\",\r\n    \"getMoveables\",\r\n    \"getDragElement\",\r\n];\n\nfunction setCustomDrag(e, state, delta, isPinch, isConvert, ableName) {\r\n    var _a, _b;\r\n    if (ableName === void 0) { ableName = \"draggable\"; }\r\n    var result = (_b = (_a = state.gestos[ableName]) === null || _a === void 0 ? void 0 : _a.move(delta, e.inputEvent)) !== null && _b !== void 0 ? _b : {};\r\n    var datas = result.originalDatas || result.datas;\r\n    var ableDatas = datas[ableName] || (datas[ableName] = {});\r\n    return __assign(__assign({}, (isConvert ? convertDragDist(state, result) : result)), { isPinch: !!isPinch, parentEvent: true, datas: ableDatas, originalDatas: e.originalDatas });\r\n}\r\nvar CustomGesto = /*#__PURE__*/ (function () {\r\n    function CustomGesto(ableName) {\r\n        var _a;\r\n        if (ableName === void 0) { ableName = \"draggable\"; }\r\n        this.ableName = ableName;\r\n        this.prevX = 0;\r\n        this.prevY = 0;\r\n        this.startX = 0;\r\n        this.startY = 0;\r\n        this.isDrag = false;\r\n        this.isFlag = false;\r\n        this.datas = {\r\n            draggable: {},\r\n        };\r\n        this.datas = (_a = {},\r\n            _a[ableName] = {},\r\n            _a);\r\n    }\r\n    CustomGesto.prototype.dragStart = function (client, e) {\r\n        this.isDrag = false;\r\n        this.isFlag = false;\r\n        var originalDatas = e.originalDatas;\r\n        this.datas = originalDatas;\r\n        if (!originalDatas[this.ableName]) {\r\n            originalDatas[this.ableName] = {};\r\n        }\r\n        return __assign(__assign({}, this.move(client, e.inputEvent)), { type: \"dragstart\" });\r\n    };\r\n    CustomGesto.prototype.drag = function (client, inputEvent) {\r\n        return this.move([\r\n            client[0] - this.prevX,\r\n            client[1] - this.prevY,\r\n        ], inputEvent);\r\n    };\r\n    CustomGesto.prototype.move = function (delta, inputEvent) {\r\n        var clientX;\r\n        var clientY;\r\n        var isFirstDrag = false;\r\n        if (!this.isFlag) {\r\n            this.prevX = delta[0];\r\n            this.prevY = delta[1];\r\n            this.startX = delta[0];\r\n            this.startY = delta[1];\r\n            clientX = delta[0];\r\n            clientY = delta[1];\r\n            this.isFlag = true;\r\n        }\r\n        else {\r\n            var isPrevDrag = this.isDrag;\r\n            clientX = this.prevX + delta[0];\r\n            clientY = this.prevY + delta[1];\r\n            if (delta[0] || delta[1]) {\r\n                this.isDrag = true;\r\n            }\r\n            if (!isPrevDrag && this.isDrag) {\r\n                isFirstDrag = true;\r\n            }\r\n        }\r\n        this.prevX = clientX;\r\n        this.prevY = clientY;\r\n        return {\r\n            type: \"drag\",\r\n            clientX: clientX,\r\n            clientY: clientY,\r\n            inputEvent: inputEvent,\r\n            isFirstDrag: isFirstDrag,\r\n            isDrag: this.isDrag,\r\n            distX: clientX - this.startX,\r\n            distY: clientY - this.startY,\r\n            deltaX: delta[0],\r\n            deltaY: delta[1],\r\n            datas: this.datas[this.ableName],\r\n            originalDatas: this.datas,\r\n            parentEvent: true,\r\n            parentGesto: this,\r\n        };\r\n    };\r\n    return CustomGesto;\r\n}());\n\nfunction calculateElementPosition(matrix, origin, width, height) {\r\n    var is3d = matrix.length === 16;\r\n    var n = is3d ? 4 : 3;\r\n    var poses = calculatePoses(matrix, width, height, n);\r\n    var _a = __read(poses, 4), _b = __read(_a[0], 2), x1 = _b[0], y1 = _b[1], _c = __read(_a[1], 2), x2 = _c[0], y2 = _c[1], _d = __read(_a[2], 2), x3 = _d[0], y3 = _d[1], _e = __read(_a[3], 2), x4 = _e[0], y4 = _e[1];\r\n    var _f = __read(calculatePosition(matrix, origin, n), 2), originX = _f[0], originY = _f[1];\r\n    var left = Math.min(x1, x2, x3, x4);\r\n    var top = Math.min(y1, y2, y3, y4);\r\n    var right = Math.max(x1, x2, x3, x4);\r\n    var bottom = Math.max(y1, y2, y3, y4);\r\n    x1 = (x1 - left) || 0;\r\n    x2 = (x2 - left) || 0;\r\n    x3 = (x3 - left) || 0;\r\n    x4 = (x4 - left) || 0;\r\n    y1 = (y1 - top) || 0;\r\n    y2 = (y2 - top) || 0;\r\n    y3 = (y3 - top) || 0;\r\n    y4 = (y4 - top) || 0;\r\n    originX = (originX - left) || 0;\r\n    originY = (originY - top) || 0;\r\n    var sx = matrix[0];\r\n    var sy = matrix[n + 1];\r\n    var direction = sign(sx * sy);\r\n    return {\r\n        left: left,\r\n        top: top,\r\n        right: right,\r\n        bottom: bottom,\r\n        origin: [originX, originY],\r\n        pos1: [x1, y1],\r\n        pos2: [x2, y2],\r\n        pos3: [x3, y3],\r\n        pos4: [x4, y4],\r\n        direction: direction,\r\n    };\r\n}\n\nfunction calculatePointerDist(moveable, e) {\r\n    var clientX = e.clientX, clientY = e.clientY, datas = e.datas;\r\n    var _a = moveable.state, moveableClientRect = _a.moveableClientRect, rootMatrix = _a.rootMatrix, is3d = _a.is3d, pos1 = _a.pos1;\r\n    var left = moveableClientRect.left, top = moveableClientRect.top;\r\n    var n = is3d ? 4 : 3;\r\n    var _b = __read(minus(calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n), pos1), 2), posX = _b[0], posY = _b[1];\r\n    var _c = __read(getDragDist({ datas: datas, distX: posX, distY: posY }), 2), distX = _c[0], distY = _c[1];\r\n    return [distX, distY];\r\n}\r\nfunction setDragStart(moveable, _a) {\r\n    var datas = _a.datas;\r\n    var _b = moveable.state, allMatrix = _b.allMatrix, beforeMatrix = _b.beforeMatrix, is3d = _b.is3d, left = _b.left, top = _b.top, origin = _b.origin, offsetMatrix = _b.offsetMatrix, targetMatrix = _b.targetMatrix, transformOrigin = _b.transformOrigin;\r\n    var n = is3d ? 4 : 3;\r\n    datas.is3d = is3d;\r\n    datas.matrix = allMatrix;\r\n    datas.targetMatrix = targetMatrix;\r\n    datas.beforeMatrix = beforeMatrix;\r\n    datas.offsetMatrix = offsetMatrix;\r\n    datas.transformOrigin = transformOrigin;\r\n    datas.inverseMatrix = invert(allMatrix, n);\r\n    datas.inverseBeforeMatrix = invert(beforeMatrix, n);\r\n    datas.absoluteOrigin = convertPositionMatrix(plus([left, top], origin), n);\r\n    datas.startDragBeforeDist = calculate(datas.inverseBeforeMatrix, datas.absoluteOrigin, n);\r\n    datas.startDragDist = calculate(datas.inverseMatrix, datas.absoluteOrigin, n);\r\n}\r\nfunction getTransformDirection(e) {\r\n    return calculateElementPosition(e.datas.beforeTransform, [50, 50], 100, 100).direction;\r\n}\r\nfunction resolveTransformEvent(moveable, event, functionName) {\r\n    var datas = event.datas, originalDatas = event.originalDatas.beforeRenderable;\r\n    var index = datas.transformIndex;\r\n    var nextTransforms = originalDatas.nextTransforms;\r\n    var length = nextTransforms.length;\r\n    var nextTransformAppendedIndexes = originalDatas.nextTransformAppendedIndexes;\r\n    var nextIndex = -1;\r\n    if (index === -1) {\r\n        // translate => rotate => scale\r\n        if (functionName === \"translate\") {\r\n            nextIndex = 0;\r\n        }\r\n        else if (functionName === \"rotate\") {\r\n            nextIndex = findIndex(nextTransforms, function (text) { return text.match(/scale\\(/g); });\r\n        }\r\n        if (nextIndex === -1) {\r\n            nextIndex = nextTransforms.length;\r\n        }\r\n        datas.transformIndex = nextIndex;\r\n    }\r\n    else if (find(nextTransformAppendedIndexes, function (info) { return info.index === index && info.functionName === functionName; })) {\r\n        nextIndex = index;\r\n    }\r\n    else {\r\n        nextIndex = index + nextTransformAppendedIndexes.filter(function (info) { return info.index < index; }).length;\r\n    }\r\n    var result = convertTransformInfo(nextTransforms, moveable.state, nextIndex);\r\n    var targetFunction = result.targetFunction;\r\n    var matFunctionName = functionName === \"rotate\" ? \"rotateZ\" : functionName;\r\n    datas.beforeFunctionTexts = result.beforeFunctionTexts;\r\n    datas.afterFunctionTexts = result.afterFunctionTexts;\r\n    datas.beforeTransform = result.beforeFunctionMatrix;\r\n    datas.beforeTransform2 = result.beforeFunctionMatrix2;\r\n    datas.targetTansform = result.targetFunctionMatrix;\r\n    datas.afterTransform = result.afterFunctionMatrix;\r\n    datas.afterTransform2 = result.afterFunctionMatrix2;\r\n    datas.targetAllTransform = result.allFunctionMatrix;\r\n    if (targetFunction.functionName === matFunctionName) {\r\n        datas.afterFunctionTexts.splice(0, 1);\r\n        datas.isAppendTransform = false;\r\n    }\r\n    else if (length > nextIndex) {\r\n        datas.isAppendTransform = true;\r\n        originalDatas.nextTransformAppendedIndexes = __spreadArray(__spreadArray([], __read(nextTransformAppendedIndexes), false), [{\r\n                functionName: functionName,\r\n                index: nextIndex,\r\n                isAppend: true,\r\n            }], false);\r\n    }\r\n}\r\nfunction convertTransformFormat(datas, value, dist) {\r\n    return \"\".concat(datas.beforeFunctionTexts.join(\" \"), \" \").concat(datas.isAppendTransform ? dist : value, \" \").concat(datas.afterFunctionTexts.join(\" \"));\r\n}\r\nfunction getTransformDist(_a) {\r\n    var datas = _a.datas, distX = _a.distX, distY = _a.distY;\r\n    var _b = __read(getBeforeDragDist({ datas: datas, distX: distX, distY: distY }), 2), bx = _b[0], by = _b[1];\r\n    // B * [tx, ty] * A = [bx, by] * targetMatrix;\r\n    // [tx, ty] = B-1 * [bx, by] * targetMatrix * A-1 * [0, 0];\r\n    var res = getTransfromMatrix(datas, fromTranslation([bx, by], 4));\r\n    return calculate(res, convertPositionMatrix([0, 0, 0], 4), 4);\r\n}\r\nfunction getTransfromMatrix(datas, targetMatrix, isAfter) {\r\n    var beforeTransform = datas.beforeTransform, afterTransform = datas.afterTransform, beforeTransform2 = datas.beforeTransform2, afterTransform2 = datas.afterTransform2, targetAllTransform = datas.targetAllTransform;\r\n    // B * afterTargetMatrix * A = (targetMatrix * targetAllTransform)\r\n    // afterTargetMatrix = B-1 * targetMatrix * targetAllTransform * A-1\r\n    // nextTargetMatrix = (targetMatrix * targetAllTransform)\r\n    var nextTargetMatrix = isAfter\r\n        ? multiply(targetAllTransform, targetMatrix, 4)\r\n        : multiply(targetMatrix, targetAllTransform, 4);\r\n    // res1 = B-1 * nextTargetMatrix\r\n    var res1 = multiply(invert(isAfter ? beforeTransform2 : beforeTransform, 4), nextTargetMatrix, 4);\r\n    // res3 = res2 * A-1\r\n    var afterTargetMatrix = multiply(res1, invert(isAfter ? afterTransform2 : afterTransform, 4), 4);\r\n    return afterTargetMatrix;\r\n}\r\nfunction getBeforeDragDist(_a) {\r\n    var datas = _a.datas, distX = _a.distX, distY = _a.distY;\r\n    // TT = BT\r\n    var inverseBeforeMatrix = datas.inverseBeforeMatrix, is3d = datas.is3d, startDragBeforeDist = datas.startDragBeforeDist, absoluteOrigin = datas.absoluteOrigin;\r\n    var n = is3d ? 4 : 3;\r\n    // ABS_ORIGIN * [distX, distY] = BM * (ORIGIN + [tx, ty])\r\n    // BM -1 * ABS_ORIGIN * [distX, distY] - ORIGIN = [tx, ty]\r\n    return minus(calculate(inverseBeforeMatrix, plus(absoluteOrigin, [distX, distY]), n), startDragBeforeDist);\r\n}\r\nfunction getDragDist(_a, isBefore) {\r\n    var datas = _a.datas, distX = _a.distX, distY = _a.distY;\r\n    var inverseBeforeMatrix = datas.inverseBeforeMatrix, inverseMatrix = datas.inverseMatrix, is3d = datas.is3d, startDragBeforeDist = datas.startDragBeforeDist, startDragDist = datas.startDragDist, absoluteOrigin = datas.absoluteOrigin;\r\n    var n = is3d ? 4 : 3;\r\n    return minus(calculate(isBefore ? inverseBeforeMatrix : inverseMatrix, plus(absoluteOrigin, [distX, distY]), n), isBefore ? startDragBeforeDist : startDragDist);\r\n}\r\nfunction getInverseDragDist(_a, isBefore) {\r\n    var datas = _a.datas, distX = _a.distX, distY = _a.distY;\r\n    var beforeMatrix = datas.beforeMatrix, matrix = datas.matrix, is3d = datas.is3d, startDragBeforeDist = datas.startDragBeforeDist, startDragDist = datas.startDragDist, absoluteOrigin = datas.absoluteOrigin;\r\n    var n = is3d ? 4 : 3;\r\n    return minus(calculate(isBefore ? beforeMatrix : matrix, plus(isBefore ? startDragBeforeDist : startDragDist, [distX, distY]), n), absoluteOrigin);\r\n}\r\nfunction calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin) {\r\n    if (prevWidth === void 0) { prevWidth = width; }\r\n    if (prevHeight === void 0) { prevHeight = height; }\r\n    if (prevOrigin === void 0) { prevOrigin = [0, 0]; }\r\n    if (!transformOrigin) {\r\n        return prevOrigin;\r\n    }\r\n    return transformOrigin.map(function (pos, i) {\r\n        var _a = splitUnit(pos), value = _a.value, unit = _a.unit;\r\n        var prevSize = (i ? prevHeight : prevWidth);\r\n        var size = (i ? height : width);\r\n        if (pos === \"%\" || isNaN(value)) {\r\n            // no value but %\r\n            var measureRatio = prevSize ? prevOrigin[i] / prevSize : 0;\r\n            return size * measureRatio;\r\n        }\r\n        else if (unit !== \"%\") {\r\n            return value;\r\n        }\r\n        return size * value / 100;\r\n    });\r\n}\r\nfunction getPosIndexesByDirection(direction) {\r\n    var indexes = [];\r\n    if (direction[1] >= 0) {\r\n        if (direction[0] >= 0) {\r\n            indexes.push(3);\r\n        }\r\n        if (direction[0] <= 0) {\r\n            indexes.push(2);\r\n        }\r\n    }\r\n    if (direction[1] <= 0) {\r\n        if (direction[0] >= 0) {\r\n            indexes.push(1);\r\n        }\r\n        if (direction[0] <= 0) {\r\n            indexes.push(0);\r\n        }\r\n    }\r\n    return indexes;\r\n}\r\nfunction getPosesByDirection(poses, direction) {\r\n    /*\r\n    [-1, -1](pos1)       [0, -1](pos1,pos2)       [1, -1](pos2)\r\n    [-1, 0](pos1, pos3)                           [1, 0](pos2, pos4)\r\n    [-1, 1](pos3)        [0, 1](pos3, pos4)       [1, 1](pos4)\r\n    */\r\n    return getPosIndexesByDirection(direction).map(function (index) { return poses[index]; });\r\n}\r\nfunction getPosBySingleDirection(poses, direction) {\r\n    var ratio = (direction + 1) / 2;\r\n    return [\r\n        dot(poses[0][0], poses[1][0], ratio, 1 - ratio),\r\n        dot(poses[0][1], poses[1][1], ratio, 1 - ratio),\r\n    ];\r\n}\r\nfunction getPosByDirection(poses, direction) {\r\n    var top = getPosBySingleDirection([poses[0], poses[1]], direction[0]);\r\n    var bottom = getPosBySingleDirection([poses[2], poses[3]], direction[0]);\r\n    return getPosBySingleDirection([top, bottom], direction[1]);\r\n}\r\nfunction getDist(startPos, matrix, width, height, n, fixedDirection) {\r\n    var poses = calculatePoses(matrix, width, height, n);\r\n    var fixedPos = getPosByDirection(poses, fixedDirection);\r\n    var distX = startPos[0] - fixedPos[0];\r\n    var distY = startPos[1] - fixedPos[1];\r\n    return [distX, distY];\r\n}\r\nfunction getNextMatrix(offsetMatrix, targetMatrix, origin, n) {\r\n    return multiply(offsetMatrix, getAbsoluteMatrix(targetMatrix, n, origin), n);\r\n}\r\nfunction getNextTransformMatrix(state, datas, transform, isAllTransform) {\r\n    var transformOrigin = state.transformOrigin, offsetMatrix = state.offsetMatrix, is3d = state.is3d;\r\n    var n = is3d ? 4 : 3;\r\n    var targetTransform;\r\n    if (isString(transform)) {\r\n        var beforeTransform = datas.beforeTransform, afterTransform = datas.afterTransform;\r\n        if (isAllTransform) {\r\n            targetTransform = convertDimension(parseMat(transform), 4, n);\r\n        }\r\n        else {\r\n            targetTransform = convertDimension(multiply(multiply(beforeTransform, parseMat([transform]), 4), afterTransform, 4), 4, n);\r\n        }\r\n    }\r\n    else {\r\n        targetTransform = transform;\r\n    }\r\n    return getNextMatrix(offsetMatrix, targetTransform, transformOrigin, n);\r\n}\r\nfunction scaleMatrix(state, scale) {\r\n    var transformOrigin = state.transformOrigin, offsetMatrix = state.offsetMatrix, is3d = state.is3d, targetMatrix = state.targetMatrix, targetAllTransform = state.targetAllTransform;\r\n    var n = is3d ? 4 : 3;\r\n    return getNextMatrix(offsetMatrix, multiply(targetAllTransform || targetMatrix, createScaleMatrix(scale, n), n), transformOrigin, n);\r\n}\r\nfunction fillTransformStartEvent(moveable, e) {\r\n    var originalDatas = getBeforeRenderableDatas(e);\r\n    return {\r\n        setTransform: function (transform, index) {\r\n            if (index === void 0) { index = -1; }\r\n            originalDatas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\r\n            setTransformIndex(moveable, e, index);\r\n        },\r\n        setTransformIndex: function (index) {\r\n            setTransformIndex(moveable, e, index);\r\n        },\r\n    };\r\n}\r\nfunction setDefaultTransformIndex(moveable, e, property) {\r\n    var originalDatas = getBeforeRenderableDatas(e);\r\n    var startTransforms = originalDatas.startTransforms;\r\n    setTransformIndex(moveable, e, findIndex(startTransforms, function (func) { return func.indexOf(\"\".concat(property, \"(\")) === 0; }));\r\n}\r\nfunction setTransformIndex(moveable, e, index) {\r\n    var originalDatas = getBeforeRenderableDatas(e);\r\n    var datas = e.datas;\r\n    datas.transformIndex = index;\r\n    if (index === -1) {\r\n        return;\r\n    }\r\n    var transform = originalDatas.startTransforms[index];\r\n    if (!transform) {\r\n        return;\r\n    }\r\n    var state = moveable.state;\r\n    var info = parse([transform], {\r\n        \"x%\": function (v) { return v / 100 * state.offsetWidth; },\r\n        \"y%\": function (v) { return v / 100 * state.offsetHeight; },\r\n    });\r\n    datas.startValue = info[0].functionValue;\r\n}\r\nfunction fillOriginalTransform(e, transform) {\r\n    var originalDatas = getBeforeRenderableDatas(e);\r\n    originalDatas.nextTransforms = splitSpace(transform);\r\n    // originalDatas.nextTargetMatrix = parseMat(transform);\r\n}\r\nfunction getBeforeRenderableDatas(e) {\r\n    return e.originalDatas.beforeRenderable;\r\n}\r\nfunction getNextTransforms(e) {\r\n    var originalDatas = e.originalDatas.beforeRenderable;\r\n    return originalDatas.nextTransforms;\r\n}\r\nfunction getNextTransformText(e) {\r\n    return (getNextTransforms(e) || []).join(\" \");\r\n}\r\nfunction getNextStyle(e) {\r\n    return getBeforeRenderableDatas(e).nextStyle;\r\n}\r\nfunction fillTransformEvent(moveable, nextTransform, delta, isPinch, e) {\r\n    fillOriginalTransform(e, nextTransform);\r\n    var drag = Draggable.drag(moveable, setCustomDrag(e, moveable.state, delta, isPinch, false));\r\n    var afterTransform = drag ? drag.transform : nextTransform;\r\n    return __assign(__assign({ transform: nextTransform, drag: drag }, fillCSSObject({\r\n        transform: afterTransform,\r\n    }, e)), { afterTransform: afterTransform });\r\n}\r\nfunction getTranslateFixedPosition(moveable, transform, fixedDirection, fixedOffset, datas, isAllTransform) {\r\n    var nextMatrix = getNextTransformMatrix(moveable.state, datas, transform, isAllTransform);\r\n    var nextFixedPosition = getDirectionOffset(moveable, fixedDirection, fixedOffset, nextMatrix);\r\n    return nextFixedPosition;\r\n}\r\nfunction getTranslateDist(moveable, transform, fixedDirection, fixedPosition, fixedOffset, datas, isAllTransform) {\r\n    var nextFixedPosition = getTranslateFixedPosition(moveable, transform, fixedDirection, fixedOffset, datas, isAllTransform);\r\n    var state = moveable.state;\r\n    var left = state.left, top = state.top;\r\n    var groupable = moveable.props.groupable;\r\n    var groupLeft = groupable ? left : 0;\r\n    var groupTop = groupable ? top : 0;\r\n    var dist = minus(fixedPosition, nextFixedPosition);\r\n    return minus(dist, [groupLeft, groupTop]);\r\n}\r\nfunction getScaleDist(moveable, transform, fixedDirection, fixedPosition, fixedOffset, datas, isAllTransform) {\r\n    var dist = getTranslateDist(moveable, transform, fixedDirection, fixedPosition, fixedOffset, datas, isAllTransform);\r\n    return dist;\r\n}\r\nfunction getDirectionByPos(pos, width, height) {\r\n    return [\r\n        width ? -1 + pos[0] / (width / 2) : 0,\r\n        height ? -1 + pos[1] / (height / 2) : 0,\r\n    ];\r\n}\r\nfunction getDirectionOffset(moveable, fixedDirection, fixedOffset, nextMatrix) {\r\n    if (nextMatrix === void 0) { nextMatrix = moveable.state.allMatrix; }\r\n    var _a = moveable.state, width = _a.width, height = _a.height, is3d = _a.is3d;\r\n    var n = is3d ? 4 : 3;\r\n    var fixedOffsetPosition = [\r\n        width / 2 * (1 + fixedDirection[0]) + fixedOffset[0],\r\n        height / 2 * (1 + fixedDirection[1]) + fixedOffset[1],\r\n    ];\r\n    return calculatePosition(nextMatrix, fixedOffsetPosition, n);\r\n}\r\nfunction getRotateDist(moveable, rotateDist, datas) {\r\n    var fixedDirection = datas.fixedDirection;\r\n    var fixedPosition = datas.fixedPosition;\r\n    var fixedOffset = datas.fixedOffset;\r\n    return getTranslateDist(moveable, \"rotate(\".concat(rotateDist, \"deg)\"), fixedDirection, fixedPosition, fixedOffset, datas);\r\n}\r\nfunction getResizeDist(moveable, width, height, fixedPosition, transformOrigin, datas) {\r\n    var groupable = moveable.props.groupable;\r\n    var state = moveable.state;\r\n    var prevOrigin = state.transformOrigin, offsetMatrix = state.offsetMatrix, is3d = state.is3d, prevWidth = state.width, prevHeight = state.height, left = state.left, top = state.top;\r\n    var fixedDirection = datas.fixedDirection;\r\n    var targetMatrix = datas.nextTargetMatrix || state.targetMatrix;\r\n    var n = is3d ? 4 : 3;\r\n    var nextOrigin = calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin);\r\n    var groupLeft = groupable ? left : 0;\r\n    var groupTop = groupable ? top : 0;\r\n    var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, nextOrigin, n);\r\n    var dist = getDist(fixedPosition, nextMatrix, width, height, n, fixedDirection);\r\n    return minus(dist, [groupLeft, groupTop]);\r\n}\r\nfunction getAbsolutePosition(moveable, direction) {\r\n    return getPosByDirection(getAbsolutePosesByState(moveable.state), direction);\r\n}\n\nfunction getGestoData(moveable, ableName) {\r\n    var targetGesto = moveable.targetGesto;\r\n    var controlGesto = moveable.controlGesto;\r\n    var data;\r\n    if (targetGesto === null || targetGesto === void 0 ? void 0 : targetGesto.isFlag()) {\r\n        data = targetGesto.getEventData()[ableName];\r\n    }\r\n    if (!data && (controlGesto === null || controlGesto === void 0 ? void 0 : controlGesto.isFlag())) {\r\n        data = controlGesto.getEventData()[ableName];\r\n    }\r\n    return data || {};\r\n}\n\nfunction getShadowRoot(parentElement) {\r\n    if (parentElement && parentElement.getRootNode) {\r\n        var rootNode = parentElement.getRootNode();\r\n        if (rootNode.nodeType === 11) {\r\n            return rootNode;\r\n        }\r\n    }\r\n    return;\r\n}\r\nfunction getIndividualTransforms(getStyle) {\r\n    var scale = getStyle(\"scale\");\r\n    var rotate = getStyle(\"rotate\");\r\n    var translate = getStyle(\"translate\");\r\n    var individualTransforms = [];\r\n    if (translate && translate !== \"0px\" && translate !== \"none\") {\r\n        individualTransforms.push(\"translate(\".concat(translate.split(/\\s+/).join(\",\"), \")\"));\r\n    }\r\n    if (rotate && rotate !== \"1\" && rotate !== \"none\") {\r\n        individualTransforms.push(\"rotate(\".concat(rotate, \")\"));\r\n    }\r\n    if (scale && scale !== \"1\" && scale !== \"none\") {\r\n        individualTransforms.push(\"scale(\".concat(scale.split(/\\s+/).join(\",\"), \")\"));\r\n    }\r\n    return individualTransforms;\r\n}\r\nfunction getMatrixStackInfo(target, container, checkContainer) {\r\n    var el = target;\r\n    var matrixes = [];\r\n    var documentElement = getDocumentElement(target) || getDocumentBody(target);\r\n    var requestEnd = !checkContainer && target === container || target === documentElement;\r\n    var isEnd = requestEnd;\r\n    var is3d = false;\r\n    var n = 3;\r\n    var transformOrigin;\r\n    var targetTransformOrigin;\r\n    var targetMatrix;\r\n    var hasFixed = false;\r\n    var offsetContainer = getOffsetInfo(container, container, true).offsetParent;\r\n    var zoom = 1;\r\n    while (el && !isEnd) {\r\n        isEnd = requestEnd;\r\n        var getStyle = getCachedStyle(el);\r\n        var position = getStyle(\"position\");\r\n        var transform = getElementTransform(el);\r\n        var isFixed = position === \"fixed\";\r\n        var individualTransforms = getIndividualTransforms(getStyle);\r\n        var matrix = convertCSStoMatrix(getTransformMatrix(transform));\r\n        var offsetParent = void 0;\r\n        var isOffsetEnd = false;\r\n        var isStatic = false;\r\n        var parentClientLeft = 0;\r\n        var parentClientTop = 0;\r\n        var fixedClientLeft = 0;\r\n        var fixedClientTop = 0;\r\n        var fixedInfo = {\r\n            hasTransform: false,\r\n            fixedContainer: null,\r\n        };\r\n        if (isFixed) {\r\n            hasFixed = true;\r\n            fixedInfo = getPositionFixedInfo(el);\r\n            offsetContainer = fixedInfo.fixedContainer;\r\n        }\r\n        // convert 3 to 4\r\n        var length_1 = matrix.length;\r\n        if (!is3d && (length_1 === 16 || individualTransforms.length)) {\r\n            is3d = true;\r\n            n = 4;\r\n            convert3DMatrixes(matrixes);\r\n            if (targetMatrix) {\r\n                targetMatrix = convertDimension(targetMatrix, 3, 4);\r\n            }\r\n        }\r\n        if (is3d && length_1 === 9) {\r\n            matrix = convertDimension(matrix, 3, 4);\r\n        }\r\n        var _a = getOffsetPosInfo(el, target), tagName = _a.tagName, hasOffset = _a.hasOffset, isSVG = _a.isSVG, origin_1 = _a.origin, targetOrigin = _a.targetOrigin, offsetPos = _a.offset;\r\n        var _b = __read(offsetPos, 2), offsetLeft = _b[0], offsetTop = _b[1];\r\n        // no target with svg\r\n        if (tagName === \"svg\" && !el.ownerSVGElement && targetMatrix) {\r\n            // scale matrix for svg's SVGElements.\r\n            matrixes.push({\r\n                type: \"target\",\r\n                target: el,\r\n                matrix: getSVGMatrix(el, n),\r\n            });\r\n            matrixes.push({\r\n                type: \"offset\",\r\n                target: el,\r\n                matrix: createIdentityMatrix(n),\r\n            });\r\n        }\r\n        var targetZoom = parseFloat(getStyle(\"zoom\")) || 1;\r\n        if (isFixed) {\r\n            offsetParent = fixedInfo.fixedContainer;\r\n            isOffsetEnd = true;\r\n        }\r\n        else {\r\n            var offsetInfo = getOffsetInfo(el, container, false, true, getStyle);\r\n            var offsetZoom = offsetInfo.offsetZoom;\r\n            offsetParent = offsetInfo.offsetParent;\r\n            isOffsetEnd = offsetInfo.isEnd;\r\n            isStatic = offsetInfo.isStatic;\r\n            zoom *= offsetZoom;\r\n            if ((offsetInfo.isCustomElement || offsetZoom !== 1) && isStatic) {\r\n                offsetLeft -= offsetParent.offsetLeft;\r\n                offsetTop -= offsetParent.offsetTop;\r\n            }\r\n            else if (IS_FIREFOX || IS_CHROMIUM109) {\r\n                var parentSlotElement = offsetInfo.parentSlotElement;\r\n                if (parentSlotElement) {\r\n                    var customOffsetParent = offsetParent;\r\n                    var customOffsetLeft = 0;\r\n                    var customOffsetTop = 0;\r\n                    while (customOffsetParent) {\r\n                        if (!getShadowRoot(customOffsetParent)) {\r\n                            break;\r\n                        }\r\n                        customOffsetLeft += customOffsetParent.offsetLeft;\r\n                        customOffsetTop += customOffsetParent.offsetTop;\r\n                        customOffsetParent = customOffsetParent.offsetParent;\r\n                    }\r\n                    offsetLeft -= customOffsetLeft;\r\n                    offsetTop -= customOffsetTop;\r\n                }\r\n            }\r\n        }\r\n        if (IS_WEBKIT && !IS_SAFARI_ABOVE15\r\n            && hasOffset && !isSVG && isStatic\r\n            && (position === \"relative\" || position === \"static\")) {\r\n            offsetLeft -= offsetParent.offsetLeft;\r\n            offsetTop -= offsetParent.offsetTop;\r\n            requestEnd = requestEnd || isOffsetEnd;\r\n        }\r\n        if (isFixed) {\r\n            if (hasOffset && fixedInfo.hasTransform) {\r\n                // border\r\n                fixedClientLeft = offsetParent.clientLeft;\r\n                fixedClientTop = offsetParent.clientTop;\r\n            }\r\n        }\r\n        else {\r\n            if (hasOffset && offsetContainer !== offsetParent) {\r\n                // border\r\n                parentClientLeft = offsetParent.clientLeft;\r\n                parentClientTop = offsetParent.clientTop;\r\n            }\r\n            if (hasOffset && offsetParent === documentElement) {\r\n                var margin = getBodyOffset(el, false);\r\n                offsetLeft += margin[0];\r\n                offsetTop += margin[1];\r\n            }\r\n        }\r\n        matrixes.push({\r\n            type: \"target\",\r\n            target: el,\r\n            matrix: getAbsoluteMatrix(matrix, n, origin_1),\r\n        });\r\n        if (individualTransforms.length) {\r\n            matrixes.push({\r\n                type: \"offset\",\r\n                target: el,\r\n                matrix: createIdentityMatrix(n),\r\n            });\r\n            matrixes.push({\r\n                type: \"target\",\r\n                target: el,\r\n                matrix: getAbsoluteMatrix(parseMat(individualTransforms), n, origin_1),\r\n            });\r\n        }\r\n        if (hasOffset) {\r\n            var isElementTarget = el === target;\r\n            var scrollLeft = isElementTarget ? 0 : el.scrollLeft;\r\n            var scrollTop = isElementTarget ? 0 : el.scrollTop;\r\n            matrixes.push({\r\n                type: \"offset\",\r\n                target: el,\r\n                matrix: createOriginMatrix([\r\n                    offsetLeft - scrollLeft + parentClientLeft - fixedClientLeft,\r\n                    offsetTop - scrollTop + parentClientTop - fixedClientTop,\r\n                ], n),\r\n            });\r\n        }\r\n        else {\r\n            // svg\r\n            matrixes.push({\r\n                type: \"offset\",\r\n                target: el,\r\n                origin: origin_1,\r\n            });\r\n        }\r\n        // transform으로 계산되지 않는 zoom을 위한 (0, 0) 을 기준 matrix 추가.\r\n        if (targetZoom !== 1) {\r\n            matrixes.push({\r\n                type: \"zoom\",\r\n                target: el,\r\n                matrix: getAbsoluteMatrix(createScaleMatrix([targetZoom, targetZoom], n), n, [0, 0]),\r\n            });\r\n        }\r\n        if (!targetMatrix) {\r\n            targetMatrix = matrix;\r\n        }\r\n        if (!transformOrigin) {\r\n            transformOrigin = origin_1;\r\n        }\r\n        if (!targetTransformOrigin) {\r\n            targetTransformOrigin = targetOrigin;\r\n        }\r\n        if (isEnd || isFixed) {\r\n            break;\r\n        }\r\n        else {\r\n            el = offsetParent;\r\n            requestEnd = isOffsetEnd;\r\n        }\r\n        if (!checkContainer || el === documentElement) {\r\n            isEnd = requestEnd;\r\n        }\r\n    }\r\n    if (!targetMatrix) {\r\n        targetMatrix = createIdentityMatrix(n);\r\n    }\r\n    if (!transformOrigin) {\r\n        transformOrigin = [0, 0];\r\n    }\r\n    if (!targetTransformOrigin) {\r\n        targetTransformOrigin = [0, 0];\r\n    }\r\n    return {\r\n        zoom: zoom,\r\n        offsetContainer: offsetContainer,\r\n        matrixes: matrixes,\r\n        targetMatrix: targetMatrix,\r\n        transformOrigin: transformOrigin,\r\n        targetOrigin: targetTransformOrigin,\r\n        is3d: is3d,\r\n        hasFixed: hasFixed,\r\n    };\r\n}\n\nvar cacheStyleMap = null;\r\nvar clientRectStyleMap = null;\r\nvar matrixContainerInfos = null;\r\nfunction setStoreCache(useCache) {\r\n    if (useCache) {\r\n        if (window.Map) {\r\n            cacheStyleMap = new Map();\r\n            clientRectStyleMap = new Map();\r\n        }\r\n        matrixContainerInfos = [];\r\n    }\r\n    else {\r\n        cacheStyleMap = null;\r\n        matrixContainerInfos = null;\r\n        clientRectStyleMap = null;\r\n    }\r\n}\r\nfunction getCachedClientRect(el) {\r\n    var clientRect = clientRectStyleMap === null || clientRectStyleMap === void 0 ? void 0 : clientRectStyleMap.get(el);\r\n    if (clientRect) {\r\n        return clientRect;\r\n    }\r\n    var nextClientRect = getClientRect(el, true);\r\n    if (clientRectStyleMap) {\r\n        clientRectStyleMap.set(el, nextClientRect);\r\n    }\r\n    return nextClientRect;\r\n}\r\nfunction getCachedMatrixContainerInfo(target, container) {\r\n    if (matrixContainerInfos) {\r\n        var result_1 = find(matrixContainerInfos, function (info) { return info[0][0] == target && info[0][1] == container; });\r\n        if (result_1) {\r\n            return result_1[1];\r\n        }\r\n    }\r\n    var result = getMatrixStackInfo(target, container, true);\r\n    if (matrixContainerInfos) {\r\n        matrixContainerInfos.push([[target, container], result]);\r\n    }\r\n    return result;\r\n}\r\nfunction getCachedStyle(element) {\r\n    var cache = cacheStyleMap === null || cacheStyleMap === void 0 ? void 0 : cacheStyleMap.get(element);\r\n    if (!cache) {\r\n        var nextStyle_1 = getWindow(element).getComputedStyle(element);\r\n        if (!cacheStyleMap) {\r\n            return function (property) {\r\n                return nextStyle_1[property];\r\n            };\r\n        }\r\n        cache = {\r\n            style: nextStyle_1,\r\n            cached: {},\r\n        };\r\n        cacheStyleMap.set(element, cache);\r\n    }\r\n    var cached = cache.cached;\r\n    var style = cache.style;\r\n    return function (property) {\r\n        if (!(property in cached)) {\r\n            cached[property] = style[property];\r\n        }\r\n        return cached[property];\r\n    };\r\n}\n\nfunction fillChildEvents(moveable, name, e) {\r\n    var datas = e.originalDatas;\r\n    datas.groupable = datas.groupable || {};\r\n    var groupableDatas = datas.groupable;\r\n    groupableDatas.childDatas = groupableDatas.childDatas || [];\r\n    var childDatas = groupableDatas.childDatas;\r\n    return moveable.moveables.map(function (_, i) {\r\n        childDatas[i] = childDatas[i] || {};\r\n        childDatas[i][name] = childDatas[i][name] || {};\r\n        return __assign(__assign({}, e), { isRequestChild: true, datas: childDatas[i][name], originalDatas: childDatas[i] });\r\n    });\r\n}\r\nfunction triggerChildGesto(moveable, able, type, delta, e, isConvert, ableName) {\r\n    var isStart = !!type.match(/Start$/g);\r\n    var isEnd = !!type.match(/End$/g);\r\n    var isPinch = e.isPinch;\r\n    var datas = e.datas;\r\n    var events = fillChildEvents(moveable, able.name, e);\r\n    var moveables = moveable.moveables;\r\n    var childEvents = [];\r\n    var eventParams = events.map(function (ev, i) {\r\n        var childMoveable = moveables[i];\r\n        var state = childMoveable.state;\r\n        var gestos = state.gestos;\r\n        var childEvent = ev;\r\n        if (isStart) {\r\n            childEvent = new CustomGesto(ableName).dragStart(delta, ev);\r\n            childEvents.push(childEvent);\r\n        }\r\n        else {\r\n            if (!gestos[ableName]) {\r\n                gestos[ableName] = datas.childGestos[i];\r\n            }\r\n            if (!gestos[ableName]) {\r\n                return;\r\n            }\r\n            childEvent = setCustomDrag(ev, state, delta, isPinch, isConvert, ableName);\r\n            childEvents.push(childEvent);\r\n        }\r\n        var result = able[type](childMoveable, __assign(__assign({}, childEvent), { parentFlag: true }));\r\n        if (isEnd) {\r\n            gestos[ableName] = null;\r\n        }\r\n        return result;\r\n    });\r\n    if (isStart) {\r\n        datas.childGestos = moveables.map(function (child) { return child.state.gestos[ableName]; });\r\n    }\r\n    return {\r\n        eventParams: eventParams,\r\n        childEvents: childEvents,\r\n    };\r\n}\r\nfunction triggerChildAbles(moveable, able, type, e, eachEvent, callback) {\r\n    if (eachEvent === void 0) { eachEvent = function (_, ev) { return ev; }; }\r\n    var isEnd = !!type.match(/End$/g);\r\n    var events = fillChildEvents(moveable, able.name, e);\r\n    var moveables = moveable.moveables;\r\n    var childs = events.map(function (ev, i) {\r\n        var childMoveable = moveables[i];\r\n        var childEvent = ev;\r\n        childEvent = eachEvent(childMoveable, ev);\r\n        var result = able[type](childMoveable, __assign(__assign({}, childEvent), { parentFlag: true }));\r\n        result && callback && callback(childMoveable, ev, result, i);\r\n        if (isEnd) {\r\n            childMoveable.state.gestos = {};\r\n        }\r\n        return result;\r\n    });\r\n    return childs;\r\n}\r\nfunction startChildDist(moveable, child, parentDatas, childEvent) {\r\n    var fixedDirection = parentDatas.fixedDirection;\r\n    var fixedPosition = parentDatas.fixedPosition;\r\n    var startPositions = childEvent.datas.startPositions || getAbsolutePosesByState(child.state);\r\n    var pos = getPosByDirection(startPositions, fixedDirection);\r\n    var _a = __read(calculate(createRotateMatrix(-moveable.rotation / 180 * Math.PI, 3), [pos[0] - fixedPosition[0], pos[1] - fixedPosition[1], 1], 3), 2), originalX = _a[0], originalY = _a[1];\r\n    childEvent.datas.originalX = originalX;\r\n    childEvent.datas.originalY = originalY;\r\n    return childEvent;\r\n}\n\nfunction renderDirectionControlsByInfos(moveable, ableName, renderDirections, React) {\r\n    var _a = moveable.getState(), renderPoses = _a.renderPoses, rotationRad = _a.rotation, direction = _a.direction;\r\n    var zoom = getProps(moveable.props, ableName).zoom;\r\n    var degRotation = absDegree(rotationRad / Math.PI * 180);\r\n    var directionMap = {};\r\n    var renderState = moveable.renderState;\r\n    if (!renderState.renderDirectionMap) {\r\n        renderState.renderDirectionMap = {};\r\n    }\r\n    var renderDirectionMap = renderState.renderDirectionMap;\r\n    renderDirections.forEach(function (_a) {\r\n        var dir = _a.dir;\r\n        directionMap[dir] = true;\r\n    });\r\n    var directionSign = sign(direction);\r\n    return renderDirections.map(function (_a) {\r\n        var data = _a.data, classNames = _a.classNames, dir = _a.dir;\r\n        var indexes = DIRECTION_INDEXES[dir];\r\n        if (!indexes || !directionMap[dir]) {\r\n            return null;\r\n        }\r\n        renderDirectionMap[dir] = true;\r\n        var directionRotation = (throttle(degRotation, 15) + directionSign * DIRECTION_ROTATIONS[dir] + 720) % 180;\r\n        var dataAttrs = {};\r\n        getKeys(data).forEach(function (name) {\r\n            dataAttrs[\"data-\".concat(name)] = data[name];\r\n        });\r\n        return (React.createElement(\"div\", __assign({ className: prefix.apply(void 0, __spreadArray([\"control\", \"direction\", dir, ableName], __read(classNames), false)), \"data-rotation\": directionRotation, \"data-direction\": dir }, dataAttrs, { key: \"direction-\".concat(dir), style: getControlTransform.apply(void 0, __spreadArray([rotationRad, zoom], __read(indexes.map(function (index) { return renderPoses[index]; })), false)) })));\r\n    });\r\n}\r\nfunction renderDirectionControls(moveable, defaultDirections, ableName, React) {\r\n    var _a = getProps(moveable.props, ableName), _b = _a.renderDirections, directions = _b === void 0 ? defaultDirections : _b, displayAroundControls = _a.displayAroundControls;\r\n    if (!directions) {\r\n        return [];\r\n    }\r\n    var renderDirections = directions === true ? DIRECTIONS : directions;\r\n    return __spreadArray(__spreadArray([], __read((displayAroundControls ? renderAroundControls(moveable, React, ableName, renderDirections) : [])), false), __read(renderDirectionControlsByInfos(moveable, ableName, renderDirections.map(function (dir) {\r\n        return {\r\n            data: {},\r\n            classNames: [],\r\n            dir: dir,\r\n        };\r\n    }), React)), false);\r\n}\r\nfunction renderLine(React, direction, pos1, pos2, zoom, key) {\r\n    var classNames = [];\r\n    for (var _i = 6; _i < arguments.length; _i++) {\r\n        classNames[_i - 6] = arguments[_i];\r\n    }\r\n    var rad = getRad(pos1, pos2);\r\n    var rotation = direction ? (throttle(rad / Math.PI * 180, 15)) % 180 : -1;\r\n    return React.createElement(\"div\", { key: \"line-\".concat(key), className: prefix.apply(void 0, __spreadArray([\"line\", \"direction\", direction ? \"edge\" : \"\", direction], __read(classNames), false)), \"data-rotation\": rotation, \"data-line-key\": key, \"data-direction\": direction, style: getLineStyle(pos1, pos2, zoom, rad) });\r\n}\r\nfunction renderEdgeLines(React, ableName, edge, poses, zoom) {\r\n    var directions = edge === true ? DIRECTIONS4 : edge;\r\n    return directions.map(function (direction, i) {\r\n        var _a = __read(DIRECTION_INDEXES[direction], 2), index1 = _a[0], index2 = _a[1];\r\n        if (index2 == null) {\r\n            return;\r\n        }\r\n        return renderLine(React, direction, poses[index1], poses[index2], zoom, \"\".concat(ableName, \"Edge\").concat(i), ableName);\r\n    }).filter(Boolean);\r\n}\r\nfunction getRenderDirections(ableName) {\r\n    return function (moveable, React) {\r\n        var edge = getProps(moveable.props, ableName).edge;\r\n        if (edge && (edge === true || edge.length)) {\r\n            return __spreadArray(__spreadArray([], __read(renderEdgeLines(React, ableName, edge, moveable.getState().renderPoses, moveable.props.zoom)), false), __read(renderDiagonalDirections(moveable, ableName, React)), false);\r\n        }\r\n        return renderAllDirections(moveable, ableName, React);\r\n    };\r\n}\r\nfunction renderAllDirections(moveable, ableName, React) {\r\n    return renderDirectionControls(moveable, DIRECTIONS, ableName, React);\r\n}\r\nfunction renderDiagonalDirections(moveable, ableName, React) {\r\n    return renderDirectionControls(moveable, [\"nw\", \"ne\", \"sw\", \"se\"], ableName, React);\r\n}\r\nfunction renderAroundControls(moveable, React, ableName, renderDirections) {\r\n    var renderState = moveable.renderState;\r\n    if (!renderState.renderDirectionMap) {\r\n        renderState.renderDirectionMap = {};\r\n    }\r\n    var _a = moveable.getState(), renderPoses = _a.renderPoses, rotationRad = _a.rotation, direction = _a.direction;\r\n    var renderDirectionMap = renderState.renderDirectionMap;\r\n    var zoom = moveable.props.zoom;\r\n    var directionSign = sign(direction);\r\n    var degRotation = rotationRad / Math.PI * 180;\r\n    return (renderDirections || getKeys(renderDirectionMap)).map(function (dir) {\r\n        var indexes = DIRECTION_INDEXES[dir];\r\n        if (!indexes) {\r\n            return null;\r\n        }\r\n        var directionRotation = (throttle(degRotation, 15) + directionSign * DIRECTION_ROTATIONS[dir] + 720) % 180;\r\n        var classNames = [\"around-control\"];\r\n        if (ableName) {\r\n            classNames.push(\"direction\", ableName);\r\n        }\r\n        return (React.createElement(\"div\", { className: prefix.apply(void 0, __spreadArray([], __read(classNames), false)), \"data-rotation\": directionRotation, \"data-direction\": dir, key: \"direction-around-\".concat(dir), style: getControlTransform.apply(void 0, __spreadArray([rotationRad, zoom], __read(indexes.map(function (index) { return renderPoses[index]; })), false)) }));\r\n    });\r\n}\n\nfunction checkBoundPoses(bounds, verticalPoses, horizontalPoses) {\r\n    var _a = bounds || {}, _b = _a.position, position = _b === void 0 ? \"client\" : _b, _c = _a.left, left = _c === void 0 ? -Infinity : _c, _d = _a.top, top = _d === void 0 ? -Infinity : _d, _e = _a.right, right = _e === void 0 ? Infinity : _e, _f = _a.bottom, bottom = _f === void 0 ? Infinity : _f;\r\n    var nextBounds = {\r\n        position: position,\r\n        left: left,\r\n        top: top,\r\n        right: right,\r\n        bottom: bottom,\r\n    };\r\n    return {\r\n        vertical: checkBounds(nextBounds, verticalPoses, true),\r\n        horizontal: checkBounds(nextBounds, horizontalPoses, false),\r\n    };\r\n}\r\nfunction getBounds(moveable, externalBounds) {\r\n    var _a = moveable.state, _b = _a.containerClientRect, containerHeight = _b.clientHeight, containerWidth = _b.clientWidth, clientLeft = _b.clientLeft, clientTop = _b.clientTop, _c = _a.snapOffset, snapOffsetLeft = _c.left, snapOffsetTop = _c.top, snapOffsetRight = _c.right, snapOffsetBottom = _c.bottom;\r\n    var bounds = externalBounds || moveable.props.bounds || {};\r\n    var position = bounds.position || \"client\";\r\n    var isCSS = position === \"css\";\r\n    var _d = bounds.left, left = _d === void 0 ? -Infinity : _d, _e = bounds.top, top = _e === void 0 ? -Infinity : _e;\r\n    var _f = bounds.right, right = _f === void 0 ? isCSS ? -Infinity : Infinity : _f, _g = bounds.bottom, bottom = _g === void 0 ? isCSS ? -Infinity : Infinity : _g;\r\n    if (isCSS) {\r\n        right = containerWidth + snapOffsetRight - snapOffsetLeft - right;\r\n        bottom = containerHeight + snapOffsetBottom - snapOffsetTop - bottom;\r\n    }\r\n    return {\r\n        left: left + snapOffsetLeft - clientLeft,\r\n        right: right + snapOffsetLeft - clientLeft,\r\n        top: top + snapOffsetTop - clientTop,\r\n        bottom: bottom + snapOffsetTop - clientTop,\r\n    };\r\n}\r\nfunction checkBoundKeepRatio(moveable, startPos, endPos) {\r\n    var _a = getBounds(moveable), left = _a.left, top = _a.top, right = _a.right, bottom = _a.bottom;\r\n    var _b = __read(endPos, 2), endX = _b[0], endY = _b[1];\r\n    var _c = __read(minus(endPos, startPos), 2), dx = _c[0], dy = _c[1];\r\n    if (abs(dx) < TINY_NUM) {\r\n        dx = 0;\r\n    }\r\n    if (abs(dy) < TINY_NUM) {\r\n        dy = 0;\r\n    }\r\n    var isBottom = dy > 0;\r\n    var isRight = dx > 0;\r\n    var verticalInfo = {\r\n        isBound: false,\r\n        offset: 0,\r\n        pos: 0,\r\n    };\r\n    var horizontalInfo = {\r\n        isBound: false,\r\n        offset: 0,\r\n        pos: 0,\r\n    };\r\n    if (dx === 0 && dy === 0) {\r\n        return {\r\n            vertical: verticalInfo,\r\n            horizontal: horizontalInfo,\r\n        };\r\n    }\r\n    else if (dx === 0) {\r\n        if (isBottom) {\r\n            if (bottom < endY) {\r\n                horizontalInfo.pos = bottom;\r\n                horizontalInfo.offset = endY - bottom;\r\n            }\r\n        }\r\n        else {\r\n            if (top > endY) {\r\n                horizontalInfo.pos = top;\r\n                horizontalInfo.offset = endY - top;\r\n            }\r\n        }\r\n    }\r\n    else if (dy === 0) {\r\n        if (isRight) {\r\n            if (right < endX) {\r\n                verticalInfo.pos = right;\r\n                verticalInfo.offset = endX - right;\r\n            }\r\n        }\r\n        else {\r\n            if (left > endX) {\r\n                verticalInfo.pos = left;\r\n                verticalInfo.offset = endX - left;\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // y - y1 = a * (x - x1)\r\n        var a = dy / dx;\r\n        var b = endPos[1] - a * endX;\r\n        var y = 0;\r\n        var x = 0;\r\n        var isBound = false;\r\n        if (isRight && right <= endX) {\r\n            y = a * right + b;\r\n            x = right;\r\n            isBound = true;\r\n        }\r\n        else if (!isRight && endX <= left) {\r\n            y = a * left + b;\r\n            x = left;\r\n            isBound = true;\r\n        }\r\n        if (isBound) {\r\n            if (y < top || y > bottom) {\r\n                isBound = false;\r\n            }\r\n        }\r\n        if (!isBound) {\r\n            if (isBottom && bottom <= endY) {\r\n                y = bottom;\r\n                x = (y - b) / a;\r\n                isBound = true;\r\n            }\r\n            else if (!isBottom && endY <= top) {\r\n                y = top;\r\n                x = (y - b) / a;\r\n                isBound = true;\r\n            }\r\n        }\r\n        if (isBound) {\r\n            verticalInfo.isBound = true;\r\n            verticalInfo.pos = x;\r\n            verticalInfo.offset = endX - x;\r\n            horizontalInfo.isBound = true;\r\n            horizontalInfo.pos = y;\r\n            horizontalInfo.offset = endY - y;\r\n        }\r\n    }\r\n    return {\r\n        vertical: verticalInfo,\r\n        horizontal: horizontalInfo,\r\n    };\r\n}\r\nfunction checkBounds(bounds, poses, isVertical) {\r\n    // 0   [100 - 200]  300\r\n    var startBoundPos = bounds[isVertical ? \"left\" : \"top\"];\r\n    var endBoundPos = bounds[isVertical ? \"right\" : \"bottom\"];\r\n    // 450\r\n    var minPos = Math.min.apply(Math, __spreadArray([], __read(poses), false));\r\n    var maxPos = Math.max.apply(Math, __spreadArray([], __read(poses), false));\r\n    var boundInfos = [];\r\n    if (startBoundPos + 1 > minPos) {\r\n        boundInfos.push({\r\n            direction: \"start\",\r\n            isBound: true,\r\n            offset: minPos - startBoundPos,\r\n            pos: startBoundPos,\r\n        });\r\n    }\r\n    if (endBoundPos - 1 < maxPos) {\r\n        boundInfos.push({\r\n            direction: \"end\",\r\n            isBound: true,\r\n            offset: maxPos - endBoundPos,\r\n            pos: endBoundPos,\r\n        });\r\n    }\r\n    if (!boundInfos.length) {\r\n        boundInfos.push({\r\n            isBound: false,\r\n            offset: 0,\r\n            pos: 0,\r\n        });\r\n    }\r\n    return boundInfos.sort(function (a, b) { return abs(b.offset) - abs(a.offset); });\r\n}\r\nfunction isBoundRotate$1(relativePoses, boundRect, rad) {\r\n    var nextPoses = rad ? relativePoses.map(function (pos) { return rotate(pos, rad); }) : relativePoses;\r\n    return nextPoses.some(function (pos) {\r\n        return (pos[0] < boundRect.left && abs(pos[0] - boundRect.left) > 0.1)\r\n            || (pos[0] > boundRect.right && abs(pos[0] - boundRect.right) > 0.1)\r\n            || (pos[1] < boundRect.top && abs(pos[1] - boundRect.top) > 0.1)\r\n            || (pos[1] > boundRect.bottom && abs(pos[1] - boundRect.bottom) > 0.1);\r\n    });\r\n}\r\nfunction boundRotate(vec, boundPos, index) {\r\n    var r = getDistSize(vec);\r\n    var nextPos = Math.sqrt(r * r - boundPos * boundPos) || 0;\r\n    return [nextPos, -nextPos].sort(function (a, b) {\r\n        return abs(a - vec[index ? 0 : 1]) - abs(b - vec[index ? 0 : 1]);\r\n    }).map(function (pos) {\r\n        return getRad([0, 0], index ? [pos, boundPos] : [boundPos, pos]);\r\n    });\r\n}\r\nfunction checkRotateBounds(moveable, prevPoses, nextPoses, origin, rotation) {\r\n    if (!moveable.props.bounds) {\r\n        return [];\r\n    }\r\n    var rad = rotation * Math.PI / 180;\r\n    var _a = getBounds(moveable), left = _a.left, top = _a.top, right = _a.right, bottom = _a.bottom;\r\n    var relativeLeft = left - origin[0];\r\n    var relativeRight = right - origin[0];\r\n    var relativeTop = top - origin[1];\r\n    var relativeBottom = bottom - origin[1];\r\n    var boundRect = {\r\n        left: relativeLeft,\r\n        top: relativeTop,\r\n        right: relativeRight,\r\n        bottom: relativeBottom,\r\n    };\r\n    if (!isBoundRotate$1(nextPoses, boundRect, 0)) {\r\n        return [];\r\n    }\r\n    var result = [];\r\n    [\r\n        [relativeLeft, 0],\r\n        [relativeRight, 0],\r\n        [relativeTop, 1],\r\n        [relativeBottom, 1],\r\n    ].forEach(function (_a) {\r\n        var _b = __read(_a, 2), boundPos = _b[0], index = _b[1];\r\n        nextPoses.forEach(function (nextPos) {\r\n            var relativeRad1 = getRad([0, 0], nextPos);\r\n            result.push.apply(result, __spreadArray([], __read(boundRotate(nextPos, boundPos, index)\r\n                .map(function (relativeRad2) { return rad + relativeRad2 - relativeRad1; })\r\n                .filter(function (nextRad) { return !isBoundRotate$1(prevPoses, boundRect, nextRad); })\r\n                .map(function (nextRad) { return throttle(nextRad * 180 / Math.PI, TINY_NUM); })), false));\r\n        });\r\n    });\r\n    return result;\r\n}\n\nvar VERTICAL_NAMES = [\"left\", \"right\", \"center\"];\r\nvar HORIZONTAL_NAMES = [\"top\", \"bottom\", \"middle\"];\r\nvar SNAP_SKIP_NAMES_MAP = {\r\n    \"left\": \"start\",\r\n    \"right\": \"end\",\r\n    \"center\": \"center\",\r\n    \"top\": \"start\",\r\n    \"bottom\": \"end\",\r\n    \"middle\": \"center\",\r\n};\r\nvar VERTICAL_NAMES_MAP = {\r\n    start: \"left\",\r\n    end: \"right\",\r\n    center: \"center\",\r\n};\r\nvar HORIZONTAL_NAMES_MAP = {\r\n    start: \"top\",\r\n    end: \"bottom\",\r\n    center: \"middle\",\r\n};\r\nfunction getInitialBounds() {\r\n    return {\r\n        left: false,\r\n        top: false,\r\n        right: false,\r\n        bottom: false,\r\n    };\r\n}\r\nfunction hasGuidelines(moveable, ableName) {\r\n    var _a = moveable.props, snappable = _a.snappable, bounds = _a.bounds, innerBounds = _a.innerBounds, verticalGuidelines = _a.verticalGuidelines, horizontalGuidelines = _a.horizontalGuidelines, snapGridWidth = _a.snapGridWidth, snapGridHeight = _a.snapGridHeight, _b = moveable.state, guidelines = _b.guidelines, enableSnap = _b.enableSnap;\r\n    if (!snappable ||\r\n        !enableSnap ||\r\n        (ableName && snappable !== true && snappable.indexOf(ableName) < 0)) {\r\n        return false;\r\n    }\r\n    if (snapGridWidth ||\r\n        snapGridHeight ||\r\n        bounds ||\r\n        innerBounds ||\r\n        (guidelines && guidelines.length) ||\r\n        (verticalGuidelines && verticalGuidelines.length) ||\r\n        (horizontalGuidelines && horizontalGuidelines.length)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction getSnapDirections(snapDirections) {\r\n    if (snapDirections === false) {\r\n        return {};\r\n    }\r\n    else if (snapDirections === true || !snapDirections) {\r\n        return { left: true, right: true, top: true, bottom: true };\r\n    }\r\n    return snapDirections;\r\n}\r\nfunction mapSnapDirectionPoses(snapDirections, snapPoses) {\r\n    var nextSnapDirections = getSnapDirections(snapDirections);\r\n    var nextSnapPoses = {};\r\n    for (var name_1 in nextSnapDirections) {\r\n        if (name_1 in snapPoses && nextSnapDirections[name_1]) {\r\n            nextSnapPoses[name_1] = snapPoses[name_1];\r\n        }\r\n    }\r\n    return nextSnapPoses;\r\n}\r\nfunction splitSnapDirectionPoses(snapDirections, snapPoses) {\r\n    var nextSnapPoses = mapSnapDirectionPoses(snapDirections, snapPoses);\r\n    var horizontalNames = HORIZONTAL_NAMES.filter(function (name) { return name in nextSnapPoses; });\r\n    var verticalNames = VERTICAL_NAMES.filter(function (name) { return name in nextSnapPoses; });\r\n    return {\r\n        horizontalNames: horizontalNames,\r\n        verticalNames: verticalNames,\r\n        horizontal: horizontalNames.map(function (name) { return nextSnapPoses[name]; }),\r\n        vertical: verticalNames.map(function (name) { return nextSnapPoses[name]; }),\r\n    };\r\n}\r\nfunction calculateContainerPos(rootMatrix, containerRect, n) {\r\n    var clientPos = calculatePosition(rootMatrix, [containerRect.clientLeft, containerRect.clientTop], n);\r\n    return [\r\n        containerRect.left + clientPos[0],\r\n        containerRect.top + clientPos[1],\r\n    ];\r\n}\r\nfunction solveLineConstants(_a) {\r\n    var _b = __read(_a, 2), point1 = _b[0], point2 = _b[1];\r\n    var dx = point2[0] - point1[0];\r\n    var dy = point2[1] - point1[1];\r\n    if (Math.abs(dx) < TINY_NUM$1) {\r\n        dx = 0;\r\n    }\r\n    if (Math.abs(dy) < TINY_NUM$1) {\r\n        dy = 0;\r\n    }\r\n    // b > 0\r\n    // ax + by + c = 0\r\n    var a = 0;\r\n    var b = 0;\r\n    var c = 0;\r\n    if (!dx) {\r\n        // -x + 1 = 0\r\n        a = -1;\r\n        c = point1[0];\r\n    }\r\n    else if (!dy) {\r\n        // y - 1 = 0\r\n        b = 1;\r\n        c = -point1[1];\r\n    }\r\n    else {\r\n        // y = -a(x - x1) + y1\r\n        // ax + y + a * x1 - y1 = 0\r\n        a = -dy / dx;\r\n        b = 1;\r\n        c = a * point1[0] - point1[1];\r\n    }\r\n    return [a, b, c].map(function (v) { return throttle(v, TINY_NUM$1); });\r\n}\n\nvar NAME_snapRotationThreshold = \"snapRotationThreshold\";\r\nvar NAME_snapRotationDegrees = \"snapRotationDegrees\";\r\nvar NAME_snapHorizontalThreshold = \"snapHorizontalThreshold\";\r\nvar NAME_snapVerticalThreshold = \"snapVerticalThreshold\";\n\nfunction checkMoveableSnapPoses(moveable, posesX, posesY, dirXs, dirYs, customSnapVerticalThreshold, customSnapHorizontalThreshold) {\r\n    var _a;\r\n    if (dirXs === void 0) { dirXs = []; }\r\n    if (dirYs === void 0) { dirYs = []; }\r\n    var props = moveable.props;\r\n    var snapThresholdMultiples = ((_a = moveable.state.snapThresholdInfo) === null || _a === void 0 ? void 0 : _a.multiples) || [1, 1];\r\n    var snapHorizontalThreshold = selectValue(customSnapHorizontalThreshold, props[NAME_snapHorizontalThreshold], 5);\r\n    var snapVerticalThreshold = selectValue(customSnapVerticalThreshold, props[NAME_snapVerticalThreshold], 5);\r\n    return checkSnapPoses(moveable.state.guidelines, posesX, posesY, dirXs, dirYs, snapHorizontalThreshold, snapVerticalThreshold, snapThresholdMultiples);\r\n}\r\nfunction checkSnapPoses(guidelines, posesX, posesY, dirXs, dirYs, snapHorizontalThreshold, snapVerticalThreshold, multiples) {\r\n    return {\r\n        vertical: checkSnap(guidelines, \"vertical\", posesX, snapVerticalThreshold * multiples[0], dirXs),\r\n        horizontal: checkSnap(guidelines, \"horizontal\", posesY, snapHorizontalThreshold * multiples[1], dirYs),\r\n    };\r\n}\r\nfunction checkSnapKeepRatio(moveable, startPos, endPos) {\r\n    var _a = __read(endPos, 2), endX = _a[0], endY = _a[1];\r\n    var _b = __read(startPos, 2), startX = _b[0], startY = _b[1];\r\n    var _c = __read(minus(endPos, startPos), 2), dx = _c[0], dy = _c[1];\r\n    var isBottom = dy > 0;\r\n    var isRight = dx > 0;\r\n    dx = getTinyDist(dx);\r\n    dy = getTinyDist(dy);\r\n    var verticalInfo = {\r\n        isSnap: false,\r\n        offset: 0,\r\n        pos: 0,\r\n    };\r\n    var horizontalInfo = {\r\n        isSnap: false,\r\n        offset: 0,\r\n        pos: 0,\r\n    };\r\n    if (dx === 0 && dy === 0) {\r\n        return {\r\n            vertical: verticalInfo,\r\n            horizontal: horizontalInfo,\r\n        };\r\n    }\r\n    var _d = checkMoveableSnapPoses(moveable, dx ? [endX] : [], dy ? [endY] : [], [], [], undefined, undefined), verticalSnapInfo = _d.vertical, horizontalSnapInfo = _d.horizontal;\r\n    verticalSnapInfo.posInfos.filter(function (_a) {\r\n        var pos = _a.pos;\r\n        return isRight ? pos >= startX : pos <= startX;\r\n    });\r\n    horizontalSnapInfo.posInfos.filter(function (_a) {\r\n        var pos = _a.pos;\r\n        return isBottom ? pos >= startY : pos <= startY;\r\n    });\r\n    verticalSnapInfo.isSnap = verticalSnapInfo.posInfos.length > 0;\r\n    horizontalSnapInfo.isSnap = horizontalSnapInfo.posInfos.length > 0;\r\n    var _e = getNearestSnapGuidelineInfo(verticalSnapInfo), isVerticalSnap = _e.isSnap, verticalGuideline = _e.guideline;\r\n    var _f = getNearestSnapGuidelineInfo(horizontalSnapInfo), isHorizontalSnap = _f.isSnap, horizontalGuideline = _f.guideline;\r\n    var horizontalPos = isHorizontalSnap ? horizontalGuideline.pos[1] : 0;\r\n    var verticalPos = isVerticalSnap ? verticalGuideline.pos[0] : 0;\r\n    if (dx === 0) {\r\n        if (isHorizontalSnap) {\r\n            horizontalInfo.isSnap = true;\r\n            horizontalInfo.pos = horizontalGuideline.pos[1];\r\n            horizontalInfo.offset = endY - horizontalInfo.pos;\r\n        }\r\n    }\r\n    else if (dy === 0) {\r\n        if (isVerticalSnap) {\r\n            verticalInfo.isSnap = true;\r\n            verticalInfo.pos = verticalPos;\r\n            verticalInfo.offset = endX - verticalPos;\r\n        }\r\n    }\r\n    else {\r\n        // y - y1 = a * (x - x1)\r\n        var a = dy / dx;\r\n        var b = endPos[1] - a * endX;\r\n        var y = 0;\r\n        var x = 0;\r\n        var isSnap = false;\r\n        if (isVerticalSnap) {\r\n            x = verticalPos;\r\n            y = a * x + b;\r\n            isSnap = true;\r\n        }\r\n        else if (isHorizontalSnap) {\r\n            y = horizontalPos;\r\n            x = (y - b) / a;\r\n            isSnap = true;\r\n        }\r\n        if (isSnap) {\r\n            verticalInfo.isSnap = true;\r\n            verticalInfo.pos = x;\r\n            verticalInfo.offset = endX - x;\r\n            horizontalInfo.isSnap = true;\r\n            horizontalInfo.pos = y;\r\n            horizontalInfo.offset = endY - y;\r\n        }\r\n    }\r\n    return {\r\n        vertical: verticalInfo,\r\n        horizontal: horizontalInfo,\r\n    };\r\n}\r\nfunction getStringDirection(dir) {\r\n    var stringDirection = \"\";\r\n    if (dir === -1 || dir === \"top\" || dir === \"left\") {\r\n        stringDirection = \"start\";\r\n    }\r\n    else if (dir === 0 || dir === \"center\" || dir === \"middle\") {\r\n        stringDirection = \"center\";\r\n    }\r\n    else if (dir === 1 || dir === \"right\" || dir === \"bottom\") {\r\n        stringDirection = \"end\";\r\n    }\r\n    return stringDirection;\r\n}\r\nfunction checkSnaps(moveable, rect, customSnapVerticalThreshold, customSnapHorizontalThreshold) {\r\n    var poses = splitSnapDirectionPoses(moveable.props.snapDirections, rect);\r\n    var result = checkMoveableSnapPoses(moveable, poses.vertical, poses.horizontal, poses.verticalNames.map(function (name) { return getStringDirection(name); }), poses.horizontalNames.map(function (name) { return getStringDirection(name); }), customSnapVerticalThreshold, customSnapHorizontalThreshold);\r\n    var horizontalDirection = getStringDirection(poses.horizontalNames[result.horizontal.index]);\r\n    var verticalDirection = getStringDirection(poses.verticalNames[result.vertical.index]);\r\n    return {\r\n        vertical: __assign(__assign({}, result.vertical), { direction: verticalDirection }),\r\n        horizontal: __assign(__assign({}, result.horizontal), { direction: horizontalDirection }),\r\n    };\r\n}\r\nfunction getNearestSnapGuidelineInfo(snapInfo) {\r\n    var isSnap = snapInfo.isSnap;\r\n    if (!isSnap) {\r\n        return {\r\n            isSnap: false,\r\n            offset: 0,\r\n            dist: -1,\r\n            pos: 0,\r\n            guideline: null,\r\n        };\r\n    }\r\n    var posInfo = snapInfo.posInfos[0];\r\n    var guidelineInfo = posInfo.guidelineInfos[0];\r\n    var offset = guidelineInfo.offset;\r\n    var dist = guidelineInfo.dist;\r\n    var guideline = guidelineInfo.guideline;\r\n    return {\r\n        isSnap: isSnap,\r\n        offset: offset,\r\n        dist: dist,\r\n        pos: posInfo.pos,\r\n        guideline: guideline,\r\n    };\r\n}\r\nfunction checkSnap(guidelines, targetType, targetPoses, snapThreshold, dirs) {\r\n    var _a, _b;\r\n    if (dirs === void 0) { dirs = []; }\r\n    if (!guidelines || !guidelines.length) {\r\n        return {\r\n            isSnap: false,\r\n            index: -1,\r\n            direction: \"\",\r\n            posInfos: [],\r\n        };\r\n    }\r\n    var isVertical = targetType === \"vertical\";\r\n    var posType = isVertical ? 0 : 1;\r\n    var snapPosInfos = targetPoses.map(function (targetPos, index) {\r\n        var direction = dirs[index] || \"\";\r\n        var guidelineInfos = guidelines.map(function (guideline) {\r\n            var pos = guideline.pos;\r\n            var offset = targetPos - pos[posType];\r\n            return {\r\n                offset: offset,\r\n                dist: abs(offset),\r\n                guideline: guideline,\r\n                direction: direction,\r\n            };\r\n        }).filter(function (_a) {\r\n            var guideline = _a.guideline, dist = _a.dist;\r\n            var type = guideline.type;\r\n            if (type !== targetType\r\n                || dist > snapThreshold) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }).sort(function (a, b) { return a.dist - b.dist; });\r\n        return {\r\n            pos: targetPos,\r\n            index: index,\r\n            guidelineInfos: guidelineInfos,\r\n            direction: direction,\r\n        };\r\n    }).filter(function (snapPosInfo) {\r\n        return snapPosInfo.guidelineInfos.length > 0;\r\n    }).sort(function (a, b) {\r\n        return a.guidelineInfos[0].dist - b.guidelineInfos[0].dist;\r\n    });\r\n    var isSnap = snapPosInfos.length > 0;\r\n    return {\r\n        isSnap: isSnap,\r\n        index: isSnap ? snapPosInfos[0].index : -1,\r\n        direction: (_b = (_a = snapPosInfos[0]) === null || _a === void 0 ? void 0 : _a.direction) !== null && _b !== void 0 ? _b : \"\",\r\n        posInfos: snapPosInfos,\r\n    };\r\n}\r\nfunction getSnapInfosByDirection(moveable, \r\n// pos1 pos2 pos3 pos4\r\nposes, snapDirection, customSnapVerticalThreshold, customSnapHorizontalThreshold) {\r\n    var dirs = [];\r\n    if (snapDirection[0] && snapDirection[1]) {\r\n        dirs = [\r\n            snapDirection,\r\n            [-snapDirection[0], snapDirection[1]],\r\n            [snapDirection[0], -snapDirection[1]],\r\n        ];\r\n    }\r\n    else if (!snapDirection[0] && !snapDirection[1]) {\r\n        [\r\n            [-1, -1],\r\n            [1, -1],\r\n            [1, 1],\r\n            [-1, 1],\r\n        ].forEach(function (dir, i, arr) {\r\n            var nextDir = (arr[i + 1] || arr[0]);\r\n            dirs.push(dir);\r\n            dirs.push([\r\n                (dir[0] + nextDir[0]) / 2,\r\n                (dir[1] + nextDir[1]) / 2,\r\n            ]);\r\n        });\r\n    }\r\n    else {\r\n        if (moveable.props.keepRatio) {\r\n            dirs.push([-1, -1], [-1, 1], [1, -1], [1, 1], snapDirection);\r\n        }\r\n        else {\r\n            dirs.push.apply(dirs, __spreadArray([], __read(getPosesByDirection([\r\n                [-1, -1],\r\n                [1, -1],\r\n                [-1, -1],\r\n                [1, 1],\r\n            ], snapDirection)), false));\r\n            if (dirs.length > 1) {\r\n                dirs.push([\r\n                    (dirs[0][0] + dirs[1][0]) / 2,\r\n                    (dirs[0][1] + dirs[1][1]) / 2,\r\n                ]);\r\n            }\r\n        }\r\n    }\r\n    var nextPoses = dirs.map(function (dir) { return getPosByDirection(poses, dir); });\r\n    var xs = nextPoses.map(function (pos) { return pos[0]; });\r\n    var ys = nextPoses.map(function (pos) { return pos[1]; });\r\n    var result = checkMoveableSnapPoses(moveable, xs, ys, dirs.map(function (dir) { return getStringDirection(dir[0]); }), dirs.map(function (dir) { return getStringDirection(dir[1]); }), customSnapVerticalThreshold, customSnapHorizontalThreshold);\r\n    var verticalDirection = getStringDirection(dirs.map(function (dir) { return dir[0]; })[result.vertical.index]);\r\n    var horizontalDirection = getStringDirection(dirs.map(function (dir) { return dir[1]; })[result.horizontal.index]);\r\n    return {\r\n        vertical: __assign(__assign({}, result.vertical), { direction: verticalDirection }),\r\n        horizontal: __assign(__assign({}, result.horizontal), { direction: horizontalDirection }),\r\n    };\r\n}\r\nfunction checkSnapBoundPriority(a, b) {\r\n    var aDist = abs(a.offset);\r\n    var bDist = abs(b.offset);\r\n    if (a.isBound && b.isBound) {\r\n        return bDist - aDist;\r\n    }\r\n    else if (a.isBound) {\r\n        return -1;\r\n    }\r\n    else if (b.isBound) {\r\n        return 1;\r\n    }\r\n    else if (a.isSnap && b.isSnap) {\r\n        return bDist - aDist;\r\n    }\r\n    else if (a.isSnap) {\r\n        return -1;\r\n    }\r\n    else if (b.isSnap) {\r\n        return 1;\r\n    }\r\n    else if (aDist < TINY_NUM) {\r\n        return 1;\r\n    }\r\n    else if (bDist < TINY_NUM) {\r\n        return -1;\r\n    }\r\n    return aDist - bDist;\r\n}\r\nfunction getNearOffsetInfo(offsets, index) {\r\n    return offsets.slice().sort(function (a, b) {\r\n        var aSign = a.sign[index];\r\n        var bSign = b.sign[index];\r\n        var aOffset = a.offset[index];\r\n        var bOffset = b.offset[index];\r\n        // -1 The positions of a and b do not change.\r\n        // 1 The positions of a and b are reversed.\r\n        if (!aSign) {\r\n            return 1;\r\n        }\r\n        else if (!bSign) {\r\n            return -1;\r\n        }\r\n        return checkSnapBoundPriority({ isBound: a.isBound, isSnap: a.isSnap, offset: aOffset }, { isBound: b.isBound, isSnap: b.isSnap, offset: bOffset });\r\n    })[0];\r\n}\r\nfunction getCheckSnapDirections(direction, fixedDirection, keepRatio) {\r\n    var directions = [];\r\n    // const fixedDirection = [-direction[0], -direction[1]];\r\n    if (keepRatio) {\r\n        if (abs(fixedDirection[0]) !== 1 || abs(fixedDirection[1]) !== 1) {\r\n            directions.push([fixedDirection, [-1, -1]], [fixedDirection, [-1, 1]], [fixedDirection, [1, -1]], [fixedDirection, [1, 1]]);\r\n        }\r\n        else {\r\n            directions.push([fixedDirection, [direction[0], -direction[1]]], [fixedDirection, [-direction[0], direction[1]]]);\r\n        }\r\n        directions.push([fixedDirection, direction]);\r\n    }\r\n    else {\r\n        if ((direction[0] && direction[1]) || (!direction[0] && !direction[1])) {\r\n            var endDirection_1 = direction[0] ? direction : [1, 1];\r\n            [1, -1].forEach(function (signX) {\r\n                [1, -1].forEach(function (signY) {\r\n                    var nextDirection = [signX * endDirection_1[0], signY * endDirection_1[1]];\r\n                    if (fixedDirection[0] === nextDirection[0]\r\n                        && fixedDirection[1] === nextDirection[1]) {\r\n                        return;\r\n                    }\r\n                    directions.push([fixedDirection, nextDirection]);\r\n                });\r\n            });\r\n        }\r\n        else if (direction[0]) {\r\n            var signs = abs(fixedDirection[0]) === 1 ? [1] : [1, -1];\r\n            signs.forEach(function (sign) {\r\n                directions.push([\r\n                    [fixedDirection[0], -1],\r\n                    [sign * direction[0], -1],\r\n                ], [\r\n                    [fixedDirection[0], 0],\r\n                    [sign * direction[0], 0],\r\n                ], [\r\n                    [fixedDirection[0], 1],\r\n                    [sign * direction[0], 1],\r\n                ]);\r\n            });\r\n        }\r\n        else if (direction[1]) {\r\n            var signs = abs(fixedDirection[1]) === 1 ? [1] : [1, -1];\r\n            signs.forEach(function (sign) {\r\n                directions.push([\r\n                    [-1, fixedDirection[1]],\r\n                    [-1, sign * direction[1]],\r\n                ], [\r\n                    [0, fixedDirection[1]],\r\n                    [0, sign * direction[1]],\r\n                ], [\r\n                    [1, fixedDirection[1]],\r\n                    [1, sign * direction[1]],\r\n                ]);\r\n            });\r\n        }\r\n    }\r\n    return directions;\r\n}\n\nfunction isStartLine(dot, line) {\r\n    // l    o     => true\r\n    // o    l    => false\r\n    var cx = average([line[0][0], line[1][0]]);\r\n    var cy = average([line[0][1], line[1][1]]);\r\n    return {\r\n        vertical: cx <= dot[0],\r\n        horizontal: cy <= dot[1],\r\n    };\r\n}\r\nfunction hitTestLine(dot, _a) {\r\n    var _b = __read(_a, 2), pos1 = _b[0], pos2 = _b[1];\r\n    var dx = pos2[0] - pos1[0];\r\n    var dy = pos2[1] - pos1[1];\r\n    if (abs(dx) < TINY_NUM) {\r\n        dx = 0;\r\n    }\r\n    if (abs(dy) < TINY_NUM) {\r\n        dy = 0;\r\n    }\r\n    var test1;\r\n    var test2;\r\n    if (!dx) {\r\n        test1 = pos1[0];\r\n        test2 = dot[0];\r\n    }\r\n    else if (!dy) {\r\n        test1 = pos1[1];\r\n        test2 = dot[1];\r\n    }\r\n    else {\r\n        var a = dy / dx;\r\n        // y = a * (x - pos1) + pos1\r\n        test1 = a * (dot[0] - pos1[0]) + pos1[1];\r\n        test2 = dot[1];\r\n    }\r\n    return test1 - test2;\r\n}\r\nfunction isSameStartLine(dots, line, centerSign, error) {\r\n    if (error === void 0) { error = TINY_NUM; }\r\n    return dots.every(function (dot) {\r\n        var value = hitTestLine(dot, line);\r\n        var sign = value <= 0;\r\n        return sign === centerSign || abs(value) <= error;\r\n    });\r\n}\r\nfunction checkInnerBoundDot(pos, start, end, isStart, threshold) {\r\n    if (threshold === void 0) { threshold = 0; }\r\n    if ((isStart && start - threshold <= pos)\r\n        || (!isStart && pos <= end + threshold)) {\r\n        // false 402 565 602 => 37 ([0, 37])\r\n        // true 400 524.9712603540036 600 => 124 ([124, 0])\r\n        // true 400 410 600 => 10 ([10, 0])\r\n        return {\r\n            isBound: true,\r\n            offset: isStart ? start - pos : end - pos,\r\n        };\r\n    }\r\n    return {\r\n        isBound: false,\r\n        offset: 0,\r\n    };\r\n}\r\nfunction checkInnerBound(moveable, _a) {\r\n    var line = _a.line, centerSign = _a.centerSign, verticalSign = _a.verticalSign, horizontalSign = _a.horizontalSign, lineConstants = _a.lineConstants;\r\n    var bounds = moveable.props.innerBounds;\r\n    if (!bounds) {\r\n        return {\r\n            isAllBound: false,\r\n            isBound: false,\r\n            isVerticalBound: false,\r\n            isHorizontalBound: false,\r\n            offset: [0, 0],\r\n        };\r\n    }\r\n    var left = bounds.left, top = bounds.top, width = bounds.width, height = bounds.height;\r\n    var leftLine = [[left, top], [left, top + height]];\r\n    var topLine = [[left, top], [left + width, top]];\r\n    var rightLine = [[left + width, top], [left + width, top + height]];\r\n    var bottomLine = [[left, top + height], [left + width, top + height]];\r\n    if (isSameStartLine([\r\n        [left, top],\r\n        [left + width, top],\r\n        [left, top + height],\r\n        [left + width, top + height],\r\n    ], line, centerSign)) {\r\n        return {\r\n            isAllBound: false,\r\n            isBound: false,\r\n            isVerticalBound: false,\r\n            isHorizontalBound: false,\r\n            offset: [0, 0],\r\n        };\r\n    }\r\n    // test vertical\r\n    var topBoundInfo = checkLineBoundCollision(line, lineConstants, topLine, verticalSign);\r\n    var bottomBoundInfo = checkLineBoundCollision(line, lineConstants, bottomLine, verticalSign);\r\n    // test horizontal\r\n    var leftBoundInfo = checkLineBoundCollision(line, lineConstants, leftLine, horizontalSign);\r\n    var rightBoundInfo = checkLineBoundCollision(line, lineConstants, rightLine, horizontalSign);\r\n    var isAllVerticalBound = topBoundInfo.isBound && bottomBoundInfo.isBound;\r\n    var isVerticalBound = topBoundInfo.isBound || bottomBoundInfo.isBound;\r\n    var isAllHorizontalBound = leftBoundInfo.isBound && rightBoundInfo.isBound;\r\n    var isHorizontalBound = leftBoundInfo.isBound || rightBoundInfo.isBound;\r\n    var verticalOffset = maxOffset(topBoundInfo.offset, bottomBoundInfo.offset);\r\n    var horizontalOffset = maxOffset(leftBoundInfo.offset, rightBoundInfo.offset);\r\n    var offset = [0, 0];\r\n    var isBound = false;\r\n    var isAllBound = false;\r\n    if (abs(horizontalOffset) < abs(verticalOffset)) {\r\n        offset = [verticalOffset, 0];\r\n        isBound = isVerticalBound;\r\n        isAllBound = isAllVerticalBound;\r\n    }\r\n    else {\r\n        offset = [0, horizontalOffset];\r\n        isBound = isHorizontalBound;\r\n        isAllBound = isAllHorizontalBound;\r\n    }\r\n    return {\r\n        isAllBound: isAllBound,\r\n        isVerticalBound: isVerticalBound,\r\n        isHorizontalBound: isHorizontalBound,\r\n        isBound: isBound,\r\n        offset: offset,\r\n    };\r\n}\r\nfunction checkLineBoundCollision(line, _a, boundLine, isStart, threshold, isRender) {\r\n    var _b = __read(_a, 2), a = _b[0], b = _b[1];\r\n    var dot1 = line[0];\r\n    // const dot2 = line[1];\r\n    var boundDot1 = boundLine[0];\r\n    var boundDot2 = boundLine[1];\r\n    // const dy1 = getTinyDist(dot2[1] - dot1[1]);\r\n    // const dx1 = getTinyDist(dot2[0] - dot1[0]);\r\n    var dy2 = getTinyDist(boundDot2[1] - boundDot1[1]);\r\n    var dx2 = getTinyDist(boundDot2[0] - boundDot1[0]);\r\n    var hasDx = b;\r\n    var hasDy = a;\r\n    var slope = -a / b;\r\n    // lineConstants\r\n    // ax + by + c = 0\r\n    // dx2 or dy2 is zero\r\n    if (!dx2) {\r\n        // vertical\r\n        // by + c = 0\r\n        if (isRender && !hasDy) {\r\n            // 90deg\r\n            return {\r\n                isBound: false,\r\n                offset: 0,\r\n            };\r\n        }\r\n        else if (hasDx) {\r\n            // ax + by + c = 0\r\n            // const y = dy1 ? dy1 / dx1 * (boundDot1[0] - dot1[0]) + dot1[1] : dot1[1];\r\n            var y = slope * (boundDot1[0] - dot1[0]) + dot1[1];\r\n            // boundDot1[1] <= y  <= boundDot2[1]\r\n            return checkInnerBoundDot(y, boundDot1[1], boundDot2[1], isStart, threshold);\r\n        }\r\n        else {\r\n            // ax + c = 0\r\n            var offset = boundDot1[0] - dot1[0];\r\n            var isBound = abs(offset) <= (threshold || 0);\r\n            return {\r\n                isBound: isBound,\r\n                offset: isBound ? offset : 0,\r\n            };\r\n        }\r\n    }\r\n    else if (!dy2) {\r\n        // horizontal\r\n        if (isRender && !hasDx) {\r\n            // 90deg\r\n            return {\r\n                isBound: false,\r\n                offset: 0,\r\n            };\r\n        }\r\n        else if (hasDy) {\r\n            // y = a * (x - x1) + y1\r\n            // x = (y - y1) / a + x1\r\n            // const a = dy1 / dx1;\r\n            // const x = dx1 ? (boundDot1[1] - dot1[1]) / a + dot1[0] : dot1[0];\r\n            var x = (boundDot1[1] - dot1[1]) / slope + dot1[0];\r\n            // boundDot1[0] <= x && x <= boundDot2[0]\r\n            return checkInnerBoundDot(x, boundDot1[0], boundDot2[0], isStart, threshold);\r\n        }\r\n        else {\r\n            var offset = boundDot1[1] - dot1[1];\r\n            var isBound = abs(offset) <= (threshold || 0);\r\n            return {\r\n                isBound: isBound,\r\n                offset: isBound ? offset : 0,\r\n            };\r\n        }\r\n    }\r\n    return {\r\n        isBound: false,\r\n        offset: 0,\r\n    };\r\n}\r\nfunction getInnerBoundInfo(moveable, lineInfos, datas) {\r\n    return lineInfos.map(function (info) {\r\n        var _a = checkInnerBound(moveable, info), isBound = _a.isBound, offset = _a.offset, isVerticalBound = _a.isVerticalBound, isHorizontalBound = _a.isHorizontalBound;\r\n        var multiple = info.multiple;\r\n        var sizeOffset = getDragDist({\r\n            datas: datas,\r\n            distX: offset[0],\r\n            distY: offset[1],\r\n        }).map(function (size, i) { return size * (multiple[i] ? 2 / multiple[i] : 0); });\r\n        return {\r\n            sign: multiple,\r\n            isBound: isBound,\r\n            isVerticalBound: isVerticalBound,\r\n            isHorizontalBound: isHorizontalBound,\r\n            isSnap: false,\r\n            offset: sizeOffset,\r\n        };\r\n    });\r\n}\r\nfunction getInnerBoundDragInfo(moveable, poses, datas) {\r\n    var _a;\r\n    var lines = getCheckInnerBoundLineInfos(moveable, poses, [0, 0], false).map(function (info) {\r\n        return __assign(__assign({}, info), { multiple: info.multiple.map(function (dir) { return abs(dir) * 2; }) });\r\n    });\r\n    var innerBoundInfo = getInnerBoundInfo(moveable, lines, datas);\r\n    var widthOffsetInfo = getNearOffsetInfo(innerBoundInfo, 0);\r\n    var heightOffsetInfo = getNearOffsetInfo(innerBoundInfo, 1);\r\n    var verticalOffset = 0;\r\n    var horizontalOffset = 0;\r\n    var isVerticalBound = widthOffsetInfo.isVerticalBound || heightOffsetInfo.isVerticalBound;\r\n    var isHorizontalBound = widthOffsetInfo.isHorizontalBound || heightOffsetInfo.isHorizontalBound;\r\n    if (isVerticalBound || isHorizontalBound) {\r\n        _a = __read(getInverseDragDist({\r\n            datas: datas,\r\n            distX: -widthOffsetInfo.offset[0],\r\n            distY: -heightOffsetInfo.offset[1],\r\n        }), 2), verticalOffset = _a[0], horizontalOffset = _a[1];\r\n    }\r\n    return {\r\n        vertical: {\r\n            isBound: isVerticalBound,\r\n            offset: verticalOffset,\r\n        },\r\n        horizontal: {\r\n            isBound: isHorizontalBound,\r\n            offset: horizontalOffset,\r\n        },\r\n    };\r\n}\r\nfunction getCheckSnapLineDirections(direction, keepRatio) {\r\n    var lineDirections = [];\r\n    var x = direction[0];\r\n    var y = direction[1];\r\n    if (x && y) {\r\n        lineDirections.push([[0, y * 2], direction, [-x, y]], [[x * 2, 0], direction, [x, -y]]);\r\n    }\r\n    else if (x) {\r\n        // vertcal\r\n        lineDirections.push([[x * 2, 0], [x, 1], [x, -1]]);\r\n        if (keepRatio) {\r\n            lineDirections.push([[0, -1], [x, -1], [-x, -1]], [[0, 1], [x, 1], [-x, 1]]);\r\n        }\r\n    }\r\n    else if (y) {\r\n        // horizontal\r\n        lineDirections.push([[0, y * 2], [1, y], [-1, y]]);\r\n        if (keepRatio) {\r\n            lineDirections.push([[-1, 0], [-1, y], [-1, -y]], [[1, 0], [1, y], [1, -y]]);\r\n        }\r\n    }\r\n    else {\r\n        // [0, 0] to all direction\r\n        lineDirections.push([[-1, 0], [-1, -1], [-1, 1]], [[1, 0], [1, -1], [1, 1]], [[0, -1], [-1, -1], [1, -1]], [[0, 1], [-1, 1], [1, 1]]);\r\n    }\r\n    return lineDirections;\r\n}\r\nfunction getCheckInnerBoundLineInfos(moveable, poses, direction, keepRatio) {\r\n    var _a = moveable.state, allMatrix = _a.allMatrix, is3d = _a.is3d;\r\n    var virtualPoses = calculatePoses(allMatrix, 100, 100, is3d ? 4 : 3);\r\n    var center = getPosByDirection(virtualPoses, [0, 0]);\r\n    return getCheckSnapLineDirections(direction, keepRatio).map(function (_a) {\r\n        var _b = __read(_a, 3), multiple = _b[0], dir1 = _b[1], dir2 = _b[2];\r\n        var virtualLine = [\r\n            getPosByDirection(virtualPoses, dir1),\r\n            getPosByDirection(virtualPoses, dir2),\r\n        ];\r\n        var lineConstants = solveLineConstants(virtualLine);\r\n        var _c = isStartLine(center, virtualLine), verticalSign = _c.vertical, horizontalSign = _c.horizontal;\r\n        var centerSign = hitTestLine(center, virtualLine) <= 0;\r\n        return {\r\n            multiple: multiple,\r\n            centerSign: centerSign,\r\n            verticalSign: verticalSign,\r\n            horizontalSign: horizontalSign,\r\n            lineConstants: lineConstants,\r\n            line: [\r\n                getPosByDirection(poses, dir1),\r\n                getPosByDirection(poses, dir2),\r\n            ],\r\n        };\r\n    });\r\n}\r\nfunction isBoundRotate(relativePoses, boundDots, center, rad) {\r\n    var nextPoses = rad ? relativePoses.map(function (pos) { return rotate(pos, rad); }) : relativePoses;\r\n    return [\r\n        [nextPoses[0], nextPoses[1]],\r\n        [nextPoses[1], nextPoses[3]],\r\n        [nextPoses[3], nextPoses[2]],\r\n        [nextPoses[2], nextPoses[0]],\r\n    ].some(function (line) {\r\n        var centerSign = hitTestLine(center, line) <= 0;\r\n        return !isSameStartLine(boundDots, line, centerSign);\r\n    });\r\n}\r\nfunction getDistPointLine(_a) {\r\n    // x = 0, y = 0\r\n    // d = (ax + by + c) / root(a2 + b2)\r\n    var _b = __read(_a, 2), pos1 = _b[0], pos2 = _b[1];\r\n    var dx = pos2[0] - pos1[0];\r\n    var dy = pos2[1] - pos1[1];\r\n    if (!dx) {\r\n        return abs(pos1[0]);\r\n    }\r\n    if (!dy) {\r\n        return abs(pos1[1]);\r\n    }\r\n    // y - y1 = a(x - x1)\r\n    // 0 = ax -y + -a * x1 + y1\r\n    var a = dy / dx;\r\n    return abs((-a * pos1[0] + pos1[1]) / Math.sqrt(Math.pow(a, 2) + 1));\r\n}\r\nfunction solveReverseLine(_a) {\r\n    var _b = __read(_a, 2), pos1 = _b[0], pos2 = _b[1];\r\n    var dx = pos2[0] - pos1[0];\r\n    var dy = pos2[1] - pos1[1];\r\n    if (!dx) {\r\n        return [pos1[0], 0];\r\n    }\r\n    if (!dy) {\r\n        return [0, pos1[1]];\r\n    }\r\n    var a = dy / dx;\r\n    // y - y1 = a (x  - x1)\r\n    // y = ax - a * x1 + y1\r\n    var b = -a * pos1[0] + pos1[1];\r\n    // y = ax + b = -1/a x\r\n    // x = -b / (a + 1 / a)\r\n    // y = b / (1 + 1 / a^2)\r\n    return [\r\n        -b / (a + 1 / a),\r\n        b / ((a * a) + 1),\r\n    ];\r\n}\r\nfunction checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin, rotation) {\r\n    var bounds = moveable.props.innerBounds;\r\n    var rad = rotation * Math.PI / 180;\r\n    if (!bounds) {\r\n        return [];\r\n    }\r\n    var left = bounds.left, top = bounds.top, width = bounds.width, height = bounds.height;\r\n    var relativeLeft = left - origin[0];\r\n    var relativeRight = left + width - origin[0];\r\n    var relativeTop = top - origin[1];\r\n    var relativeBottom = top + height - origin[1];\r\n    var dots = [\r\n        [relativeLeft, relativeTop],\r\n        [relativeRight, relativeTop],\r\n        [relativeLeft, relativeBottom],\r\n        [relativeRight, relativeBottom],\r\n    ];\r\n    var center = getPosByDirection(nextPoses, [0, 0]);\r\n    if (!isBoundRotate(nextPoses, dots, center, 0)) {\r\n        return [];\r\n    }\r\n    var result = [];\r\n    var dotInfos = dots.map(function (dot) { return [\r\n        getDistSize(dot),\r\n        getRad([0, 0], dot),\r\n    ]; });\r\n    [\r\n        [nextPoses[0], nextPoses[1]],\r\n        [nextPoses[1], nextPoses[3]],\r\n        [nextPoses[3], nextPoses[2]],\r\n        [nextPoses[2], nextPoses[0]],\r\n    ].forEach(function (line) {\r\n        var lineRad = getRad([0, 0], solveReverseLine(line));\r\n        var lineDist = getDistPointLine(line);\r\n        result.push.apply(result, __spreadArray([], __read(dotInfos\r\n            .filter(function (_a) {\r\n            var _b = __read(_a, 1), dotDist = _b[0];\r\n            return dotDist && lineDist <= dotDist;\r\n        })\r\n            .map(function (_a) {\r\n            var _b = __read(_a, 2), dotDist = _b[0], dotRad = _b[1];\r\n            var distRad = Math.acos(dotDist ? lineDist / dotDist : 0);\r\n            var nextRad1 = dotRad + distRad;\r\n            var nextRad2 = dotRad - distRad;\r\n            return [\r\n                rad + nextRad1 - lineRad,\r\n                rad + nextRad2 - lineRad,\r\n            ];\r\n        })\r\n            .reduce(function (prev, cur) {\r\n            prev.push.apply(prev, __spreadArray([], __read(cur), false));\r\n            return prev;\r\n        }, [])\r\n            .filter(function (nextRad) { return !isBoundRotate(prevPoses, dots, center, nextRad); })\r\n            .map(function (nextRad) { return throttle(nextRad * 180 / Math.PI, TINY_NUM); })), false));\r\n    });\r\n    return result;\r\n}\r\nfunction checkInnerBoundPoses(moveable) {\r\n    var innerBounds = moveable.props.innerBounds;\r\n    var boundMap = getInitialBounds();\r\n    if (!innerBounds) {\r\n        return {\r\n            boundMap: boundMap,\r\n            vertical: [],\r\n            horizontal: [],\r\n        };\r\n    }\r\n    var _a = moveable.getRect(), pos1 = _a.pos1, pos2 = _a.pos2, pos3 = _a.pos3, pos4 = _a.pos4;\r\n    var poses = [pos1, pos2, pos3, pos4];\r\n    var center = getPosByDirection(poses, [0, 0]);\r\n    var left = innerBounds.left, top = innerBounds.top, width = innerBounds.width, height = innerBounds.height;\r\n    var leftLine = [[left, top], [left, top + height]];\r\n    var topLine = [[left, top], [left + width, top]];\r\n    var rightLine = [[left + width, top], [left + width, top + height]];\r\n    var bottomLine = [[left, top + height], [left + width, top + height]];\r\n    var lineInfos = getCheckInnerBoundLineInfos(moveable, poses, [0, 0], false);\r\n    var horizontalPoses = [];\r\n    var verticalPoses = [];\r\n    lineInfos.forEach(function (lineInfo) {\r\n        var line = lineInfo.line, lineConstants = lineInfo.lineConstants;\r\n        var _a = isStartLine(center, line), isHorizontalStart = _a.horizontal, isVerticalStart = _a.vertical;\r\n        // test vertical\r\n        var topBoundInfo = checkLineBoundCollision(line, lineConstants, topLine, isVerticalStart, 1, true);\r\n        var bottomBoundInfo = checkLineBoundCollision(line, lineConstants, bottomLine, isVerticalStart, 1, true);\r\n        // test horizontal\r\n        var leftBoundInfo = checkLineBoundCollision(line, lineConstants, leftLine, isHorizontalStart, 1, true);\r\n        var rightBoundInfo = checkLineBoundCollision(line, lineConstants, rightLine, isHorizontalStart, 1, true);\r\n        if (topBoundInfo.isBound && !boundMap.top) {\r\n            horizontalPoses.push(top);\r\n            boundMap.top = true;\r\n        }\r\n        if (bottomBoundInfo.isBound && !boundMap.bottom) {\r\n            horizontalPoses.push(top + height);\r\n            boundMap.bottom = true;\r\n        }\r\n        if (leftBoundInfo.isBound && !boundMap.left) {\r\n            verticalPoses.push(left);\r\n            boundMap.left = true;\r\n        }\r\n        if (rightBoundInfo.isBound && !boundMap.right) {\r\n            verticalPoses.push(left + width);\r\n            boundMap.right = true;\r\n        }\r\n    });\r\n    return {\r\n        boundMap: boundMap,\r\n        horizontal: horizontalPoses,\r\n        vertical: verticalPoses,\r\n    };\r\n}\n\nfunction solveEquation(pos1, pos2, snapOffset, isVertical) {\r\n    var dx = pos2[0] - pos1[0];\r\n    var dy = pos2[1] - pos1[1];\r\n    if (abs(dx) < TINY_NUM$1) {\r\n        dx = 0;\r\n    }\r\n    if (abs(dy) < TINY_NUM$1) {\r\n        dy = 0;\r\n    }\r\n    if (!dx) {\r\n        // y = 0 * x + b\r\n        // only horizontal\r\n        if (!isVertical) {\r\n            return [0, snapOffset];\r\n        }\r\n        return [0, 0];\r\n    }\r\n    if (!dy) {\r\n        // only vertical\r\n        if (isVertical) {\r\n            return [snapOffset, 0];\r\n        }\r\n        return [0, 0];\r\n    }\r\n    // y = ax + b\r\n    var a = dy / dx;\r\n    var b = pos1[1] - a * pos1[0];\r\n    if (isVertical) {\r\n        // y = a * x + b\r\n        var y = a * (pos2[0] + snapOffset) + b;\r\n        return [snapOffset, y - pos2[1]];\r\n    }\r\n    else {\r\n        // x = (y - b) / a\r\n        var x = (pos2[1] + snapOffset - b) / a;\r\n        return [x - pos2[0], snapOffset];\r\n    }\r\n}\r\nfunction solveNextOffset(pos1, pos2, offset, isVertical, datas) {\r\n    var sizeOffset = solveEquation(pos1, pos2, offset, isVertical);\r\n    if (!sizeOffset) {\r\n        return {\r\n            isOutside: false,\r\n            offset: [0, 0],\r\n        };\r\n    }\r\n    var size = getDist$1(pos1, pos2);\r\n    var dist1 = getDist$1(sizeOffset, pos1);\r\n    var dist2 = getDist$1(sizeOffset, pos2);\r\n    var isOutside = dist1 > size || dist2 > size;\r\n    var _a = __read(getDragDist({\r\n        datas: datas,\r\n        distX: sizeOffset[0],\r\n        distY: sizeOffset[1],\r\n    }), 2), widthOffset = _a[0], heightOffset = _a[1];\r\n    return {\r\n        offset: [widthOffset, heightOffset],\r\n        isOutside: isOutside,\r\n    };\r\n}\r\nfunction getSnapBound(boundInfo, snapInfo) {\r\n    if (boundInfo.isBound) {\r\n        return boundInfo.offset;\r\n    }\r\n    else if (snapInfo.isSnap) {\r\n        return getNearestSnapGuidelineInfo(snapInfo).offset;\r\n    }\r\n    return 0;\r\n}\r\nfunction checkThrottleDragRotate(throttleDragRotate, _a, _b, _c, _d) {\r\n    var _e = __read(_a, 2), distX = _e[0], distY = _e[1];\r\n    var _f = __read(_b, 2), isVerticalBound = _f[0], isHorizontalBound = _f[1];\r\n    var _g = __read(_c, 2), isVerticalSnap = _g[0], isHorizontalSnap = _g[1];\r\n    var _h = __read(_d, 2), verticalOffset = _h[0], horizontalOffset = _h[1];\r\n    var offsetX = -verticalOffset;\r\n    var offsetY = -horizontalOffset;\r\n    if (throttleDragRotate && distX && distY) {\r\n        offsetX = 0;\r\n        offsetY = 0;\r\n        var adjustPoses = [];\r\n        if (isVerticalBound && isHorizontalBound) {\r\n            adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\r\n        }\r\n        else if (isVerticalBound) {\r\n            adjustPoses.push([verticalOffset, 0]);\r\n        }\r\n        else if (isHorizontalBound) {\r\n            adjustPoses.push([0, horizontalOffset]);\r\n        }\r\n        else if (isVerticalSnap && isHorizontalSnap) {\r\n            adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\r\n        }\r\n        else if (isVerticalSnap) {\r\n            adjustPoses.push([verticalOffset, 0]);\r\n        }\r\n        else if (isHorizontalSnap) {\r\n            adjustPoses.push([0, horizontalOffset]);\r\n        }\r\n        if (adjustPoses.length) {\r\n            adjustPoses.sort(function (a, b) {\r\n                return (getDistSize(minus([distX, distY], a)) -\r\n                    getDistSize(minus([distX, distY], b)));\r\n            });\r\n            var adjustPos = adjustPoses[0];\r\n            if (adjustPos[0] && abs(distX) > TINY_NUM$1) {\r\n                offsetX = -adjustPos[0];\r\n                offsetY =\r\n                    (distY * abs(distX + offsetX)) / abs(distX) -\r\n                        distY;\r\n            }\r\n            else if (adjustPos[1] && abs(distY) > TINY_NUM$1) {\r\n                var prevDistY = distY;\r\n                offsetY = -adjustPos[1];\r\n                offsetX =\r\n                    (distX * abs(distY + offsetY)) / abs(prevDistY) -\r\n                        distX;\r\n            }\r\n            if (throttleDragRotate && isHorizontalBound && isVerticalBound) {\r\n                if (abs(offsetX) > TINY_NUM$1 &&\r\n                    abs(offsetX) < abs(verticalOffset)) {\r\n                    var scale = abs(verticalOffset) / abs(offsetX);\r\n                    offsetX *= scale;\r\n                    offsetY *= scale;\r\n                }\r\n                else if (abs(offsetY) > TINY_NUM$1 &&\r\n                    abs(offsetY) < abs(horizontalOffset)) {\r\n                    var scale = abs(horizontalOffset) / abs(offsetY);\r\n                    offsetX *= scale;\r\n                    offsetY *= scale;\r\n                }\r\n                else {\r\n                    offsetX = maxOffset(-verticalOffset, offsetX);\r\n                    offsetY = maxOffset(-horizontalOffset, offsetY);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        offsetX = distX || isVerticalBound ? -verticalOffset : 0;\r\n        offsetY = distY || isHorizontalBound ? -horizontalOffset : 0;\r\n    }\r\n    return [offsetX, offsetY];\r\n}\r\nfunction checkSnapBoundsDrag(moveable, distX, distY, throttleDragRotate, ignoreSnap, datas) {\r\n    if (!hasGuidelines(moveable, \"draggable\")) {\r\n        return [\r\n            {\r\n                isSnap: false,\r\n                isBound: false,\r\n                offset: 0,\r\n            },\r\n            {\r\n                isSnap: false,\r\n                isBound: false,\r\n                offset: 0,\r\n            },\r\n        ];\r\n    }\r\n    var poses = getAbsolutePoses(datas.absolutePoses, [distX, distY]);\r\n    var _a = getRect(poses), left = _a.left, right = _a.right, top = _a.top, bottom = _a.bottom;\r\n    var boundPoses = {\r\n        horizontal: poses.map(function (pos) { return pos[1]; }),\r\n        vertical: poses.map(function (pos) { return pos[0]; }),\r\n    };\r\n    var snapDirections = getSnapDirections(moveable.props.snapDirections);\r\n    var snapPoses = splitSnapDirectionPoses(snapDirections, {\r\n        left: left,\r\n        right: right,\r\n        top: top,\r\n        bottom: bottom,\r\n        center: (left + right) / 2,\r\n        middle: (top + bottom) / 2,\r\n    });\r\n    var _b = checkMoveableSnapBounds(moveable, ignoreSnap, snapPoses, boundPoses), verticalSnapBoundInfo = _b.vertical, horizontalSnapBoundInfo = _b.horizontal;\r\n    var _c = getInnerBoundDragInfo(moveable, poses, datas), verticalInnerBoundInfo = _c.vertical, horizontalInnerBoundInfo = _c.horizontal;\r\n    var isVerticalSnap = verticalSnapBoundInfo.isSnap;\r\n    var isHorizontalSnap = horizontalSnapBoundInfo.isSnap;\r\n    var isVerticalBound = verticalSnapBoundInfo.isBound || verticalInnerBoundInfo.isBound;\r\n    var isHorizontalBound = horizontalSnapBoundInfo.isBound || horizontalInnerBoundInfo.isBound;\r\n    var verticalOffset = maxOffset(verticalSnapBoundInfo.offset, verticalInnerBoundInfo.offset);\r\n    var horizontalOffset = maxOffset(horizontalSnapBoundInfo.offset, horizontalInnerBoundInfo.offset);\r\n    var _d = __read(checkThrottleDragRotate(throttleDragRotate, [distX, distY], [isVerticalBound, isHorizontalBound], [isVerticalSnap, isHorizontalSnap], [verticalOffset, horizontalOffset]), 2), offsetX = _d[0], offsetY = _d[1];\r\n    return [\r\n        {\r\n            isBound: isVerticalBound,\r\n            isSnap: isVerticalSnap,\r\n            offset: offsetX,\r\n        },\r\n        {\r\n            isBound: isHorizontalBound,\r\n            isSnap: isHorizontalSnap,\r\n            offset: offsetY,\r\n        },\r\n    ];\r\n}\r\nfunction checkMoveableSnapBounds(moveable, ignoreSnap, poses, boundPoses) {\r\n    if (boundPoses === void 0) { boundPoses = poses; }\r\n    var _a = checkBoundPoses(getBounds(moveable), boundPoses.vertical, boundPoses.horizontal), horizontalBoundInfos = _a.horizontal, verticalBoundInfos = _a.vertical;\r\n    var _b = ignoreSnap ? {\r\n        horizontal: { isSnap: false, index: -1 },\r\n        vertical: { isSnap: false, index: -1 },\r\n    } : checkMoveableSnapPoses(moveable, poses.vertical, poses.horizontal, undefined, undefined, undefined, undefined), horizontalSnapInfo = _b.horizontal, verticalSnapInfo = _b.vertical;\r\n    var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\r\n    var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\r\n    var horizontalDist = abs(horizontalOffset);\r\n    var verticalDist = abs(verticalOffset);\r\n    return {\r\n        horizontal: {\r\n            isBound: horizontalBoundInfos[0].isBound,\r\n            isSnap: horizontalSnapInfo.isSnap,\r\n            snapIndex: horizontalSnapInfo.index,\r\n            offset: horizontalOffset,\r\n            dist: horizontalDist,\r\n            bounds: horizontalBoundInfos,\r\n            snap: horizontalSnapInfo,\r\n        },\r\n        vertical: {\r\n            isBound: verticalBoundInfos[0].isBound,\r\n            isSnap: verticalSnapInfo.isSnap,\r\n            snapIndex: verticalSnapInfo.index,\r\n            offset: verticalOffset,\r\n            dist: verticalDist,\r\n            bounds: verticalBoundInfos,\r\n            snap: verticalSnapInfo,\r\n        },\r\n    };\r\n}\r\nfunction checkSnapBounds(guideines, bounds, posesX, posesY, snapHorizontalThreshold, snapVerticalThreshold, multiples) {\r\n    if (multiples === void 0) { multiples = [1, 1]; }\r\n    var _a = checkBoundPoses(bounds, posesX, posesY), horizontalBoundInfos = _a.horizontal, verticalBoundInfos = _a.vertical;\r\n    // options.isRequest ? {\r\n    //     horizontal: { isSnap: false, index: -1 } as SnapInfo,\r\n    //     vertical: { isSnap: false, index: -1 } as SnapInfo,\r\n    // } :\r\n    var _b = checkSnapPoses(guideines, posesX, posesY, [], [], snapHorizontalThreshold, snapVerticalThreshold, multiples), horizontalSnapInfo = _b.horizontal, verticalSnapInfo = _b.vertical;\r\n    var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\r\n    var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\r\n    var horizontalDist = abs(horizontalOffset);\r\n    var verticalDist = abs(verticalOffset);\r\n    return {\r\n        horizontal: {\r\n            isBound: horizontalBoundInfos[0].isBound,\r\n            isSnap: horizontalSnapInfo.isSnap,\r\n            snapIndex: horizontalSnapInfo.index,\r\n            offset: horizontalOffset,\r\n            dist: horizontalDist,\r\n            bounds: horizontalBoundInfos,\r\n            snap: horizontalSnapInfo,\r\n        },\r\n        vertical: {\r\n            isBound: verticalBoundInfos[0].isBound,\r\n            isSnap: verticalSnapInfo.isSnap,\r\n            snapIndex: verticalSnapInfo.index,\r\n            offset: verticalOffset,\r\n            dist: verticalDist,\r\n            bounds: verticalBoundInfos,\r\n            snap: verticalSnapInfo,\r\n        },\r\n    };\r\n}\r\nfunction checkSnapRightLine(startPos, endPos, snapBoundInfo, keepRatio) {\r\n    var rad = (getRad(startPos, endPos) / Math.PI) * 180;\r\n    var _a = snapBoundInfo.vertical, isVerticalBound = _a.isBound, isVerticalSnap = _a.isSnap, verticalDist = _a.dist, _b = snapBoundInfo.horizontal, isHorizontalBound = _b.isBound, isHorizontalSnap = _b.isSnap, horizontalDist = _b.dist;\r\n    var rad180 = rad % 180;\r\n    var isHorizontalLine = rad180 < 3 || rad180 > 177;\r\n    var isVerticalLine = rad180 > 87 && rad180 < 93;\r\n    if (horizontalDist < verticalDist) {\r\n        if (isVerticalBound ||\r\n            (isVerticalSnap &&\r\n                !isVerticalLine &&\r\n                (!keepRatio || !isHorizontalLine))) {\r\n            return \"vertical\";\r\n        }\r\n    }\r\n    if (isHorizontalBound ||\r\n        (isHorizontalSnap &&\r\n            !isHorizontalLine &&\r\n            (!keepRatio || !isVerticalLine))) {\r\n        return \"horizontal\";\r\n    }\r\n    return \"\";\r\n}\r\nfunction getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas) {\r\n    return directions.map(function (_a) {\r\n        var _b = __read(_a, 2), startDirection = _b[0], endDirection = _b[1];\r\n        var otherStartPos = getPosByDirection(poses, startDirection);\r\n        var otherEndPos = getPosByDirection(poses, endDirection);\r\n        var snapBoundInfo = keepRatio\r\n            ? checkSnapBoundsKeepRatio(moveable, otherStartPos, otherEndPos, isRequest)\r\n            : checkMoveableSnapBounds(moveable, isRequest, {\r\n                vertical: [otherEndPos[0]],\r\n                horizontal: [otherEndPos[1]],\r\n            });\r\n        var _c = snapBoundInfo.horizontal, \r\n        // dist: otherHorizontalDist,\r\n        otherHorizontalOffset = _c.offset, isOtherHorizontalBound = _c.isBound, isOtherHorizontalSnap = _c.isSnap, _d = snapBoundInfo.vertical, \r\n        // dist: otherVerticalDist,\r\n        otherVerticalOffset = _d.offset, isOtherVerticalBound = _d.isBound, isOtherVerticalSnap = _d.isSnap;\r\n        var multiple = minus(endDirection, startDirection);\r\n        if (!otherVerticalOffset && !otherHorizontalOffset) {\r\n            return {\r\n                isBound: isOtherVerticalBound || isOtherHorizontalBound,\r\n                isSnap: isOtherVerticalSnap || isOtherHorizontalSnap,\r\n                sign: multiple,\r\n                offset: [0, 0],\r\n            };\r\n        }\r\n        var snapLine = checkSnapRightLine(otherStartPos, otherEndPos, snapBoundInfo, keepRatio);\r\n        if (!snapLine) {\r\n            return {\r\n                sign: multiple,\r\n                isBound: false,\r\n                isSnap: false,\r\n                offset: [0, 0],\r\n            };\r\n        }\r\n        var isVertical = snapLine === \"vertical\";\r\n        var sizeOffset = [0, 0];\r\n        if (!keepRatio\r\n            && abs(endDirection[0]) === 1\r\n            && abs(endDirection[1]) === 1\r\n            && startDirection[0] !== endDirection[0]\r\n            && startDirection[1] !== endDirection[1]) {\r\n            sizeOffset = getDragDist({\r\n                datas: datas,\r\n                distX: -otherVerticalOffset,\r\n                distY: -otherHorizontalOffset,\r\n            });\r\n        }\r\n        else {\r\n            sizeOffset = solveNextOffset(otherStartPos, otherEndPos, -(isVertical ? otherVerticalOffset : otherHorizontalOffset), isVertical, datas).offset;\r\n        }\r\n        sizeOffset = sizeOffset.map(function (size, i) { return size * (multiple[i] ? 2 / multiple[i] : 0); });\r\n        return {\r\n            sign: multiple,\r\n            isBound: isVertical ? isOtherVerticalBound : isOtherHorizontalBound,\r\n            isSnap: isVertical ? isOtherVerticalSnap : isOtherHorizontalSnap,\r\n            offset: sizeOffset,\r\n        };\r\n    });\r\n}\r\nfunction getSnapBoundOffset(boundInfo, snapInfo) {\r\n    if (boundInfo.isBound) {\r\n        return boundInfo.offset;\r\n    }\r\n    else if (snapInfo.isSnap) {\r\n        return snapInfo.offset;\r\n    }\r\n    return 0;\r\n}\r\nfunction checkSnapBoundsKeepRatio(moveable, startPos, endPos, isRequest) {\r\n    var _a = checkBoundKeepRatio(moveable, startPos, endPos), horizontalBoundInfo = _a.horizontal, verticalBoundInfo = _a.vertical;\r\n    var _b = isRequest ? {\r\n        horizontal: { isSnap: false },\r\n        vertical: { isSnap: false },\r\n    } : checkSnapKeepRatio(moveable, startPos, endPos), horizontalSnapInfo = _b.horizontal, verticalSnapInfo = _b.vertical;\r\n    var horizontalOffset = getSnapBoundOffset(horizontalBoundInfo, horizontalSnapInfo);\r\n    var verticalOffset = getSnapBoundOffset(verticalBoundInfo, verticalSnapInfo);\r\n    var horizontalDist = abs(horizontalOffset);\r\n    var verticalDist = abs(verticalOffset);\r\n    return {\r\n        horizontal: {\r\n            isBound: horizontalBoundInfo.isBound,\r\n            isSnap: horizontalSnapInfo.isSnap,\r\n            offset: horizontalOffset,\r\n            dist: horizontalDist,\r\n        },\r\n        vertical: {\r\n            isBound: verticalBoundInfo.isBound,\r\n            isSnap: verticalSnapInfo.isSnap,\r\n            offset: verticalOffset,\r\n            dist: verticalDist,\r\n        },\r\n    };\r\n}\r\nfunction checkMaxBounds(moveable, poses, direction, fixedPosition, datas) {\r\n    var fixedDirection = [-direction[0], -direction[1]];\r\n    var _a = moveable.state, width = _a.width, height = _a.height;\r\n    var bounds = moveable.props.bounds;\r\n    var maxWidth = Infinity;\r\n    var maxHeight = Infinity;\r\n    if (bounds) {\r\n        var directions = [\r\n            [direction[0], -direction[1]],\r\n            [-direction[0], direction[1]],\r\n        ];\r\n        var _b = bounds.left, left_1 = _b === void 0 ? -Infinity : _b, _c = bounds.top, top_1 = _c === void 0 ? -Infinity : _c, _d = bounds.right, right_1 = _d === void 0 ? Infinity : _d, _e = bounds.bottom, bottom_1 = _e === void 0 ? Infinity : _e;\r\n        directions.forEach(function (otherDirection) {\r\n            var isCheckVertical = otherDirection[0] !== fixedDirection[0];\r\n            var isCheckHorizontal = otherDirection[1] !== fixedDirection[1];\r\n            var otherPos = getPosByDirection(poses, otherDirection);\r\n            var deg = (getRad(fixedPosition, otherPos) * 360) / Math.PI;\r\n            if (isCheckHorizontal) {\r\n                var nextOtherPos = otherPos.slice();\r\n                if (abs(deg - 360) < 2 || abs(deg - 180) < 2) {\r\n                    nextOtherPos[1] = fixedPosition[1];\r\n                }\r\n                var _a = solveNextOffset(fixedPosition, nextOtherPos, (fixedPosition[1] < otherPos[1] ? bottom_1 : top_1) -\r\n                    otherPos[1], false, datas), _b = __read(_a.offset, 2), heightOffset = _b[1], isHeightOutside = _a.isOutside;\r\n                if (!isNaN(heightOffset)) {\r\n                    maxHeight = height + (isHeightOutside ? 1 : -1) * abs(heightOffset);\r\n                }\r\n            }\r\n            if (isCheckVertical) {\r\n                var nextOtherPos = otherPos.slice();\r\n                if (abs(deg - 90) < 2 || abs(deg - 270) < 2) {\r\n                    nextOtherPos[0] = fixedPosition[0];\r\n                }\r\n                var _c = solveNextOffset(fixedPosition, nextOtherPos, (fixedPosition[0] < otherPos[0] ? right_1 : left_1) - otherPos[0], true, datas), _d = __read(_c.offset, 1), widthOffset = _d[0], isWidthOutside = _c.isOutside;\r\n                if (!isNaN(widthOffset)) {\r\n                    maxWidth = width + (isWidthOutside ? 1 : -1) * abs(widthOffset);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return {\r\n        maxWidth: maxWidth,\r\n        maxHeight: maxHeight,\r\n    };\r\n}\n\n/**\r\n * @namespace Draggable\r\n * @memberof Moveable\r\n * @description Draggable refers to the ability to drag and move targets.\r\n */\r\nvar Draggable = {\r\n    name: \"draggable\",\r\n    props: [\r\n        \"draggable\",\r\n        \"throttleDrag\",\r\n        \"throttleDragRotate\",\r\n        \"hideThrottleDragRotateLine\",\r\n        \"startDragRotate\",\r\n        \"edgeDraggable\",\r\n    ],\r\n    events: [\r\n        \"dragStart\",\r\n        \"drag\",\r\n        \"dragEnd\",\r\n        \"dragGroupStart\",\r\n        \"dragGroup\",\r\n        \"dragGroupEnd\",\r\n    ],\r\n    requestStyle: function () {\r\n        return [\"left\", \"top\", \"right\", \"bottom\"];\r\n    },\r\n    requestChildStyle: function () {\r\n        return [\"left\", \"top\", \"right\", \"bottom\"];\r\n    },\r\n    render: function (moveable, React) {\r\n        var _a = moveable.props, hideThrottleDragRotateLine = _a.hideThrottleDragRotateLine, throttleDragRotate = _a.throttleDragRotate, zoom = _a.zoom;\r\n        var _b = moveable.getState(), dragInfo = _b.dragInfo, beforeOrigin = _b.beforeOrigin;\r\n        if (hideThrottleDragRotateLine || !throttleDragRotate || !dragInfo) {\r\n            return [];\r\n        }\r\n        var dist = dragInfo.dist;\r\n        if (!dist[0] && !dist[1]) {\r\n            return [];\r\n        }\r\n        var width = getDistSize(dist);\r\n        var rad = getRad(dist, [0, 0]);\r\n        return [React.createElement(\"div\", { className: prefix(\"line\", \"horizontal\", \"dragline\", \"dashed\"), key: \"dragRotateGuideline\", style: {\r\n                    width: \"\".concat(width, \"px\"),\r\n                    transform: \"translate(\".concat(beforeOrigin[0], \"px, \").concat(beforeOrigin[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\"),\r\n                } })];\r\n    },\r\n    dragStart: function (moveable, e) {\r\n        var datas = e.datas, parentEvent = e.parentEvent, parentGesto = e.parentGesto;\r\n        var state = moveable.state;\r\n        var gestos = state.gestos, style = state.style;\r\n        if (gestos.draggable) {\r\n            return false;\r\n        }\r\n        gestos.draggable = parentGesto || moveable.targetGesto;\r\n        datas.datas = {};\r\n        datas.left = parseFloat(style.left || \"\") || 0;\r\n        datas.top = parseFloat(style.top || \"\") || 0;\r\n        datas.bottom = parseFloat(style.bottom || \"\") || 0;\r\n        datas.right = parseFloat(style.right || \"\") || 0;\r\n        datas.startValue = [0, 0];\r\n        setDragStart(moveable, e);\r\n        setDefaultTransformIndex(moveable, e, \"translate\");\r\n        startCheckSnapDrag(moveable, datas);\r\n        datas.prevDist = [0, 0];\r\n        datas.prevBeforeDist = [0, 0];\r\n        datas.isDrag = false;\r\n        datas.deltaOffset = [0, 0];\r\n        var params = fillParams(moveable, e, __assign({ set: function (translate) {\r\n                datas.startValue = translate;\r\n            } }, fillTransformStartEvent(moveable, e)));\r\n        var result = parentEvent || triggerEvent(moveable, \"onDragStart\", params);\r\n        if (result !== false) {\r\n            datas.isDrag = true;\r\n            moveable.state.dragInfo = {\r\n                startRect: moveable.getRect(),\r\n                dist: [0, 0],\r\n            };\r\n        }\r\n        else {\r\n            gestos.draggable = null;\r\n            datas.isPinch = false;\r\n        }\r\n        return datas.isDrag ? params : false;\r\n    },\r\n    drag: function (moveable, e) {\r\n        if (!e) {\r\n            return;\r\n        }\r\n        resolveTransformEvent(moveable, e, \"translate\");\r\n        var datas = e.datas, parentEvent = e.parentEvent, parentFlag = e.parentFlag, isPinch = e.isPinch, deltaOffset = e.deltaOffset, useSnap = e.useSnap, isRequest = e.isRequest, isGroup = e.isGroup, parentThrottleDrag = e.parentThrottleDrag;\r\n        var distX = e.distX, distY = e.distY;\r\n        var isDrag = datas.isDrag, prevDist = datas.prevDist, prevBeforeDist = datas.prevBeforeDist, startValue = datas.startValue;\r\n        if (!isDrag) {\r\n            return;\r\n        }\r\n        if (deltaOffset) {\r\n            distX += deltaOffset[0];\r\n            distY += deltaOffset[1];\r\n        }\r\n        var props = moveable.props;\r\n        var parentMoveable = props.parentMoveable;\r\n        var throttleDrag = isGroup ? 0 : (props.throttleDrag || parentThrottleDrag || 0);\r\n        var throttleDragRotate = parentEvent ? 0 : (props.throttleDragRotate || 0);\r\n        var dragRotateRad = 0;\r\n        var isVerticalSnap = false;\r\n        var isVerticalBound = false;\r\n        var isHorizontalSnap = false;\r\n        var isHorizontalBound = false;\r\n        if (!parentEvent && throttleDragRotate > 0 && (distX || distY)) {\r\n            var startDragRotate = props.startDragRotate || 0;\r\n            var deg = throttle(startDragRotate + getRad([0, 0], [distX, distY]) * 180 / Math.PI, throttleDragRotate)\r\n                - startDragRotate;\r\n            var ry = distY * Math.abs(Math.cos((deg - 90) / 180 * Math.PI));\r\n            var rx = distX * Math.abs(Math.cos(deg / 180 * Math.PI));\r\n            var r = getDistSize([rx, ry]);\r\n            dragRotateRad = deg * Math.PI / 180;\r\n            distX = r * Math.cos(dragRotateRad);\r\n            distY = r * Math.sin(dragRotateRad);\r\n        }\r\n        if (!isPinch && !parentEvent && !parentFlag) {\r\n            var _a = __read(checkSnapBoundsDrag(moveable, distX, distY, throttleDragRotate, (!useSnap && isRequest) || deltaOffset, datas), 2), verticalInfo = _a[0], horizontalInfo = _a[1];\r\n            isVerticalSnap = verticalInfo.isSnap;\r\n            isVerticalBound = verticalInfo.isBound;\r\n            isHorizontalSnap = horizontalInfo.isSnap;\r\n            isHorizontalBound = horizontalInfo.isBound;\r\n            var verticalOffset = verticalInfo.offset;\r\n            var horizontalOffset = horizontalInfo.offset;\r\n            distX += verticalOffset;\r\n            distY += horizontalOffset;\r\n        }\r\n        var beforeTranslate = plus(getBeforeDragDist({ datas: datas, distX: distX, distY: distY }), startValue);\r\n        var translate = plus(getTransformDist({ datas: datas, distX: distX, distY: distY }), startValue);\r\n        throttleArray(translate, TINY_NUM);\r\n        throttleArray(beforeTranslate, TINY_NUM);\r\n        if (!throttleDragRotate) {\r\n            if (!isVerticalSnap && !isVerticalBound) {\r\n                translate[0] = throttle(translate[0], throttleDrag);\r\n                beforeTranslate[0] = throttle(beforeTranslate[0], throttleDrag);\r\n            }\r\n            if (!isHorizontalSnap && !isHorizontalBound) {\r\n                translate[1] = throttle(translate[1], throttleDrag);\r\n                beforeTranslate[1] = throttle(beforeTranslate[1], throttleDrag);\r\n            }\r\n        }\r\n        var beforeDist = minus(beforeTranslate, startValue);\r\n        var dist = minus(translate, startValue);\r\n        var delta = minus(dist, prevDist);\r\n        var beforeDelta = minus(beforeDist, prevBeforeDist);\r\n        datas.prevDist = dist;\r\n        datas.prevBeforeDist = beforeDist;\r\n        datas.passDelta = delta; //distX - (datas.passDistX || 0);\r\n        // datas.passDeltaY = distY - (datas.passDistY || 0);\r\n        datas.passDist = dist; //distX;\r\n        // datas.passDistY = distY;\r\n        var left = datas.left + beforeDist[0];\r\n        var top = datas.top + beforeDist[1];\r\n        var right = datas.right - beforeDist[0];\r\n        var bottom = datas.bottom - beforeDist[1];\r\n        var nextTransform = convertTransformFormat(datas, \"translate(\".concat(translate[0], \"px, \").concat(translate[1], \"px)\"), \"translate(\".concat(dist[0], \"px, \").concat(dist[1], \"px)\"));\r\n        fillOriginalTransform(e, nextTransform);\r\n        moveable.state.dragInfo.dist = parentEvent ? [0, 0] : dist;\r\n        if (!parentEvent && !parentMoveable && delta.every(function (num) { return !num; }) && beforeDelta.some(function (num) { return !num; })) {\r\n            return;\r\n        }\r\n        var _b = moveable.state, width = _b.width, height = _b.height;\r\n        var params = fillParams(moveable, e, __assign({ transform: nextTransform, dist: dist, delta: delta, translate: translate, beforeDist: beforeDist, beforeDelta: beforeDelta, beforeTranslate: beforeTranslate, left: left, top: top, right: right, bottom: bottom, width: width, height: height, isPinch: isPinch }, fillCSSObject({\r\n            transform: nextTransform,\r\n        }, e)));\r\n        !parentEvent && triggerEvent(moveable, \"onDrag\", params);\r\n        return params;\r\n    },\r\n    dragAfter: function (moveable, e) {\r\n        var datas = e.datas;\r\n        var deltaOffset = datas.deltaOffset;\r\n        if (deltaOffset[0] || deltaOffset[1]) {\r\n            datas.deltaOffset = [0, 0];\r\n            return this.drag(moveable, __assign(__assign({}, e), { deltaOffset: deltaOffset }));\r\n        }\r\n        return false;\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        var parentEvent = e.parentEvent, datas = e.datas;\r\n        moveable.state.dragInfo = null;\r\n        if (!datas.isDrag) {\r\n            return;\r\n        }\r\n        datas.isDrag = false;\r\n        var param = fillEndParams(moveable, e, {});\r\n        !parentEvent && triggerEvent(moveable, \"onDragEnd\", param);\r\n        return param;\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        var _a, _b;\r\n        var datas = e.datas, clientX = e.clientX, clientY = e.clientY;\r\n        var params = this.dragStart(moveable, e);\r\n        if (!params) {\r\n            return false;\r\n        }\r\n        var _c = triggerChildGesto(moveable, this, \"dragStart\", [\r\n            clientX || 0,\r\n            clientY || 0,\r\n        ], e, false, \"draggable\"), childEvents = _c.childEvents, eventParams = _c.eventParams;\r\n        var nextParams = __assign(__assign({}, params), { targets: moveable.props.targets, events: eventParams });\r\n        var result = triggerEvent(moveable, \"onDragGroupStart\", nextParams);\r\n        datas.isDrag = result !== false;\r\n        // find data.startValue and based on first child moveable\r\n        var startValue = (_b = (_a = childEvents[0]) === null || _a === void 0 ? void 0 : _a.datas.startValue) !== null && _b !== void 0 ? _b : [0, 0];\r\n        datas.throttleOffset = [startValue[0] % 1, startValue[1] % 1];\r\n        return datas.isDrag ? params : false;\r\n    },\r\n    dragGroup: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isDrag) {\r\n            return;\r\n        }\r\n        var params = this.drag(moveable, __assign(__assign({}, e), { parentThrottleDrag: moveable.props.throttleDrag }));\r\n        var passDelta = e.datas.passDelta;\r\n        var eventParams = triggerChildGesto(moveable, this, \"drag\", passDelta, e, false, \"draggable\").eventParams;\r\n        if (!params) {\r\n            return;\r\n        }\r\n        var nextParams = __assign({ targets: moveable.props.targets, events: eventParams }, params);\r\n        triggerEvent(moveable, \"onDragGroup\", nextParams);\r\n        return nextParams;\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        var isDrag = e.isDrag, datas = e.datas;\r\n        if (!datas.isDrag) {\r\n            return;\r\n        }\r\n        this.dragEnd(moveable, e);\r\n        var eventParams = triggerChildGesto(moveable, this, \"dragEnd\", [0, 0], e, false, \"draggable\").eventParams;\r\n        triggerEvent(moveable, \"onDragGroupEnd\", fillEndParams(moveable, e, {\r\n            targets: moveable.props.targets,\r\n            events: eventParams,\r\n        }));\r\n        return isDrag;\r\n    },\r\n    /**\r\n     * @method Moveable.Draggable#request\r\n     * @param {object} [e] - the draggable's request parameter\r\n     * @param {number} [e.x] - x position\r\n     * @param {number} [e.y] - y position\r\n     * @param {number} [e.deltaX] - X number to move\r\n     * @param {number} [e.deltaY] - Y number to move\r\n     * @return {Moveable.Requester} Moveable Requester\r\n     * @example\r\n\n     * // Instantly Request (requestStart - request - requestEnd)\r\n     * // Use Relative Value\r\n     * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\r\n     * // Use Absolute Value\r\n     * moveable.request(\"draggable\", { x: 200, y: 100 }, true);\r\n     *\r\n     * // requestStart\r\n     * const requester = moveable.request(\"draggable\");\r\n     *\r\n     * // request\r\n     * // Use Relative Value\r\n     * requester.request({ deltaX: 10, deltaY: 10 });\r\n     * requester.request({ deltaX: 10, deltaY: 10 });\r\n     * requester.request({ deltaX: 10, deltaY: 10 });\r\n     * // Use Absolute Value\r\n     * moveable.request(\"draggable\", { x: 200, y: 100 });\r\n     * moveable.request(\"draggable\", { x: 220, y: 100 });\r\n     * moveable.request(\"draggable\", { x: 240, y: 100 });\r\n     *\r\n     * // requestEnd\r\n     * requester.requestEnd();\r\n     */\r\n    request: function (moveable) {\r\n        var datas = {};\r\n        var rect = moveable.getRect();\r\n        var distX = 0;\r\n        var distY = 0;\r\n        var useSnap = false;\r\n        return {\r\n            isControl: false,\r\n            requestStart: function (e) {\r\n                useSnap = e.useSnap;\r\n                return { datas: datas, useSnap: useSnap };\r\n            },\r\n            request: function (e) {\r\n                if (\"x\" in e) {\r\n                    distX = e.x - rect.left;\r\n                }\r\n                else if (\"deltaX\" in e) {\r\n                    distX += e.deltaX;\r\n                }\r\n                if (\"y\" in e) {\r\n                    distY = e.y - rect.top;\r\n                }\r\n                else if (\"deltaY\" in e) {\r\n                    distY += e.deltaY;\r\n                }\r\n                return { datas: datas, distX: distX, distY: distY, useSnap: useSnap };\r\n            },\r\n            requestEnd: function () {\r\n                return { datas: datas, isDrag: true, useSnap: useSnap };\r\n            },\r\n        };\r\n    },\r\n    unset: function (moveable) {\r\n        moveable.state.gestos.draggable = null;\r\n        moveable.state.dragInfo = null;\r\n    },\r\n};\r\n/**\r\n * Whether or not target can be dragged. (default: false)\r\n * @name Moveable.Draggable#draggable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.draggable = true;\r\n */\r\n/**\r\n * throttle of x, y when drag.\r\n * @name Moveable.Draggable#throttleDrag\r\n * @default 0\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.throttleDrag = 1;\r\n */\r\n/**\r\n* throttle of angle of x, y when drag.\r\n* @name Moveable.Draggable#throttleDragRotate\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body);\r\n*\r\n* moveable.throttleDragRotate = 45;\r\n*/\r\n/**\r\n* start angle of throttleDragRotate of x, y when drag.\r\n* @name Moveable.Draggable#startDragRotate\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body);\r\n*\r\n* // 45, 135, 225, 315\r\n* moveable.throttleDragRotate = 90;\r\n* moveable.startDragRotate = 45;\r\n*/\r\n/**\r\n * When the drag starts, the dragStart event is called.\r\n * @memberof Moveable.Draggable\r\n * @event dragStart\r\n * @param {Moveable.Draggable.OnDragStart} - Parameters for the dragStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { draggable: true });\r\n * moveable.on(\"dragStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n * When dragging, the drag event is called.\r\n * @memberof Moveable.Draggable\r\n * @event drag\r\n * @param {Moveable.Draggable.OnDrag} - Parameters for the drag event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { draggable: true });\r\n * moveable.on(\"drag\", ({ target, transform }) => {\r\n *     target.style.transform = transform;\r\n * });\r\n */\r\n/**\r\n * When the drag finishes, the dragEnd event is called.\r\n * @memberof Moveable.Draggable\r\n * @event dragEnd\r\n * @param {Moveable.Draggable.OnDragEnd} - Parameters for the dragEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { draggable: true });\r\n * moveable.on(\"dragEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\r\n/**\r\n* When the group drag starts, the `dragGroupStart` event is called.\r\n* @memberof Moveable.Draggable\r\n* @event dragGroupStart\r\n* @param {Moveable.Draggable.OnDragGroupStart} - Parameters for the `dragGroupStart` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     draggable: true\r\n* });\r\n* moveable.on(\"dragGroupStart\", ({ targets }) => {\r\n*     console.log(\"onDragGroupStart\", targets);\r\n* });\r\n*/\r\n/**\r\n* When the group drag, the `dragGroup` event is called.\r\n* @memberof Moveable.Draggable\r\n* @event dragGroup\r\n* @param {Moveable.Draggable.OnDragGroup} - Parameters for the `dragGroup` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     draggable: true\r\n* });\r\n* moveable.on(\"dragGroup\", ({ targets, events }) => {\r\n*     console.log(\"onDragGroup\", targets);\r\n*     events.forEach(ev => {\r\n*          // drag event\r\n*          console.log(\"onDrag left, top\", ev.left, ev.top);\r\n*          // ev.target!.style.left = `${ev.left}px`;\r\n*          // ev.target!.style.top = `${ev.top}px`;\r\n*          console.log(\"onDrag translate\", ev.dist);\r\n*          ev.target!.style.transform = ev.transform;)\r\n*     });\r\n* });\r\n*/\r\n/**\r\n * When the group drag finishes, the `dragGroupEnd` event is called.\r\n * @memberof Moveable.Draggable\r\n * @event dragGroupEnd\r\n * @param {Moveable.Draggable.OnDragGroupEnd} - Parameters for the `dragGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     draggable: true\r\n * });\r\n * moveable.on(\"dragGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onDragGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\nfunction getFixedDirectionInfo(startPositions, fixedDirection) {\r\n    var fixedPosition = getPosByDirection(startPositions, fixedDirection);\r\n    var fixedOffset = [0, 0];\r\n    return {\r\n        fixedPosition: fixedPosition,\r\n        fixedDirection: fixedDirection,\r\n        fixedOffset: fixedOffset,\r\n    };\r\n}\r\nfunction getOffsetFixedDirectionInfo(state, fixedDirection) {\r\n    // for start\r\n    var allMatrix = state.allMatrix, is3d = state.is3d, width = state.width, height = state.height;\r\n    var n = is3d ? 4 : 3;\r\n    var nextFixedOffset = [\r\n        width / 2 * (1 + fixedDirection[0]),\r\n        height / 2 * (1 + fixedDirection[1]),\r\n    ];\r\n    var fixedPosition = calculatePosition(allMatrix, nextFixedOffset, n);\r\n    var fixedOffset = [0, 0];\r\n    return {\r\n        fixedPosition: fixedPosition,\r\n        fixedDirection: fixedDirection,\r\n        fixedOffset: fixedOffset,\r\n    };\r\n}\r\nfunction getOffsetFixedPositionInfo(state, offsetFixedPosition) {\r\n    // for start\r\n    var allMatrix = state.allMatrix, is3d = state.is3d, width = state.width, height = state.height;\r\n    var n = is3d ? 4 : 3;\r\n    var fixedDirection = getDirectionByPos(offsetFixedPosition, width, height);\r\n    var nextFixedPosition = calculatePosition(allMatrix, offsetFixedPosition, n);\r\n    var fixedOffset = [\r\n        width ? 0 : offsetFixedPosition[0],\r\n        height ? 0 : offsetFixedPosition[1],\r\n    ];\r\n    return {\r\n        fixedPosition: nextFixedPosition,\r\n        fixedDirection: fixedDirection,\r\n        fixedOffset: fixedOffset,\r\n    };\r\n}\n\n/**\r\n * @namespace Resizable\r\n * @memberof Moveable\r\n * @description Resizable indicates whether the target's width and height can be increased or decreased.\r\n */\r\nvar directionCondition$2 = getDirectionCondition(\"resizable\");\r\nvar Resizable = {\r\n    name: \"resizable\",\r\n    ableGroup: \"size\",\r\n    canPinch: true,\r\n    props: [\r\n        \"resizable\",\r\n        \"throttleResize\",\r\n        \"renderDirections\",\r\n        \"displayAroundControls\",\r\n        \"keepRatio\",\r\n        \"resizeFormat\",\r\n        \"keepRatioFinally\",\r\n        \"edge\",\r\n        \"checkResizableError\",\r\n    ],\r\n    events: [\r\n        \"resizeStart\",\r\n        \"beforeResize\",\r\n        \"resize\",\r\n        \"resizeEnd\",\r\n        \"resizeGroupStart\",\r\n        \"beforeResizeGroup\",\r\n        \"resizeGroup\",\r\n        \"resizeGroupEnd\",\r\n    ],\r\n    render: getRenderDirections(\"resizable\"),\r\n    dragControlCondition: directionCondition$2,\r\n    viewClassName: getDirectionViewClassName(\"resizable\"),\r\n    dragControlStart: function (moveable, e) {\r\n        var _a;\r\n        var inputEvent = e.inputEvent, isPinch = e.isPinch, isGroup = e.isGroup, parentDirection = e.parentDirection, parentGesto = e.parentGesto, datas = e.datas, parentFixedDirection = e.parentFixedDirection, parentEvent = e.parentEvent;\r\n        var direction = getTotalDirection(parentDirection, isPinch, inputEvent, datas);\r\n        var state = moveable.state;\r\n        var target = state.target, width = state.width, height = state.height, gestos = state.gestos;\r\n        if (!direction || !target) {\r\n            return false;\r\n        }\r\n        if (gestos.resizable) {\r\n            return false;\r\n        }\r\n        gestos.resizable = parentGesto || moveable.controlGesto;\r\n        !isPinch && setDragStart(moveable, e);\r\n        datas.datas = {};\r\n        datas.direction = direction;\r\n        datas.startOffsetWidth = width;\r\n        datas.startOffsetHeight = height;\r\n        datas.prevWidth = 0;\r\n        datas.prevHeight = 0;\r\n        datas.minSize = [0, 0];\r\n        datas.startWidth = state.inlineCSSWidth || state.cssWidth;\r\n        datas.startHeight = state.inlineCSSHeight || state.cssHeight;\r\n        datas.maxSize = [Infinity, Infinity];\r\n        if (!isGroup) {\r\n            datas.minSize = [\r\n                state.minOffsetWidth,\r\n                state.minOffsetHeight,\r\n            ];\r\n            datas.maxSize = [\r\n                state.maxOffsetWidth,\r\n                state.maxOffsetHeight,\r\n            ];\r\n        }\r\n        var transformOrigin = moveable.props.transformOrigin || \"% %\";\r\n        datas.transformOrigin = transformOrigin && isString(transformOrigin)\r\n            ? transformOrigin.split(\" \")\r\n            : transformOrigin;\r\n        datas.startOffsetMatrix = state.offsetMatrix;\r\n        datas.startTransformOrigin = state.transformOrigin;\r\n        datas.isWidth = (_a = e === null || e === void 0 ? void 0 : e.parentIsWidth) !== null && _a !== void 0 ? _a : ((!direction[0] && !direction[1]) || direction[0] || !direction[1]);\r\n        function setRatio(ratio) {\r\n            datas.ratio = ratio && isFinite(ratio) ? ratio : 0;\r\n        }\r\n        datas.startPositions = getAbsolutePosesByState(moveable.state);\r\n        function setFixedDirection(fixedDirection) {\r\n            var result = getFixedDirectionInfo(datas.startPositions, fixedDirection);\r\n            datas.fixedDirection = result.fixedDirection;\r\n            datas.fixedPosition = result.fixedPosition;\r\n            datas.fixedOffset = result.fixedOffset;\r\n        }\r\n        function setFixedPosition(fixedPosition) {\r\n            var result = getOffsetFixedPositionInfo(moveable.state, fixedPosition);\r\n            datas.fixedDirection = result.fixedDirection;\r\n            datas.fixedPosition = result.fixedPosition;\r\n            datas.fixedOffset = result.fixedOffset;\r\n        }\r\n        function setMin(minSize) {\r\n            datas.minSize = [\r\n                convertUnitSize(\"\".concat(minSize[0]), 0) || 0,\r\n                convertUnitSize(\"\".concat(minSize[1]), 0) || 0,\r\n            ];\r\n        }\r\n        function setMax(maxSize) {\r\n            var nextMaxSize = [\r\n                maxSize[0] || Infinity,\r\n                maxSize[1] || Infinity,\r\n            ];\r\n            if (!isNumber(nextMaxSize[0]) || isFinite(nextMaxSize[0])) {\r\n                nextMaxSize[0] = convertUnitSize(\"\".concat(nextMaxSize[0]), 0) || Infinity;\r\n            }\r\n            if (!isNumber(nextMaxSize[1]) || isFinite(nextMaxSize[1])) {\r\n                nextMaxSize[1] = convertUnitSize(\"\".concat(nextMaxSize[1]), 0) || Infinity;\r\n            }\r\n            datas.maxSize = nextMaxSize;\r\n        }\r\n        setRatio(width / height);\r\n        setFixedDirection(parentFixedDirection || [-direction[0], -direction[1]]);\r\n        datas.setFixedDirection = setFixedDirection;\r\n        datas.setFixedPosition = setFixedPosition;\r\n        datas.setMin = setMin;\r\n        datas.setMax = setMax;\r\n        var params = fillParams(moveable, e, {\r\n            direction: direction,\r\n            startRatio: datas.ratio,\r\n            set: function (_a) {\r\n                var _b = __read(_a, 2), startWidth = _b[0], startHeight = _b[1];\r\n                datas.startWidth = startWidth;\r\n                datas.startHeight = startHeight;\r\n            },\r\n            setMin: setMin,\r\n            setMax: setMax,\r\n            setRatio: setRatio,\r\n            setFixedDirection: setFixedDirection,\r\n            setFixedPosition: setFixedPosition,\r\n            setOrigin: function (origin) {\r\n                datas.transformOrigin = origin;\r\n            },\r\n            dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e)),\r\n        });\r\n        var result = parentEvent || triggerEvent(moveable, \"onResizeStart\", params);\r\n        datas.startFixedDirection = datas.fixedDirection;\r\n        datas.startFixedPosition = datas.fixedPosition;\r\n        if (result !== false) {\r\n            datas.isResize = true;\r\n            moveable.state.snapRenderInfo = {\r\n                request: e.isRequest,\r\n                direction: direction,\r\n            };\r\n        }\r\n        return datas.isResize ? params : false;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        var _a;\r\n        var datas = e.datas, parentFlag = e.parentFlag, isPinch = e.isPinch, parentKeepRatio = e.parentKeepRatio, dragClient = e.dragClient, parentDist = e.parentDist, useSnap = e.useSnap, isRequest = e.isRequest, isGroup = e.isGroup, parentEvent = e.parentEvent, resolveMatrix = e.resolveMatrix;\r\n        var isResize = datas.isResize, transformOrigin = datas.transformOrigin, startWidth = datas.startWidth, startHeight = datas.startHeight, prevWidth = datas.prevWidth, prevHeight = datas.prevHeight, minSize = datas.minSize, maxSize = datas.maxSize, ratio = datas.ratio, startOffsetWidth = datas.startOffsetWidth, startOffsetHeight = datas.startOffsetHeight, isWidth = datas.isWidth;\r\n        if (!isResize) {\r\n            return;\r\n        }\r\n        if (resolveMatrix) {\r\n            var is3d = moveable.state.is3d;\r\n            var startOffsetMatrix = datas.startOffsetMatrix, startTransformOrigin = datas.startTransformOrigin;\r\n            var n = is3d ? 4 : 3;\r\n            var targetMatrix = parseMat(getNextTransforms(e));\r\n            var targetN = Math.sqrt(targetMatrix.length);\r\n            if (n !== targetN) {\r\n                targetMatrix = convertDimension(targetMatrix, targetN, n);\r\n            }\r\n            var nextAllMatrix = getNextMatrix(startOffsetMatrix, targetMatrix, startTransformOrigin, n);\r\n            var poses = calculatePoses(nextAllMatrix, startOffsetWidth, startOffsetHeight, n);\r\n            datas.startPositions = poses;\r\n            datas.nextTargetMatrix = targetMatrix;\r\n            datas.nextAllMatrix = nextAllMatrix;\r\n        }\r\n        var props = getProps(moveable.props, \"resizable\");\r\n        var resizeFormat = props.resizeFormat, _b = props.throttleResize, throttleResize = _b === void 0 ? parentFlag ? 0 : 1 : _b, parentMoveable = props.parentMoveable, keepRatioFinally = props.keepRatioFinally;\r\n        var direction = datas.direction;\r\n        var sizeDirection = direction;\r\n        var distWidth = 0;\r\n        var distHeight = 0;\r\n        if (!direction[0] && !direction[1]) {\r\n            sizeDirection = [1, 1];\r\n        }\r\n        var keepRatio = (ratio && (parentKeepRatio != null ? parentKeepRatio : props.keepRatio)) || false;\r\n        function getNextBoundingSize() {\r\n            var fixedDirection = datas.fixedDirection;\r\n            var nextSize = getOffsetSizeDist(sizeDirection, keepRatio, datas, e);\r\n            distWidth = nextSize.distWidth;\r\n            distHeight = nextSize.distHeight;\r\n            var nextWidth = (sizeDirection[0] - fixedDirection[0]) || keepRatio\r\n                ? Math.max(startOffsetWidth + distWidth, TINY_NUM) : startOffsetWidth;\r\n            var nextHeight = (sizeDirection[1] - fixedDirection[1]) || keepRatio\r\n                ? Math.max(startOffsetHeight + distHeight, TINY_NUM) : startOffsetHeight;\r\n            if (keepRatio && startOffsetWidth && startOffsetHeight) {\r\n                // startOffsetWidth : startOffsetHeight = nextWidth : nextHeight\r\n                if (isWidth) {\r\n                    nextHeight = nextWidth / ratio;\r\n                }\r\n                else {\r\n                    nextWidth = nextHeight * ratio;\r\n                }\r\n            }\r\n            return [nextWidth, nextHeight];\r\n        }\r\n        var _c = __read(getNextBoundingSize(), 2), boundingWidth = _c[0], boundingHeight = _c[1];\r\n        if (!parentEvent) {\r\n            datas.setFixedDirection(datas.fixedDirection);\r\n            triggerEvent(moveable, \"onBeforeResize\", fillParams(moveable, e, {\r\n                startFixedDirection: datas.startFixedDirection,\r\n                startFixedPosition: datas.startFixedPosition,\r\n                setFixedDirection: function (nextFixedDirection) {\r\n                    var _a;\r\n                    datas.setFixedDirection(nextFixedDirection);\r\n                    _a = __read(getNextBoundingSize(), 2), boundingWidth = _a[0], boundingHeight = _a[1];\r\n                    return [boundingWidth, boundingHeight];\r\n                },\r\n                setFixedPosition: function (nextFixedPosition) {\r\n                    var _a;\r\n                    datas.setFixedPosition(nextFixedPosition);\r\n                    _a = __read(getNextBoundingSize(), 2), boundingWidth = _a[0], boundingHeight = _a[1];\r\n                    return [boundingWidth, boundingHeight];\r\n                },\r\n                boundingWidth: boundingWidth,\r\n                boundingHeight: boundingHeight,\r\n                setSize: function (size) {\r\n                    var _a;\r\n                    _a = __read(size, 2), boundingWidth = _a[0], boundingHeight = _a[1];\r\n                },\r\n            }, true));\r\n        }\r\n        var fixedPosition = dragClient;\r\n        if (!dragClient) {\r\n            if (!parentFlag && isPinch) {\r\n                fixedPosition = getAbsolutePosition(moveable, [0, 0]);\r\n            }\r\n            else {\r\n                fixedPosition = datas.fixedPosition;\r\n            }\r\n        }\r\n        var snapDist = [0, 0];\r\n        if (!isPinch) {\r\n            snapDist = checkSnapResize(moveable, boundingWidth, boundingHeight, direction, fixedPosition, !useSnap && isRequest, datas);\r\n        }\r\n        if (parentDist) {\r\n            !parentDist[0] && (snapDist[0] = 0);\r\n            !parentDist[1] && (snapDist[1] = 0);\r\n        }\r\n        function computeSize() {\r\n            var _a;\r\n            if (resizeFormat) {\r\n                _a = __read(resizeFormat([boundingWidth, boundingHeight]), 2), boundingWidth = _a[0], boundingHeight = _a[1];\r\n            }\r\n            boundingWidth = throttle(boundingWidth, throttleResize);\r\n            boundingHeight = throttle(boundingHeight, throttleResize);\r\n        }\r\n        if (keepRatio) {\r\n            if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\r\n                if (abs(snapDist[0]) > abs(snapDist[1])) {\r\n                    snapDist[1] = 0;\r\n                }\r\n                else {\r\n                    snapDist[0] = 0;\r\n                }\r\n            }\r\n            var isNoSnap = !snapDist[0] && !snapDist[1];\r\n            if (isNoSnap) {\r\n                // pre-compute before maintaining the ratio\r\n                computeSize();\r\n            }\r\n            if ((sizeDirection[0] && !sizeDirection[1])\r\n                || (snapDist[0] && !snapDist[1])\r\n                || (isNoSnap && isWidth)) {\r\n                boundingWidth += snapDist[0];\r\n                boundingHeight = boundingWidth / ratio;\r\n            }\r\n            else if ((!sizeDirection[0] && sizeDirection[1])\r\n                || (!snapDist[0] && snapDist[1])\r\n                || (isNoSnap && !isWidth)) {\r\n                boundingHeight += snapDist[1];\r\n                boundingWidth = boundingHeight * ratio;\r\n            }\r\n        }\r\n        else {\r\n            boundingWidth += snapDist[0];\r\n            boundingHeight += snapDist[1];\r\n            boundingWidth = Math.max(0, boundingWidth);\r\n            boundingHeight = Math.max(0, boundingHeight);\r\n        }\r\n        _a = __read(calculateBoundSize([boundingWidth, boundingHeight], minSize, maxSize, keepRatio ? ratio : false), 2), boundingWidth = _a[0], boundingHeight = _a[1];\r\n        computeSize();\r\n        if (keepRatio && (isGroup || keepRatioFinally)) {\r\n            if (isWidth) {\r\n                boundingHeight = boundingWidth / ratio;\r\n            }\r\n            else {\r\n                boundingWidth = boundingHeight * ratio;\r\n            }\r\n        }\r\n        distWidth = boundingWidth - startOffsetWidth;\r\n        distHeight = boundingHeight - startOffsetHeight;\r\n        var delta = [distWidth - prevWidth, distHeight - prevHeight];\r\n        datas.prevWidth = distWidth;\r\n        datas.prevHeight = distHeight;\r\n        var inverseDelta = getResizeDist(moveable, boundingWidth, boundingHeight, fixedPosition, transformOrigin, datas);\r\n        if (!parentMoveable && delta.every(function (num) { return !num; }) && inverseDelta.every(function (num) { return !num; })) {\r\n            return;\r\n        }\r\n        var drag = Draggable.drag(moveable, setCustomDrag(e, moveable.state, inverseDelta, !!isPinch, false, \"draggable\"));\r\n        var transform = drag.transform;\r\n        var nextWidth = startWidth + distWidth;\r\n        var nextHeight = startHeight + distHeight;\r\n        var params = fillParams(moveable, e, __assign({ width: nextWidth, height: nextHeight, offsetWidth: Math.round(boundingWidth), offsetHeight: Math.round(boundingHeight), startRatio: ratio, boundingWidth: boundingWidth, boundingHeight: boundingHeight, direction: direction, dist: [distWidth, distHeight], delta: delta, isPinch: !!isPinch, drag: drag }, fillAfterTransform({\r\n            style: {\r\n                width: \"\".concat(nextWidth, \"px\"),\r\n                height: \"\".concat(nextHeight, \"px\"),\r\n            },\r\n            transform: transform,\r\n        }, drag, e)));\r\n        !parentEvent && triggerEvent(moveable, \"onResize\", params);\r\n        return params;\r\n    },\r\n    dragControlAfter: function (moveable, e) {\r\n        var datas = e.datas;\r\n        var isResize = datas.isResize, startOffsetWidth = datas.startOffsetWidth, startOffsetHeight = datas.startOffsetHeight, prevWidth = datas.prevWidth, prevHeight = datas.prevHeight;\r\n        if (!isResize || moveable.props.checkResizableError === false) {\r\n            return;\r\n        }\r\n        var _a = moveable.state, width = _a.width, height = _a.height;\r\n        var errorWidth = width - (startOffsetWidth + prevWidth);\r\n        var errorHeight = height - (startOffsetHeight + prevHeight);\r\n        var isErrorWidth = abs(errorWidth) > 3;\r\n        var isErrorHeight = abs(errorHeight) > 3;\r\n        if (isErrorWidth) {\r\n            datas.startWidth += errorWidth;\r\n            datas.startOffsetWidth += errorWidth;\r\n            datas.prevWidth += errorWidth;\r\n        }\r\n        if (isErrorHeight) {\r\n            datas.startHeight += errorHeight;\r\n            datas.startOffsetHeight += errorHeight;\r\n            datas.prevHeight += errorHeight;\r\n        }\r\n        if (isErrorWidth || isErrorHeight) {\r\n            return this.dragControl(moveable, e);\r\n        }\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        var datas = e.datas, parentEvent = e.parentEvent;\r\n        if (!datas.isResize) {\r\n            return;\r\n        }\r\n        datas.isResize = false;\r\n        var params = fillEndParams(moveable, e, {});\r\n        !parentEvent && triggerEvent(moveable, \"onResizeEnd\", params);\r\n        return params;\r\n    },\r\n    dragGroupControlCondition: directionCondition$2,\r\n    dragGroupControlStart: function (moveable, e) {\r\n        var datas = e.datas;\r\n        var params = this.dragControlStart(moveable, __assign(__assign({}, e), { isGroup: true }));\r\n        if (!params) {\r\n            return false;\r\n        }\r\n        var originalEvents = fillChildEvents(moveable, \"resizable\", e);\r\n        var parentStartOffsetWidth = datas.startOffsetWidth, parentStartOffsetHeight = datas.startOffsetHeight;\r\n        function updateGroupMin() {\r\n            var originalMinSize = datas.minSize;\r\n            originalEvents.forEach(function (ev) {\r\n                var _a = ev.datas, childMinSize = _a.minSize, childStartOffsetWidth = _a.startOffsetWidth, childStartOffsetHeight = _a.startOffsetHeight;\r\n                var parentMinWidth = parentStartOffsetWidth\r\n                    * (childStartOffsetWidth ? childMinSize[0] / childStartOffsetWidth : 0);\r\n                var parentMinHeight = parentStartOffsetHeight\r\n                    * (childStartOffsetHeight ? childMinSize[1] / childStartOffsetHeight : 0);\r\n                originalMinSize[0] = Math.max(originalMinSize[0], parentMinWidth);\r\n                originalMinSize[1] = Math.max(originalMinSize[1], parentMinHeight);\r\n            });\r\n        }\r\n        function updateGroupMax() {\r\n            var originalMaxSize = datas.maxSize;\r\n            originalEvents.forEach(function (ev) {\r\n                var _a = ev.datas, childMaxSize = _a.maxSize, childStartOffsetWidth = _a.startOffsetWidth, childStartOffsetHeight = _a.startOffsetHeight;\r\n                var parentMaxWidth = parentStartOffsetWidth\r\n                    * (childStartOffsetWidth ? childMaxSize[0] / childStartOffsetWidth : 0);\r\n                var parentMaxHeight = parentStartOffsetHeight\r\n                    * (childStartOffsetHeight ? childMaxSize[1] / childStartOffsetHeight : 0);\r\n                originalMaxSize[0] = Math.min(originalMaxSize[0], parentMaxWidth);\r\n                originalMaxSize[1] = Math.min(originalMaxSize[1], parentMaxHeight);\r\n            });\r\n        }\r\n        var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\r\n            return startChildDist(moveable, child, datas, ev);\r\n        });\r\n        updateGroupMin();\r\n        updateGroupMax();\r\n        var setFixedDirection = function (fixedDirection) {\r\n            params.setFixedDirection(fixedDirection);\r\n            events.forEach(function (ev, i) {\r\n                ev.setFixedDirection(fixedDirection);\r\n                startChildDist(moveable, ev.moveable, datas, originalEvents[i]);\r\n            });\r\n        };\r\n        datas.setFixedDirection = setFixedDirection;\r\n        var nextParams = __assign(__assign({}, params), { targets: moveable.props.targets, events: events.map(function (ev) {\r\n                return __assign(__assign({}, ev), { setMin: function (minSize) {\r\n                        ev.setMin(minSize);\r\n                        updateGroupMin();\r\n                    }, setMax: function (maxSize) {\r\n                        ev.setMax(maxSize);\r\n                        updateGroupMax();\r\n                    } });\r\n            }), setFixedDirection: setFixedDirection, setMin: function (minSize) {\r\n                params.setMin(minSize);\r\n                updateGroupMin();\r\n            }, setMax: function (maxSize) {\r\n                params.setMax(maxSize);\r\n                updateGroupMax();\r\n            } });\r\n        var result = triggerEvent(moveable, \"onResizeGroupStart\", nextParams);\r\n        datas.isResize = result !== false;\r\n        return datas.isResize ? params : false;\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isResize) {\r\n            return;\r\n        }\r\n        var props = getProps(moveable.props, \"resizable\");\r\n        catchEvent(moveable, \"onBeforeResize\", function (parentEvent) {\r\n            triggerEvent(moveable, \"onBeforeResizeGroup\", fillParams(moveable, e, __assign(__assign({}, parentEvent), { targets: props.targets }), true));\r\n        });\r\n        var params = this.dragControl(moveable, __assign(__assign({}, e), { isGroup: true }));\r\n        if (!params) {\r\n            return;\r\n        }\r\n        var boundingWidth = params.boundingWidth, boundingHeight = params.boundingHeight, dist = params.dist;\r\n        var keepRatio = props.keepRatio;\r\n        var parentScale = [\r\n            boundingWidth / (boundingWidth - dist[0]),\r\n            boundingHeight / (boundingHeight - dist[1]),\r\n        ];\r\n        var fixedPosition = datas.fixedPosition;\r\n        var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\r\n            var _a = __read(calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [\r\n                ev.datas.originalX * parentScale[0],\r\n                ev.datas.originalY * parentScale[1],\r\n                1,\r\n            ], 3), 2), clientX = _a[0], clientY = _a[1];\r\n            return __assign(__assign({}, ev), { parentDist: null, parentScale: parentScale, dragClient: plus(fixedPosition, [clientX, clientY]), parentKeepRatio: keepRatio });\r\n        });\r\n        var nextParams = __assign({ targets: props.targets, events: events }, params);\r\n        triggerEvent(moveable, \"onResizeGroup\", nextParams);\r\n        return nextParams;\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        var isDrag = e.isDrag, datas = e.datas;\r\n        if (!datas.isResize) {\r\n            return;\r\n        }\r\n        this.dragControlEnd(moveable, e);\r\n        var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\r\n        var nextParams = fillEndParams(moveable, e, {\r\n            targets: moveable.props.targets,\r\n            events: events,\r\n        });\r\n        triggerEvent(moveable, \"onResizeGroupEnd\", nextParams);\r\n        return isDrag;\r\n    },\r\n    /**\r\n     * @method Moveable.Resizable#request\r\n     * @param {Moveable.Resizable.ResizableRequestParam} e - the Resizable's request parameter\r\n     * @return {Moveable.Requester} Moveable Requester\r\n     * @example\r\n\n     * // Instantly Request (requestStart - request - requestEnd)\r\n     * // Use Relative Value\r\n     * moveable.request(\"resizable\", { deltaWidth: 10, deltaHeight: 10 }, true);\r\n     *\r\n     * // Use Absolute Value\r\n     * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 }, true);\r\n     *\r\n     * // requestStart\r\n     * const requester = moveable.request(\"resizable\");\r\n     *\r\n     * // request\r\n     * // Use Relative Value\r\n     * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n     * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n     * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n     *\r\n     * // Use Absolute Value\r\n     * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 });\r\n     * moveable.request(\"resizable\", { offsetWidth: 110, offsetHeight: 100 });\r\n     * moveable.request(\"resizable\", { offsetWidth: 120, offsetHeight: 100 });\r\n     *\r\n     * // requestEnd\r\n     * requester.requestEnd();\r\n     */\r\n    request: function (moveable) {\r\n        var datas = {};\r\n        var distWidth = 0;\r\n        var distHeight = 0;\r\n        var useSnap = false;\r\n        var rect = moveable.getRect();\r\n        return {\r\n            isControl: true,\r\n            requestStart: function (e) {\r\n                var _a;\r\n                useSnap = e.useSnap;\r\n                return {\r\n                    datas: datas,\r\n                    parentDirection: e.direction || [1, 1],\r\n                    parentIsWidth: (_a = e === null || e === void 0 ? void 0 : e.horizontal) !== null && _a !== void 0 ? _a : true,\r\n                    useSnap: useSnap,\r\n                };\r\n            },\r\n            request: function (e) {\r\n                if (\"offsetWidth\" in e) {\r\n                    distWidth = e.offsetWidth - rect.offsetWidth;\r\n                }\r\n                else if (\"deltaWidth\" in e) {\r\n                    distWidth += e.deltaWidth;\r\n                }\r\n                if (\"offsetHeight\" in e) {\r\n                    distHeight = e.offsetHeight - rect.offsetHeight;\r\n                }\r\n                else if (\"deltaHeight\" in e) {\r\n                    distHeight += e.deltaHeight;\r\n                }\r\n                return {\r\n                    datas: datas,\r\n                    parentDist: [distWidth, distHeight],\r\n                    parentKeepRatio: e.keepRatio,\r\n                    useSnap: useSnap,\r\n                };\r\n            },\r\n            requestEnd: function () {\r\n                return { datas: datas, isDrag: true, useSnap: useSnap };\r\n            },\r\n        };\r\n    },\r\n    unset: function (moveable) {\r\n        moveable.state.gestos.resizable = null;\r\n    },\r\n};\r\n/**\r\n * Whether or not target can be resized.\r\n * @name Moveable.Resizable#resizable\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     resizable: false,\r\n * });\r\n *\r\n * moveable.resizable = true;\r\n */\r\n/**\r\n * throttle of width, height when resize. If throttleResize is set to less than 1, the target may shake.\r\n * @name Moveable.Resizable#throttleResize\r\n * @default 1\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   resizable: true,\r\n *   throttleResize: 1,\r\n * });\r\n *\r\n * moveable.throttleResize = 0;\r\n */\r\n/**\r\n * When resize or scale, keeps a ratio of the width, height.\r\n * @name Moveable.Resizable#keepRatio\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   resizable: true,\r\n * });\r\n *\r\n * moveable.keepRatio = true;\r\n */\r\n/**\r\n * Set directions to show the control box.\r\n * @name Moveable.Resizable#renderDirections\r\n * @default [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"]\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   resizable: true,\r\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\r\n * });\r\n *\r\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\r\n */\r\n/**\r\n * Function to convert size for resize\r\n * @name Moveable.Resizable#resizeFormat\r\n * @default oneself\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   resizable: true,\r\n *   resizeFormat: v => v,\r\n * });\r\n *\r\n * moveable.resizeFormat = (size: number[]) => ([Math.trunc(size[0]), Math.trunc(size[1])];\r\n */\r\n/**\r\n * When the resize starts, the resizeStart event is called.\r\n * @memberof Moveable.Resizable\r\n * @event resizeStart\r\n * @param {Moveable.Resizable.OnResizeStart} - Parameters for the resizeStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { resizable: true });\r\n * moveable.on(\"resizeStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n * When resizing, `beforeResize` is called before `resize` occurs. In `beforeResize`, you can get and set the pre-value before resizing.\r\n * @memberof Moveable.Resizable\r\n * @event beforeResize\r\n * @param {Moveable.Resizable.OnBeforeResize} - Parameters for the `beforeResize` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { resizable: true });\r\n * moveable.on(\"beforeResize\", ({ setFixedDirection }) => {\r\n *     if (shiftKey) {\r\n *        setFixedDirection([0, 0]);\r\n *     }\r\n * });\r\n * moveable.on(\"resize\", ({ target, width, height, drag }) => {\r\n *     target.style.width = `${width}px`;\r\n *     target.style.height = `${height}px`;\r\n *     target.style.transform = drag.transform;\r\n * });\r\n */\r\n/**\r\n * When resizing, the resize event is called.\r\n * @memberof Moveable.Resizable\r\n * @event resize\r\n * @param {Moveable.Resizable.OnResize} - Parameters for the resize event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { resizable: true });\r\n * moveable.on(\"resize\", ({ target, width, height }) => {\r\n *     target.style.width = `${e.width}px`;\r\n *     target.style.height = `${e.height}px`;\r\n * });\r\n */\r\n/**\r\n * When the resize finishes, the resizeEnd event is called.\r\n * @memberof Moveable.Resizable\r\n * @event resizeEnd\r\n * @param {Moveable.Resizable.OnResizeEnd} - Parameters for the resizeEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { resizable: true });\r\n * moveable.on(\"resizeEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\r\n/**\r\n* When the group resize starts, the `resizeGroupStart` event is called.\r\n* @memberof Moveable.Resizable\r\n* @event resizeGroupStart\r\n* @param {Moveable.Resizable.OnResizeGroupStart} - Parameters for the `resizeGroupStart` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     resizable: true\r\n* });\r\n* moveable.on(\"resizeGroupStart\", ({ targets }) => {\r\n*     console.log(\"onResizeGroupStart\", targets);\r\n* });\r\n*/\r\n/**\r\n* When the group resize, the `resizeGroup` event is called.\r\n* @memberof Moveable.Resizable\r\n* @event resizeGroup\r\n* @param {Moveable.Resizable.onResizeGroup} - Parameters for the `resizeGroup` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     resizable: true\r\n* });\r\n* moveable.on(\"resizeGroup\", ({ targets, events }) => {\r\n*     console.log(\"onResizeGroup\", targets);\r\n*     events.forEach(ev => {\r\n*         const offset = [\r\n*             direction[0] < 0 ? -ev.delta[0] : 0,\r\n*             direction[1] < 0 ? -ev.delta[1] : 0,\r\n*         ];\r\n*         // ev.drag is a drag event that occurs when the group resize.\r\n*         const left = offset[0] + ev.drag.beforeDist[0];\r\n*         const top = offset[1] + ev.drag.beforeDist[1];\r\n*         const width = ev.width;\r\n*         const top = ev.top;\r\n*     });\r\n* });\r\n*/\r\n/**\r\n * When the group resize finishes, the `resizeGroupEnd` event is called.\r\n * @memberof Moveable.Resizable\r\n * @event resizeGroupEnd\r\n * @param {Moveable.Resizable.OnResizeGroupEnd} - Parameters for the `resizeGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     resizable: true\r\n * });\r\n * moveable.on(\"resizeGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onResizeGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\n/**\r\n * @namespace Rotatable\r\n * @memberof Moveable\r\n * @description Rotatable indicates whether the target can be rotated.\r\n */\r\nfunction setRotateStartInfo(moveable, datas, clientX, clientY, rect) {\r\n    var groupable = moveable.props.groupable;\r\n    var state = moveable.state;\r\n    var n = state.is3d ? 4 : 3;\r\n    var origin = datas.origin;\r\n    var nextOrigin = calculatePosition(moveable.state.rootMatrix, \r\n    // TO-DO #710\r\n    minus([origin[0], origin[1]], groupable ? [0, 0] : [state.left, state.top]), n);\r\n    var startAbsoluteOrigin = plus([rect.left, rect.top], nextOrigin);\r\n    datas.startAbsoluteOrigin = startAbsoluteOrigin;\r\n    datas.prevDeg = getRad(startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180;\r\n    datas.defaultDeg = datas.prevDeg;\r\n    datas.prevSnapDeg = 0;\r\n    datas.loop = 0;\r\n    datas.startDist = getDist$1(startAbsoluteOrigin, [clientX, clientY]);\r\n}\r\nfunction getAbsoluteDist(deg, direction, datas) {\r\n    var defaultDeg = datas.defaultDeg, prevDeg = datas.prevDeg;\r\n    var normalizedPrevDeg = prevDeg % 360;\r\n    var loop = Math.floor(prevDeg / 360);\r\n    if (normalizedPrevDeg < 0) {\r\n        normalizedPrevDeg += 360;\r\n    }\r\n    if (normalizedPrevDeg > deg && normalizedPrevDeg > 270 && deg < 90) {\r\n        // 360 => 0\r\n        ++loop;\r\n    }\r\n    else if (normalizedPrevDeg < deg && normalizedPrevDeg < 90 && deg > 270) {\r\n        // 0 => 360\r\n        --loop;\r\n    }\r\n    var dist = direction * (loop * 360 + deg - defaultDeg);\r\n    datas.prevDeg = defaultDeg + dist;\r\n    return dist;\r\n}\r\nfunction getAbsoluteDistByClient(clientX, clientY, direction, datas) {\r\n    return getAbsoluteDist(getRad(datas.startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180, direction, datas);\r\n}\r\nfunction getRotateInfo(moveable, moveableRect, datas, dist, startValue, checkSnap) {\r\n    var _a = moveable.props.throttleRotate, throttleRotate = _a === void 0 ? 0 : _a;\r\n    var prevSnapDeg = datas.prevSnapDeg;\r\n    var snapRotation = 0;\r\n    var isSnap = false;\r\n    if (checkSnap) {\r\n        var result = checkSnapRotate(moveable, moveableRect, dist, startValue + dist);\r\n        isSnap = result.isSnap;\r\n        snapRotation = startValue + result.dist;\r\n    }\r\n    if (!isSnap) {\r\n        snapRotation = throttle(startValue + dist, throttleRotate);\r\n    }\r\n    var snapDeg = snapRotation - startValue;\r\n    datas.prevSnapDeg = snapDeg;\r\n    return [snapDeg - prevSnapDeg, snapDeg, snapRotation];\r\n}\r\nfunction getRotationPositions(rotationPosition, _a, direction) {\r\n    var _b = __read(_a, 4), pos1 = _b[0], pos2 = _b[1], pos3 = _b[2], pos4 = _b[3];\r\n    if (rotationPosition === \"none\") {\r\n        return [];\r\n    }\r\n    if (isArray(rotationPosition)) {\r\n        return rotationPosition.map(function (child) { return getRotationPositions(child, [pos1, pos2, pos3, pos4], direction)[0]; });\r\n    }\r\n    var _c = __read((rotationPosition || \"top\").split(\"-\"), 2), dir1 = _c[0], dir2 = _c[1];\r\n    var radPoses = [pos1, pos2];\r\n    if (dir1 === \"left\") {\r\n        radPoses = [pos3, pos1];\r\n    }\r\n    else if (dir1 === \"right\") {\r\n        radPoses = [pos2, pos4];\r\n    }\r\n    else if (dir1 === \"bottom\") {\r\n        radPoses = [pos4, pos3];\r\n    }\r\n    var pos = [\r\n        (radPoses[0][0] + radPoses[1][0]) / 2,\r\n        (radPoses[0][1] + radPoses[1][1]) / 2,\r\n    ];\r\n    var rad = getRotationRad(radPoses, direction);\r\n    if (dir2) {\r\n        var isStart = dir2 === \"top\" || dir2 === \"left\";\r\n        var isReverse = dir1 === \"bottom\" || dir1 === \"left\";\r\n        pos = radPoses[(isStart && !isReverse) || (!isStart && isReverse) ? 0 : 1];\r\n    }\r\n    return [[pos, rad]];\r\n}\r\nfunction dragControlCondition(moveable, e) {\r\n    if (e.isRequest) {\r\n        return e.requestAble === \"rotatable\";\r\n    }\r\n    var target = e.inputEvent.target;\r\n    if (hasClass(target, prefix(\"rotation-control\"))\r\n        || (moveable.props.rotateAroundControls && hasClass(target, prefix(\"around-control\")))\r\n        || (hasClass(target, prefix(\"control\")) && hasClass(target, prefix(\"rotatable\")))) {\r\n        return true;\r\n    }\r\n    var rotationTarget = moveable.props.rotationTarget;\r\n    if (rotationTarget) {\r\n        return getRefTargets(rotationTarget, true).some(function (element) {\r\n            if (!element) {\r\n                return false;\r\n            }\r\n            return target === element || target.contains(element);\r\n        });\r\n    }\r\n    return false;\r\n}\r\nvar css = \".rotation {\\nposition: absolute;\\nheight: 40px;\\nwidth: 1px;\\ntransform-origin: 50% 100%;\\nheight: calc(40px * var(--zoom));\\ntop: auto;\\nleft: 0;\\nbottom: 100%;\\nwill-change: transform;\\n}\\n.rotation .rotation-line {\\ndisplay: block;\\nwidth: 100%;\\nheight: 100%;\\ntransform-origin: 50% 50%;\\n}\\n.rotation .rotation-control {\\nborder-color: #4af;\\nborder-color: var(--moveable-color);\\nbackground:#fff;\\ncursor: alias;\\n}\\n:global .view-rotation-dragging, .rotatable.direction.control {\\ncursor: alias;\\n}\\n.rotatable.direction.control.move {\\ncursor: move;\\n}\\n\";\r\nvar Rotatable = {\r\n    name: \"rotatable\",\r\n    canPinch: true,\r\n    props: [\r\n        \"rotatable\",\r\n        \"rotationPosition\",\r\n        \"throttleRotate\",\r\n        \"renderDirections\",\r\n        \"rotationTarget\",\r\n        \"rotateAroundControls\",\r\n        \"edge\",\r\n        \"resolveAblesWithRotatable\",\r\n        \"displayAroundControls\",\r\n    ],\r\n    events: [\r\n        \"rotateStart\",\r\n        \"beforeRotate\",\r\n        \"rotate\",\r\n        \"rotateEnd\",\r\n        \"rotateGroupStart\",\r\n        \"beforeRotateGroup\",\r\n        \"rotateGroup\",\r\n        \"rotateGroupEnd\",\r\n    ],\r\n    css: [css],\r\n    viewClassName: function (moveable) {\r\n        if (!moveable.isDragging(\"rotatable\")) {\r\n            return \"\";\r\n        }\r\n        return prefix(\"view-rotation-dragging\");\r\n    },\r\n    render: function (moveable, React) {\r\n        var _a = getProps(moveable.props, \"rotatable\"), rotatable = _a.rotatable, rotationPosition = _a.rotationPosition, zoom = _a.zoom, renderDirections = _a.renderDirections, rotateAroundControls = _a.rotateAroundControls, resolveAblesWithRotatable = _a.resolveAblesWithRotatable;\r\n        var _b = moveable.getState(), renderPoses = _b.renderPoses, direction = _b.direction;\r\n        if (!rotatable) {\r\n            return null;\r\n        }\r\n        var positions = getRotationPositions(rotationPosition, renderPoses, direction);\r\n        var jsxs = [];\r\n        positions.forEach(function (_a, i) {\r\n            var _b = __read(_a, 2), pos = _b[0], rad = _b[1];\r\n            jsxs.push(React.createElement(\"div\", { key: \"rotation\".concat(i), className: prefix(\"rotation\"), style: {\r\n                    // tslint:disable-next-line: max-line-length\r\n                    transform: \"translate(-50%) translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rad, \"rad)\"),\r\n                } },\r\n                React.createElement(\"div\", { className: prefix(\"line rotation-line\"), style: {\r\n                        transform: \"scaleX(\".concat(zoom, \")\"),\r\n                    } }),\r\n                React.createElement(\"div\", { className: prefix(\"control rotation-control\"), style: {\r\n                        transform: \"translate(0.5px) scale(\".concat(zoom, \")\"),\r\n                    } })));\r\n        });\r\n        if (renderDirections) {\r\n            var ables = getKeys(resolveAblesWithRotatable || {});\r\n            var resolveMap_1 = {};\r\n            ables.forEach(function (name) {\r\n                resolveAblesWithRotatable[name].forEach(function (direction) {\r\n                    resolveMap_1[direction] = name;\r\n                });\r\n            });\r\n            var directionControlInfos = [];\r\n            if (isArray(renderDirections)) {\r\n                directionControlInfos = renderDirections.map(function (dir) {\r\n                    var able = resolveMap_1[dir];\r\n                    return {\r\n                        data: able ? { resolve: able } : {},\r\n                        classNames: able ? [\"move\"] : [],\r\n                        dir: dir,\r\n                    };\r\n                });\r\n            }\r\n            jsxs.push.apply(jsxs, __spreadArray([], __read(renderDirectionControlsByInfos(moveable, \"rotatable\", directionControlInfos, React)), false));\r\n        }\r\n        if (rotateAroundControls) {\r\n            jsxs.push.apply(jsxs, __spreadArray([], __read(renderAroundControls(moveable, React)), false));\r\n        }\r\n        return jsxs;\r\n    },\r\n    dragControlCondition: dragControlCondition,\r\n    dragControlStart: function (moveable, e) {\r\n        var _a;\r\n        var _b;\r\n        var datas = e.datas, clientX = e.clientX, clientY = e.clientY, parentRotate = e.parentRotate, parentFlag = e.parentFlag, isPinch = e.isPinch, isRequest = e.isRequest;\r\n        var state = moveable.state;\r\n        var target = state.target, left = state.left, top = state.top, direction = state.direction, beforeDirection = state.beforeDirection, targetTransform = state.targetTransform, moveableClientRect = state.moveableClientRect, offsetMatrix = state.offsetMatrix, targetMatrix = state.targetMatrix, allMatrix = state.allMatrix, width = state.width, height = state.height;\r\n        if (!isRequest && !target) {\r\n            return false;\r\n        }\r\n        var rect = moveable.getRect();\r\n        datas.rect = rect;\r\n        datas.transform = targetTransform;\r\n        datas.left = left;\r\n        datas.top = top;\r\n        var setFixedPosition = function (fixedPosition) {\r\n            var result = getOffsetFixedPositionInfo(moveable.state, fixedPosition);\r\n            datas.fixedDirection = result.fixedDirection;\r\n            datas.fixedOffset = result.fixedOffset;\r\n            datas.fixedPosition = result.fixedPosition;\r\n            if (resizeStart) {\r\n                resizeStart.setFixedPosition(fixedPosition);\r\n            }\r\n        };\r\n        var setFixedDirection = function (fixedDirection) {\r\n            var result = getOffsetFixedDirectionInfo(moveable.state, fixedDirection);\r\n            datas.fixedDirection = result.fixedDirection;\r\n            datas.fixedOffset = result.fixedOffset;\r\n            datas.fixedPosition = result.fixedPosition;\r\n            if (resizeStart) {\r\n                resizeStart.setFixedDirection(fixedDirection);\r\n            }\r\n        };\r\n        var startClientX = clientX;\r\n        var startClientY = clientY;\r\n        if (isRequest || isPinch || parentFlag) {\r\n            var externalRotate = parentRotate || 0;\r\n            datas.beforeInfo = {\r\n                origin: rect.beforeOrigin,\r\n                prevDeg: externalRotate,\r\n                defaultDeg: externalRotate,\r\n                prevSnapDeg: 0,\r\n                startDist: 0,\r\n            };\r\n            datas.afterInfo = __assign(__assign({}, datas.beforeInfo), { origin: rect.origin });\r\n            datas.absoluteInfo = __assign(__assign({}, datas.beforeInfo), { origin: rect.origin, startValue: externalRotate });\r\n        }\r\n        else {\r\n            var inputTarget = (_b = e.inputEvent) === null || _b === void 0 ? void 0 : _b.target;\r\n            if (inputTarget) {\r\n                var regionDirection = inputTarget.getAttribute(\"data-direction\") || \"\";\r\n                var controlDirection = DIRECTION_REGION_TO_DIRECTION[regionDirection];\r\n                if (controlDirection) {\r\n                    datas.isControl = true;\r\n                    datas.isAroundControl = hasClass(inputTarget, prefix(\"around-control\"));\r\n                    datas.controlDirection = controlDirection;\r\n                    var resolve = inputTarget.getAttribute(\"data-resolve\");\r\n                    if (resolve) {\r\n                        datas.resolveAble = resolve;\r\n                    }\r\n                    var clientPoses = calculateMoveableClientPositions(state.rootMatrix, state.renderPoses, moveableClientRect);\r\n                    _a = __read(getPosByDirection(clientPoses, controlDirection), 2), startClientX = _a[0], startClientY = _a[1];\r\n                }\r\n            }\r\n            datas.beforeInfo = { origin: rect.beforeOrigin };\r\n            datas.afterInfo = { origin: rect.origin };\r\n            datas.absoluteInfo = {\r\n                origin: rect.origin,\r\n                startValue: rect.rotation,\r\n            };\r\n            var originalFixedPosition_1 = setFixedPosition;\r\n            setFixedPosition = function (fixedPosition) {\r\n                var n = state.is3d ? 4 : 3;\r\n                var _a = __read(plus(getOrigin(targetMatrix, n), fixedPosition), 2), originX = _a[0], originY = _a[1];\r\n                var fixedBeforeOrigin = calculate(offsetMatrix, convertPositionMatrix([originX, originY], n));\r\n                var fixedAfterOrigin = calculate(allMatrix, convertPositionMatrix([fixedPosition[0], fixedPosition[1]], n));\r\n                originalFixedPosition_1(fixedPosition);\r\n                var posDelta = state.posDelta;\r\n                datas.beforeInfo.origin = minus(fixedBeforeOrigin, posDelta);\r\n                datas.afterInfo.origin = minus(fixedAfterOrigin, posDelta);\r\n                datas.absoluteInfo.origin = minus(fixedAfterOrigin, posDelta);\r\n                setRotateStartInfo(moveable, datas.beforeInfo, startClientX, startClientY, moveableClientRect);\r\n                setRotateStartInfo(moveable, datas.afterInfo, startClientX, startClientY, moveableClientRect);\r\n                setRotateStartInfo(moveable, datas.absoluteInfo, startClientX, startClientY, moveableClientRect);\r\n            };\r\n            setFixedDirection = function (fixedDirection) {\r\n                var fixedPosition = getPosByDirection([\r\n                    [0, 0],\r\n                    [width, 0],\r\n                    [0, height],\r\n                    [width, height],\r\n                ], fixedDirection);\r\n                setFixedPosition(fixedPosition);\r\n            };\r\n        }\r\n        datas.startClientX = startClientX;\r\n        datas.startClientY = startClientY;\r\n        datas.direction = direction;\r\n        datas.beforeDirection = beforeDirection;\r\n        datas.startValue = 0;\r\n        datas.datas = {};\r\n        setDefaultTransformIndex(moveable, e, \"rotate\");\r\n        var dragStart = false;\r\n        var resizeStart = false;\r\n        if (datas.isControl && datas.resolveAble) {\r\n            var resolveAble = datas.resolveAble;\r\n            if (resolveAble === \"resizable\") {\r\n                resizeStart = Resizable.dragControlStart(moveable, __assign(__assign({}, (new CustomGesto(\"resizable\").dragStart([0, 0], e))), { parentPosition: datas.controlPosition, parentFixedPosition: datas.fixedPosition }));\r\n            }\r\n        }\r\n        if (!resizeStart) {\r\n            dragStart = Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e));\r\n        }\r\n        setFixedPosition(getTotalOrigin(moveable));\r\n        var params = fillParams(moveable, e, __assign(__assign({ set: function (rotatation) {\r\n                datas.startValue = rotatation * Math.PI / 180;\r\n            }, setFixedDirection: setFixedDirection, setFixedPosition: setFixedPosition }, fillTransformStartEvent(moveable, e)), { dragStart: dragStart, resizeStart: resizeStart }));\r\n        var result = triggerEvent(moveable, \"onRotateStart\", params);\r\n        datas.isRotate = result !== false;\r\n        state.snapRenderInfo = {\r\n            request: e.isRequest,\r\n        };\r\n        return datas.isRotate ? params : false;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        var _a, _b, _c;\r\n        var datas = e.datas, clientDistX = e.clientDistX, clientDistY = e.clientDistY, parentRotate = e.parentRotate, parentFlag = e.parentFlag, isPinch = e.isPinch, groupDelta = e.groupDelta, resolveMatrix = e.resolveMatrix;\r\n        var beforeDirection = datas.beforeDirection, beforeInfo = datas.beforeInfo, afterInfo = datas.afterInfo, absoluteInfo = datas.absoluteInfo, isRotate = datas.isRotate, startValue = datas.startValue, rect = datas.rect, startClientX = datas.startClientX, startClientY = datas.startClientY;\r\n        if (!isRotate) {\r\n            return;\r\n        }\r\n        resolveTransformEvent(moveable, e, \"rotate\");\r\n        var targetDirection = getTransformDirection(e);\r\n        var direction = beforeDirection * targetDirection;\r\n        var parentMoveable = moveable.props.parentMoveable;\r\n        var beforeDelta = 0;\r\n        var beforeDist;\r\n        var beforeRotation;\r\n        var delta = 0;\r\n        var dist;\r\n        var rotation;\r\n        var absoluteDelta = 0;\r\n        var absoluteDist;\r\n        var absoluteRotation;\r\n        var startRotation = 180 / Math.PI * startValue;\r\n        var absoluteStartRotation = absoluteInfo.startValue;\r\n        var isSnap = false;\r\n        var nextClientX = startClientX + clientDistX;\r\n        var nextClientY = startClientY + clientDistY;\r\n        if (!parentFlag && \"parentDist\" in e) {\r\n            var parentDist = e.parentDist;\r\n            beforeDist = parentDist;\r\n            dist = parentDist;\r\n            absoluteDist = parentDist;\r\n        }\r\n        else if (isPinch || parentFlag) {\r\n            beforeDist = getAbsoluteDist(parentRotate, beforeDirection, beforeInfo);\r\n            dist = getAbsoluteDist(parentRotate, direction, afterInfo);\r\n            absoluteDist = getAbsoluteDist(parentRotate, direction, absoluteInfo);\r\n        }\r\n        else {\r\n            beforeDist = getAbsoluteDistByClient(nextClientX, nextClientY, beforeDirection, beforeInfo);\r\n            dist = getAbsoluteDistByClient(nextClientX, nextClientY, direction, afterInfo);\r\n            absoluteDist = getAbsoluteDistByClient(nextClientX, nextClientY, direction, absoluteInfo);\r\n            isSnap = true;\r\n        }\r\n        beforeRotation = startRotation + beforeDist;\r\n        rotation = startRotation + dist;\r\n        absoluteRotation = absoluteStartRotation + absoluteDist;\r\n        triggerEvent(moveable, \"onBeforeRotate\", fillParams(moveable, e, {\r\n            beforeRotation: beforeRotation,\r\n            rotation: rotation,\r\n            absoluteRotation: absoluteRotation,\r\n            setRotation: function (nextRotation) {\r\n                dist = nextRotation - startRotation;\r\n                beforeDist = dist;\r\n                absoluteDist = dist;\r\n            },\r\n        }, true));\r\n        _a = __read(getRotateInfo(moveable, rect, beforeInfo, beforeDist, startRotation, isSnap), 3), beforeDelta = _a[0], beforeDist = _a[1], beforeRotation = _a[2];\r\n        _b = __read(getRotateInfo(moveable, rect, afterInfo, dist, startRotation, isSnap), 3), delta = _b[0], dist = _b[1], rotation = _b[2];\r\n        _c = __read(getRotateInfo(moveable, rect, absoluteInfo, absoluteDist, absoluteStartRotation, isSnap), 3), absoluteDelta = _c[0], absoluteDist = _c[1], absoluteRotation = _c[2];\r\n        if (!absoluteDelta && !delta && !beforeDelta && !parentMoveable && !resolveMatrix) {\r\n            return;\r\n        }\r\n        var nextTransform = convertTransformFormat(datas, \"rotate(\".concat(rotation, \"deg)\"), \"rotate(\".concat(dist, \"deg)\"));\r\n        if (resolveMatrix) {\r\n            datas.fixedPosition = getTranslateFixedPosition(moveable, datas.targetAllTransform, datas.fixedDirection, datas.fixedOffset, datas);\r\n        }\r\n        var inverseDist = getRotateDist(moveable, dist, datas);\r\n        var inverseDelta = minus(plus(groupDelta || [0, 0], inverseDist), datas.prevInverseDist || [0, 0]);\r\n        datas.prevInverseDist = inverseDist;\r\n        datas.requestValue = null;\r\n        var dragEvent = fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e);\r\n        var transformEvent = dragEvent;\r\n        var parentDistance = getDist$1([nextClientX, nextClientY], absoluteInfo.startAbsoluteOrigin) - absoluteInfo.startDist;\r\n        var resize = undefined;\r\n        if (datas.resolveAble === \"resizable\") {\r\n            var resizeEvent = Resizable.dragControl(moveable, __assign(__assign({}, setCustomDrag(e, moveable.state, [e.deltaX, e.deltaY], !!isPinch, false, \"resizable\")), { resolveMatrix: true, parentDistance: parentDistance }));\r\n            if (resizeEvent) {\r\n                resize = resizeEvent;\r\n                transformEvent = fillAfterTransform(transformEvent, resizeEvent, e);\r\n            }\r\n        }\r\n        var params = fillParams(moveable, e, __assign(__assign({ delta: delta, dist: dist, rotate: rotation, rotation: rotation, beforeDist: beforeDist, beforeDelta: beforeDelta, beforeRotate: beforeRotation, beforeRotation: beforeRotation, absoluteDist: absoluteDist, absoluteDelta: absoluteDelta, absoluteRotate: absoluteRotation, absoluteRotation: absoluteRotation, isPinch: !!isPinch, resize: resize }, dragEvent), transformEvent));\r\n        triggerEvent(moveable, \"onRotate\", params);\r\n        return params;\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isRotate) {\r\n            return;\r\n        }\r\n        datas.isRotate = false;\r\n        var params = fillEndParams(moveable, e, {});\r\n        triggerEvent(moveable, \"onRotateEnd\", params);\r\n        return params;\r\n    },\r\n    dragGroupControlCondition: dragControlCondition,\r\n    dragGroupControlStart: function (moveable, e) {\r\n        var datas = e.datas;\r\n        var _a = moveable.state, parentLeft = _a.left, parentTop = _a.top, parentBeforeOrigin = _a.beforeOrigin;\r\n        var params = this.dragControlStart(moveable, e);\r\n        if (!params) {\r\n            return false;\r\n        }\r\n        params.set(datas.beforeDirection * moveable.rotation);\r\n        var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\r\n            var _a = child.state, left = _a.left, top = _a.top, beforeOrigin = _a.beforeOrigin;\r\n            var childClient = plus(minus([left, top], [parentLeft, parentTop]), minus(beforeOrigin, parentBeforeOrigin));\r\n            ev.datas.startGroupClient = childClient;\r\n            ev.datas.groupClient = childClient;\r\n            return __assign(__assign({}, ev), { parentRotate: 0 });\r\n        });\r\n        var nextParams = __assign(__assign({}, params), { targets: moveable.props.targets, events: events });\r\n        var result = triggerEvent(moveable, \"onRotateGroupStart\", nextParams);\r\n        datas.isRotate = result !== false;\r\n        return datas.isRotate ? params : false;\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isRotate) {\r\n            return;\r\n        }\r\n        catchEvent(moveable, \"onBeforeRotate\", function (parentEvent) {\r\n            triggerEvent(moveable, \"onBeforeRotateGroup\", fillParams(moveable, e, __assign(__assign({}, parentEvent), { targets: moveable.props.targets }), true));\r\n        });\r\n        var params = this.dragControl(moveable, e);\r\n        if (!params) {\r\n            return;\r\n        }\r\n        var direction = datas.beforeDirection;\r\n        var parentRotate = params.beforeDist;\r\n        var rad = parentRotate / 180 * Math.PI;\r\n        var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\r\n            var startGroupClient = ev.datas.startGroupClient;\r\n            var _a = __read(ev.datas.groupClient, 2), prevClientX = _a[0], prevClientY = _a[1];\r\n            var _b = __read(rotate(startGroupClient, rad * direction), 2), clientX = _b[0], clientY = _b[1];\r\n            var delta = [clientX - prevClientX, clientY - prevClientY];\r\n            ev.datas.groupClient = [clientX, clientY];\r\n            return __assign(__assign({}, ev), { parentRotate: parentRotate, groupDelta: delta });\r\n        });\r\n        moveable.rotation = direction * params.beforeRotation;\r\n        var nextParams = __assign({ targets: moveable.props.targets, events: events, set: function (rotation) {\r\n                moveable.rotation = rotation;\r\n            }, setGroupRotation: function (rotation) {\r\n                moveable.rotation = rotation;\r\n            } }, params);\r\n        triggerEvent(moveable, \"onRotateGroup\", nextParams);\r\n        return nextParams;\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        var isDrag = e.isDrag, datas = e.datas;\r\n        if (!datas.isRotate) {\r\n            return;\r\n        }\r\n        this.dragControlEnd(moveable, e);\r\n        var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\r\n        var nextParams = fillEndParams(moveable, e, {\r\n            targets: moveable.props.targets,\r\n            events: events,\r\n        });\r\n        triggerEvent(moveable, \"onRotateGroupEnd\", nextParams);\r\n        return isDrag;\r\n    },\r\n    /**\r\n     * @method Moveable.Rotatable#request\r\n     * @param {object} [e] - the Resizable's request parameter\r\n     * @param {number} [e.deltaRotate=0] -  delta number of rotation\r\n     * @param {number} [e.rotate=0] - absolute number of moveable's rotation\r\n     * @return {Moveable.Requester} Moveable Requester\r\n     * @example\r\n\n     * // Instantly Request (requestStart - request - requestEnd)\r\n     * moveable.request(\"rotatable\", { deltaRotate: 10 }, true);\r\n     *\r\n     * * moveable.request(\"rotatable\", { rotate: 10 }, true);\r\n     *\r\n     * // requestStart\r\n     * const requester = moveable.request(\"rotatable\");\r\n     *\r\n     * // request\r\n     * requester.request({ deltaRotate: 10 });\r\n     * requester.request({ deltaRotate: 10 });\r\n     * requester.request({ deltaRotate: 10 });\r\n     *\r\n     * requester.request({ rotate: 10 });\r\n     * requester.request({ rotate: 20 });\r\n     * requester.request({ rotate: 30 });\r\n     *\r\n     * // requestEnd\r\n     * requester.requestEnd();\r\n     */\r\n    request: function (moveable) {\r\n        var datas = {};\r\n        var distRotate = 0;\r\n        var startRotation = moveable.getRotation();\r\n        return {\r\n            isControl: true,\r\n            requestStart: function () {\r\n                return { datas: datas };\r\n            },\r\n            request: function (e) {\r\n                if (\"deltaRotate\" in e) {\r\n                    distRotate += e.deltaRotate;\r\n                }\r\n                else if (\"rotate\" in e) {\r\n                    distRotate = e.rotate - startRotation;\r\n                }\r\n                return { datas: datas, parentDist: distRotate };\r\n            },\r\n            requestEnd: function () {\r\n                return { datas: datas, isDrag: true };\r\n            },\r\n        };\r\n    },\r\n};\r\n/**\r\n * Whether or not target can be rotated. (default: false)\r\n * @name Moveable.Rotatable#rotatable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.rotatable = true;\r\n */\r\n/**\r\n * You can specify the position of the rotation. (default: \"top\")\r\n * @name Moveable.Rotatable#rotationPosition\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   rotationPosition: \"top\",\r\n * });\r\n *\r\n * moveable.rotationPosition = \"bottom\"\r\n */\r\n/**\r\n * throttle of angle(degree) when rotate.\r\n * @name Moveable.Rotatable#throttleRotate\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.throttleRotate = 1;\r\n */\r\n/**\r\n * When the rotate starts, the rotateStart event is called.\r\n * @memberof Moveable.Rotatable\r\n * @event rotateStart\r\n * @param {Moveable.Rotatable.OnRotateStart} - Parameters for the rotateStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { rotatable: true });\r\n * moveable.on(\"rotateStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n* When rotating, the rotate event is called.\r\n* @memberof Moveable.Rotatable\r\n* @event rotate\r\n* @param {Moveable.Rotatable.OnRotate} - Parameters for the rotate event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, { rotatable: true });\r\n* moveable.on(\"rotate\", ({ target, transform, dist }) => {\r\n*     target.style.transform = transform;\r\n* });\r\n*/\r\n/**\r\n * When the rotate finishes, the rotateEnd event is called.\r\n * @memberof Moveable.Rotatable\r\n * @event rotateEnd\r\n * @param {Moveable.Rotatable.OnRotateEnd} - Parameters for the rotateEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { rotatable: true });\r\n * moveable.on(\"rotateEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\r\n/**\r\n * When the group rotate starts, the `rotateGroupStart` event is called.\r\n * @memberof Moveable.Rotatable\r\n * @event rotateGroupStart\r\n * @param {Moveable.Rotatable.OnRotateGroupStart} - Parameters for the `rotateGroupStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     rotatable: true\r\n * });\r\n * moveable.on(\"rotateGroupStart\", ({ targets }) => {\r\n *     console.log(\"onRotateGroupStart\", targets);\r\n * });\r\n */\r\n/**\r\n* When the group rotate, the `rotateGroup` event is called.\r\n* @memberof Moveable.Rotatable\r\n* @event rotateGroup\r\n* @param {Moveable.Rotatable.OnRotateGroup} - Parameters for the `rotateGroup` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     rotatable: true\r\n* });\r\n* moveable.on(\"rotateGroup\", ({ targets, events }) => {\r\n*     console.log(\"onRotateGroup\", targets);\r\n*     events.forEach(ev => {\r\n*         const target = ev.target;\r\n*         // ev.drag is a drag event that occurs when the group rotate.\r\n*         const left = ev.drag.beforeDist[0];\r\n*         const top = ev.drag.beforeDist[1];\r\n*         const deg = ev.beforeDist;\r\n*     });\r\n* });\r\n*/\r\n/**\r\n * When the group rotate finishes, the `rotateGroupEnd` event is called.\r\n * @memberof Moveable.Rotatable\r\n * @event rotateGroupEnd\r\n * @param {Moveable.Rotatable.OnRotateGroupEnd} - Parameters for the `rotateGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     rotatable: true\r\n * });\r\n * moveable.on(\"rotateGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onRotateGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\nfunction renderGuideline(info, React) {\r\n    var _a;\r\n    var direction = info.direction, classNames = info.classNames, size = info.size, pos = info.pos, zoom = info.zoom, key = info.key;\r\n    var isHorizontal = direction === \"horizontal\";\r\n    var scaleType = isHorizontal ? \"Y\" : \"X\";\r\n    // const scaleType2 = isHorizontal ? \"Y\" : \"X\";\r\n    return React.createElement(\"div\", {\r\n        key: key,\r\n        className: classNames.join(\" \"),\r\n        style: (_a = {},\r\n            _a[isHorizontal ? \"width\" : \"height\"] = \"\".concat(size),\r\n            _a.transform = \"translate(\".concat(pos[0], \", \").concat(pos[1], \") translate\").concat(scaleType, \"(-50%) scale\").concat(scaleType, \"(\").concat(zoom, \")\"),\r\n            _a),\r\n    });\r\n}\r\nfunction renderInnerGuideline(info, React) {\r\n    return renderGuideline(__assign(__assign({}, info), { classNames: __spreadArray([\r\n            prefix(\"line\", \"guideline\", info.direction)\r\n        ], __read(info.classNames), false).filter(function (className) { return className; }), size: info.size || \"\".concat(info.sizeValue, \"px\"), pos: info.pos || info.posValue.map(function (v) { return \"\".concat(throttle(v, 0.1), \"px\"); }) }), React);\r\n}\r\nfunction renderSnapPoses(moveable, direction, snapPoses, minPos, targetPos, size, index, React) {\r\n    var zoom = moveable.props.zoom;\r\n    return snapPoses.map(function (_a, i) {\r\n        var type = _a.type, pos = _a.pos;\r\n        var renderPos = [0, 0];\r\n        renderPos[index] = minPos;\r\n        renderPos[index ? 0 : 1] = -targetPos + pos;\r\n        return renderInnerGuideline({\r\n            key: \"\".concat(direction, \"TargetGuideline\").concat(i),\r\n            classNames: [prefix(\"target\", \"bold\", type)],\r\n            posValue: renderPos,\r\n            sizeValue: size,\r\n            zoom: zoom,\r\n            direction: direction,\r\n        }, React);\r\n    });\r\n}\r\nfunction renderGuidelines(moveable, type, guidelines, targetPos, targetRect, React) {\r\n    var _a = moveable.props, zoom = _a.zoom, isDisplayInnerSnapDigit = _a.isDisplayInnerSnapDigit;\r\n    var mainNames = type === \"horizontal\" ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\r\n    var targetStart = targetRect[mainNames.start];\r\n    var targetEnd = targetRect[mainNames.end];\r\n    return guidelines.filter(function (_a) {\r\n        var hide = _a.hide, elementRect = _a.elementRect;\r\n        if (hide) {\r\n            return false;\r\n        }\r\n        if (isDisplayInnerSnapDigit && elementRect) {\r\n            // inner\r\n            var rect = elementRect.rect;\r\n            if (rect[mainNames.start] <= targetStart && targetEnd <= rect[mainNames.end]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }).map(function (guideline, i) {\r\n        var pos = guideline.pos, size = guideline.size, element = guideline.element, className = guideline.className;\r\n        var renderPos = [\r\n            -targetPos[0] + pos[0],\r\n            -targetPos[1] + pos[1],\r\n        ];\r\n        return renderInnerGuideline({\r\n            key: \"\".concat(type, \"-default-guideline-\").concat(i),\r\n            classNames: element ? [prefix(\"bold\"), className] : [prefix(\"normal\"), className],\r\n            direction: type,\r\n            posValue: renderPos,\r\n            sizeValue: size,\r\n            zoom: zoom,\r\n        }, React);\r\n    });\r\n}\r\nfunction renderDigitLine(moveable, type, lineType, index, gap, renderPos, className, React) {\r\n    var _a;\r\n    var _b = moveable.props, _c = _b.snapDigit, snapDigit = _c === void 0 ? 0 : _c, _d = _b.isDisplaySnapDigit, isDisplaySnapDigit = _d === void 0 ? true : _d, _e = _b.snapDistFormat, snapDistFormat = _e === void 0 ? function (v, type) {\r\n        // Type can be used render different values.\r\n        if (type === 'vertical') {\r\n            return v;\r\n        }\r\n        return v;\r\n    } : _e, zoom = _b.zoom;\r\n    var scaleType = type === \"horizontal\" ? \"X\" : \"Y\";\r\n    var sizeName = type === \"vertical\" ? \"height\" : \"width\";\r\n    var absGap = Math.abs(gap);\r\n    var snapSize = isDisplaySnapDigit\r\n        ? parseFloat(absGap.toFixed(snapDigit))\r\n        : 0;\r\n    return React.createElement(\"div\", { key: \"\".concat(type, \"-\").concat(lineType, \"-guideline-\").concat(index), className: prefix(\"guideline-group\", type), style: (_a = {\r\n                left: \"\".concat(renderPos[0], \"px\"),\r\n                top: \"\".concat(renderPos[1], \"px\")\r\n            },\r\n            _a[sizeName] = \"\".concat(absGap, \"px\"),\r\n            _a) },\r\n        renderInnerGuideline({\r\n            direction: type,\r\n            classNames: [prefix(lineType), className],\r\n            size: \"100%\",\r\n            posValue: [0, 0],\r\n            sizeValue: absGap,\r\n            zoom: zoom,\r\n        }, React),\r\n        React.createElement(\"div\", { className: prefix(\"size-value\", \"gap\"), style: {\r\n                transform: \"translate\".concat(scaleType, \"(-50%) scale(\").concat(zoom, \")\"),\r\n            } }, snapSize > 0 ? snapDistFormat(snapSize, type) : \"\"));\r\n}\r\nfunction groupByElementGuidelines(type, guidelines, targetRect, isDisplayInnerSnapDigit) {\r\n    var index = type === \"vertical\" ? 0 : 1;\r\n    var otherIndex = type === \"vertical\" ? 1 : 0;\r\n    var names = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\r\n    var targetStart = targetRect[names.start];\r\n    var targetEnd = targetRect[names.end];\r\n    return groupBy(guidelines, function (guideline) {\r\n        return guideline.pos[index];\r\n    }).map(function (nextGuidelines) {\r\n        var start = [];\r\n        var end = [];\r\n        var inner = [];\r\n        nextGuidelines.forEach(function (guideline) {\r\n            var _a, _b;\r\n            var element = guideline.element;\r\n            var rect = guideline.elementRect.rect;\r\n            if (rect[names.end] < targetStart) {\r\n                start.push(guideline);\r\n            }\r\n            else if (targetEnd < rect[names.start]) {\r\n                end.push(guideline);\r\n            }\r\n            else if (rect[names.start] <= targetStart && targetEnd <= rect[names.end] && isDisplayInnerSnapDigit) {\r\n                var pos = guideline.pos;\r\n                var elementRect1 = { element: element, rect: __assign(__assign({}, rect), (_a = {}, _a[names.end] = rect[names.start], _a)) };\r\n                var elementRect2 = { element: element, rect: __assign(__assign({}, rect), (_b = {}, _b[names.start] = rect[names.end], _b)) };\r\n                var nextPos1 = [0, 0];\r\n                var nextPos2 = [0, 0];\r\n                nextPos1[index] = pos[index];\r\n                nextPos1[otherIndex] = pos[otherIndex];\r\n                nextPos2[index] = pos[index];\r\n                nextPos2[otherIndex] = pos[otherIndex] + guideline.size;\r\n                start.push({\r\n                    type: type,\r\n                    pos: nextPos1,\r\n                    size: 0,\r\n                    elementRect: elementRect1,\r\n                    direction: \"\",\r\n                    elementDirection: \"end\",\r\n                });\r\n                end.push({\r\n                    type: type,\r\n                    pos: nextPos2,\r\n                    size: 0,\r\n                    elementRect: elementRect2,\r\n                    direction: \"\",\r\n                    elementDirection: \"start\",\r\n                });\r\n                // inner.push(guideline);\r\n            }\r\n        });\r\n        start.sort(function (a, b) {\r\n            return b.pos[otherIndex] - a.pos[otherIndex];\r\n        });\r\n        end.sort(function (a, b) {\r\n            return a.pos[otherIndex] - b.pos[otherIndex];\r\n        });\r\n        return {\r\n            total: nextGuidelines,\r\n            start: start,\r\n            end: end,\r\n            inner: inner,\r\n        };\r\n    });\r\n}\r\nfunction renderDashedGuidelines(moveable, guidelines, targetPos, targetRect, React) {\r\n    var isDisplayInnerSnapDigit = moveable.props.isDisplayInnerSnapDigit;\r\n    var rendered = [];\r\n    [\"vertical\", \"horizontal\"].forEach(function (type) {\r\n        var nextGuidelines = guidelines.filter(function (guideline) { return guideline.type === type; });\r\n        var index = type === \"vertical\" ? 1 : 0;\r\n        var otherIndex = index ? 0 : 1;\r\n        var groups = groupByElementGuidelines(type, nextGuidelines, targetRect, isDisplayInnerSnapDigit);\r\n        var mainNames = index ? HORIZONTAL_NAMES_MAP : VERTICAL_NAMES_MAP;\r\n        var sideNames = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\r\n        var targetStart = targetRect[mainNames.start];\r\n        var targetEnd = targetRect[mainNames.end];\r\n        groups.forEach(function (_a) {\r\n            var total = _a.total, start = _a.start, end = _a.end, inner = _a.inner;\r\n            var sidePos = targetPos[otherIndex] + total[0].pos[otherIndex] - targetRect[sideNames.start];\r\n            var prevRect = targetRect;\r\n            start.forEach(function (guideline) {\r\n                var nextRect = guideline.elementRect.rect;\r\n                var size = prevRect[mainNames.start] - nextRect[mainNames.end];\r\n                if (size > 0) {\r\n                    var renderPos = [0, 0];\r\n                    renderPos[index] = targetPos[index] + prevRect[mainNames.start] - targetStart - size;\r\n                    renderPos[otherIndex] = sidePos;\r\n                    rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size, renderPos, guideline.className, React));\r\n                }\r\n                prevRect = nextRect;\r\n            });\r\n            prevRect = targetRect;\r\n            end.forEach(function (guideline) {\r\n                var nextRect = guideline.elementRect.rect;\r\n                var size = nextRect[mainNames.start] - prevRect[mainNames.end];\r\n                if (size > 0) {\r\n                    var renderPos = [0, 0];\r\n                    renderPos[index] = targetPos[index] + prevRect[mainNames.end] - targetStart;\r\n                    renderPos[otherIndex] = sidePos;\r\n                    rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size, renderPos, guideline.className, React));\r\n                }\r\n                prevRect = nextRect;\r\n            });\r\n            inner.forEach(function (guideline) {\r\n                var nextRect = guideline.elementRect.rect;\r\n                var size1 = targetStart - nextRect[mainNames.start];\r\n                var size2 = nextRect[mainNames.end] - targetEnd;\r\n                var renderPos1 = [0, 0];\r\n                var renderPos2 = [0, 0];\r\n                renderPos1[index] = targetPos[index] - size1;\r\n                renderPos1[otherIndex] = sidePos;\r\n                renderPos2[index] = targetPos[index] + targetEnd - targetStart;\r\n                renderPos2[otherIndex] = sidePos;\r\n                rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size1, renderPos1, guideline.className, React));\r\n                rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size2, renderPos2, guideline.className, React));\r\n            });\r\n        });\r\n    });\r\n    return rendered;\r\n}\r\nfunction renderGapGuidelines(moveable, guidelines, targetPos, targetRect, React) {\r\n    var rendered = [];\r\n    [\"horizontal\", \"vertical\"].forEach(function (type) {\r\n        var nextGuidelines = guidelines.filter(function (guideline) { return guideline.type === type; }).slice(0, 1);\r\n        var index = type === \"vertical\" ? 0 : 1;\r\n        var otherIndex = index ? 0 : 1;\r\n        var mainNames = index ? HORIZONTAL_NAMES_MAP : VERTICAL_NAMES_MAP;\r\n        var sideNames = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\r\n        var targetStart = targetRect[mainNames.start];\r\n        var targetEnd = targetRect[mainNames.end];\r\n        var targetSideStart = targetRect[sideNames.start];\r\n        var targetSideEnd = targetRect[sideNames.end];\r\n        nextGuidelines.forEach(function (_a) {\r\n            var gap = _a.gap, gapRects = _a.gapRects;\r\n            var sideStartPos = Math.max.apply(Math, __spreadArray([targetSideStart], __read(gapRects.map(function (_a) {\r\n                var rect = _a.rect;\r\n                return rect[sideNames.start];\r\n            })), false));\r\n            var sideEndPos = Math.min.apply(Math, __spreadArray([targetSideEnd], __read(gapRects.map(function (_a) {\r\n                var rect = _a.rect;\r\n                return rect[sideNames.end];\r\n            })), false));\r\n            var sideCenterPos = (sideStartPos + sideEndPos) / 2;\r\n            if (sideStartPos === sideEndPos || sideCenterPos === (targetSideStart + targetSideEnd) / 2) {\r\n                return;\r\n            }\r\n            gapRects.forEach(function (_a) {\r\n                var rect = _a.rect, className = _a.className;\r\n                var renderPos = [targetPos[0], targetPos[1]];\r\n                if (rect[mainNames.end] < targetStart) {\r\n                    renderPos[index] += rect[mainNames.end] - targetStart;\r\n                }\r\n                else if (targetEnd < rect[mainNames.start]) {\r\n                    renderPos[index] += rect[mainNames.start] - targetStart - gap;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n                renderPos[otherIndex] += sideCenterPos - targetSideStart;\r\n                rendered.push(renderDigitLine(moveable, index ? \"vertical\" : \"horizontal\", \"gap\", rendered.length, gap, renderPos, className, React));\r\n            });\r\n        });\r\n    });\r\n    return rendered;\r\n}\n\nfunction getTotalGuidelines(moveable) {\r\n    var _a, _b;\r\n    var state = moveable.state;\r\n    var containerClientRect = state.containerClientRect, hasFixed = state.hasFixed;\r\n    var overflow = containerClientRect.overflow, containerHeight = containerClientRect.scrollHeight, containerWidth = containerClientRect.scrollWidth, containerClientHeight = containerClientRect.clientHeight, containerClientWidth = containerClientRect.clientWidth, clientLeft = containerClientRect.clientLeft, clientTop = containerClientRect.clientTop;\r\n    var _c = moveable.props, _d = _c.snapGap, snapGap = _d === void 0 ? true : _d, verticalGuidelines = _c.verticalGuidelines, horizontalGuidelines = _c.horizontalGuidelines, _e = _c.snapThreshold, snapThreshold = _e === void 0 ? 5 : _e, _f = _c.maxSnapElementGuidelineDistance, maxSnapElementGuidelineDistance = _f === void 0 ? Infinity : _f, isDisplayGridGuidelines = _c.isDisplayGridGuidelines;\r\n    var _g = getRect(getAbsolutePosesByState(moveable.state)), top = _g.top, left = _g.left, bottom = _g.bottom, right = _g.right;\r\n    var targetRect = { top: top, left: left, bottom: bottom, right: right, center: (left + right) / 2, middle: (top + bottom) / 2 };\r\n    var elementGuidelines = getElementGuidelines(moveable);\r\n    var totalGuidelines = __spreadArray([], __read(elementGuidelines), false);\r\n    var snapThresholdMultiples = ((_b = (_a = state.snapThresholdInfo) === null || _a === void 0 ? void 0 : _a.multiples) !== null && _b !== void 0 ? _b : [1, 1]).map(function (n) { return n * snapThreshold; });\r\n    if (snapGap) {\r\n        totalGuidelines.push.apply(totalGuidelines, __spreadArray([], __read(getGapGuidelines(moveable, targetRect, snapThresholdMultiples)), false));\r\n    }\r\n    var snapOffset = __assign({}, (state.snapOffset || {\r\n        left: 0,\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n    }));\r\n    totalGuidelines.push.apply(totalGuidelines, __spreadArray([], __read(getGridGuidelines(moveable, overflow ? containerWidth : containerClientWidth, overflow ? containerHeight : containerClientHeight, clientLeft, clientTop, snapOffset, isDisplayGridGuidelines)), false));\r\n    if (hasFixed) {\r\n        var left_1 = containerClientRect.left, top_1 = containerClientRect.top;\r\n        snapOffset.left += left_1;\r\n        snapOffset.top += top_1;\r\n        snapOffset.right += left_1;\r\n        snapOffset.bottom += top_1;\r\n    }\r\n    totalGuidelines.push.apply(totalGuidelines, __spreadArray([], __read(getDefaultGuidelines(horizontalGuidelines || false, verticalGuidelines || false, overflow ? containerWidth : containerClientWidth, overflow ? containerHeight : containerClientHeight, clientLeft, clientTop, snapOffset)), false));\r\n    totalGuidelines = totalGuidelines.filter(function (_a) {\r\n        var element = _a.element, elementRect = _a.elementRect, type = _a.type;\r\n        if (!element || !elementRect) {\r\n            return true;\r\n        }\r\n        var rect = elementRect.rect;\r\n        return checkBetweenRects(targetRect, rect, type, maxSnapElementGuidelineDistance);\r\n    });\r\n    return totalGuidelines;\r\n}\r\nfunction getGapGuidelines(moveable, targetRect, snapThresholds) {\r\n    var _a = moveable.props, _b = _a.maxSnapElementGuidelineDistance, maxSnapElementGuidelineDistance = _b === void 0 ? Infinity : _b, _c = _a.maxSnapElementGapDistance, maxSnapElementGapDistance = _c === void 0 ? Infinity : _c;\r\n    var elementRects = moveable.state.elementRects;\r\n    var gapGuidelines = [];\r\n    [\r\n        [\"vertical\", VERTICAL_NAMES_MAP, HORIZONTAL_NAMES_MAP],\r\n        [\"horizontal\", HORIZONTAL_NAMES_MAP, VERTICAL_NAMES_MAP],\r\n    ].forEach(function (_a) {\r\n        var _b = __read(_a, 3), type = _b[0], mainNames = _b[1], sideNames = _b[2];\r\n        var targetStart = targetRect[mainNames.start];\r\n        var targetEnd = targetRect[mainNames.end];\r\n        var targetCenter = targetRect[mainNames.center];\r\n        var targetStart2 = targetRect[sideNames.start];\r\n        var targetEnd2 = targetRect[sideNames.end];\r\n        // element : moveable\r\n        var snapThresholdMap = {\r\n            left: snapThresholds[0],\r\n            top: snapThresholds[1],\r\n        };\r\n        function getDist(elementRect) {\r\n            var rect = elementRect.rect;\r\n            var snapThreshold = snapThresholdMap[mainNames.start];\r\n            if (rect[mainNames.end] < targetStart + snapThreshold) {\r\n                return targetStart - rect[mainNames.end];\r\n            }\r\n            else if (targetEnd - snapThreshold < rect[mainNames.start]) {\r\n                return rect[mainNames.start] - targetEnd;\r\n            }\r\n            else {\r\n                return -1;\r\n            }\r\n        }\r\n        var nextElementRects = elementRects.filter(function (elementRect) {\r\n            var rect = elementRect.rect;\r\n            if (rect[sideNames.start] > targetEnd2 || rect[sideNames.end] < targetStart2) {\r\n                return false;\r\n            }\r\n            return getDist(elementRect) > 0;\r\n        }).sort(function (a, b) {\r\n            return getDist(a) - getDist(b);\r\n        });\r\n        var groups = [];\r\n        nextElementRects.forEach(function (snapRect1) {\r\n            nextElementRects.forEach(function (snapRect2) {\r\n                if (snapRect1 === snapRect2) {\r\n                    return;\r\n                }\r\n                var rect1 = snapRect1.rect;\r\n                var rect2 = snapRect2.rect;\r\n                var rect1Start = rect1[sideNames.start];\r\n                var rect1End = rect1[sideNames.end];\r\n                var rect2Start = rect2[sideNames.start];\r\n                var rect2End = rect2[sideNames.end];\r\n                if (rect1Start > rect2End || rect2Start > rect1End) {\r\n                    return;\r\n                }\r\n                groups.push([snapRect1, snapRect2]);\r\n            });\r\n        });\r\n        groups.forEach(function (_a) {\r\n            var _b = __read(_a, 2), snapRect1 = _b[0], snapRect2 = _b[1];\r\n            var rect1 = snapRect1.rect;\r\n            var rect2 = snapRect2.rect;\r\n            var rect1Start = rect1[mainNames.start];\r\n            var rect1End = rect1[mainNames.end];\r\n            var rect2Start = rect2[mainNames.start];\r\n            var rect2End = rect2[mainNames.end];\r\n            var snapThreshold = snapThresholdMap[mainNames.start];\r\n            var gap = 0;\r\n            var pos = 0;\r\n            var isStart = false;\r\n            var isCenter = false;\r\n            var isEnd = false;\r\n            if (rect1End <= targetStart && targetEnd <= rect2Start) {\r\n                // (l)element1(r) : (l)target(r) : (l)element2(r)\r\n                isCenter = true;\r\n                gap = ((rect2Start - rect1End) - (targetEnd - targetStart)) / 2;\r\n                pos = rect1End + gap + (targetEnd - targetStart) / 2;\r\n                if (abs(pos - targetCenter) > snapThreshold) {\r\n                    return;\r\n                }\r\n            }\r\n            else if (rect1End < rect2Start && rect2End < targetStart + snapThreshold) {\r\n                // (l)element1(r) : (l)element2(r) : (l)target\r\n                isStart = true;\r\n                gap = rect2Start - rect1End;\r\n                pos = rect2End + gap;\r\n                if (abs(pos - targetStart) > snapThreshold) {\r\n                    return;\r\n                }\r\n            }\r\n            else if (rect1End < rect2Start && targetEnd - snapThreshold < rect1Start) {\r\n                // target(r) : (l)element1(r) : (l)element2(r)\r\n                isEnd = true;\r\n                gap = rect2Start - rect1End;\r\n                pos = rect1Start - gap;\r\n                if (abs(pos - targetEnd) > snapThreshold) {\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n            if (!gap) {\r\n                return;\r\n            }\r\n            if (!checkBetweenRects(targetRect, rect2, type, maxSnapElementGuidelineDistance)) {\r\n                return;\r\n            }\r\n            if (gap > maxSnapElementGapDistance) {\r\n                return;\r\n            }\r\n            gapGuidelines.push({\r\n                type: type,\r\n                pos: type === \"vertical\" ? [pos, 0] : [0, pos],\r\n                element: snapRect2.element,\r\n                size: 0,\r\n                className: snapRect2.className,\r\n                isStart: isStart,\r\n                isCenter: isCenter,\r\n                isEnd: isEnd,\r\n                gap: gap,\r\n                hide: true,\r\n                gapRects: [snapRect1, snapRect2],\r\n                direction: \"\",\r\n                elementDirection: \"\",\r\n            });\r\n        });\r\n    });\r\n    return gapGuidelines;\r\n}\r\nfunction startGridGroupGuidelines(moveable, clientLeft, clientTop, snapOffset) {\r\n    var _a, _b;\r\n    var props = moveable.props;\r\n    var state = moveable.state;\r\n    var snapGridAll = props.snapGridAll;\r\n    var _c = props.snapGridWidth, snapGridWidth = _c === void 0 ? 0 : _c, _d = props.snapGridHeight, snapGridHeight = _d === void 0 ? 0 : _d;\r\n    var snapRenderInfo = state.snapRenderInfo;\r\n    var hasDirection = snapRenderInfo && (((_a = snapRenderInfo.direction) === null || _a === void 0 ? void 0 : _a[0]) || ((_b = snapRenderInfo.direction) === null || _b === void 0 ? void 0 : _b[1]));\r\n    var moveables = moveable.moveables;\r\n    // snap group's all child to grid.\r\n    if (snapGridAll\r\n        && moveables\r\n        && hasDirection\r\n        && (snapGridWidth || snapGridHeight)) {\r\n        if (state.snapThresholdInfo) {\r\n            return;\r\n        }\r\n        state.snapThresholdInfo = {\r\n            multiples: [1, 1],\r\n            offset: [0, 0],\r\n        };\r\n        var rect_1 = moveable.getRect();\r\n        var children_1 = rect_1.children;\r\n        var direction = snapRenderInfo.direction;\r\n        if (children_1) {\r\n            var result = direction.map(function (dir, i) {\r\n                var _a = i === 0 ? {\r\n                    snapSize: snapGridWidth,\r\n                    posName: \"left\",\r\n                    sizeName: \"width\",\r\n                    clientOffset: snapOffset.left - clientLeft,\r\n                } : {\r\n                    snapSize: snapGridHeight,\r\n                    posName: \"top\",\r\n                    sizeName: \"height\",\r\n                    clientOffset: snapOffset.top - clientTop,\r\n                }, snapSize = _a.snapSize, posName = _a.posName, sizeName = _a.sizeName, clientOffset = _a.clientOffset;\r\n                if (!snapSize) {\r\n                    return {\r\n                        dir: dir,\r\n                        multiple: 1,\r\n                        snapSize: snapSize,\r\n                        snapOffset: 0,\r\n                    };\r\n                }\r\n                var rectSize = rect_1[sizeName];\r\n                var rectPos = rect_1[posName];\r\n                // 사이즈보다 만약 작다면 어떻게 해야되죠?\r\n                var childSizes = flat$1(children_1.map(function (child) {\r\n                    return [\r\n                        (child[posName] - rectPos),\r\n                        (child[sizeName]),\r\n                        (rectSize - child[sizeName] - child[posName] + rectPos),\r\n                    ];\r\n                })).filter(function (v) { return v; }).sort(function (a, b) {\r\n                    return a - b;\r\n                });\r\n                var firstChildSize = childSizes[0];\r\n                var childSnapSizes = childSizes.map(function (size) { return throttle(size / firstChildSize, 0.1) * snapSize; });\r\n                var n = 1;\r\n                var rectRatio = throttle(rectSize / firstChildSize, 0.1);\r\n                for (n = 1; n <= 10; ++n) {\r\n                    if (childSnapSizes.every(function (childSize) {\r\n                        return childSize * n % 1 === 0;\r\n                    })) {\r\n                        break;\r\n                    }\r\n                }\r\n                // dir 1 (fixed -1)\r\n                // dir 0 (fixed 0)\r\n                // dir -1 (fixed 1)\r\n                var ratio = (-dir + 1) / 2;\r\n                var offsetPos = dot(rectPos - clientOffset, rectPos - clientOffset + rectSize, ratio, 1 - ratio);\r\n                return {\r\n                    multiple: rectRatio * n,\r\n                    dir: dir,\r\n                    snapSize: snapSize,\r\n                    snapOffset: Math.round(offsetPos / snapSize),\r\n                };\r\n            });\r\n            var multiples = result.map(function (r) { return r.multiple || 1; });\r\n            state.snapThresholdInfo.multiples = multiples;\r\n            state.snapThresholdInfo.offset = result.map(function (r) { return r.snapOffset; });\r\n            result.forEach(function (r, i) {\r\n                if (r.snapSize) ;\r\n            });\r\n        }\r\n    }\r\n    else {\r\n        state.snapThresholdInfo = null;\r\n    }\r\n}\r\nfunction getGridGuidelines(moveable, containerWidth, containerHeight, clientLeft, clientTop, snapOffset, isDisplayGridGuidelines) {\r\n    if (clientLeft === void 0) { clientLeft = 0; }\r\n    if (clientTop === void 0) { clientTop = 0; }\r\n    var props = moveable.props;\r\n    var state = moveable.state;\r\n    var _a = props.snapGridWidth, snapGridWidth = _a === void 0 ? 0 : _a, _b = props.snapGridHeight, snapGridHeight = _b === void 0 ? 0 : _b;\r\n    var guidelines = [];\r\n    var snapOffsetLeft = snapOffset.left, snapOffsetTop = snapOffset.top;\r\n    var startOffset = [0, 0];\r\n    startGridGroupGuidelines(moveable, clientLeft, clientTop, snapOffset);\r\n    var snapThresholdInfo = state.snapThresholdInfo;\r\n    var defaultSnapGridWidth = snapGridWidth;\r\n    var defaultSnapGridHeight = snapGridHeight;\r\n    if (snapThresholdInfo) {\r\n        snapGridWidth *= snapThresholdInfo.multiples[0] || 1;\r\n        snapGridHeight *= snapThresholdInfo.multiples[1] || 1;\r\n        startOffset = snapThresholdInfo.offset;\r\n    }\r\n    if (snapGridHeight) {\r\n        var pushGuideline = function (pos) {\r\n            guidelines.push({\r\n                type: \"horizontal\",\r\n                pos: [\r\n                    snapOffsetLeft,\r\n                    throttle(startOffset[1] * defaultSnapGridHeight + pos - clientTop + snapOffsetTop, 0.1),\r\n                ],\r\n                className: prefix(\"grid-guideline\"),\r\n                size: containerWidth,\r\n                hide: !isDisplayGridGuidelines,\r\n                direction: \"\",\r\n                grid: true,\r\n            });\r\n        };\r\n        for (var pos = 0; pos <= containerHeight * 2; pos += snapGridHeight) {\r\n            pushGuideline(pos);\r\n        }\r\n        for (var pos = -snapGridHeight; pos >= -containerHeight; pos -= snapGridHeight) {\r\n            pushGuideline(pos);\r\n        }\r\n    }\r\n    if (snapGridWidth) {\r\n        var pushGuideline = function (pos) {\r\n            guidelines.push({\r\n                type: \"vertical\",\r\n                pos: [\r\n                    throttle(startOffset[0] * defaultSnapGridWidth + pos - clientLeft + snapOffsetLeft, 0.1),\r\n                    snapOffsetTop,\r\n                ],\r\n                className: prefix(\"grid-guideline\"),\r\n                size: containerHeight,\r\n                hide: !isDisplayGridGuidelines,\r\n                direction: \"\",\r\n                grid: true,\r\n            });\r\n        };\r\n        for (var pos = 0; pos <= containerWidth * 2; pos += snapGridWidth) {\r\n            pushGuideline(pos);\r\n        }\r\n        for (var pos = -snapGridWidth; pos >= -containerWidth; pos -= snapGridWidth) {\r\n            pushGuideline(pos);\r\n        }\r\n    }\r\n    return guidelines;\r\n}\r\nfunction checkBetweenRects(rect1, rect2, type, distance) {\r\n    if (type === \"horizontal\") {\r\n        return abs(rect1.right - rect2.left) <= distance\r\n            || abs(rect1.left - rect2.right) <= distance\r\n            || rect1.left <= rect2.right && rect2.left <= rect1.right;\r\n    }\r\n    else if (type === \"vertical\") {\r\n        return abs(rect1.bottom - rect2.top) <= distance\r\n            || abs(rect1.top - rect2.bottom) <= distance\r\n            || rect1.top <= rect2.bottom && rect2.top <= rect1.bottom;\r\n    }\r\n    return true;\r\n}\r\nfunction getElementGuidelines(moveable) {\r\n    var state = moveable.state;\r\n    var _a = moveable.props.elementGuidelines, elementGuidelines = _a === void 0 ? [] : _a;\r\n    if (!elementGuidelines.length) {\r\n        state.elementRects = [];\r\n        return [];\r\n    }\r\n    var prevValues = (state.elementRects || []).filter(function (snapRect) { return !snapRect.refresh; });\r\n    var nextElementGuidelines = elementGuidelines.map(function (el) {\r\n        if (isObject(el) && \"element\" in el) {\r\n            return __assign(__assign({}, el), { element: getRefTarget(el.element, true) });\r\n        }\r\n        return {\r\n            element: getRefTarget(el, true),\r\n        };\r\n    }).filter(function (value) {\r\n        return value.element;\r\n    });\r\n    var _b = diff(prevValues.map(function (v) { return v.element; }), nextElementGuidelines.map(function (v) { return v.element; })), maintained = _b.maintained, added = _b.added;\r\n    var nextValues = [];\r\n    maintained.forEach(function (_a) {\r\n        var _b = __read(_a, 2), prevIndex = _b[0], nextIndex = _b[1];\r\n        nextValues[nextIndex] = prevValues[prevIndex];\r\n    });\r\n    getSnapElementRects(moveable, added.map(function (index) { return nextElementGuidelines[index]; })).map(function (rect, i) {\r\n        nextValues[added[i]] = rect;\r\n    });\r\n    state.elementRects = nextValues;\r\n    var elementSnapDirections = getSnapDirections(moveable.props.elementSnapDirections);\r\n    var nextGuidelines = [];\r\n    nextValues.forEach(function (snapRect) {\r\n        var element = snapRect.element, _a = snapRect.top, topValue = _a === void 0 ? elementSnapDirections.top : _a, _b = snapRect.left, leftValue = _b === void 0 ? elementSnapDirections.left : _b, _c = snapRect.right, rightValue = _c === void 0 ? elementSnapDirections.right : _c, _d = snapRect.bottom, bottomValue = _d === void 0 ? elementSnapDirections.bottom : _d, _e = snapRect.center, centerValue = _e === void 0 ? elementSnapDirections.center : _e, _f = snapRect.middle, middleValue = _f === void 0 ? elementSnapDirections.middle : _f, className = snapRect.className, rect = snapRect.rect;\r\n        var _g = splitSnapDirectionPoses({\r\n            top: topValue,\r\n            right: rightValue,\r\n            left: leftValue,\r\n            bottom: bottomValue,\r\n            center: centerValue,\r\n            middle: middleValue,\r\n        }, rect), horizontal = _g.horizontal, vertical = _g.vertical, horizontalNames = _g.horizontalNames, verticalNames = _g.verticalNames;\r\n        var rectTop = rect.top;\r\n        var rectLeft = rect.left;\r\n        var width = rect.right - rectLeft;\r\n        var height = rect.bottom - rectTop;\r\n        var sizes = [width, height];\r\n        vertical.forEach(function (pos, i) {\r\n            nextGuidelines.push({\r\n                type: \"vertical\",\r\n                element: element,\r\n                pos: [\r\n                    throttle(pos, 0.1),\r\n                    rectTop,\r\n                ], size: height,\r\n                sizes: sizes,\r\n                className: className,\r\n                elementRect: snapRect,\r\n                elementDirection: SNAP_SKIP_NAMES_MAP[verticalNames[i]] || verticalNames[i],\r\n                direction: \"\",\r\n            });\r\n        });\r\n        horizontal.forEach(function (pos, i) {\r\n            nextGuidelines.push({\r\n                type: \"horizontal\",\r\n                element: element,\r\n                pos: [\r\n                    rectLeft,\r\n                    throttle(pos, 0.1),\r\n                ],\r\n                size: width,\r\n                sizes: sizes,\r\n                className: className,\r\n                elementRect: snapRect,\r\n                elementDirection: SNAP_SKIP_NAMES_MAP[horizontalNames[i]] || horizontalNames[i],\r\n                direction: \"\",\r\n            });\r\n        });\r\n    });\r\n    return nextGuidelines;\r\n}\r\nfunction getObjectGuidelines(guidelines, containerSize) {\r\n    return guidelines ? guidelines.map(function (info) {\r\n        var posGuideline = isObject(info) ? info : { pos: info };\r\n        var pos = posGuideline.pos;\r\n        if (isNumber(pos)) {\r\n            return posGuideline;\r\n        }\r\n        else {\r\n            return __assign(__assign({}, posGuideline), { pos: convertUnitSize(pos, containerSize) });\r\n        }\r\n    }) : [];\r\n}\r\nfunction getDefaultGuidelines(horizontalGuidelines, verticalGuidelines, width, height, clientLeft, clientTop, snapOffset) {\r\n    if (clientLeft === void 0) { clientLeft = 0; }\r\n    if (clientTop === void 0) { clientTop = 0; }\r\n    if (snapOffset === void 0) { snapOffset = { left: 0, top: 0, right: 0, bottom: 0 }; }\r\n    var guidelines = [];\r\n    var snapOffsetLeft = snapOffset.left, snapOffsetTop = snapOffset.top, snapOffsetBottom = snapOffset.bottom, snapOffsetRight = snapOffset.right;\r\n    var snapWidth = width + snapOffsetRight - snapOffsetLeft;\r\n    var snapHeight = height + snapOffsetBottom - snapOffsetTop;\r\n    getObjectGuidelines(horizontalGuidelines, snapHeight).forEach(function (posInfo) {\r\n        guidelines.push({\r\n            type: \"horizontal\",\r\n            pos: [\r\n                snapOffsetLeft,\r\n                throttle(posInfo.pos - clientTop + snapOffsetTop, 0.1),\r\n            ],\r\n            size: snapWidth,\r\n            className: posInfo.className,\r\n            direction: \"\",\r\n        });\r\n    });\r\n    getObjectGuidelines(verticalGuidelines, snapWidth).forEach(function (posInfo) {\r\n        guidelines.push({\r\n            type: \"vertical\",\r\n            pos: [\r\n                throttle(posInfo.pos - clientLeft + snapOffsetLeft, 0.1),\r\n                snapOffsetTop,\r\n            ],\r\n            size: snapHeight,\r\n            className: posInfo.className,\r\n            direction: \"\",\r\n        });\r\n    });\r\n    return guidelines;\r\n}\r\nfunction getSnapElementRects(moveable, values) {\r\n    if (!values.length) {\r\n        return [];\r\n    }\r\n    var groupable = moveable.props.groupable;\r\n    var state = moveable.state;\r\n    var containerClientRect = state.containerClientRect, \r\n    // targetClientRect: {\r\n    //     top: clientTop,\r\n    //     left: clientLeft,\r\n    // },\r\n    rootMatrix = state.rootMatrix, is3d = state.is3d, offsetDelta = state.offsetDelta;\r\n    var n = is3d ? 4 : 3;\r\n    var _a = __read(calculateContainerPos(rootMatrix, containerClientRect, n), 2), containerLeft = _a[0], containerTop = _a[1];\r\n    // const poses = getAbsolutePosesByState(state);\r\n    // const {\r\n    //     minX: targetLeft,\r\n    //     minY: targetTop,\r\n    // } = getMinMaxs(poses);\r\n    // const [distLeft, distTop] = minus([targetLeft, targetTop], calculateInversePosition(rootMatrix, [\r\n    //     clientLeft - containerLeft,\r\n    //     clientTop - containerTop,\r\n    // ], n)).map(pos => roundSign(pos));\r\n    var offsetLeft = groupable ? 0 : offsetDelta[0];\r\n    var offsetTop = groupable ? 0 : offsetDelta[1];\r\n    return values.map(function (value) {\r\n        var rect = value.element.getBoundingClientRect();\r\n        var left = rect.left - containerLeft - offsetLeft;\r\n        var top = rect.top - containerTop - offsetTop;\r\n        var bottom = top + rect.height;\r\n        var right = left + rect.width;\r\n        var _a = __read(calculateInversePosition(rootMatrix, [left, top], n), 2), elementLeft = _a[0], elementTop = _a[1];\r\n        var _b = __read(calculateInversePosition(rootMatrix, [right, bottom], n), 2), elementRight = _b[0], elementBottom = _b[1];\r\n        return __assign(__assign({}, value), { rect: {\r\n                left: elementLeft,\r\n                right: elementRight,\r\n                top: elementTop,\r\n                bottom: elementBottom,\r\n                center: (elementLeft + elementRight) / 2,\r\n                middle: (elementTop + elementBottom) / 2,\r\n            } });\r\n    });\r\n}\n\nfunction checkSnapInfo(moveable) {\r\n    var state = moveable.state;\r\n    var container = state.container;\r\n    var snapContainer = moveable.props.snapContainer || container;\r\n    if (state.snapContainer === snapContainer && state.guidelines && state.guidelines.length) {\r\n        return false;\r\n    }\r\n    var containerClientRect = state.containerClientRect;\r\n    var snapOffset = {\r\n        left: 0,\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n    };\r\n    if (container !== snapContainer) {\r\n        var snapContainerTarget = getRefTarget(snapContainer, true);\r\n        if (snapContainerTarget) {\r\n            var snapContainerRect = getClientRect(snapContainerTarget);\r\n            var offset1 = getDragDistByState(state, [\r\n                snapContainerRect.left - containerClientRect.left,\r\n                snapContainerRect.top - containerClientRect.top,\r\n            ]);\r\n            var offset2 = getDragDistByState(state, [\r\n                snapContainerRect.right - containerClientRect.right,\r\n                snapContainerRect.bottom - containerClientRect.bottom,\r\n            ]);\r\n            snapOffset.left = throttle(offset1[0], 0.00001);\r\n            snapOffset.top = throttle(offset1[1], 0.00001);\r\n            snapOffset.right = throttle(offset2[0], 0.00001);\r\n            snapOffset.bottom = throttle(offset2[1], 0.00001);\r\n        }\r\n    }\r\n    state.snapContainer = snapContainer;\r\n    state.snapOffset = snapOffset;\r\n    state.guidelines = getTotalGuidelines(moveable);\r\n    state.enableSnap = true;\r\n    return true;\r\n}\r\nfunction getNextFixedPoses(matrix, width, height, fixedDirection, fixedPos, is3d) {\r\n    var nextPoses = calculatePoses(matrix, width, height, is3d ? 4 : 3);\r\n    var nextFixedPos = getPosByDirection(nextPoses, fixedDirection);\r\n    return getAbsolutePoses(nextPoses, minus(fixedPos, nextFixedPos));\r\n}\r\nfunction normalized(value) {\r\n    return value ? value / abs(value) : 0;\r\n}\r\nfunction getSizeOffsetInfo(moveable, poses, direction, keepRatio, isRequest, datas) {\r\n    var fixedDirection = datas.fixedDirection;\r\n    var directions = getCheckSnapDirections(direction, fixedDirection, keepRatio);\r\n    var innerBoundLineInfos = getCheckInnerBoundLineInfos(moveable, poses, direction, keepRatio);\r\n    var offsets = __spreadArray(__spreadArray([], __read(getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas)), false), __read(getInnerBoundInfo(moveable, innerBoundLineInfos, datas)), false);\r\n    var widthOffsetInfo = getNearOffsetInfo(offsets, 0);\r\n    var heightOffsetInfo = getNearOffsetInfo(offsets, 1);\r\n    return {\r\n        width: {\r\n            isBound: widthOffsetInfo.isBound,\r\n            offset: widthOffsetInfo.offset[0],\r\n        },\r\n        height: {\r\n            isBound: heightOffsetInfo.isBound,\r\n            offset: heightOffsetInfo.offset[1],\r\n        },\r\n    };\r\n}\r\nfunction recheckSizeByTwoDirection(moveable, poses, width, height, maxWidth, maxHeight, direction, isRequest, datas) {\r\n    var snapPos = getPosByDirection(poses, direction);\r\n    var _a = checkMoveableSnapBounds(moveable, isRequest, {\r\n        vertical: [snapPos[0]],\r\n        horizontal: [snapPos[1]],\r\n    }), horizontalOffset = _a.horizontal.offset, verticalOffset = _a.vertical.offset;\r\n    if (throttle(verticalOffset, FLOAT_POINT_NUM) || throttle(horizontalOffset, FLOAT_POINT_NUM)) {\r\n        var _b = __read(getDragDist({\r\n            datas: datas,\r\n            distX: -verticalOffset,\r\n            distY: -horizontalOffset,\r\n        }), 2), nextWidthOffset = _b[0], nextHeightOffset = _b[1];\r\n        var nextWidth = Math.min(maxWidth || Infinity, width + direction[0] * nextWidthOffset);\r\n        var nextHeight = Math.min(maxHeight || Infinity, height + direction[1] * nextHeightOffset);\r\n        return [nextWidth - width, nextHeight - height];\r\n    }\r\n    return [0, 0];\r\n}\r\nfunction checkSizeDist(moveable, getNextPoses, width, height, direction, fixedPosition, isRequest, datas) {\r\n    var poses = getAbsolutePosesByState(moveable.state);\r\n    var keepRatio = moveable.props.keepRatio;\r\n    var widthOffset = 0;\r\n    var heightOffset = 0;\r\n    for (var i = 0; i < 2; ++i) {\r\n        var nextPoses = getNextPoses(widthOffset, heightOffset);\r\n        var _a = getSizeOffsetInfo(moveable, nextPoses, direction, keepRatio, isRequest, datas), widthOffsetInfo = _a.width, heightOffsetInfo = _a.height;\r\n        var isWidthBound = widthOffsetInfo.isBound;\r\n        var isHeightBound = heightOffsetInfo.isBound;\r\n        var nextWidthOffset = widthOffsetInfo.offset;\r\n        var nextHeightOffset = heightOffsetInfo.offset;\r\n        if (i === 1) {\r\n            if (!isWidthBound) {\r\n                nextWidthOffset = 0;\r\n            }\r\n            if (!isHeightBound) {\r\n                nextHeightOffset = 0;\r\n            }\r\n        }\r\n        if (i === 0 && isRequest && !isWidthBound && !isHeightBound) {\r\n            return [0, 0];\r\n        }\r\n        if (keepRatio) {\r\n            var widthDist = abs(nextWidthOffset) * (width ? 1 / width : 1);\r\n            var heightDist = abs(nextHeightOffset) * (height ? 1 / height : 1);\r\n            var isGetWidthOffset = isWidthBound && isHeightBound\r\n                ? widthDist < heightDist\r\n                : isHeightBound ||\r\n                    (!isWidthBound && widthDist < heightDist);\r\n            if (isGetWidthOffset) {\r\n                // width : height = ? : heightOffset\r\n                nextWidthOffset = (width * nextHeightOffset) / height;\r\n            }\r\n            else {\r\n                // width : height = widthOffset : ?\r\n                nextHeightOffset = (height * nextWidthOffset) / width;\r\n            }\r\n        }\r\n        widthOffset += nextWidthOffset;\r\n        heightOffset += nextHeightOffset;\r\n    }\r\n    if (!keepRatio && direction[0] && direction[1]) {\r\n        var _b = checkMaxBounds(moveable, poses, direction, fixedPosition, datas), maxWidth = _b.maxWidth, maxHeight = _b.maxHeight;\r\n        var _c = __read(recheckSizeByTwoDirection(moveable, getNextPoses(widthOffset, heightOffset).map(function (pos) { return pos.map(function (p) { return throttle(p, FLOAT_POINT_NUM); }); }), width + widthOffset, height + heightOffset, maxWidth, maxHeight, direction, isRequest, datas), 2), nextWidthOffset = _c[0], nextHeightOffset = _c[1];\r\n        widthOffset += nextWidthOffset;\r\n        heightOffset += nextHeightOffset;\r\n    }\r\n    return [widthOffset, heightOffset];\r\n}\r\nfunction absDegree(deg) {\r\n    if (deg < 0) {\r\n        deg = deg % 360 + 360;\r\n    }\r\n    deg %= 360;\r\n    return deg;\r\n}\r\nfunction bumpDegree(baseDeg, snapDeg) {\r\n    // baseDeg -80\r\n    // snapDeg 270\r\n    // return -90\r\n    snapDeg = absDegree(snapDeg);\r\n    var count = Math.floor(baseDeg / 360);\r\n    var deg1 = count * 360 + 360 - snapDeg;\r\n    var deg2 = count * 360 + snapDeg;\r\n    return abs(baseDeg - deg1) < abs(baseDeg - deg2) ? deg1 : deg2;\r\n}\r\nfunction getMinDegreeDistance(deg1, deg2) {\r\n    deg1 = absDegree(deg1);\r\n    deg2 = absDegree(deg2);\r\n    var deg3 = absDegree(deg1 - deg2);\r\n    return Math.min(deg3, 360 - deg3);\r\n}\r\nfunction checkSnapRotate(moveable, rect, dist, rotation) {\r\n    var _a;\r\n    var props = moveable.props;\r\n    var snapRotationThreshold = (_a = props[NAME_snapRotationThreshold]) !== null && _a !== void 0 ? _a : 5;\r\n    var snapRotationDegrees = props[NAME_snapRotationDegrees];\r\n    if (hasGuidelines(moveable, \"rotatable\")) {\r\n        var pos1 = rect.pos1, pos2 = rect.pos2, pos3 = rect.pos3, pos4 = rect.pos4, origin2_1 = rect.origin;\r\n        var rad_1 = (dist * Math.PI) / 180;\r\n        var prevPoses = [pos1, pos2, pos3, pos4].map(function (pos) { return minus(pos, origin2_1); });\r\n        var nextPoses = prevPoses.map(function (pos) { return rotate(pos, rad_1); });\r\n        // console.log(moveable.state.left, moveable.state.top, moveable.state.origin);\r\n        // console.log(pos1, pos2, pos3, pos4, origin, rad, prevPoses, nextPoses);\r\n        var result = __spreadArray(__spreadArray([], __read(checkRotateBounds(moveable, prevPoses, nextPoses, origin2_1, dist)), false), __read(checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin2_1, dist)), false);\r\n        result.sort(function (a, b) { return abs(a - dist) - abs(b - dist); });\r\n        var isSnap = result.length > 0;\r\n        if (isSnap) {\r\n            return {\r\n                isSnap: isSnap,\r\n                dist: isSnap ? result[0] : dist,\r\n            };\r\n        }\r\n    }\r\n    if ((snapRotationDegrees === null || snapRotationDegrees === void 0 ? void 0 : snapRotationDegrees.length) && snapRotationThreshold) {\r\n        var sorted = snapRotationDegrees.slice().sort(function (a, b) {\r\n            return getMinDegreeDistance(a, rotation) - getMinDegreeDistance(b, rotation);\r\n        });\r\n        var firstDegree = sorted[0];\r\n        if (getMinDegreeDistance(firstDegree, rotation) <= snapRotationThreshold) {\r\n            return {\r\n                isSnap: true,\r\n                dist: dist + bumpDegree(rotation, firstDegree) - rotation,\r\n            };\r\n        }\r\n    }\r\n    return {\r\n        isSnap: false,\r\n        dist: dist,\r\n    };\r\n}\r\nfunction checkSnapResize(moveable, width, height, direction, fixedPosition, isRequest, datas) {\r\n    if (!hasGuidelines(moveable, \"resizable\")) {\r\n        return [0, 0];\r\n    }\r\n    var fixedDirection = datas.fixedDirection, nextAllMatrix = datas.nextAllMatrix;\r\n    var _a = moveable.state, allMatrix = _a.allMatrix, is3d = _a.is3d;\r\n    return checkSizeDist(moveable, function (widthOffset, heightOffset) {\r\n        return getNextFixedPoses(nextAllMatrix || allMatrix, width + widthOffset, height + heightOffset, fixedDirection, fixedPosition, is3d);\r\n    }, width, height, direction, fixedPosition, isRequest, datas);\r\n}\r\nfunction checkSnapScale(moveable, scale, direction, isRequest, datas) {\r\n    if (!hasGuidelines(moveable, \"scalable\")) {\r\n        return [0, 0];\r\n    }\r\n    var startOffsetWidth = datas.startOffsetWidth, startOffsetHeight = datas.startOffsetHeight, fixedPosition = datas.fixedPosition, fixedDirection = datas.fixedDirection, is3d = datas.is3d;\r\n    var sizeDist = checkSizeDist(moveable, function (widthOffset, heightOffset) {\r\n        return getNextFixedPoses(scaleMatrix(datas, plus(scale, [widthOffset / startOffsetWidth, heightOffset / startOffsetHeight])), startOffsetWidth, startOffsetHeight, fixedDirection, fixedPosition, is3d);\r\n    }, startOffsetWidth, startOffsetHeight, direction, fixedPosition, isRequest, datas);\r\n    return [sizeDist[0] / startOffsetWidth, sizeDist[1] / startOffsetHeight];\r\n}\r\nfunction startCheckSnapDrag(moveable, datas) {\r\n    datas.absolutePoses = getAbsolutePosesByState(moveable.state);\r\n}\r\nfunction getSnapGuidelines(posInfos) {\r\n    var guidelines = [];\r\n    posInfos.forEach(function (posInfo) {\r\n        posInfo.guidelineInfos.forEach(function (_a) {\r\n            var guideline = _a.guideline;\r\n            if (find(guidelines, function (info) { return info.guideline === guideline; })) {\r\n                return;\r\n            }\r\n            guideline.direction = \"\";\r\n            guidelines.push({ guideline: guideline, posInfo: posInfo });\r\n        });\r\n    });\r\n    return guidelines.map(function (_a) {\r\n        var guideline = _a.guideline, posInfo = _a.posInfo;\r\n        return __assign(__assign({}, guideline), { direction: posInfo.direction });\r\n    });\r\n}\r\nfunction addBoundGuidelines(moveable, verticalPoses, horizontalPoses, verticalSnapPoses, horizontalSnapPoses, externalBounds) {\r\n    var _a = checkBoundPoses(getBounds(moveable, externalBounds), verticalPoses, horizontalPoses), verticalBoundInfos = _a.vertical, horizontalBoundInfos = _a.horizontal;\r\n    var boundMap = getInitialBounds();\r\n    verticalBoundInfos.forEach(function (info) {\r\n        if (info.isBound) {\r\n            if (info.direction === \"start\") {\r\n                boundMap.left = true;\r\n            }\r\n            if (info.direction === \"end\") {\r\n                boundMap.right = true;\r\n            }\r\n            verticalSnapPoses.push({\r\n                type: \"bounds\",\r\n                pos: info.pos,\r\n            });\r\n        }\r\n    });\r\n    horizontalBoundInfos.forEach(function (info) {\r\n        if (info.isBound) {\r\n            if (info.direction === \"start\") {\r\n                boundMap.top = true;\r\n            }\r\n            if (info.direction === \"end\") {\r\n                boundMap.bottom = true;\r\n            }\r\n            horizontalSnapPoses.push({\r\n                type: \"bounds\",\r\n                pos: info.pos,\r\n            });\r\n        }\r\n    });\r\n    var _b = checkInnerBoundPoses(moveable), innerBoundMap = _b.boundMap, verticalInnerBoundPoses = _b.vertical, horizontalInnerBoundPoses = _b.horizontal;\r\n    verticalInnerBoundPoses.forEach(function (innerPos) {\r\n        if (findIndex(verticalSnapPoses, function (_a) {\r\n            var type = _a.type, pos = _a.pos;\r\n            return type === \"bounds\" && pos === innerPos;\r\n        }) >= 0) {\r\n            return;\r\n        }\r\n        verticalSnapPoses.push({\r\n            type: \"bounds\",\r\n            pos: innerPos,\r\n        });\r\n    });\r\n    horizontalInnerBoundPoses.forEach(function (innerPos) {\r\n        if (findIndex(horizontalSnapPoses, function (_a) {\r\n            var type = _a.type, pos = _a.pos;\r\n            return type === \"bounds\" && pos === innerPos;\r\n        }) >= 0) {\r\n            return;\r\n        }\r\n        horizontalSnapPoses.push({\r\n            type: \"bounds\",\r\n            pos: innerPos,\r\n        });\r\n    });\r\n    return {\r\n        boundMap: boundMap,\r\n        innerBoundMap: innerBoundMap,\r\n    };\r\n}\r\nvar directionCondition$1 = getDirectionCondition(\"\", [\"resizable\", \"scalable\"]);\r\n/**\r\n * @namespace Moveable.Snappable\r\n * @description Whether or not target can be snapped to the guideline. (default: false)\r\n * @sort 2\r\n */\r\nvar Snappable = {\r\n    name: \"snappable\",\r\n    dragRelation: \"strong\",\r\n    props: [\r\n        \"snappable\",\r\n        \"snapContainer\",\r\n        \"snapDirections\",\r\n        \"elementSnapDirections\",\r\n        \"snapGap\",\r\n        \"snapGridWidth\",\r\n        \"snapGridHeight\",\r\n        \"isDisplaySnapDigit\",\r\n        \"isDisplayInnerSnapDigit\",\r\n        \"isDisplayGridGuidelines\",\r\n        \"snapDigit\",\r\n        \"snapThreshold\",\r\n        \"snapRenderThreshold\",\r\n        \"snapGridAll\",\r\n        NAME_snapRotationThreshold,\r\n        NAME_snapRotationDegrees,\r\n        NAME_snapHorizontalThreshold,\r\n        NAME_snapVerticalThreshold,\r\n        \"horizontalGuidelines\",\r\n        \"verticalGuidelines\",\r\n        \"elementGuidelines\",\r\n        \"bounds\",\r\n        \"innerBounds\",\r\n        \"snapDistFormat\",\r\n        \"maxSnapElementGuidelineDistance\",\r\n        \"maxSnapElementGapDistance\",\r\n    ],\r\n    events: [\"snap\", \"bound\"],\r\n    css: [\r\n        \":host {\\n--bounds-color: #d66;\\n}\\n.guideline {\\npointer-events: none;\\nz-index: 2;\\n}\\n.guideline.bounds {\\nbackground: #d66;\\nbackground: var(--bounds-color);\\n}\\n.guideline-group {\\nposition: absolute;\\ntop: 0;\\nleft: 0;\\n}\\n.guideline-group .size-value {\\nposition: absolute;\\ncolor: #f55;\\nfont-size: 12px;\\nfont-size: calc(12px * var(--zoom));\\nfont-weight: bold;\\n}\\n.guideline-group.horizontal .size-value {\\ntransform-origin: 50% 100%;\\ntransform: translateX(-50%);\\nleft: 50%;\\nbottom: 5px;\\nbottom: calc(2px + 3px * var(--zoom));\\n}\\n.guideline-group.vertical .size-value {\\ntransform-origin: 0% 50%;\\ntop: 50%;\\ntransform: translateY(-50%);\\nleft: 5px;\\nleft: calc(2px + 3px * var(--zoom));\\n}\\n.guideline.gap {\\nbackground: #f55;\\n}\\n.size-value.gap {\\ncolor: #f55;\\n}\\n\",\r\n    ],\r\n    render: function (moveable, React) {\r\n        var state = moveable.state;\r\n        var targetTop = state.top, targetLeft = state.left, pos1 = state.pos1, pos2 = state.pos2, pos3 = state.pos3, pos4 = state.pos4, snapRenderInfo = state.snapRenderInfo;\r\n        var _a = moveable.props.snapRenderThreshold, snapRenderThreshold = _a === void 0 ? 1 : _a;\r\n        if (!snapRenderInfo || !snapRenderInfo.render || !hasGuidelines(moveable, \"\")) {\r\n            // reset store\r\n            watchValue(moveable, \"boundMap\", getInitialBounds(), function (v) { return JSON.stringify(v); });\r\n            watchValue(moveable, \"innerBoundMap\", getInitialBounds(), function (v) { return JSON.stringify(v); });\r\n            return [];\r\n        }\r\n        state.guidelines = getTotalGuidelines(moveable);\r\n        var minLeft = Math.min(pos1[0], pos2[0], pos3[0], pos4[0]);\r\n        var minTop = Math.min(pos1[1], pos2[1], pos3[1], pos4[1]);\r\n        var externalPoses = snapRenderInfo.externalPoses || [];\r\n        var poses = getAbsolutePosesByState(moveable.state);\r\n        var verticalSnapPoses = [];\r\n        var horizontalSnapPoses = [];\r\n        var verticalGuidelines = [];\r\n        var horizontalGuidelines = [];\r\n        var snapInfos = [];\r\n        var _b = getRect(poses), width = _b.width, height = _b.height, top = _b.top, left = _b.left, bottom = _b.bottom, right = _b.right;\r\n        var targetRect = { left: left, right: right, top: top, bottom: bottom, center: (left + right) / 2, middle: (top + bottom) / 2 };\r\n        var hasExternalPoses = externalPoses.length > 0;\r\n        var externalRect = hasExternalPoses\r\n            ? getRect(externalPoses)\r\n            : {};\r\n        if (!snapRenderInfo.request) {\r\n            if (snapRenderInfo.direction) {\r\n                snapInfos.push(getSnapInfosByDirection(moveable, poses, snapRenderInfo.direction, snapRenderThreshold, snapRenderThreshold));\r\n            }\r\n            if (snapRenderInfo.snap) {\r\n                var rect = getRect(poses);\r\n                if (snapRenderInfo.center) {\r\n                    rect.middle = (rect.top + rect.bottom) / 2;\r\n                    rect.center = (rect.left + rect.right) / 2;\r\n                }\r\n                snapInfos.push(checkSnaps(moveable, rect, snapRenderThreshold, snapRenderThreshold));\r\n            }\r\n            if (hasExternalPoses) {\r\n                if (snapRenderInfo.center) {\r\n                    externalRect.middle =\r\n                        (externalRect.top + externalRect.bottom) / 2;\r\n                    externalRect.center =\r\n                        (externalRect.left + externalRect.right) / 2;\r\n                }\r\n                snapInfos.push(checkSnaps(moveable, externalRect, snapRenderThreshold, snapRenderThreshold));\r\n            }\r\n            snapInfos.forEach(function (snapInfo) {\r\n                var verticalPosInfos = snapInfo.vertical.posInfos, horizontalPosInfos = snapInfo.horizontal.posInfos;\r\n                verticalSnapPoses.push.apply(verticalSnapPoses, __spreadArray([], __read(verticalPosInfos.filter(function (_a) {\r\n                    var guidelineInfos = _a.guidelineInfos;\r\n                    return guidelineInfos.some(function (_a) {\r\n                        var guideline = _a.guideline;\r\n                        return !guideline.hide;\r\n                    });\r\n                }).map(function (posInfo) { return ({\r\n                    type: \"snap\",\r\n                    pos: posInfo.pos,\r\n                }); })), false));\r\n                horizontalSnapPoses.push.apply(horizontalSnapPoses, __spreadArray([], __read(horizontalPosInfos.filter(function (_a) {\r\n                    var guidelineInfos = _a.guidelineInfos;\r\n                    return guidelineInfos.some(function (_a) {\r\n                        var guideline = _a.guideline;\r\n                        return !guideline.hide;\r\n                    });\r\n                }).map(function (posInfo) { return ({\r\n                    type: \"snap\",\r\n                    pos: posInfo.pos,\r\n                }); })), false));\r\n                verticalGuidelines.push.apply(verticalGuidelines, __spreadArray([], __read(getSnapGuidelines(verticalPosInfos)), false));\r\n                horizontalGuidelines.push.apply(horizontalGuidelines, __spreadArray([], __read(getSnapGuidelines(horizontalPosInfos)), false));\r\n            });\r\n        }\r\n        var _c = addBoundGuidelines(moveable, [left, right], [top, bottom], verticalSnapPoses, horizontalSnapPoses), boundMap = _c.boundMap, innerBoundMap = _c.innerBoundMap;\r\n        if (hasExternalPoses) {\r\n            addBoundGuidelines(moveable, [externalRect.left, externalRect.right], [externalRect.top, externalRect.bottom], verticalSnapPoses, horizontalSnapPoses, snapRenderInfo.externalBounds);\r\n        }\r\n        var allGuidelines = __spreadArray(__spreadArray([], __read(verticalGuidelines), false), __read(horizontalGuidelines), false);\r\n        var elementGuidelines = allGuidelines.filter(function (guideline) { return guideline.element && !guideline.gapRects; });\r\n        var gapGuidelines = allGuidelines.filter(function (guideline) { return guideline.gapRects; }).sort(function (a, b) {\r\n            return a.gap - b.gap;\r\n        });\r\n        triggerEvent(moveable, \"onSnap\", {\r\n            guidelines: allGuidelines.filter(function (_a) {\r\n                var element = _a.element;\r\n                return !element;\r\n            }),\r\n            elements: elementGuidelines,\r\n            gaps: gapGuidelines,\r\n        }, true);\r\n        var nextBoundMap = watchValue(moveable, \"boundMap\", boundMap, function (v) { return JSON.stringify(v); }, getInitialBounds());\r\n        var nextInnerBoundMap = watchValue(moveable, \"innerBoundMap\", innerBoundMap, function (v) { return JSON.stringify(v); }, getInitialBounds());\r\n        if (boundMap === nextBoundMap || innerBoundMap === nextInnerBoundMap) {\r\n            triggerEvent(moveable, \"onBound\", {\r\n                bounds: boundMap,\r\n                innerBounds: innerBoundMap,\r\n            }, true);\r\n        }\r\n        // verticalSnapPoses.\r\n        return __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], __read(renderDashedGuidelines(moveable, elementGuidelines, [minLeft, minTop], targetRect, React)), false), __read(renderGapGuidelines(moveable, gapGuidelines, [minLeft, minTop], targetRect, React)), false), __read(renderGuidelines(moveable, \"horizontal\", horizontalGuidelines, [targetLeft, targetTop], targetRect, React)), false), __read(renderGuidelines(moveable, \"vertical\", verticalGuidelines, [targetLeft, targetTop], targetRect, React)), false), __read(renderSnapPoses(moveable, \"horizontal\", horizontalSnapPoses, minLeft, targetTop, width, 0, React)), false), __read(renderSnapPoses(moveable, \"vertical\", verticalSnapPoses, minTop, targetLeft, height, 1, React)), false);\r\n    },\r\n    dragStart: function (moveable, e) {\r\n        moveable.state.snapRenderInfo = {\r\n            request: e.isRequest,\r\n            snap: true,\r\n            center: true,\r\n        };\r\n        checkSnapInfo(moveable);\r\n    },\r\n    drag: function (moveable) {\r\n        var state = moveable.state;\r\n        if (!checkSnapInfo(moveable)) {\r\n            state.guidelines = getTotalGuidelines(moveable);\r\n        }\r\n        if (state.snapRenderInfo) {\r\n            state.snapRenderInfo.render = true;\r\n        }\r\n    },\r\n    pinchStart: function (moveable) {\r\n        this.unset(moveable);\r\n    },\r\n    dragEnd: function (moveable) {\r\n        this.unset(moveable);\r\n    },\r\n    dragControlCondition: function (moveable, e) {\r\n        if (directionCondition$1(moveable, e) || dragControlCondition(moveable, e)) {\r\n            return true;\r\n        }\r\n        if (!e.isRequest && e.inputEvent) {\r\n            return hasClass(e.inputEvent.target, prefix(\"snap-control\"));\r\n        }\r\n    },\r\n    dragControlStart: function (moveable) {\r\n        moveable.state.snapRenderInfo = null;\r\n        checkSnapInfo(moveable);\r\n    },\r\n    dragControl: function (moveable) {\r\n        this.drag(moveable);\r\n    },\r\n    dragControlEnd: function (moveable) {\r\n        this.unset(moveable);\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        this.dragStart(moveable, e);\r\n    },\r\n    dragGroup: function (moveable) {\r\n        this.drag(moveable);\r\n    },\r\n    dragGroupEnd: function (moveable) {\r\n        this.unset(moveable);\r\n    },\r\n    dragGroupControlStart: function (moveable) {\r\n        moveable.state.snapRenderInfo = null;\r\n        checkSnapInfo(moveable);\r\n    },\r\n    dragGroupControl: function (moveable) {\r\n        this.drag(moveable);\r\n    },\r\n    dragGroupControlEnd: function (moveable) {\r\n        this.unset(moveable);\r\n    },\r\n    unset: function (moveable) {\r\n        var state = moveable.state;\r\n        state.enableSnap = false;\r\n        state.guidelines = [];\r\n        state.snapRenderInfo = null;\r\n        state.elementRects = [];\r\n    },\r\n};\r\n/**\r\n * Whether or not target can be snapped to the guideline. (default: false)\r\n * @name Moveable.Snappable#snappable\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snappable = true;\r\n */\r\n/**\r\n *  A snap container that is the basis for snap, bounds, and innerBounds. (default: null = container)\r\n * @name Moveable.Snappable#snapContainer\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.querySelector(\".container\"));\r\n *\r\n * moveable.snapContainer = document.body;\r\n */\r\n/**\r\n * You can specify the directions to snap to the target. (default: { left: true, top: true, right: true, bottom: true })\r\n * @name Moveable.Snappable#snapDirections\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   snappable: true,\r\n *   snapDirections: true,\r\n * });\r\n * // snap center\r\n * moveable.snapDirections = { left: true, top: true, right: true, bottom: true, center: true, middle: true };\r\n */\r\n/**\r\n * You can specify the snap directions of elements. (default: { left: true, ftrue, right: true, bottom: true })\r\n * @name Moveable.Snappable#elementSnapDirections\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   snappable: true,\r\n *   elementSnapDirections: true,\r\n * });\r\n * // snap center\r\n * moveable.elementSnapDirections = { left: true, top: true, right: true, bottom: true, center: true, middle: true };\r\n */\r\n/**\r\n * When you drag, make the gap snap in the element guidelines. (default: true)\r\n * @name Moveable.Snappable#snapGap\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   snappable: true,\r\n *   snapElement: true,\r\n *   snapGap: true,\r\n * });\r\n *\r\n * moveable.snapGap = false;\r\n */\r\n/**\r\n * Distance value that can snap to guidelines. (default: 5)\r\n * @name Moveable.Snappable#snapThreshold\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snapThreshold = 5;\r\n */\r\n/**\r\n * Add guidelines in the horizontal direction. (default: [])\r\n * @name Moveable.Snappable#horizontalGuidelines\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.horizontalGuidelines = [100, 200, 500];\r\n */\r\n/**\r\n * Add guidelines in the vertical direction. (default: [])\r\n * @name Moveable.Snappable#verticalGuidelines\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.verticalGuidelines = [100, 200, 500];\r\n */\r\n/**\r\n * Add guidelines for the element. (default: [])\r\n * @name Moveable.Snappable#elementGuidelines\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.elementGuidelines = [\r\n *   document.querySelector(\".element\"),\r\n * ];\r\n */\r\n/**\r\n * You can set up boundaries.\r\n * @name Moveable.Snappable#bounds\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @default null\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.bounds = { left: 0, right: 1000, top: 0, bottom: 1000};\r\n */\r\n/**\r\n * You can set up inner boundaries.\r\n * @name Moveable.Snappable#innerBounds\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @default null\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.innerBounds = { left: 500, top: 500, width: 100, height: 100};\r\n */\r\n/**\r\n * snap distance digits (default: 0)\r\n * @name Moveable.Snappable#snapDigit\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snapDigit = 0\r\n */\r\n/**\r\n * If width size is greater than 0, you can vertical snap to the grid. (default: 0)\r\n * @name Moveable.Snappable#snapGridWidth\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snapGridWidth = 5;\r\n */\r\n/**\r\n * If height size is greater than 0, you can horizontal snap to the grid. (default: 0)\r\n * @name Moveable.Snappable#snapGridHeight\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.snapGridHeight = 5;\r\n */\r\n/**\r\n * Whether to show snap distance (default: true)\r\n * @name Moveable.Snappable#isDisplaySnapDigit\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.isDisplaySnapDigit = true;\r\n */\r\n/**\r\n * Whether to show element inner snap distance (default: false)\r\n * @name Moveable.Snappable#isDisplayInnerSnapDigit\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.isDisplayInnerSnapDigit = true;\r\n */\r\n/**\r\n * You can set the text format of the distance shown in the guidelines. (default: self)\r\n * @name Moveable.Snappable#snapDistFormat\r\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  snappable: true,\r\n *  snapDistFormat: (v, type) => v,\r\n * });\r\n * moveable.snapDistFormat = (v, type) => `${v}px`;\r\n */\r\n/**\r\n * When you drag or dragControl, the `snap` event is called.\r\n * @memberof Moveable.Snappable\r\n * @event snap\r\n * @param {Moveable.Snappable.OnSnap} - Parameters for the `snap` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     snappable: true\r\n * });\r\n * moveable.on(\"snap\", e => {\r\n *     console.log(\"onSnap\", e);\r\n * });\r\n */\n\nfunction multiply2(pos1, pos2) {\r\n    return [\r\n        pos1[0] * pos2[0],\r\n        pos1[1] * pos2[1],\r\n    ];\r\n}\r\nfunction prefix() {\r\n    var classNames = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        classNames[_i] = arguments[_i];\r\n    }\r\n    return prefixNames.apply(void 0, __spreadArray([PREFIX], __read(classNames), false));\r\n}\r\nfunction defaultSync(fn) {\r\n    fn();\r\n}\r\nfunction getTransformMatrix(transform) {\r\n    if (!transform || transform === \"none\") {\r\n        return [1, 0, 0, 1, 0, 0];\r\n    }\r\n    if (isObject(transform)) {\r\n        return transform;\r\n    }\r\n    return parseMat(transform);\r\n}\r\nfunction getAbsoluteMatrix(matrix, n, origin) {\r\n    return multiplies(n, createOriginMatrix(origin, n), matrix, createOriginMatrix(origin.map(function (a) { return -a; }), n));\r\n}\r\nfunction measureSVGSize(el, unit, isHorizontal) {\r\n    if (unit === \"%\") {\r\n        var viewBox = getSVGViewBox(el.ownerSVGElement);\r\n        return viewBox[isHorizontal ? \"width\" : \"height\"] / 100;\r\n    }\r\n    return 1;\r\n}\r\nfunction getBeforeTransformOrigin(el) {\r\n    var relativeOrigin = getTransformOrigin(getComputedStyle(el, \":before\"));\r\n    return relativeOrigin.map(function (o, i) {\r\n        var _a = splitUnit(o), value = _a.value, unit = _a.unit;\r\n        return value * measureSVGSize(el, unit, i === 0);\r\n    });\r\n}\r\nfunction getTransformOriginArray(transformOrigin) {\r\n    return transformOrigin ? transformOrigin.split(\" \") : [\"0\", \"0\"];\r\n}\r\nfunction getTransformOrigin(style) {\r\n    return getTransformOriginArray(style.transformOrigin);\r\n}\r\nfunction getElementTransform(target) {\r\n    var getStyle = getCachedStyle(target);\r\n    var computedTransform = getStyle(\"transform\");\r\n    if (computedTransform && computedTransform !== \"none\") {\r\n        return computedTransform;\r\n    }\r\n    if (\"transform\" in target) {\r\n        var list = target.transform;\r\n        var baseVal = list.baseVal;\r\n        if (!baseVal) {\r\n            return \"\";\r\n        }\r\n        var length_1 = baseVal.length;\r\n        if (!length_1) {\r\n            return \"\";\r\n        }\r\n        var matrixes = [];\r\n        var _loop_1 = function (i) {\r\n            var matrix = baseVal[i].matrix;\r\n            matrixes.push(\"matrix(\".concat([\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"].map(function (chr) { return matrix[chr]; }).join(\", \"), \")\"));\r\n        };\r\n        for (var i = 0; i < length_1; ++i) {\r\n            _loop_1(i);\r\n        }\r\n        return matrixes.join(\" \");\r\n    }\r\n    return \"\";\r\n}\r\nfunction getOffsetInfo(el, lastParent, isParent, checkZoom, getTargetStyle) {\r\n    var _a, _b;\r\n    var documentElement = getDocumentElement(el) || getDocumentBody(el);\r\n    var hasSlot = false;\r\n    var target;\r\n    var parentSlotElement;\r\n    if (!el || isParent) {\r\n        target = el;\r\n    }\r\n    else {\r\n        var assignedSlotParentElement = (_a = el === null || el === void 0 ? void 0 : el.assignedSlot) === null || _a === void 0 ? void 0 : _a.parentElement;\r\n        var parentElement = el.parentElement;\r\n        if (assignedSlotParentElement) {\r\n            hasSlot = true;\r\n            parentSlotElement = parentElement;\r\n            target = assignedSlotParentElement;\r\n        }\r\n        else {\r\n            target = parentElement;\r\n        }\r\n    }\r\n    var isCustomElement = false;\r\n    var isEnd = el === lastParent || target === lastParent;\r\n    var position = \"relative\";\r\n    var offsetZoom = 1;\r\n    var targetZoom = parseFloat(getTargetStyle === null || getTargetStyle === void 0 ? void 0 : getTargetStyle(\"zoom\")) || 1;\r\n    var targetPosition = getTargetStyle === null || getTargetStyle === void 0 ? void 0 : getTargetStyle(\"position\");\r\n    while (target && target !== documentElement) {\r\n        if (lastParent === target) {\r\n            isEnd = true;\r\n        }\r\n        var getStyle = getCachedStyle(target);\r\n        var tagName = target.tagName.toLowerCase();\r\n        var transform = getElementTransform(target);\r\n        var willChange = getStyle(\"willChange\");\r\n        var zoom = parseFloat(getStyle(\"zoom\")) || 1;\r\n        position = getStyle(\"position\");\r\n        if (checkZoom && zoom !== 1) {\r\n            offsetZoom = zoom;\r\n            break;\r\n        }\r\n        if (\r\n        // offsetParent is the parentElement if the target's zoom is not 1 and not absolute.\r\n        !isParent && checkZoom && targetZoom !== 1 && targetPosition && targetPosition !== \"absolute\"\r\n            || tagName === \"svg\"\r\n            || tagName === \"foreignobject\"\r\n            || position !== \"static\"\r\n            || (transform && transform !== \"none\")\r\n            || willChange === \"transform\") {\r\n            break;\r\n        }\r\n        var slotParentNode = (_b = el === null || el === void 0 ? void 0 : el.assignedSlot) === null || _b === void 0 ? void 0 : _b.parentNode;\r\n        var targetParentNode = target.parentNode;\r\n        if (slotParentNode) {\r\n            hasSlot = true;\r\n            parentSlotElement = targetParentNode;\r\n        }\r\n        var parentNode = targetParentNode;\r\n        if (parentNode && parentNode.nodeType === 11) {\r\n            // Shadow Root\r\n            target = parentNode.host;\r\n            isCustomElement = true;\r\n            position = getCachedStyle(target)(\"position\");\r\n            break;\r\n        }\r\n        target = parentNode;\r\n        position = \"relative\";\r\n    }\r\n    return {\r\n        offsetZoom: offsetZoom,\r\n        hasSlot: hasSlot,\r\n        parentSlotElement: parentSlotElement,\r\n        isCustomElement: isCustomElement,\r\n        isStatic: position === \"static\",\r\n        isEnd: isEnd || !target || target === documentElement,\r\n        offsetParent: target || documentElement,\r\n    };\r\n}\r\nfunction getOffsetPosInfo(el, target) {\r\n    var _a;\r\n    var tagName = el.tagName.toLowerCase();\r\n    var offsetLeft = el.offsetLeft;\r\n    var offsetTop = el.offsetTop;\r\n    var getStyle = getCachedStyle(el);\r\n    // svg\r\n    var isSVG = isUndefined(offsetLeft);\r\n    var hasOffset = !isSVG;\r\n    var origin;\r\n    var targetOrigin;\r\n    // inner svg element\r\n    if (!hasOffset && (tagName !== \"svg\" || el.ownerSVGElement)) {\r\n        origin = IS_WEBKIT605\r\n            ? getBeforeTransformOrigin(el)\r\n            : getTransformOriginArray(getStyle(\"transformOrigin\")).map(function (pos) { return parseFloat(pos); });\r\n        targetOrigin = origin.slice();\r\n        hasOffset = true;\r\n        if (tagName === \"svg\") {\r\n            offsetLeft = 0;\r\n            offsetTop = 0;\r\n        }\r\n        else {\r\n            _a = __read(getSVGGraphicsOffset(el, origin, el === target && target.tagName.toLowerCase() === \"g\"), 4), offsetLeft = _a[0], offsetTop = _a[1], origin[0] = _a[2], origin[1] = _a[3];\r\n        }\r\n    }\r\n    else {\r\n        origin = getTransformOriginArray(getStyle(\"transformOrigin\")).map(function (pos) { return parseFloat(pos); });\r\n        targetOrigin = origin.slice();\r\n        // console.log(getStyle(\"transformOrigin\"), targetOrigin);\r\n    }\r\n    return {\r\n        tagName: tagName,\r\n        isSVG: isSVG,\r\n        hasOffset: hasOffset,\r\n        offset: [offsetLeft || 0, offsetTop || 0],\r\n        origin: origin,\r\n        targetOrigin: targetOrigin,\r\n    };\r\n}\r\nfunction getBodyOffset(el, isSVG) {\r\n    var getStyle = getCachedStyle(el);\r\n    var getBodyStyle = getCachedStyle(getDocumentBody(el));\r\n    var bodyPosition = getBodyStyle(\"position\");\r\n    if (!isSVG && (!bodyPosition || bodyPosition === \"static\")) {\r\n        return [0, 0];\r\n    }\r\n    var marginLeft = parseInt(getBodyStyle(\"marginLeft\"), 10);\r\n    var marginTop = parseInt(getBodyStyle(\"marginTop\"), 10);\r\n    if (getStyle(\"position\") === \"absolute\") {\r\n        if (getStyle(\"top\") !== \"auto\" || getStyle(\"bottom\") !== \"auto\") {\r\n            marginTop = 0;\r\n        }\r\n        if (getStyle(\"left\") !== \"auto\" || getStyle(\"right\") !== \"auto\") {\r\n            marginLeft = 0;\r\n        }\r\n    }\r\n    return [marginLeft, marginTop];\r\n}\r\nfunction convert3DMatrixes(matrixes) {\r\n    matrixes.forEach(function (info) {\r\n        var matrix = info.matrix;\r\n        if (matrix) {\r\n            info.matrix = convertDimension(matrix, 3, 4);\r\n        }\r\n    });\r\n}\r\nfunction getPositionFixedInfo(el) {\r\n    var fixedContainer = el.parentElement;\r\n    var hasTransform = false;\r\n    var body = getDocumentBody(el);\r\n    while (fixedContainer) {\r\n        var transform = getComputedStyle(fixedContainer).transform;\r\n        if (transform && transform !== \"none\") {\r\n            hasTransform = true;\r\n            break;\r\n        }\r\n        if (fixedContainer === body) {\r\n            break;\r\n        }\r\n        fixedContainer = fixedContainer.parentElement;\r\n    }\r\n    return {\r\n        fixedContainer: fixedContainer || body,\r\n        hasTransform: hasTransform,\r\n    };\r\n}\r\nfunction makeMatrixCSS(matrix, is3d) {\r\n    if (is3d === void 0) { is3d = matrix.length > 9; }\r\n    return \"\".concat(is3d ? \"matrix3d\" : \"matrix\", \"(\").concat(convertMatrixtoCSS(matrix, !is3d).join(\",\"), \")\");\r\n}\r\nfunction getSVGViewBox(el) {\r\n    var clientWidth = el.clientWidth;\r\n    var clientHeight = el.clientHeight;\r\n    if (!el) {\r\n        return { x: 0, y: 0, width: 0, height: 0, clientWidth: clientWidth, clientHeight: clientHeight };\r\n    }\r\n    var viewBox = el.viewBox;\r\n    var baseVal = (viewBox && viewBox.baseVal) || { x: 0, y: 0, width: 0, height: 0 };\r\n    return {\r\n        x: baseVal.x,\r\n        y: baseVal.y,\r\n        width: baseVal.width || clientWidth,\r\n        height: baseVal.height || clientHeight,\r\n        clientWidth: clientWidth,\r\n        clientHeight: clientHeight,\r\n    };\r\n}\r\nfunction getSVGMatrix(el, n) {\r\n    var _a;\r\n    var _b = getSVGViewBox(el), viewBoxWidth = _b.width, viewBoxHeight = _b.height, clientWidth = _b.clientWidth, clientHeight = _b.clientHeight;\r\n    var scaleX = clientWidth / viewBoxWidth;\r\n    var scaleY = clientHeight / viewBoxHeight;\r\n    var preserveAspectRatio = el.preserveAspectRatio.baseVal;\r\n    // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/preserveAspectRatio\r\n    var align = preserveAspectRatio.align;\r\n    // 1 : meet 2: slice\r\n    var meetOrSlice = preserveAspectRatio.meetOrSlice;\r\n    var svgOrigin = [0, 0];\r\n    var scale = [scaleX, scaleY];\r\n    var translate = [0, 0];\r\n    if (align !== 1) {\r\n        var xAlign = (align - 2) % 3;\r\n        var yAlign = Math.floor((align - 2) / 3);\r\n        svgOrigin[0] = viewBoxWidth * xAlign / 2;\r\n        svgOrigin[1] = viewBoxHeight * yAlign / 2;\r\n        var scaleDimension = meetOrSlice === 2 ? Math.max(scaleY, scaleX) : Math.min(scaleX, scaleY);\r\n        scale[0] = scaleDimension;\r\n        scale[1] = scaleDimension;\r\n        translate[0] = (clientWidth - viewBoxWidth) / 2 * xAlign;\r\n        translate[1] = (clientHeight - viewBoxHeight) / 2 * yAlign;\r\n    }\r\n    var scaleMatrix = createScaleMatrix(scale, n);\r\n    _a = __read(translate, 2), scaleMatrix[n * (n - 1)] = _a[0], scaleMatrix[n * (n - 1) + 1] = _a[1];\r\n    return getAbsoluteMatrix(scaleMatrix, n, svgOrigin);\r\n}\r\nfunction getSVGGraphicsOffset(el, origin, isGTarget) {\r\n    var tagName = el.tagName.toLowerCase();\r\n    if (!el.getBBox || !isGTarget && tagName === \"g\") {\r\n        return [0, 0, 0, 0];\r\n    }\r\n    var getStyle = getCachedStyle(el);\r\n    var isFillBox = getStyle(\"transform-box\") === \"fill-box\";\r\n    var bbox = el.getBBox();\r\n    var viewBox = getSVGViewBox(el.ownerSVGElement);\r\n    var x = bbox.x;\r\n    var y = bbox.y;\r\n    // x, y가 0으로 나타나는 버그\r\n    if (tagName === \"foreignobject\" && (!x && !y)) {\r\n        x = parseFloat(el.getAttribute(\"x\")) || 0;\r\n        y = parseFloat(el.getAttribute(\"y\")) || 0;\r\n    }\r\n    var left = x - viewBox.x;\r\n    var top = y - viewBox.y;\r\n    var originX = isFillBox ? origin[0] : origin[0] - left;\r\n    var originY = isFillBox ? origin[1] : origin[1] - top;\r\n    // if (isFillBox) {\r\n    //     const bbox = (el as SVGGraphicsElement).getBBox();\r\n    //     const x = parseFloat(getStyle(\"x\")) || bbox.x;\r\n    //     const y = parseFloat(getStyle(\"y\")) || bbox.y;\r\n    //     const xScale = bbox.x / x;\r\n    //     const yScale = bbox.y / y;\r\n    //     console.log(x, y);\r\n    //     originX *= xScale;\r\n    //     originY *= yScale;\r\n    // }\r\n    return [left, top, originX, originY];\r\n}\r\nfunction calculatePosition(matrix, pos, n) {\r\n    return calculate(matrix, convertPositionMatrix(pos, n), n);\r\n}\r\nfunction calculatePoses(matrix, width, height, n) {\r\n    return [[0, 0], [width, 0], [0, height], [width, height]].map(function (pos) { return calculatePosition(matrix, pos, n); });\r\n}\r\nfunction getRect(poses) {\r\n    var posesX = poses.map(function (pos) { return pos[0]; });\r\n    var posesY = poses.map(function (pos) { return pos[1]; });\r\n    var left = Math.min.apply(Math, __spreadArray([], __read(posesX), false));\r\n    var top = Math.min.apply(Math, __spreadArray([], __read(posesY), false));\r\n    var right = Math.max.apply(Math, __spreadArray([], __read(posesX), false));\r\n    var bottom = Math.max.apply(Math, __spreadArray([], __read(posesY), false));\r\n    var rectWidth = right - left;\r\n    var rectHeight = bottom - top;\r\n    return {\r\n        left: left,\r\n        top: top,\r\n        right: right,\r\n        bottom: bottom,\r\n        width: rectWidth,\r\n        height: rectHeight,\r\n    };\r\n}\r\nfunction calculateRect(matrix, width, height, n) {\r\n    var poses = calculatePoses(matrix, width, height, n);\r\n    return getRect(poses);\r\n}\r\nfunction getSVGOffset(offsetInfo, targetInfo, container, n, beforeMatrix) {\r\n    var _a;\r\n    var target = offsetInfo.target;\r\n    var origin = offsetInfo.origin;\r\n    var targetMatrix = targetInfo.matrix;\r\n    var _b = getSize(target), width = _b.offsetWidth, height = _b.offsetHeight;\r\n    var containerClientRect = container.getBoundingClientRect();\r\n    var margin = [0, 0];\r\n    if (container === getDocumentBody(container)) {\r\n        margin = getBodyOffset(target, true);\r\n    }\r\n    var rect = target.getBoundingClientRect();\r\n    var rectLeft = rect.left - containerClientRect.left + container.scrollLeft\r\n        - (container.clientLeft || 0) + margin[0];\r\n    var rectTop = rect.top - containerClientRect.top + container.scrollTop\r\n        - (container.clientTop || 0) + margin[1];\r\n    var rectWidth = rect.width;\r\n    var rectHeight = rect.height;\r\n    var mat = multiplies(n, beforeMatrix, targetMatrix);\r\n    var _c = calculateRect(mat, width, height, n), prevLeft = _c.left, prevTop = _c.top, prevWidth = _c.width, prevHeight = _c.height;\r\n    var posOrigin = calculatePosition(mat, origin, n);\r\n    var prevOrigin = minus(posOrigin, [prevLeft, prevTop]);\r\n    var rectOrigin = [\r\n        rectLeft + prevOrigin[0] * rectWidth / prevWidth,\r\n        rectTop + prevOrigin[1] * rectHeight / prevHeight,\r\n    ];\r\n    var offset = [0, 0];\r\n    var count = 0;\r\n    while (++count < 10) {\r\n        var inverseBeforeMatrix = invert(beforeMatrix, n);\r\n        _a = __read(minus(calculatePosition(inverseBeforeMatrix, rectOrigin, n), calculatePosition(inverseBeforeMatrix, posOrigin, n)), 2), offset[0] = _a[0], offset[1] = _a[1];\r\n        var mat2 = multiplies(n, beforeMatrix, createOriginMatrix(offset, n), targetMatrix);\r\n        var _d = calculateRect(mat2, width, height, n), nextLeft = _d.left, nextTop = _d.top;\r\n        var distLeft = nextLeft - rectLeft;\r\n        var distTop = nextTop - rectTop;\r\n        if (abs(distLeft) < 2 && abs(distTop) < 2) {\r\n            break;\r\n        }\r\n        rectOrigin[0] -= distLeft;\r\n        rectOrigin[1] -= distTop;\r\n    }\r\n    return offset.map(function (p) { return Math.round(p); });\r\n}\r\nfunction calculateMoveableClientPositions(rootMatrix, poses, rootClientRect) {\r\n    var is3d = rootMatrix.length === 16;\r\n    var n = is3d ? 4 : 3;\r\n    var rootPoses = poses.map(function (pos) { return calculatePosition(rootMatrix, pos, n); });\r\n    var left = rootClientRect.left, top = rootClientRect.top;\r\n    return rootPoses.map(function (pos) {\r\n        return [pos[0] + left, pos[1] + top];\r\n    });\r\n}\r\nfunction getDistSize(vec) {\r\n    return Math.sqrt(vec[0] * vec[0] + vec[1] * vec[1]);\r\n}\r\nfunction getDiagonalSize(pos1, pos2) {\r\n    return getDistSize([\r\n        pos2[0] - pos1[0],\r\n        pos2[1] - pos1[1],\r\n    ]);\r\n}\r\nfunction getLineStyle(pos1, pos2, zoom, rad) {\r\n    if (zoom === void 0) { zoom = 1; }\r\n    if (rad === void 0) { rad = getRad(pos1, pos2); }\r\n    var width = getDiagonalSize(pos1, pos2);\r\n    return {\r\n        transform: \"translateY(-50%) translate(\".concat(pos1[0], \"px, \").concat(pos1[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\"),\r\n        width: \"\".concat(width, \"px\"),\r\n    };\r\n}\r\nfunction getControlTransform(rotation, zoom) {\r\n    var poses = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        poses[_i - 2] = arguments[_i];\r\n    }\r\n    var length = poses.length;\r\n    var x = poses.reduce(function (prev, pos) { return prev + pos[0]; }, 0) / length;\r\n    var y = poses.reduce(function (prev, pos) { return prev + pos[1]; }, 0) / length;\r\n    return {\r\n        transform: \"translateZ(0px) translate(\".concat(x, \"px, \").concat(y, \"px) rotate(\").concat(rotation, \"rad) scale(\").concat(zoom, \")\"),\r\n    };\r\n}\r\nfunction getProps(props, ableName) {\r\n    var self = props[ableName];\r\n    if (isObject(self)) {\r\n        return __assign(__assign({}, props), self);\r\n    }\r\n    return props;\r\n}\r\nfunction getSize(target) {\r\n    var hasOffset = target && !isUndefined(target.offsetWidth);\r\n    var offsetWidth = 0;\r\n    var offsetHeight = 0;\r\n    var clientWidth = 0;\r\n    var clientHeight = 0;\r\n    var cssWidth = 0;\r\n    var cssHeight = 0;\r\n    var contentWidth = 0;\r\n    var contentHeight = 0;\r\n    var minWidth = 0;\r\n    var minHeight = 0;\r\n    var minOffsetWidth = 0;\r\n    var minOffsetHeight = 0;\r\n    var maxWidth = Infinity;\r\n    var maxHeight = Infinity;\r\n    var maxOffsetWidth = Infinity;\r\n    var maxOffsetHeight = Infinity;\r\n    var inlineCSSWidth = 0;\r\n    var inlineCSSHeight = 0;\r\n    var svg = false;\r\n    if (target) {\r\n        if (!hasOffset && target.ownerSVGElement) {\r\n            // check svg elements\r\n            var bbox = target.getBBox();\r\n            svg = true;\r\n            offsetWidth = bbox.width;\r\n            offsetHeight = bbox.height;\r\n            cssWidth = offsetWidth;\r\n            cssHeight = offsetHeight;\r\n            contentWidth = offsetWidth;\r\n            contentHeight = offsetHeight;\r\n            clientWidth = offsetWidth;\r\n            clientHeight = offsetHeight;\r\n        }\r\n        else {\r\n            // check html elements\r\n            var getStyle = getCachedStyle(target);\r\n            var targetStyle = target.style;\r\n            var boxSizing = getStyle(\"boxSizing\") === \"border-box\";\r\n            var borderLeft = parseFloat(getStyle(\"borderLeftWidth\")) || 0;\r\n            var borderRight = parseFloat(getStyle(\"borderRightWidth\")) || 0;\r\n            var borderTop = parseFloat(getStyle(\"borderTopWidth\")) || 0;\r\n            var borderBottom = parseFloat(getStyle(\"borderBottomWidth\")) || 0;\r\n            var paddingLeft = parseFloat(getStyle(\"paddingLeft\")) || 0;\r\n            var paddingRight = parseFloat(getStyle(\"paddingRight\")) || 0;\r\n            var paddingTop = parseFloat(getStyle(\"paddingTop\")) || 0;\r\n            var paddingBottom = parseFloat(getStyle(\"paddingBottom\")) || 0;\r\n            var horizontalPadding = paddingLeft + paddingRight;\r\n            var verticalPadding = paddingTop + paddingBottom;\r\n            var horizontalBorder = borderLeft + borderRight;\r\n            var verticalBorder = borderTop + borderBottom;\r\n            var horizontalOffset = horizontalPadding + horizontalBorder;\r\n            var verticalOffset = verticalPadding + verticalBorder;\r\n            var position = getStyle(\"position\");\r\n            var containerWidth = 0;\r\n            var containerHeight = 0;\r\n            // SVGSVGElement, HTMLElement\r\n            if (\"clientLeft\" in target) {\r\n                var parentElement = null;\r\n                if (position === \"absolute\") {\r\n                    var offsetInfo = getOffsetInfo(target, getDocumentBody(target));\r\n                    parentElement = offsetInfo.offsetParent;\r\n                }\r\n                else {\r\n                    parentElement = target.parentElement;\r\n                }\r\n                if (parentElement) {\r\n                    var getParentStyle = getCachedStyle(parentElement);\r\n                    containerWidth = parseFloat(getParentStyle(\"width\"));\r\n                    containerHeight = parseFloat(getParentStyle(\"height\"));\r\n                }\r\n            }\r\n            minWidth = Math.max(horizontalPadding, convertUnitSize(getStyle(\"minWidth\"), containerWidth) || 0);\r\n            minHeight = Math.max(verticalPadding, convertUnitSize(getStyle(\"minHeight\"), containerHeight) || 0);\r\n            maxWidth = convertUnitSize(getStyle(\"maxWidth\"), containerWidth);\r\n            maxHeight = convertUnitSize(getStyle(\"maxHeight\"), containerHeight);\r\n            if (isNaN(maxWidth)) {\r\n                maxWidth = Infinity;\r\n            }\r\n            if (isNaN(maxHeight)) {\r\n                maxHeight = Infinity;\r\n            }\r\n            inlineCSSWidth = convertUnitSize(targetStyle.width, 0) || 0;\r\n            inlineCSSHeight = convertUnitSize(targetStyle.height, 0) || 0;\r\n            cssWidth = parseFloat(getStyle(\"width\")) || 0;\r\n            cssHeight = parseFloat(getStyle(\"height\")) || 0;\r\n            contentWidth = abs(cssWidth - inlineCSSWidth) < 1\r\n                ? between(minWidth, inlineCSSWidth || cssWidth, maxWidth)\r\n                : cssWidth;\r\n            contentHeight = abs(cssHeight - inlineCSSHeight) < 1\r\n                ? between(minHeight, inlineCSSHeight || cssHeight, maxHeight)\r\n                : cssHeight;\r\n            offsetWidth = contentWidth;\r\n            offsetHeight = contentHeight;\r\n            clientWidth = contentWidth;\r\n            clientHeight = contentHeight;\r\n            if (boxSizing) {\r\n                maxOffsetWidth = maxWidth;\r\n                maxOffsetHeight = maxHeight;\r\n                minOffsetWidth = minWidth;\r\n                minOffsetHeight = minHeight;\r\n                contentWidth = offsetWidth - horizontalOffset;\r\n                contentHeight = offsetHeight - verticalOffset;\r\n            }\r\n            else {\r\n                maxOffsetWidth = maxWidth + horizontalOffset;\r\n                maxOffsetHeight = maxHeight + verticalOffset;\r\n                minOffsetWidth = minWidth + horizontalOffset;\r\n                minOffsetHeight = minHeight + verticalOffset;\r\n                offsetWidth = contentWidth + horizontalOffset;\r\n                offsetHeight = contentHeight + verticalOffset;\r\n            }\r\n            clientWidth = contentWidth + horizontalPadding;\r\n            clientHeight = contentHeight + verticalPadding;\r\n        }\r\n    }\r\n    return {\r\n        svg: svg,\r\n        offsetWidth: offsetWidth,\r\n        offsetHeight: offsetHeight,\r\n        clientWidth: clientWidth,\r\n        clientHeight: clientHeight,\r\n        contentWidth: contentWidth,\r\n        contentHeight: contentHeight,\r\n        inlineCSSWidth: inlineCSSWidth,\r\n        inlineCSSHeight: inlineCSSHeight,\r\n        cssWidth: cssWidth,\r\n        cssHeight: cssHeight,\r\n        minWidth: minWidth,\r\n        minHeight: minHeight,\r\n        maxWidth: maxWidth,\r\n        maxHeight: maxHeight,\r\n        minOffsetWidth: minOffsetWidth,\r\n        minOffsetHeight: minOffsetHeight,\r\n        maxOffsetWidth: maxOffsetWidth,\r\n        maxOffsetHeight: maxOffsetHeight,\r\n    };\r\n}\r\nfunction getRotationRad(poses, direction) {\r\n    return getRad(direction > 0 ? poses[0] : poses[1], direction > 0 ? poses[1] : poses[0]);\r\n}\r\nfunction resetClientRect() {\r\n    return {\r\n        left: 0, top: 0,\r\n        width: 0, height: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        clientLeft: 0, clientTop: 0,\r\n        clientWidth: 0, clientHeight: 0,\r\n        scrollWidth: 0, scrollHeight: 0,\r\n    };\r\n}\r\nfunction getExtendsRect(el, rect) {\r\n    var isRoot = el === getDocumentBody(el) || el === getDocumentElement(el);\r\n    var extendsRect = {\r\n        clientLeft: el.clientLeft,\r\n        clientTop: el.clientTop,\r\n        clientWidth: el.clientWidth,\r\n        clientHeight: el.clientHeight,\r\n        scrollWidth: el.scrollWidth,\r\n        scrollHeight: el.scrollHeight,\r\n        overflow: false,\r\n    };\r\n    if (isRoot) {\r\n        extendsRect.clientHeight = Math.max(rect.height, extendsRect.clientHeight);\r\n        extendsRect.scrollHeight = Math.max(rect.height, extendsRect.scrollHeight);\r\n    }\r\n    extendsRect.overflow = getCachedStyle(el)(\"overflow\") !== \"visible\";\r\n    return __assign(__assign({}, rect), extendsRect);\r\n}\r\nfunction getClientRectByPosition(position, base, el, isExtends) {\r\n    var left = position.left, right = position.right, top = position.top, bottom = position.bottom;\r\n    var baseTop = base.top;\r\n    var baseLeft = base.left;\r\n    var rect = {\r\n        left: baseLeft + left,\r\n        top: baseTop + top,\r\n        right: baseLeft + right,\r\n        bottom: baseTop + bottom,\r\n        width: right - left,\r\n        height: bottom - top,\r\n    };\r\n    if (el && isExtends) {\r\n        return getExtendsRect(el, rect);\r\n    }\r\n    return rect;\r\n}\r\nfunction getClientRect(el, isExtends) {\r\n    var left = 0;\r\n    var top = 0;\r\n    var width = 0;\r\n    var height = 0;\r\n    // let isRoot = false;\r\n    if (el) {\r\n        var clientRect = el.getBoundingClientRect();\r\n        left = clientRect.left;\r\n        top = clientRect.top;\r\n        width = clientRect.width;\r\n        height = clientRect.height;\r\n    }\r\n    var rect = {\r\n        left: left,\r\n        top: top,\r\n        width: width,\r\n        height: height,\r\n        right: left + width,\r\n        bottom: top + height,\r\n    };\r\n    if (el && isExtends) {\r\n        return getExtendsRect(el, rect);\r\n    }\r\n    return rect;\r\n}\r\nfunction getTotalOrigin(moveable) {\r\n    var _a = moveable.props, groupable = _a.groupable, svgOrigin = _a.svgOrigin;\r\n    var _b = moveable.getState(), offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight, svg = _b.svg, transformOrigin = _b.transformOrigin;\r\n    if (!groupable && svg && svgOrigin) {\r\n        return convertTransformOriginArray(svgOrigin, offsetWidth, offsetHeight);\r\n    }\r\n    return transformOrigin;\r\n}\r\nfunction getTotalDirection(parentDirection, isPinch, inputEvent, datas) {\r\n    var direction;\r\n    if (parentDirection) {\r\n        direction = parentDirection;\r\n    }\r\n    else if (isPinch) {\r\n        direction = [0, 0];\r\n    }\r\n    else {\r\n        var target = inputEvent.target;\r\n        direction = getDirection(target, datas);\r\n    }\r\n    return direction;\r\n}\r\nfunction getDirection(target, datas) {\r\n    if (!target) {\r\n        return;\r\n    }\r\n    var deg = target.getAttribute(\"data-rotation\") || \"\";\r\n    var direciton = target.getAttribute(\"data-direction\");\r\n    datas.deg = deg;\r\n    if (!direciton) {\r\n        return;\r\n    }\r\n    var dir = [0, 0];\r\n    (direciton.indexOf(\"w\") > -1) && (dir[0] = -1);\r\n    (direciton.indexOf(\"e\") > -1) && (dir[0] = 1);\r\n    (direciton.indexOf(\"n\") > -1) && (dir[1] = -1);\r\n    (direciton.indexOf(\"s\") > -1) && (dir[1] = 1);\r\n    return dir;\r\n}\r\nfunction getAbsolutePoses(poses, dist) {\r\n    return [\r\n        plus(dist, poses[0]),\r\n        plus(dist, poses[1]),\r\n        plus(dist, poses[2]),\r\n        plus(dist, poses[3]),\r\n    ];\r\n}\r\nfunction getAbsolutePosesByState(_a) {\r\n    var left = _a.left, top = _a.top, pos1 = _a.pos1, pos2 = _a.pos2, pos3 = _a.pos3, pos4 = _a.pos4;\r\n    return getAbsolutePoses([pos1, pos2, pos3, pos4], [left, top]);\r\n}\r\nfunction unsetAbles(self, isControl) {\r\n    self[isControl ? \"controlAbles\" : \"targetAbles\"].forEach(function (able) {\r\n        able.unset && able.unset(self);\r\n    });\r\n}\r\nfunction unsetGesto(self, isControl) {\r\n    var gestoName = isControl ? \"controlGesto\" : \"targetGesto\";\r\n    var gesto = self[gestoName];\r\n    if ((gesto === null || gesto === void 0 ? void 0 : gesto.isIdle()) === false) {\r\n        unsetAbles(self, isControl);\r\n    }\r\n    gesto === null || gesto === void 0 ? void 0 : gesto.unset();\r\n    self[gestoName] = null;\r\n}\r\nfunction fillCSSObject(style, resolvedEvent) {\r\n    if (resolvedEvent) {\r\n        var originalDatas = getBeforeRenderableDatas(resolvedEvent);\r\n        originalDatas.nextStyle = __assign(__assign({}, originalDatas.nextStyle), style);\r\n    }\r\n    return {\r\n        style: style,\r\n        cssText: getKeys(style).map(function (name) { return \"\".concat(decamelize(name, \"-\"), \": \").concat(style[name], \";\"); }).join(\"\"),\r\n    };\r\n}\r\nfunction fillAfterTransform(prevEvent, nextEvent, resolvedEvent) {\r\n    var afterTransform = nextEvent.afterTransform || nextEvent.transform;\r\n    return __assign(__assign({}, fillCSSObject(__assign(__assign(__assign({}, prevEvent.style), nextEvent.style), { transform: afterTransform }), resolvedEvent)), { afterTransform: afterTransform, transform: prevEvent.transform });\r\n}\r\nfunction fillParams(moveable, e, params, isBeforeEvent) {\r\n    var datas = e.datas;\r\n    if (!datas.datas) {\r\n        datas.datas = {};\r\n    }\r\n    var nextParams = __assign(__assign({}, params), { target: moveable.state.target, clientX: e.clientX, clientY: e.clientY, inputEvent: e.inputEvent, currentTarget: moveable, moveable: moveable, datas: datas.datas, isRequest: e.isRequest, isRequestChild: e.isRequestChild, isFirstDrag: !!e.isFirstDrag, isTrusted: e.isTrusted !== false, stopAble: function () {\r\n            datas.isEventStart = false;\r\n        }, stopDrag: function () {\r\n            var _a;\r\n            (_a = e.stop) === null || _a === void 0 ? void 0 : _a.call(e);\r\n        } });\r\n    if (!datas.isStartEvent) {\r\n        datas.isStartEvent = true;\r\n    }\r\n    else if (!isBeforeEvent) {\r\n        datas.lastEvent = nextParams;\r\n    }\r\n    return nextParams;\r\n}\r\nfunction fillEndParams(moveable, e, params) {\r\n    var datas = e.datas;\r\n    var isDrag = \"isDrag\" in params ? params.isDrag : e.isDrag;\r\n    if (!datas.datas) {\r\n        datas.datas = {};\r\n    }\r\n    return __assign(__assign({ isDrag: isDrag }, params), { moveable: moveable, target: moveable.state.target, clientX: e.clientX, clientY: e.clientY, inputEvent: e.inputEvent, currentTarget: moveable, lastEvent: datas.lastEvent, isDouble: e.isDouble, datas: datas.datas, isFirstDrag: !!e.isFirstDrag });\r\n}\r\nfunction catchEvent(moveable, name, callback) {\r\n    moveable._emitter.on(name, callback);\r\n}\r\nfunction triggerEvent(moveable, name, params, isManager, isRequest) {\r\n    return moveable.triggerEvent(name, params, isManager, isRequest);\r\n}\r\nfunction getComputedStyle(el, pseudoElt) {\r\n    return getWindow(el).getComputedStyle(el, pseudoElt);\r\n}\r\nfunction filterAbles(ables, methods, triggerAblesSimultaneously) {\r\n    var enabledAbles = {};\r\n    var ableGroups = {};\r\n    return ables.filter(function (able) {\r\n        var name = able.name;\r\n        if (enabledAbles[name] || !methods.some(function (method) { return able[method]; })) {\r\n            return false;\r\n        }\r\n        if (!triggerAblesSimultaneously && able.ableGroup) {\r\n            if (ableGroups[able.ableGroup]) {\r\n                return false;\r\n            }\r\n            ableGroups[able.ableGroup] = true;\r\n        }\r\n        enabledAbles[name] = true;\r\n        return true;\r\n    });\r\n}\r\nfunction equals(a1, a2) {\r\n    return a1 === a2 || (a1 == null && a2 == null);\r\n}\r\nfunction selectValue() {\r\n    var values = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        values[_i] = arguments[_i];\r\n    }\r\n    var length = values.length - 1;\r\n    for (var i = 0; i < length; ++i) {\r\n        var value = values[i];\r\n        if (!isUndefined(value)) {\r\n            return value;\r\n        }\r\n    }\r\n    return values[length];\r\n}\r\nfunction groupBy(arr, func) {\r\n    var groups = [];\r\n    var groupKeys = [];\r\n    arr.forEach(function (el, index) {\r\n        var groupKey = func(el, index, arr);\r\n        var keyIndex = groupKeys.indexOf(groupKey);\r\n        var group = groups[keyIndex] || [];\r\n        if (keyIndex === -1) {\r\n            groupKeys.push(groupKey);\r\n            groups.push(group);\r\n        }\r\n        group.push(el);\r\n    });\r\n    return groups;\r\n}\r\nfunction groupByMap(arr, func) {\r\n    var groups = [];\r\n    var groupKeys = {};\r\n    arr.forEach(function (el, index) {\r\n        var groupKey = func(el, index, arr);\r\n        var group = groupKeys[groupKey];\r\n        if (!group) {\r\n            group = [];\r\n            groupKeys[groupKey] = group;\r\n            groups.push(group);\r\n        }\r\n        group.push(el);\r\n    });\r\n    return groups;\r\n}\r\nfunction flat(arr) {\r\n    return arr.reduce(function (prev, cur) {\r\n        return prev.concat(cur);\r\n    }, []);\r\n}\r\nfunction maxOffset() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    args.sort(function (a, b) { return abs(b) - abs(a); });\r\n    return args[0];\r\n}\r\nfunction calculateInversePosition(matrix, pos, n) {\r\n    return calculate(invert(matrix, n), convertPositionMatrix(pos, n), n);\r\n}\r\nfunction convertDragDist(state, e) {\r\n    var _a;\r\n    var is3d = state.is3d, rootMatrix = state.rootMatrix;\r\n    var n = is3d ? 4 : 3;\r\n    _a = __read(calculateInversePosition(rootMatrix, [e.distX, e.distY], n), 2), e.distX = _a[0], e.distY = _a[1];\r\n    return e;\r\n}\r\nfunction calculatePadding(matrix, pos, added, n) {\r\n    if (!added[0] && !added[1]) {\r\n        return pos;\r\n    }\r\n    var xAdded = calculatePosition(matrix, [normalized(added[0] || 1), 0], n);\r\n    var yAdded = calculatePosition(matrix, [0, normalized(added[1] || 1)], n);\r\n    var nextAdded = calculatePosition(matrix, [\r\n        added[0] / getDistSize(xAdded),\r\n        added[1] / getDistSize(yAdded),\r\n    ], n);\r\n    return plus(pos, nextAdded);\r\n}\r\nfunction convertCSSSize(value, size, isRelative) {\r\n    return isRelative ? \"\".concat(value / size * 100, \"%\") : \"\".concat(value, \"px\");\r\n}\r\nfunction getTinyDist(v) {\r\n    return abs(v) <= TINY_NUM ? 0 : v;\r\n}\r\nfunction getDirectionViewClassName(ableName) {\r\n    return function (moveable) {\r\n        if (!moveable.isDragging(ableName)) {\r\n            return \"\";\r\n        }\r\n        var data = getGestoData(moveable, ableName);\r\n        var deg = data.deg;\r\n        if (!deg) {\r\n            return \"\";\r\n        }\r\n        return prefix(\"view-control-rotation\".concat(deg));\r\n    };\r\n}\r\nfunction getDirectionCondition(ableName, checkAbles) {\r\n    if (checkAbles === void 0) { checkAbles = [ableName]; }\r\n    return function (moveable, e) {\r\n        if (e.isRequest) {\r\n            if (checkAbles.some(function (name) { return e.requestAble === name; })) {\r\n                return e.parentDirection;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        var target = e.inputEvent.target;\r\n        return hasClass(target, prefix(\"direction\")) && (!ableName || hasClass(target, prefix(ableName)));\r\n    };\r\n}\r\nfunction convertTransformInfo(transforms, state, index) {\r\n    var _a;\r\n    var matrixInfos = parse(transforms, {\r\n        \"x%\": function (v) { return v / 100 * state.offsetWidth; },\r\n        \"y%\": function (v) { return v / 100 * state.offsetHeight; },\r\n    });\r\n    var beforeFunctionTexts = transforms.slice(0, index < 0 ? undefined : index);\r\n    var beforeFunctionTexts2 = transforms.slice(0, index < 0 ? undefined : index + 1);\r\n    var targetFunctionText = transforms[index] || \"\";\r\n    var afterFunctionTexts = index < 0 ? [] : transforms.slice(index);\r\n    var afterFunctionTexts2 = index < 0 ? [] : transforms.slice(index + 1);\r\n    var beforeFunctions = matrixInfos.slice(0, index < 0 ? undefined : index);\r\n    var beforeFunctions2 = matrixInfos.slice(0, index < 0 ? undefined : index + 1);\r\n    var targetFunction = (_a = matrixInfos[index]) !== null && _a !== void 0 ? _a : parse([\"\"])[0];\r\n    var afterFunctions = index < 0 ? [] : matrixInfos.slice(index);\r\n    var afterFunctions2 = index < 0 ? [] : matrixInfos.slice(index + 1);\r\n    var targetFunctions = targetFunction ? [targetFunction] : [];\r\n    var beforeFunctionMatrix = toMat(beforeFunctions);\r\n    var beforeFunctionMatrix2 = toMat(beforeFunctions2);\r\n    var afterFunctionMatrix = toMat(afterFunctions);\r\n    var afterFunctionMatrix2 = toMat(afterFunctions2);\r\n    var allFunctionMatrix = multiply(beforeFunctionMatrix, afterFunctionMatrix, 4);\r\n    return {\r\n        transforms: transforms,\r\n        beforeFunctionMatrix: beforeFunctionMatrix,\r\n        beforeFunctionMatrix2: beforeFunctionMatrix2,\r\n        targetFunctionMatrix: toMat(targetFunctions),\r\n        afterFunctionMatrix: afterFunctionMatrix,\r\n        afterFunctionMatrix2: afterFunctionMatrix2,\r\n        allFunctionMatrix: allFunctionMatrix,\r\n        beforeFunctions: beforeFunctions,\r\n        beforeFunctions2: beforeFunctions2,\r\n        targetFunction: targetFunctions[0],\r\n        afterFunctions: afterFunctions,\r\n        afterFunctions2: afterFunctions2,\r\n        beforeFunctionTexts: beforeFunctionTexts,\r\n        beforeFunctionTexts2: beforeFunctionTexts2,\r\n        targetFunctionText: targetFunctionText,\r\n        afterFunctionTexts: afterFunctionTexts,\r\n        afterFunctionTexts2: afterFunctionTexts2,\r\n    };\r\n}\r\nfunction isArrayFormat(arr) {\r\n    if (!arr || !isObject(arr)) {\r\n        return false;\r\n    }\r\n    if (isNode(arr)) {\r\n        return false;\r\n    }\r\n    return isArray(arr) || \"length\" in arr;\r\n}\r\nfunction getRefTarget(target, isSelector) {\r\n    if (!target) {\r\n        return null;\r\n    }\r\n    if (isNode(target)) {\r\n        return target;\r\n    }\r\n    if (isString(target)) {\r\n        if (isSelector) {\r\n            return document.querySelector(target);\r\n        }\r\n        return target;\r\n    }\r\n    if (isFunction(target)) {\r\n        return target();\r\n    }\r\n    if (isWindow(target)) {\r\n        return target;\r\n    }\r\n    if (\"current\" in target) {\r\n        return target.current;\r\n    }\r\n    return target;\r\n}\r\nfunction getRefTargets(targets, isSelector) {\r\n    if (!targets) {\r\n        return [];\r\n    }\r\n    var userTargets = isArrayFormat(targets) ? [].slice.call(targets) : [targets];\r\n    return userTargets.reduce(function (prev, target) {\r\n        if (isString(target) && isSelector) {\r\n            return __spreadArray(__spreadArray([], __read(prev), false), __read([].slice.call(document.querySelectorAll(target))), false);\r\n        }\r\n        if (isArray(target)) {\r\n            prev.push(getRefTargets(target, isSelector));\r\n        }\r\n        else {\r\n            prev.push(getRefTarget(target, isSelector));\r\n        }\r\n        return prev;\r\n    }, []);\r\n}\r\nfunction getAbsoluteRotation(pos1, pos2, direction) {\r\n    var deg = getRad(pos1, pos2) / Math.PI * 180;\r\n    deg = direction >= 0 ? deg : 180 - deg;\r\n    deg = deg >= 0 ? deg : 360 + deg;\r\n    return deg;\r\n}\r\nfunction getDragDistByState(state, dist) {\r\n    var rootMatrix = state.rootMatrix, is3d = state.is3d;\r\n    var n = is3d ? 4 : 3;\r\n    var inverseMatrix = invert(rootMatrix, n);\r\n    if (!is3d) {\r\n        inverseMatrix = convertDimension(inverseMatrix, 3, 4);\r\n    }\r\n    inverseMatrix[12] = 0;\r\n    inverseMatrix[13] = 0;\r\n    inverseMatrix[14] = 0;\r\n    return calculateMatrixDist(inverseMatrix, dist);\r\n}\r\nfunction getSizeDistByDist(startSize, dist, ratio, direction, keepRatio) {\r\n    var _a = __read(startSize, 2), startOffsetWidth = _a[0], startOffsetHeight = _a[1];\r\n    var distWidth = 0;\r\n    var distHeight = 0;\r\n    if (keepRatio && startOffsetWidth && startOffsetHeight) {\r\n        var rad = getRad([0, 0], dist);\r\n        var standardRad = getRad([0, 0], direction);\r\n        var size = getDistSize(dist);\r\n        var signSize = Math.cos(rad - standardRad) * size;\r\n        if (!direction[0]) {\r\n            // top, bottom\r\n            distHeight = signSize;\r\n            distWidth = distHeight * ratio;\r\n        }\r\n        else if (!direction[1]) {\r\n            // left, right\r\n            distWidth = signSize;\r\n            distHeight = distWidth / ratio;\r\n        }\r\n        else {\r\n            // two-way\r\n            var startWidthSize = direction[0] * startOffsetWidth;\r\n            var startHeightSize = direction[1] * startOffsetHeight;\r\n            var secondRad = Math.atan2(startWidthSize + dist[0], startHeightSize + dist[1]);\r\n            var firstRad = Math.atan2(startWidthSize, startHeightSize);\r\n            if (secondRad < 0) {\r\n                secondRad += Math.PI * 2;\r\n            }\r\n            if (firstRad < 0) {\r\n                firstRad += Math.PI * 2;\r\n            }\r\n            var rad_1 = 0;\r\n            if (abs(secondRad - firstRad) < Math.PI / 2 || abs(secondRad - firstRad) > Math.PI / 2 * 3) {\r\n                rad_1 = secondRad - firstRad;\r\n            }\r\n            else {\r\n                firstRad += Math.PI;\r\n                rad_1 = secondRad - firstRad;\r\n            }\r\n            if (rad_1 > Math.PI * 2) {\r\n                rad_1 -= Math.PI * 2;\r\n            }\r\n            else if (rad_1 > Math.PI) {\r\n                rad_1 = 2 * Math.PI - rad_1;\r\n            }\r\n            else if (rad_1 < -Math.PI) {\r\n                rad_1 = -2 * Math.PI - rad_1;\r\n            }\r\n            //       180\r\n            // -1, -1,  // 1, -1\r\n            // 270            90\r\n            // -1, 1    // 1, 1\r\n            //       0\r\n            var distSize = getDistSize([startWidthSize + dist[0], startHeightSize + dist[1]]) * Math.cos(rad_1);\r\n            distWidth = distSize * Math.sin(firstRad) - startWidthSize;\r\n            distHeight = distSize * Math.cos(firstRad) - startHeightSize;\r\n            if (direction[0] < 0) {\r\n                distWidth *= -1;\r\n            }\r\n            if (direction[1] < 0) {\r\n                distHeight *= -1;\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        distWidth = direction[0] * dist[0];\r\n        distHeight = direction[1] * dist[1];\r\n    }\r\n    return [distWidth, distHeight];\r\n}\r\nfunction getOffsetSizeDist(sizeDirection, keepRatio, datas, e) {\r\n    var _a;\r\n    var ratio = datas.ratio, startOffsetWidth = datas.startOffsetWidth, startOffsetHeight = datas.startOffsetHeight;\r\n    var distWidth = 0;\r\n    var distHeight = 0;\r\n    var distX = e.distX, distY = e.distY, pinchScale = e.pinchScale, parentDistance = e.parentDistance, parentDist = e.parentDist, parentScale = e.parentScale;\r\n    var startFixedDirection = datas.fixedDirection;\r\n    var directionsDists = [0, 1].map(function (index) {\r\n        return abs(sizeDirection[index] - startFixedDirection[index]);\r\n    });\r\n    var directionRatios = [0, 1].map(function (index) {\r\n        var dist = directionsDists[index];\r\n        if (dist !== 0) {\r\n            dist = 2 / dist;\r\n        }\r\n        return dist;\r\n    });\r\n    if (parentDist) {\r\n        distWidth = parentDist[0];\r\n        distHeight = parentDist[1];\r\n        if (keepRatio) {\r\n            if (!distWidth) {\r\n                distWidth = distHeight * ratio;\r\n            }\r\n            else if (!distHeight) {\r\n                distHeight = distWidth / ratio;\r\n            }\r\n        }\r\n    }\r\n    else if (isNumber(pinchScale)) {\r\n        distWidth = (pinchScale - 1) * startOffsetWidth;\r\n        distHeight = (pinchScale - 1) * startOffsetHeight;\r\n    }\r\n    else if (parentScale) {\r\n        distWidth = (parentScale[0] - 1) * startOffsetWidth;\r\n        distHeight = (parentScale[1] - 1) * startOffsetHeight;\r\n    }\r\n    else if (parentDistance) {\r\n        var scaleX = startOffsetWidth * directionsDists[0];\r\n        var scaleY = startOffsetHeight * directionsDists[1];\r\n        var ratioDistance = getDistSize([scaleX, scaleY]);\r\n        distWidth = parentDistance / ratioDistance * scaleX * directionRatios[0];\r\n        distHeight = parentDistance / ratioDistance * scaleY * directionRatios[1];\r\n    }\r\n    else {\r\n        var dist_1 = getDragDist({ datas: datas, distX: distX, distY: distY });\r\n        dist_1 = directionRatios.map(function (ratio, i) {\r\n            return dist_1[i] * ratio;\r\n        });\r\n        _a = __read(getSizeDistByDist([startOffsetWidth, startOffsetHeight], dist_1, ratio, sizeDirection, keepRatio), 2), distWidth = _a[0], distHeight = _a[1];\r\n    }\r\n    return {\r\n        // direction,\r\n        // sizeDirection,\r\n        distWidth: distWidth,\r\n        distHeight: distHeight,\r\n    };\r\n}\r\nfunction convertTransformUnit(origin, xy) {\r\n    if (xy) {\r\n        if (origin === \"left\") {\r\n            return { x: \"0%\", y: \"50%\" };\r\n        }\r\n        else if (origin === \"top\") {\r\n            return { x: \"50%\", y: \"50%\" };\r\n        }\r\n        else if (origin === \"center\") {\r\n            return { x: \"50%\", y: \"50%\" };\r\n        }\r\n        else if (origin === \"right\") {\r\n            return { x: \"100%\", y: \"50%\" };\r\n        }\r\n        else if (origin === \"bottom\") {\r\n            return { x: \"50%\", y: \"100%\" };\r\n        }\r\n        var _a = __read(origin.split(\" \"), 2), left = _a[0], right = _a[1];\r\n        var leftOrigin = convertTransformUnit(left || \"\");\r\n        var rightOrigin = convertTransformUnit(right || \"\");\r\n        var originObject = __assign(__assign({}, leftOrigin), rightOrigin);\r\n        var nextOriginObject = {\r\n            x: \"50%\",\r\n            y: \"50%\",\r\n        };\r\n        if (originObject.x) {\r\n            nextOriginObject.x = originObject.x;\r\n        }\r\n        if (originObject.y) {\r\n            nextOriginObject.y = originObject.y;\r\n        }\r\n        if (originObject.value) {\r\n            if (originObject.x && !originObject.y) {\r\n                nextOriginObject.y = originObject.value;\r\n            }\r\n            if (!originObject.x && originObject.y) {\r\n                nextOriginObject.x = originObject.value;\r\n            }\r\n        }\r\n        return nextOriginObject;\r\n    }\r\n    if (origin === \"left\") {\r\n        return { x: \"0%\" };\r\n    }\r\n    if (origin === \"right\") {\r\n        return { x: \"100%\" };\r\n    }\r\n    if (origin === \"top\") {\r\n        return { y: \"0%\" };\r\n    }\r\n    if (origin === \"bottom\") {\r\n        return { y: \"100%\" };\r\n    }\r\n    if (!origin) {\r\n        return {};\r\n    }\r\n    if (origin === \"center\") {\r\n        return { value: \"50%\" };\r\n    }\r\n    return { value: origin };\r\n}\r\nfunction convertTransformOriginArray(transformOrigin, width, height) {\r\n    var _a = convertTransformUnit(transformOrigin, true), x = _a.x, y = _a.y;\r\n    return [\r\n        convertUnitSize(x, width) || 0,\r\n        convertUnitSize(y, height) || 0,\r\n    ];\r\n}\r\nfunction rotatePosesInfo(poses, origin, rad) {\r\n    var prevPoses = poses.map(function (pos) { return minus(pos, origin); });\r\n    var nextPoses = prevPoses.map(function (pos) { return rotate(pos, rad); });\r\n    return {\r\n        prev: prevPoses,\r\n        next: nextPoses,\r\n        result: nextPoses.map(function (pos) { return plus(pos, origin); }),\r\n    };\r\n}\r\nfunction isDeepArrayEquals(arr1, arr2) {\r\n    return arr1.length === arr2.length && arr1.every(function (value1, i) {\r\n        var value2 = arr2[i];\r\n        var isArray1 = isArray(value1);\r\n        var isArray2 = isArray(value2);\r\n        if (isArray1 && isArray2) {\r\n            return isDeepArrayEquals(value1, value2);\r\n        }\r\n        else if (!isArray1 && !isArray2) {\r\n            return value1 === value2;\r\n        }\r\n        return false;\r\n    });\r\n}\r\nfunction watchValue(moveable, property, nextValue, valueKey, defaultValue) {\r\n    var store = moveable._store;\r\n    var prevValue = store[property];\r\n    if (!(property in store)) {\r\n        if (defaultValue != null) {\r\n            store[property] = defaultValue;\r\n            prevValue = defaultValue;\r\n        }\r\n        else {\r\n            store[property] = nextValue;\r\n            return nextValue;\r\n        }\r\n    }\r\n    if (prevValue === nextValue || valueKey(prevValue) === valueKey(nextValue)) {\r\n        return prevValue;\r\n    }\r\n    store[property] = nextValue;\r\n    return nextValue;\r\n}\r\nfunction sign(value) {\r\n    return value >= 0 ? 1 : -1;\r\n}\r\nfunction abs(value) {\r\n    return Math.abs(value);\r\n}\r\nfunction countEach(count, callback) {\r\n    return counter(count).map(function (index) { return callback(index); });\r\n}\r\nfunction getPaddingBox(padding) {\r\n    if (isNumber(padding)) {\r\n        return {\r\n            top: padding,\r\n            left: padding,\r\n            right: padding,\r\n            bottom: padding,\r\n        };\r\n    }\r\n    return {\r\n        left: padding.left || 0,\r\n        top: padding.top || 0,\r\n        right: padding.right || 0,\r\n        bottom: padding.bottom || 0,\r\n    };\r\n}\n\n/**\r\n * @namespace Moveable.Pinchable\r\n * @description Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\r\n */\r\nvar Pinchable = makeAble(\"pinchable\", {\r\n    props: [\r\n        \"pinchable\",\r\n    ],\r\n    events: [\r\n        \"pinchStart\",\r\n        \"pinch\",\r\n        \"pinchEnd\",\r\n        \"pinchGroupStart\",\r\n        \"pinchGroup\",\r\n        \"pinchGroupEnd\",\r\n    ],\r\n    dragStart: function () {\r\n        return true;\r\n    },\r\n    pinchStart: function (moveable, e) {\r\n        var datas = e.datas, targets = e.targets, angle = e.angle, originalDatas = e.originalDatas;\r\n        var _a = moveable.props, pinchable = _a.pinchable, ables = _a.ables;\r\n        if (!pinchable) {\r\n            return false;\r\n        }\r\n        var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\", \"Start\");\r\n        var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"ControlStart\");\r\n        var pinchAbles = (pinchable === true ? moveable.controlAbles : ables.filter(function (able) {\r\n            return pinchable.indexOf(able.name) > -1;\r\n        })).filter(function (able) { return able.canPinch && able[controlEventName]; });\r\n        var params = fillParams(moveable, e, {});\r\n        if (targets) {\r\n            params.targets = targets;\r\n        }\r\n        var result = triggerEvent(moveable, eventName, params);\r\n        datas.isPinch = result !== false;\r\n        datas.ables = pinchAbles;\r\n        var isPinch = datas.isPinch;\r\n        if (!isPinch) {\r\n            return false;\r\n        }\r\n        pinchAbles.forEach(function (able) {\r\n            originalDatas[able.name] = originalDatas[able.name] || {};\r\n            if (!able[controlEventName]) {\r\n                return;\r\n            }\r\n            var ableEvent = __assign(__assign({}, e), { datas: originalDatas[able.name], parentRotate: angle, isPinch: true });\r\n            able[controlEventName](moveable, ableEvent);\r\n        });\r\n        moveable.state.snapRenderInfo = {\r\n            request: e.isRequest,\r\n            direction: [0, 0],\r\n        };\r\n        return isPinch;\r\n    },\r\n    pinch: function (moveable, e) {\r\n        var datas = e.datas, pinchScale = e.scale, distance = e.distance, originalDatas = e.originalDatas, inputEvent = e.inputEvent, targets = e.targets, angle = e.angle;\r\n        if (!datas.isPinch) {\r\n            return;\r\n        }\r\n        var parentDistance = distance * (1 - 1 / pinchScale);\r\n        var params = fillParams(moveable, e, {});\r\n        if (targets) {\r\n            params.targets = targets;\r\n        }\r\n        var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\");\r\n        triggerEvent(moveable, eventName, params);\r\n        var ables = datas.ables;\r\n        var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"Control\");\r\n        ables.forEach(function (able) {\r\n            if (!able[controlEventName]) {\r\n                return;\r\n            }\r\n            able[controlEventName](moveable, __assign(__assign({}, e), { datas: originalDatas[able.name], inputEvent: inputEvent, resolveMatrix: true, pinchScale: pinchScale, parentDistance: parentDistance, parentRotate: angle, isPinch: true }));\r\n        });\r\n        return params;\r\n    },\r\n    pinchEnd: function (moveable, e) {\r\n        var datas = e.datas, isPinch = e.isPinch, inputEvent = e.inputEvent, targets = e.targets, originalDatas = e.originalDatas;\r\n        if (!datas.isPinch) {\r\n            return;\r\n        }\r\n        var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\", \"End\");\r\n        var params = fillEndParams(moveable, e, { isDrag: isPinch });\r\n        if (targets) {\r\n            params.targets = targets;\r\n        }\r\n        triggerEvent(moveable, eventName, params);\r\n        var ables = datas.ables;\r\n        var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"ControlEnd\");\r\n        ables.forEach(function (able) {\r\n            if (!able[controlEventName]) {\r\n                return;\r\n            }\r\n            able[controlEventName](moveable, __assign(__assign({}, e), { isDrag: isPinch, datas: originalDatas[able.name], inputEvent: inputEvent, isPinch: true }));\r\n        });\r\n        return isPinch;\r\n    },\r\n    pinchGroupStart: function (moveable, e) {\r\n        return this.pinchStart(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    pinchGroup: function (moveable, e) {\r\n        return this.pinch(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    pinchGroupEnd: function (moveable, e) {\r\n        return this.pinchEnd(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n});\r\n/**\r\n * Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\r\n * @name Moveable.Pinchable#pinchable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.pinchable = true;\r\n */\r\n/**\r\n * When the pinch starts, the pinchStart event is called with part of scaleStart, rotateStart, resizeStart\r\n * @memberof Moveable.Pinchable\r\n * @event pinchStart\r\n * @param {Moveable.Pinchable.OnPinchStart} - Parameters for the pinchStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     rotatable: true,\r\n *     scalable: true,\r\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\r\n * });\r\n * moveable.on(\"pinchStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"rotateStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"scaleStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n * When pinching, the pinch event is called with part of scale, rotate, resize\r\n * @memberof Moveable.Pinchable\r\n * @event pinch\r\n * @param {Moveable.Pinchable.OnPinch} - Parameters for the pinch event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     rotatable: true,\r\n *     scalable: true,\r\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\r\n * });\r\n * moveable.on(\"pinch\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"rotate\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"scale\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n * When the pinch finishes, the pinchEnd event is called.\r\n * @memberof Moveable.Pinchable\r\n * @event pinchEnd\r\n * @param {Moveable.Pinchable.OnPinchEnd} - Parameters for the pinchEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     rotatable: true,\r\n *     scalable: true,\r\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\r\n * });\r\n * moveable.on(\"pinchEnd\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"rotateEnd\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n * moveable.on(\"scaleEnd\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n * When the group pinch starts, the `pinchGroupStart` event is called.\r\n * @memberof Moveable.Pinchable\r\n * @event pinchGroupStart\r\n * @param {Moveable.Pinchable.OnPinchGroupStart} - Parameters for the `pinchGroupStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     pinchable: true\r\n * });\r\n * moveable.on(\"pinchGroupStart\", ({ targets }) => {\r\n *     console.log(\"onPinchGroupStart\", targets);\r\n * });\r\n */\r\n/**\r\n * When the group pinch, the `pinchGroup` event is called.\r\n * @memberof Moveable.Pinchable\r\n * @event pinchGroup\r\n * @param {Moveable.Pinchable.OnPinchGroup} - Parameters for the `pinchGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     pinchable: true\r\n * });\r\n * moveable.on(\"pinchGroup\", ({ targets, events }) => {\r\n *     console.log(\"onPinchGroup\", targets);\r\n * });\r\n */\r\n/**\r\n * When the group pinch finishes, the `pinchGroupEnd` event is called.\r\n * @memberof Moveable.Pinchable\r\n * @event pinchGroupEnd\r\n * @param {Moveable.Pinchable.OnPinchGroupEnd} - Parameters for the `pinchGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     pinchable: true\r\n * });\r\n * moveable.on(\"pinchGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onPinchGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\nvar directionCondition = getDirectionCondition(\"scalable\");\r\n/**\r\n * @namespace Scalable\r\n * @memberof Moveable\r\n * @description Scalable indicates whether the target's x and y can be scale of transform.\r\n */\r\nvar Scalable = {\r\n    name: \"scalable\",\r\n    ableGroup: \"size\",\r\n    canPinch: true,\r\n    props: [\r\n        \"scalable\",\r\n        \"throttleScale\",\r\n        \"renderDirections\",\r\n        \"keepRatio\",\r\n        \"edge\",\r\n        \"displayAroundControls\",\r\n    ],\r\n    events: [\r\n        \"scaleStart\",\r\n        \"beforeScale\",\r\n        \"scale\",\r\n        \"scaleEnd\",\r\n        \"scaleGroupStart\",\r\n        \"beforeScaleGroup\",\r\n        \"scaleGroup\",\r\n        \"scaleGroupEnd\",\r\n    ],\r\n    render: getRenderDirections(\"scalable\"),\r\n    dragControlCondition: directionCondition,\r\n    viewClassName: getDirectionViewClassName(\"scalable\"),\r\n    dragControlStart: function (moveable, e) {\r\n        var datas = e.datas, isPinch = e.isPinch, inputEvent = e.inputEvent, parentDirection = e.parentDirection;\r\n        var direction = getTotalDirection(parentDirection, isPinch, inputEvent, datas);\r\n        var _a = moveable.state, width = _a.width, height = _a.height, targetTransform = _a.targetTransform, target = _a.target, pos1 = _a.pos1, pos2 = _a.pos2, pos4 = _a.pos4;\r\n        if (!direction || !target) {\r\n            return false;\r\n        }\r\n        if (!isPinch) {\r\n            setDragStart(moveable, e);\r\n        }\r\n        datas.datas = {};\r\n        datas.transform = targetTransform;\r\n        datas.prevDist = [1, 1];\r\n        datas.direction = direction;\r\n        datas.startOffsetWidth = width;\r\n        datas.startOffsetHeight = height;\r\n        datas.startValue = [1, 1];\r\n        // const scaleWidth = getDist(pos1, pos2);\r\n        // const scaleHeight = getDist(pos2, pos4);\r\n        var isWidth = (!direction[0] && !direction[1]) || direction[0] || !direction[1];\r\n        // datas.scaleWidth = scaleWidth;\r\n        // datas.scaleHeight = scaleHeight;\r\n        // datas.scaleXRatio = scaleWidth / width;\r\n        // datas.scaleYRatio = scaleHeight / height;\r\n        setDefaultTransformIndex(moveable, e, \"scale\");\r\n        datas.isWidth = isWidth;\r\n        function setRatio(ratio) {\r\n            datas.ratio = ratio && isFinite(ratio) ? ratio : 0;\r\n        }\r\n        datas.startPositions = getAbsolutePosesByState(moveable.state);\r\n        function setFixedDirection(fixedDirection) {\r\n            var result = getFixedDirectionInfo(datas.startPositions, fixedDirection);\r\n            datas.fixedDirection = result.fixedDirection;\r\n            datas.fixedPosition = result.fixedPosition;\r\n            datas.fixedOffset = result.fixedOffset;\r\n        }\r\n        datas.setFixedDirection = setFixedDirection;\r\n        setRatio(getDist$1(pos1, pos2) / getDist$1(pos2, pos4));\r\n        setFixedDirection([-direction[0], -direction[1]]);\r\n        var setMinScaleSize = function (min) {\r\n            datas.minScaleSize = min;\r\n        };\r\n        var setMaxScaleSize = function (max) {\r\n            datas.maxScaleSize = max;\r\n        };\r\n        // const setMinScale = (min: number[]) => {\r\n        // };\r\n        // const setMaxScale = (max: number[]) => {\r\n        // };\r\n        setMinScaleSize([-Infinity, -Infinity]);\r\n        setMaxScaleSize([Infinity, Infinity]);\r\n        var params = fillParams(moveable, e, __assign(__assign({ direction: direction, set: function (scale) {\r\n                datas.startValue = scale;\r\n            }, setRatio: setRatio, setFixedDirection: setFixedDirection, setMinScaleSize: setMinScaleSize, setMaxScaleSize: setMaxScaleSize }, fillTransformStartEvent(moveable, e)), { dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e)) }));\r\n        var result = triggerEvent(moveable, \"onScaleStart\", params);\r\n        datas.startFixedDirection = datas.fixedDirection;\r\n        if (result !== false) {\r\n            datas.isScale = true;\r\n            moveable.state.snapRenderInfo = {\r\n                request: e.isRequest,\r\n                direction: direction,\r\n            };\r\n        }\r\n        return datas.isScale ? params : false;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        resolveTransformEvent(moveable, e, \"scale\");\r\n        var datas = e.datas, parentKeepRatio = e.parentKeepRatio, parentFlag = e.parentFlag, isPinch = e.isPinch, dragClient = e.dragClient, isRequest = e.isRequest, useSnap = e.useSnap, resolveMatrix = e.resolveMatrix;\r\n        var prevDist = datas.prevDist, direction = datas.direction, startOffsetWidth = datas.startOffsetWidth, startOffsetHeight = datas.startOffsetHeight, isScale = datas.isScale, startValue = datas.startValue, isWidth = datas.isWidth, ratio = datas.ratio;\r\n        if (!isScale) {\r\n            return false;\r\n        }\r\n        var props = moveable.props;\r\n        var throttleScale = props.throttleScale, parentMoveable = props.parentMoveable;\r\n        var sizeDirection = direction;\r\n        if (!direction[0] && !direction[1]) {\r\n            sizeDirection = [1, 1];\r\n        }\r\n        var keepRatio = (ratio && (parentKeepRatio != null ? parentKeepRatio : props.keepRatio)) || false;\r\n        var state = moveable.state;\r\n        var tempScaleValue = [\r\n            startValue[0],\r\n            startValue[1],\r\n        ];\r\n        function getNextScale() {\r\n            var _a = getOffsetSizeDist(sizeDirection, keepRatio, datas, e), distWidth = _a.distWidth, distHeight = _a.distHeight;\r\n            var distX = startOffsetWidth ? (startOffsetWidth + distWidth) / startOffsetWidth : 1;\r\n            var distY = startOffsetHeight ? (startOffsetHeight + distHeight) / startOffsetHeight : 1;\r\n            if (!startValue[0]) {\r\n                tempScaleValue[0] = distWidth / startOffsetWidth;\r\n            }\r\n            if (!startValue[1]) {\r\n                tempScaleValue[1] = distHeight / startOffsetHeight;\r\n            }\r\n            var scaleX = (sizeDirection[0] || keepRatio ? distX : 1) * tempScaleValue[0];\r\n            var scaleY = (sizeDirection[1] || keepRatio ? distY : 1) * tempScaleValue[1];\r\n            if (scaleX === 0) {\r\n                scaleX = sign(prevDist[0]) * MIN_SCALE;\r\n            }\r\n            if (scaleY === 0) {\r\n                scaleY = sign(prevDist[1]) * MIN_SCALE;\r\n            }\r\n            return [scaleX, scaleY];\r\n        }\r\n        var scale = getNextScale();\r\n        if (!isPinch && moveable.props.groupable) {\r\n            var snapRenderInfo = state.snapRenderInfo || {};\r\n            var stateDirection = snapRenderInfo.direction;\r\n            if (isArray(stateDirection) && (stateDirection[0] || stateDirection[1])) {\r\n                state.snapRenderInfo = { direction: direction, request: e.isRequest };\r\n            }\r\n        }\r\n        triggerEvent(moveable, \"onBeforeScale\", fillParams(moveable, e, {\r\n            scale: scale,\r\n            setFixedDirection: function (nextFixedDirection) {\r\n                datas.setFixedDirection(nextFixedDirection);\r\n                scale = getNextScale();\r\n                return scale;\r\n            },\r\n            startFixedDirection: datas.startFixedDirection,\r\n            setScale: function (nextScale) {\r\n                scale = nextScale;\r\n            },\r\n        }, true));\r\n        var dist = [\r\n            scale[0] / tempScaleValue[0],\r\n            scale[1] / tempScaleValue[1],\r\n        ];\r\n        var fixedPosition = dragClient;\r\n        var snapDist = [0, 0];\r\n        var distSign = sign(dist[0] * dist[1]);\r\n        var isSelfPinch = !dragClient && !parentFlag && isPinch;\r\n        if (isSelfPinch || resolveMatrix) {\r\n            fixedPosition = getTranslateFixedPosition(moveable, datas.targetAllTransform, [0, 0], [0, 0], datas);\r\n        }\r\n        else if (!dragClient) {\r\n            fixedPosition = datas.fixedPosition;\r\n        }\r\n        if (!isPinch) {\r\n            snapDist = checkSnapScale(moveable, dist, direction, !useSnap && isRequest, datas);\r\n        }\r\n        if (keepRatio) {\r\n            if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\r\n                if (Math.abs(snapDist[0] * startOffsetWidth) > Math.abs(snapDist[1] * startOffsetHeight)) {\r\n                    snapDist[1] = 0;\r\n                }\r\n                else {\r\n                    snapDist[0] = 0;\r\n                }\r\n            }\r\n            var isNoSnap = !snapDist[0] && !snapDist[1];\r\n            if (isNoSnap) {\r\n                // throttle scale value (not absolute scale size)\r\n                if (isWidth) {\r\n                    dist[0] = throttle(dist[0] * tempScaleValue[0], throttleScale) / tempScaleValue[0];\r\n                }\r\n                else {\r\n                    dist[1] = throttle(dist[1] * tempScaleValue[1], throttleScale) / tempScaleValue[1];\r\n                }\r\n            }\r\n            if ((sizeDirection[0] && !sizeDirection[1])\r\n                || (snapDist[0] && !snapDist[1])\r\n                || (isNoSnap && isWidth)) {\r\n                dist[0] += snapDist[0];\r\n                var snapHeight = startOffsetWidth * dist[0] * tempScaleValue[0] / ratio;\r\n                dist[1] = sign(distSign * dist[0]) * abs(snapHeight / startOffsetHeight / tempScaleValue[1]);\r\n            }\r\n            else if ((!sizeDirection[0] && sizeDirection[1])\r\n                || (!snapDist[0] && snapDist[1])\r\n                || (isNoSnap && !isWidth)) {\r\n                dist[1] += snapDist[1];\r\n                var snapWidth = startOffsetHeight * dist[1] * tempScaleValue[1] * ratio;\r\n                dist[0] = sign(distSign * dist[1]) * abs(snapWidth / startOffsetWidth / tempScaleValue[0]);\r\n            }\r\n        }\r\n        else {\r\n            dist[0] += snapDist[0];\r\n            dist[1] += snapDist[1];\r\n            if (!snapDist[0]) {\r\n                dist[0] = throttle(dist[0] * tempScaleValue[0], throttleScale) / tempScaleValue[0];\r\n            }\r\n            if (!snapDist[1]) {\r\n                dist[1] = throttle(dist[1] * tempScaleValue[1], throttleScale) / tempScaleValue[1];\r\n            }\r\n        }\r\n        if (dist[0] === 0) {\r\n            dist[0] = sign(prevDist[0]) * MIN_SCALE;\r\n        }\r\n        if (dist[1] === 0) {\r\n            dist[1] = sign(prevDist[1]) * MIN_SCALE;\r\n        }\r\n        scale = multiply2(dist, [tempScaleValue[0], tempScaleValue[1]]);\r\n        var startOffsetSize = [\r\n            startOffsetWidth,\r\n            startOffsetHeight,\r\n        ];\r\n        var scaleSize = [\r\n            startOffsetWidth * scale[0],\r\n            startOffsetHeight * scale[1],\r\n        ];\r\n        scaleSize = calculateBoundSize(scaleSize, datas.minScaleSize, datas.maxScaleSize, keepRatio ? ratio : false);\r\n        // if (keepRatio && (isGroup || keepRatioFinally)) {\r\n        //     if (isWidth) {\r\n        //         boundingHeight = boundingWidth / ratio;\r\n        //     } else {\r\n        //         boundingWidth = boundingHeight * ratio;\r\n        //     }\r\n        // }\r\n        scale = countEach(2, function (i) {\r\n            return startOffsetSize[i] ? scaleSize[i] / startOffsetSize[i] : scaleSize[i];\r\n        });\r\n        dist = countEach(2, function (i) {\r\n            return scale[i] / tempScaleValue[i];\r\n        });\r\n        var delta = countEach(2, function (i) { return prevDist[i] ? dist[i] / prevDist[i] : dist[i]; });\r\n        var distText = \"scale(\".concat(dist.join(\", \"), \")\");\r\n        var scaleText = \"scale(\".concat(scale.join(\", \"), \")\");\r\n        var nextTransform = convertTransformFormat(datas, scaleText, distText);\r\n        var isZeroScale = !startValue[0] || !startValue[1];\r\n        var inverseDist = getScaleDist(moveable, isZeroScale ? scaleText : distText, datas.fixedDirection, fixedPosition, datas.fixedOffset, datas, isZeroScale);\r\n        var inverseDelta = isSelfPinch ? inverseDist : minus(inverseDist, datas.prevInverseDist || [0, 0]);\r\n        datas.prevDist = dist;\r\n        datas.prevInverseDist = inverseDist;\r\n        if (scale[0] === prevDist[0] && scale[1] === prevDist[1]\r\n            && inverseDelta.every(function (num) { return !num; })\r\n            && !parentMoveable\r\n            && !isSelfPinch) {\r\n            return false;\r\n        }\r\n        var params = fillParams(moveable, e, __assign({ offsetWidth: startOffsetWidth, offsetHeight: startOffsetHeight, direction: direction, scale: scale, dist: dist, delta: delta, isPinch: !!isPinch }, fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e)));\r\n        triggerEvent(moveable, \"onScale\", params);\r\n        return params;\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isScale) {\r\n            return false;\r\n        }\r\n        datas.isScale = false;\r\n        var scaleEndParam = fillEndParams(moveable, e, {});\r\n        triggerEvent(moveable, \"onScaleEnd\", scaleEndParam);\r\n        return scaleEndParam;\r\n    },\r\n    dragGroupControlCondition: directionCondition,\r\n    dragGroupControlStart: function (moveable, e) {\r\n        var datas = e.datas;\r\n        var params = this.dragControlStart(moveable, e);\r\n        if (!params) {\r\n            return false;\r\n        }\r\n        var originalEvents = fillChildEvents(moveable, \"resizable\", e);\r\n        datas.moveableScale = moveable.scale;\r\n        var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\r\n            return startChildDist(moveable, child, datas, ev);\r\n        });\r\n        var setFixedDirection = function (fixedDirection) {\r\n            params.setFixedDirection(fixedDirection);\r\n            events.forEach(function (ev, i) {\r\n                ev.setFixedDirection(fixedDirection);\r\n                startChildDist(moveable, ev.moveable, datas, originalEvents[i]);\r\n            });\r\n        };\r\n        datas.setFixedDirection = setFixedDirection;\r\n        var nextParams = __assign(__assign({}, params), { targets: moveable.props.targets, events: events, setFixedDirection: setFixedDirection });\r\n        var result = triggerEvent(moveable, \"onScaleGroupStart\", nextParams);\r\n        datas.isScale = result !== false;\r\n        return datas.isScale ? nextParams : false;\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isScale) {\r\n            return;\r\n        }\r\n        catchEvent(moveable, \"onBeforeScale\", function (parentEvent) {\r\n            triggerEvent(moveable, \"onBeforeScaleGroup\", fillParams(moveable, e, __assign(__assign({}, parentEvent), { targets: moveable.props.targets }), true));\r\n        });\r\n        var params = this.dragControl(moveable, e);\r\n        if (!params) {\r\n            return;\r\n        }\r\n        var dist = params.dist;\r\n        var moveableScale = datas.moveableScale;\r\n        moveable.scale = [\r\n            dist[0] * moveableScale[0],\r\n            dist[1] * moveableScale[1],\r\n        ];\r\n        var keepRatio = moveable.props.keepRatio;\r\n        var fixedPosition = datas.fixedPosition;\r\n        var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\r\n            var _a = __read(calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [\r\n                ev.datas.originalX * dist[0],\r\n                ev.datas.originalY * dist[1],\r\n                1,\r\n            ], 3), 2), clientX = _a[0], clientY = _a[1];\r\n            return __assign(__assign({}, ev), { parentDist: null, parentScale: dist, parentKeepRatio: keepRatio, \r\n                // recalculate child fixed position for parent group's dragging.\r\n                dragClient: plus(fixedPosition, [clientX, clientY]) });\r\n        });\r\n        var nextParams = __assign({ targets: moveable.props.targets, events: events }, params);\r\n        triggerEvent(moveable, \"onScaleGroup\", nextParams);\r\n        return nextParams;\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        var isDrag = e.isDrag, datas = e.datas;\r\n        if (!datas.isScale) {\r\n            return;\r\n        }\r\n        this.dragControlEnd(moveable, e);\r\n        var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\r\n        var nextParams = fillEndParams(moveable, e, {\r\n            targets: moveable.props.targets,\r\n            events: events,\r\n        });\r\n        triggerEvent(moveable, \"onScaleGroupEnd\", nextParams);\r\n        return isDrag;\r\n    },\r\n    /**\r\n     * @method Moveable.Scalable#request\r\n     * @param {Moveable.Scalable.ScalableRequestParam} e - the Scalable's request parameter\r\n     * @return {Moveable.Requester} Moveable Requester\r\n     * @example\r\n\n     * // Instantly Request (requestStart - request - requestEnd)\r\n     * moveable.request(\"scalable\", { deltaWidth: 10, deltaHeight: 10 }, true);\r\n     *\r\n     * // requestStart\r\n     * const requester = moveable.request(\"scalable\");\r\n     *\r\n     * // request\r\n     * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n     * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n     * requester.request({ deltaWidth: 10, deltaHeight: 10 });\r\n     *\r\n     * // requestEnd\r\n     * requester.requestEnd();\r\n     */\r\n    request: function () {\r\n        var datas = {};\r\n        var distWidth = 0;\r\n        var distHeight = 0;\r\n        var useSnap = false;\r\n        return {\r\n            isControl: true,\r\n            requestStart: function (e) {\r\n                useSnap = e.useSnap;\r\n                return {\r\n                    datas: datas,\r\n                    parentDirection: e.direction || [1, 1],\r\n                    useSnap: useSnap,\r\n                };\r\n            },\r\n            request: function (e) {\r\n                distWidth += e.deltaWidth;\r\n                distHeight += e.deltaHeight;\r\n                return {\r\n                    datas: datas,\r\n                    parentDist: [distWidth, distHeight],\r\n                    parentKeepRatio: e.keepRatio,\r\n                    useSnap: useSnap,\r\n                };\r\n            },\r\n            requestEnd: function () {\r\n                return { datas: datas, isDrag: true, useSnap: useSnap };\r\n            },\r\n        };\r\n    },\r\n};\r\n/**\r\n * Whether or not target can scaled.\r\n *\r\n * @name Moveable.Scalable#scalable\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.scalable = true;\r\n */\r\n/**\r\n * throttle of scaleX, scaleY when scale.\r\n * @name Moveable.Scalable#throttleScale\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.throttleScale = 0.1;\r\n */\r\n/**\r\n * Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\r\n * @name Moveable.Scalable#renderDirections\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     scalable: true,\r\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\r\n * });\r\n *\r\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\r\n */\r\n/**\r\n * When resize or scale, keeps a ratio of the width, height. (default: false)\r\n * @name Moveable.Scalable#keepRatio\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     scalable: true,\r\n * });\r\n *\r\n * moveable.keepRatio = true;\r\n */\r\n/**\r\n * When the scale starts, the scaleStart event is called.\r\n * @memberof Moveable.Scalable\r\n * @event scaleStart\r\n * @param {Moveable.Scalable.OnScaleStart} - Parameters for the scaleStart event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { scalable: true });\r\n * moveable.on(\"scaleStart\", ({ target }) => {\r\n *     console.log(target);\r\n * });\r\n */\r\n/**\r\n * When scaling, `beforeScale` is called before `scale` occurs. In `beforeScale`, you can get and set the pre-value before scaling.\r\n * @memberof Moveable.Scalable\r\n * @event beforeScale\r\n * @param {Moveable.Scalable.OnBeforeScale} - Parameters for the `beforeScale` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { scalable: true });\r\n * moveable.on(\"beforeScale\", ({ setFixedDirection }) => {\r\n *     if (shiftKey) {\r\n *        setFixedDirection([0, 0]);\r\n *     }\r\n * });\r\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\r\n *     target.style.transform = transform;\r\n * });\r\n */\r\n/**\r\n * When scaling, the `scale` event is called.\r\n * @memberof Moveable.Scalable\r\n * @event scale\r\n * @param {Moveable.Scalable.OnScale} - Parameters for the `scale` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { scalable: true });\r\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\r\n *     target.style.transform = transform;\r\n * });\r\n */\r\n/**\r\n * When the scale finishes, the `scaleEnd` event is called.\r\n * @memberof Moveable.Scalable\r\n * @event scaleEnd\r\n * @param {Moveable.Scalable.OnScaleEnd} - Parameters for the `scaleEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { scalable: true });\r\n * moveable.on(\"scaleEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\r\n/**\r\n* When the group scale starts, the `scaleGroupStart` event is called.\r\n* @memberof Moveable.Scalable\r\n* @event scaleGroupStart\r\n* @param {Moveable.Scalable.OnScaleGroupStart} - Parameters for the `scaleGroupStart` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     scalable: true\r\n* });\r\n* moveable.on(\"scaleGroupStart\", ({ targets }) => {\r\n*     console.log(\"onScaleGroupStart\", targets);\r\n* });\r\n*/\r\n/**\r\n* When the group scale, the `scaleGroup` event is called.\r\n* @memberof Moveable.Scalable\r\n* @event scaleGroup\r\n* @param {Moveable.Scalable.OnScaleGroup} - Parameters for the `scaleGroup` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n*     scalable: true\r\n* });\r\n* moveable.on(\"scaleGroup\", ({ targets, events }) => {\r\n*     console.log(\"onScaleGroup\", targets);\r\n*     events.forEach(ev => {\r\n*         const target = ev.target;\r\n*         // ev.drag is a drag event that occurs when the group scale.\r\n*         const left = ev.drag.beforeDist[0];\r\n*         const top = ev.drag.beforeDist[1];\r\n*         const scaleX = ev.scale[0];\r\n*         const scaleY = ev.scale[1];\r\n*     });\r\n* });\r\n*/\r\n/**\r\n * When the group scale finishes, the `scaleGroupEnd` event is called.\r\n * @memberof Moveable.Scalable\r\n * @event scaleGroupEnd\r\n * @param {Moveable.Scalable.OnScaleGroupEnd} - Parameters for the `scaleGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n *     scalable: true\r\n * });\r\n * moveable.on(\"scaleGroupEnd\", ({ targets, isDrag }) => {\r\n *     console.log(\"onScaleGroupEnd\", targets, isDrag);\r\n * });\r\n */\n\nfunction getMiddleLinePos(pos1, pos2) {\r\n    return pos1.map(function (pos, i) { return dot(pos, pos2[i], 1, 2); });\r\n}\r\nfunction getTriangleRad(pos1, pos2, pos3) {\r\n    // pos1 Rad\r\n    var rad1 = getRad(pos1, pos2);\r\n    var rad2 = getRad(pos1, pos3);\r\n    var rad = rad2 - rad1;\r\n    return rad >= 0 ? rad : rad + 2 * Math.PI;\r\n}\r\nfunction isValidPos(poses1, poses2) {\r\n    var rad1 = getTriangleRad(poses1[0], poses1[1], poses1[2]);\r\n    var rad2 = getTriangleRad(poses2[0], poses2[1], poses2[2]);\r\n    var pi = Math.PI;\r\n    if ((rad1 >= pi && rad2 <= pi) || (rad1 <= pi && rad2 >= pi)) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * @namespace Moveable.Warpable\r\n * @description Warpable indicates whether the target can be warped(distorted, bented).\r\n */\r\nvar Warpable = {\r\n    name: \"warpable\",\r\n    ableGroup: \"size\",\r\n    props: [\r\n        \"warpable\",\r\n        \"renderDirections\",\r\n        \"edge\",\r\n        \"displayAroundControls\",\r\n    ],\r\n    events: [\r\n        \"warpStart\",\r\n        \"warp\",\r\n        \"warpEnd\",\r\n    ],\r\n    viewClassName: getDirectionViewClassName(\"warpable\"),\r\n    render: function (moveable, React) {\r\n        var _a = moveable.props, resizable = _a.resizable, scalable = _a.scalable, warpable = _a.warpable, zoom = _a.zoom;\r\n        if (resizable || scalable || !warpable) {\r\n            return [];\r\n        }\r\n        var _b = moveable.state, pos1 = _b.pos1, pos2 = _b.pos2, pos3 = _b.pos3, pos4 = _b.pos4;\r\n        var linePosFrom1 = getMiddleLinePos(pos1, pos2);\r\n        var linePosFrom2 = getMiddleLinePos(pos2, pos1);\r\n        var linePosFrom3 = getMiddleLinePos(pos1, pos3);\r\n        var linePosFrom4 = getMiddleLinePos(pos3, pos1);\r\n        var linePosTo1 = getMiddleLinePos(pos3, pos4);\r\n        var linePosTo2 = getMiddleLinePos(pos4, pos3);\r\n        var linePosTo3 = getMiddleLinePos(pos2, pos4);\r\n        var linePosTo4 = getMiddleLinePos(pos4, pos2);\r\n        return __spreadArray([\r\n            React.createElement(\"div\", { className: prefix(\"line\"), key: \"middeLine1\", style: getLineStyle(linePosFrom1, linePosTo1, zoom) }),\r\n            React.createElement(\"div\", { className: prefix(\"line\"), key: \"middeLine2\", style: getLineStyle(linePosFrom2, linePosTo2, zoom) }),\r\n            React.createElement(\"div\", { className: prefix(\"line\"), key: \"middeLine3\", style: getLineStyle(linePosFrom3, linePosTo3, zoom) }),\r\n            React.createElement(\"div\", { className: prefix(\"line\"), key: \"middeLine4\", style: getLineStyle(linePosFrom4, linePosTo4, zoom) })\r\n        ], __read(renderAllDirections(moveable, \"warpable\", React)), false);\r\n    },\r\n    dragControlCondition: function (moveable, e) {\r\n        if (e.isRequest) {\r\n            return false;\r\n        }\r\n        var target = e.inputEvent.target;\r\n        return hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"warpable\"));\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        var datas = e.datas, inputEvent = e.inputEvent;\r\n        var target = moveable.props.target;\r\n        var inputTarget = inputEvent.target;\r\n        var direction = getDirection(inputTarget, datas);\r\n        if (!direction || !target) {\r\n            return false;\r\n        }\r\n        var state = moveable.state;\r\n        var transformOrigin = state.transformOrigin, is3d = state.is3d, targetTransform = state.targetTransform, targetMatrix = state.targetMatrix, width = state.width, height = state.height, left = state.left, top = state.top;\r\n        datas.datas = {};\r\n        datas.targetTransform = targetTransform;\r\n        datas.warpTargetMatrix = is3d ? targetMatrix : convertDimension(targetMatrix, 3, 4);\r\n        datas.targetInverseMatrix = ignoreDimension(invert(datas.warpTargetMatrix, 4), 3, 4);\r\n        datas.direction = direction;\r\n        datas.left = left;\r\n        datas.top = top;\r\n        datas.poses = [\r\n            [0, 0],\r\n            [width, 0],\r\n            [0, height],\r\n            [width, height],\r\n        ].map(function (p) { return minus(p, transformOrigin); });\r\n        datas.nextPoses = datas.poses.map(function (_a) {\r\n            var _b = __read(_a, 2), x = _b[0], y = _b[1];\r\n            return calculate(datas.warpTargetMatrix, [x, y, 0, 1], 4);\r\n        });\r\n        datas.startValue = createIdentityMatrix(4);\r\n        datas.prevMatrix = createIdentityMatrix(4);\r\n        datas.absolutePoses = getAbsolutePosesByState(state);\r\n        datas.posIndexes = getPosIndexesByDirection(direction);\r\n        setDragStart(moveable, e);\r\n        setDefaultTransformIndex(moveable, e, \"matrix3d\");\r\n        state.snapRenderInfo = {\r\n            request: e.isRequest,\r\n            direction: direction,\r\n        };\r\n        var params = fillParams(moveable, e, __assign({ set: function (matrix) {\r\n                datas.startValue = matrix;\r\n            } }, fillTransformStartEvent(moveable, e)));\r\n        var result = triggerEvent(moveable, \"onWarpStart\", params);\r\n        if (result !== false) {\r\n            datas.isWarp = true;\r\n        }\r\n        return datas.isWarp;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        var datas = e.datas, isRequest = e.isRequest;\r\n        var distX = e.distX, distY = e.distY;\r\n        var targetInverseMatrix = datas.targetInverseMatrix, prevMatrix = datas.prevMatrix, isWarp = datas.isWarp, startValue = datas.startValue, poses = datas.poses, posIndexes = datas.posIndexes, absolutePoses = datas.absolutePoses;\r\n        if (!isWarp) {\r\n            return false;\r\n        }\r\n        resolveTransformEvent(moveable, e, \"matrix3d\");\r\n        if (hasGuidelines(moveable, \"warpable\")) {\r\n            var selectedPoses = posIndexes.map(function (index) { return absolutePoses[index]; });\r\n            if (selectedPoses.length > 1) {\r\n                selectedPoses.push([\r\n                    (selectedPoses[0][0] + selectedPoses[1][0]) / 2,\r\n                    (selectedPoses[0][1] + selectedPoses[1][1]) / 2,\r\n                ]);\r\n            }\r\n            var _a = checkMoveableSnapBounds(moveable, isRequest, {\r\n                horizontal: selectedPoses.map(function (pos) { return pos[1] + distY; }),\r\n                vertical: selectedPoses.map(function (pos) { return pos[0] + distX; }),\r\n            }), horizontalSnapInfo = _a.horizontal, verticalSnapInfo = _a.vertical;\r\n            distY -= horizontalSnapInfo.offset;\r\n            distX -= verticalSnapInfo.offset;\r\n        }\r\n        var dist = getDragDist({ datas: datas, distX: distX, distY: distY }, true);\r\n        var nextPoses = datas.nextPoses.slice();\r\n        posIndexes.forEach(function (index) {\r\n            nextPoses[index] = plus(nextPoses[index], dist);\r\n        });\r\n        if (!NEARBY_POS.every(function (nearByPoses) { return isValidPos(nearByPoses.map(function (i) { return poses[i]; }), nearByPoses.map(function (i) { return nextPoses[i]; })); })) {\r\n            return false;\r\n        }\r\n        var h = createWarpMatrix(poses[0], poses[2], poses[1], poses[3], nextPoses[0], nextPoses[2], nextPoses[1], nextPoses[3]);\r\n        if (!h.length) {\r\n            return false;\r\n        }\r\n        // B * A * M\r\n        var afterMatrix = multiply(targetInverseMatrix, h, 4);\r\n        // B * M * A\r\n        var matrix = getTransfromMatrix(datas, afterMatrix, true);\r\n        var delta = multiply(invert(prevMatrix, 4), matrix, 4);\r\n        datas.prevMatrix = matrix;\r\n        var totalMatrix = multiply(startValue, matrix, 4);\r\n        var nextTransform = convertTransformFormat(datas, \"matrix3d(\".concat(totalMatrix.join(\", \"), \")\"), \"matrix3d(\".concat(matrix.join(\", \"), \")\"));\r\n        fillOriginalTransform(e, nextTransform);\r\n        triggerEvent(moveable, \"onWarp\", fillParams(moveable, e, __assign({ delta: delta, matrix: totalMatrix, dist: matrix, multiply: multiply, transform: nextTransform }, fillCSSObject({\r\n            transform: nextTransform,\r\n        }, e))));\r\n        return true;\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        var datas = e.datas, isDrag = e.isDrag;\r\n        if (!datas.isWarp) {\r\n            return false;\r\n        }\r\n        datas.isWarp = false;\r\n        triggerEvent(moveable, \"onWarpEnd\", fillEndParams(moveable, e, {}));\r\n        return isDrag;\r\n    },\r\n};\r\n/**\r\n * Whether or not target can be warped. (default: false)\r\n * @name Moveable.Warpable#warpable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.warpable = true;\r\n */\r\n/**\r\n* Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\r\n* @name Moveable.Warpable#renderDirections\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     warpable: true,\r\n*     renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\r\n* });\r\n*\r\n* moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\r\n*/\r\n/**\r\n* When the warp starts, the warpStart event is called.\r\n* @memberof Moveable.Warpable\r\n* @event warpStart\r\n* @param {Moveable.Warpable.OnWarpStart} - Parameters for the warpStart event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, { warpable: true });\r\n* moveable.on(\"warpStart\", ({ target }) => {\r\n*     console.log(target);\r\n* });\r\n*/\r\n/**\r\n * When warping, the warp event is called.\r\n * @memberof Moveable.Warpable\r\n * @event warp\r\n * @param {Moveable.Warpable.OnWarp} - Parameters for the warp event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n * let matrix = [\r\n *  1, 0, 0, 0,\r\n *  0, 1, 0, 0,\r\n *  0, 0, 1, 0,\r\n *  0, 0, 0, 1,\r\n * ];\r\n * const moveable = new Moveable(document.body, { warpable: true });\r\n * moveable.on(\"warp\", ({ target, transform, delta, multiply }) => {\r\n *    // target.style.transform = transform;\r\n *    matrix = multiply(matrix, delta);\r\n *    target.style.transform = `matrix3d(${matrix.join(\",\")})`;\r\n * });\r\n */\r\n/**\r\n * When the warp finishes, the warpEnd event is called.\r\n * @memberof Moveable.Warpable\r\n * @event warpEnd\r\n * @param {Moveable.Warpable.OnWarpEnd} - Parameters for the warpEnd event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, { warpable: true });\r\n * moveable.on(\"warpEnd\", ({ target, isDrag }) => {\r\n *     console.log(target, isDrag);\r\n * });\r\n */\n\nvar AREA_PIECES = /*#__PURE__*/ prefix(\"area-pieces\");\r\nvar AREA_PIECE = /*#__PURE__*/ prefix(\"area-piece\");\r\nvar AVOID = /*#__PURE__*/ prefix(\"avoid\");\r\nvar VIEW_DRAGGING = prefix(\"view-dragging\");\n\nfunction restoreStyle(moveable) {\r\n    var el = moveable.areaElement;\r\n    if (!el) {\r\n        return;\r\n    }\r\n    var _a = moveable.state, width = _a.width, height = _a.height;\r\n    removeClass(el, AVOID);\r\n    el.style.cssText += \"left: 0px; top: 0px; width: \".concat(width, \"px; height: \").concat(height, \"px\");\r\n}\r\nfunction renderPieces(React) {\r\n    return (React.createElement(\"div\", { key: \"area_pieces\", className: AREA_PIECES },\r\n        React.createElement(\"div\", { className: AREA_PIECE }),\r\n        React.createElement(\"div\", { className: AREA_PIECE }),\r\n        React.createElement(\"div\", { className: AREA_PIECE }),\r\n        React.createElement(\"div\", { className: AREA_PIECE })));\r\n}\r\nvar DragArea = {\r\n    name: \"dragArea\",\r\n    props: [\r\n        \"dragArea\",\r\n        \"passDragArea\",\r\n    ],\r\n    events: [\r\n        \"click\",\r\n        \"clickGroup\",\r\n    ],\r\n    render: function (moveable, React) {\r\n        var _a = moveable.props, target = _a.target, dragArea = _a.dragArea, groupable = _a.groupable, passDragArea = _a.passDragArea;\r\n        var _b = moveable.getState(), width = _b.width, height = _b.height, renderPoses = _b.renderPoses;\r\n        var className = passDragArea ? prefix(\"area\", \"pass\") : prefix(\"area\");\r\n        if (groupable) {\r\n            return [\r\n                React.createElement(\"div\", { key: \"area\", ref: ref(moveable, \"areaElement\"), className: className }),\r\n                renderPieces(React),\r\n            ];\r\n        }\r\n        if (!target || !dragArea) {\r\n            return [];\r\n        }\r\n        var h = createWarpMatrix([0, 0], [width, 0], [0, height], [width, height], renderPoses[0], renderPoses[1], renderPoses[2], renderPoses[3]);\r\n        var transform = h.length ? makeMatrixCSS(h, true) : \"none\";\r\n        return [\r\n            React.createElement(\"div\", { key: \"area\", ref: ref(moveable, \"areaElement\"), className: className, style: {\r\n                    top: \"0px\",\r\n                    left: \"0px\",\r\n                    width: \"\".concat(width, \"px\"),\r\n                    height: \"\".concat(height, \"px\"),\r\n                    transformOrigin: \"0 0\",\r\n                    transform: transform,\r\n                } }),\r\n            renderPieces(React),\r\n        ];\r\n    },\r\n    dragStart: function (moveable, _a) {\r\n        var datas = _a.datas, clientX = _a.clientX, clientY = _a.clientY, inputEvent = _a.inputEvent;\r\n        if (!inputEvent) {\r\n            return false;\r\n        }\r\n        datas.isDragArea = false;\r\n        var areaElement = moveable.areaElement;\r\n        var state = moveable.state;\r\n        var moveableClientRect = state.moveableClientRect, renderPoses = state.renderPoses, rootMatrix = state.rootMatrix, is3d = state.is3d;\r\n        var left = moveableClientRect.left, top = moveableClientRect.top;\r\n        var _b = getRect(renderPoses), relativeLeft = _b.left, relativeTop = _b.top, width = _b.width, height = _b.height;\r\n        var n = is3d ? 4 : 3;\r\n        var _c = __read(calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n), 2), posX = _c[0], posY = _c[1];\r\n        posX -= relativeLeft;\r\n        posY -= relativeTop;\r\n        var rects = [\r\n            { left: relativeLeft, top: relativeTop, width: width, height: posY - 10 },\r\n            { left: relativeLeft, top: relativeTop, width: posX - 10, height: height },\r\n            { left: relativeLeft, top: relativeTop + posY + 10, width: width, height: height - posY - 10 },\r\n            { left: relativeLeft + posX + 10, top: relativeTop, width: width - posX - 10, height: height },\r\n        ];\r\n        var children = [].slice.call(areaElement.nextElementSibling.children);\r\n        rects.forEach(function (rect, i) {\r\n            children[i].style.cssText\r\n                = \"left: \".concat(rect.left, \"px;top: \").concat(rect.top, \"px; width: \").concat(rect.width, \"px; height: \").concat(rect.height, \"px;\");\r\n        });\r\n        addClass(areaElement, AVOID);\r\n        state.disableNativeEvent = true;\r\n        return;\r\n    },\r\n    drag: function (moveable, _a) {\r\n        var datas = _a.datas, inputEvent = _a.inputEvent;\r\n        this.enableNativeEvent(moveable);\r\n        if (!inputEvent) {\r\n            return false;\r\n        }\r\n        if (!datas.isDragArea) {\r\n            datas.isDragArea = true;\r\n            restoreStyle(moveable);\r\n        }\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        this.enableNativeEvent(moveable);\r\n        var inputEvent = e.inputEvent, datas = e.datas;\r\n        if (!inputEvent) {\r\n            return false;\r\n        }\r\n        if (!datas.isDragArea) {\r\n            restoreStyle(moveable);\r\n        }\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        return this.dragStart(moveable, e);\r\n    },\r\n    dragGroup: function (moveable, e) {\r\n        return this.drag(moveable, e);\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        return this.dragEnd(moveable, e);\r\n    },\r\n    unset: function (moveable) {\r\n        restoreStyle(moveable);\r\n        moveable.state.disableNativeEvent = false;\r\n    },\r\n    enableNativeEvent: function (moveable) {\r\n        var state = moveable.state;\r\n        if (state.disableNativeEvent) {\r\n            requestAnimationFrame(function () {\r\n                state.disableNativeEvent = false;\r\n            });\r\n        }\r\n    },\r\n};\r\n/**\r\n * Add an event to the moveable area instead of the target for stopPropagation. (default: false, true in group)\r\n * @name Moveable#dragArea\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  dragArea: false,\r\n * });\r\n */\r\n/**\r\n * Set `pointerEvents: none;` css to pass events in dragArea. (default: false)\r\n * @name Moveable#passDragArea\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  dragArea: false,\r\n * });\r\n */\n\nvar Origin = makeAble(\"origin\", {\r\n    props: [\"origin\", \"svgOrigin\"],\r\n    render: function (moveable, React) {\r\n        var _a = moveable.props, zoom = _a.zoom, svgOrigin = _a.svgOrigin, groupable = _a.groupable;\r\n        var _b = moveable.getState(), beforeOrigin = _b.beforeOrigin, rotation = _b.rotation, svg = _b.svg, allMatrix = _b.allMatrix, is3d = _b.is3d, left = _b.left, top = _b.top, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\r\n        var originStyle;\r\n        if (!groupable && svg && svgOrigin) {\r\n            var _c = __read(convertTransformOriginArray(svgOrigin, offsetWidth, offsetHeight), 2), originX = _c[0], originY = _c[1];\r\n            var n = is3d ? 4 : 3;\r\n            var result = calculatePosition(allMatrix, [originX, originY], n);\r\n            originStyle = getControlTransform(rotation, zoom, minus(result, [left, top]));\r\n        }\r\n        else {\r\n            originStyle = getControlTransform(rotation, zoom, beforeOrigin);\r\n        }\r\n        return [\r\n            React.createElement(\"div\", { className: prefix(\"control\", \"origin\"), style: originStyle, key: \"beforeOrigin\" }),\r\n        ];\r\n    },\r\n});\r\n/**\r\n * Whether or not the origin controlbox will be visible or not (default: true)\r\n * @name Moveable#origin\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n *\r\n * moveable.origin = true;\r\n */\n\nfunction getDefaultScrollPosition(e) {\r\n    var scrollContainer = e.scrollContainer;\r\n    return [\r\n        scrollContainer.scrollLeft,\r\n        scrollContainer.scrollTop,\r\n    ];\r\n}\r\n/**\r\n * @namespace Moveable.Scrollable\r\n * @description Whether or not target can be scrolled to the scroll container (default: false)\r\n */\r\nvar Scrollable = {\r\n    name: \"scrollable\",\r\n    canPinch: true,\r\n    props: [\r\n        \"scrollable\",\r\n        \"scrollContainer\",\r\n        \"scrollThreshold\",\r\n        \"scrollThrottleTime\",\r\n        \"getScrollPosition\",\r\n        \"scrollOptions\",\r\n    ],\r\n    events: [\r\n        \"scroll\",\r\n        \"scrollGroup\",\r\n    ],\r\n    dragRelation: \"strong\",\r\n    dragStart: function (moveable, e) {\r\n        var props = moveable.props;\r\n        var _a = props.scrollContainer, scrollContainer = _a === void 0 ? moveable.getContainer() : _a, scrollOptions = props.scrollOptions;\r\n        var dragScroll = new DragScroll();\r\n        var scrollContainerElement = getRefTarget(scrollContainer, true);\r\n        e.datas.dragScroll = dragScroll;\r\n        moveable.state.dragScroll = dragScroll;\r\n        var gestoName = e.isControl ? \"controlGesto\" : \"targetGesto\";\r\n        var targets = e.targets;\r\n        dragScroll.on(\"scroll\", function (_a) {\r\n            var container = _a.container, direction = _a.direction;\r\n            var params = fillParams(moveable, e, {\r\n                scrollContainer: container,\r\n                direction: direction,\r\n            });\r\n            var eventName = targets ? \"onScrollGroup\" : \"onScroll\";\r\n            if (targets) {\r\n                params.targets = targets;\r\n            }\r\n            triggerEvent(moveable, eventName, params);\r\n        }).on(\"move\", function (_a) {\r\n            var offsetX = _a.offsetX, offsetY = _a.offsetY, inputEvent = _a.inputEvent;\r\n            moveable[gestoName].scrollBy(offsetX, offsetY, inputEvent.inputEvent, false);\r\n        }).on(\"scrollDrag\", function (_a) {\r\n            var next = _a.next;\r\n            next(moveable[gestoName].getCurrentEvent());\r\n        });\r\n        dragScroll.dragStart(e, __assign({ container: scrollContainerElement }, scrollOptions));\r\n    },\r\n    checkScroll: function (moveable, e) {\r\n        var dragScroll = e.datas.dragScroll;\r\n        if (!dragScroll) {\r\n            return;\r\n        }\r\n        var _a = moveable.props, _b = _a.scrollContainer, scrollContainer = _b === void 0 ? moveable.getContainer() : _b, _c = _a.scrollThreshold, scrollThreshold = _c === void 0 ? 0 : _c, _d = _a.scrollThrottleTime, scrollThrottleTime = _d === void 0 ? 0 : _d, _e = _a.getScrollPosition, getScrollPosition = _e === void 0 ? getDefaultScrollPosition : _e, scrollOptions = _a.scrollOptions;\r\n        dragScroll.drag(e, __assign({ container: scrollContainer, threshold: scrollThreshold, throttleTime: scrollThrottleTime, getScrollPosition: function (ev) {\r\n                return getScrollPosition({ scrollContainer: ev.container, direction: ev.direction });\r\n            } }, scrollOptions));\r\n        return true;\r\n    },\r\n    drag: function (moveable, e) {\r\n        return this.checkScroll(moveable, e);\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        e.datas.dragScroll.dragEnd();\r\n        e.datas.dragScroll = null;\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        return this.dragStart(moveable, __assign(__assign({}, e), { isControl: true }));\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        return this.drag(moveable, e);\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        return this.dragEnd(moveable, e);\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        return this.dragStart(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    dragGroup: function (moveable, e) {\r\n        return this.drag(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        return this.dragEnd(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    dragGroupControlStart: function (moveable, e) {\r\n        return this.dragStart(moveable, __assign(__assign({}, e), { targets: moveable.props.targets, isControl: true }));\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        return this.drag(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    dragGroupControEnd: function (moveable, e) {\r\n        return this.dragEnd(moveable, __assign(__assign({}, e), { targets: moveable.props.targets }));\r\n    },\r\n    unset: function (moveable) {\r\n        var _a;\r\n        var state = moveable.state;\r\n        (_a = state.dragScroll) === null || _a === void 0 ? void 0 : _a.dragEnd();\r\n        state.dragScroll = null;\r\n    },\r\n};\r\n/**\r\n * When the drag cursor leaves the scrollContainer, the `scroll` event occur to scroll.\r\n * @memberof Moveable.Scrollable\r\n * @event scroll\r\n * @param {Moveable.Scrollable.OnScroll} - Parameters for the `scroll` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\r\n *   scrollContainer.scrollLeft += direction[0] * 10;\r\n *   scrollContainer.scrollTop += direction[1] * 10;\r\n * });\r\n */\r\n/**\r\n * When the drag cursor leaves the scrollContainer, the `scrollGroup` event occur to scroll in group.\r\n * @memberof Moveable.Scrollable\r\n * @event scrollGroup\r\n * @param {Moveable.Scrollable.OnScrollGroup} - Parameters for the `scrollGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\r\n *   scrollContainer.scrollLeft += direction[0] * 10;\r\n *   scrollContainer.scrollTop += direction[1] * 10;\r\n * });\r\n */\n\nvar Default = {\r\n    name: \"\",\r\n    props: [\r\n        \"target\",\r\n        \"dragTargetSelf\",\r\n        \"dragTarget\",\r\n        \"dragContainer\",\r\n        \"container\",\r\n        \"warpSelf\",\r\n        \"rootContainer\",\r\n        \"useResizeObserver\",\r\n        \"useMutationObserver\",\r\n        \"zoom\",\r\n        \"dragFocusedInput\",\r\n        \"transformOrigin\",\r\n        \"ables\",\r\n        \"className\",\r\n        \"pinchThreshold\",\r\n        \"pinchOutside\",\r\n        \"triggerAblesSimultaneously\",\r\n        \"checkInput\",\r\n        \"cspNonce\",\r\n        \"translateZ\",\r\n        \"hideDefaultLines\",\r\n        \"props\",\r\n        \"flushSync\",\r\n        \"stopPropagation\",\r\n        \"preventClickEventOnDrag\",\r\n        \"preventClickDefault\",\r\n        \"viewContainer\",\r\n        \"persistData\",\r\n        \"useAccuratePosition\",\r\n        \"firstRenderState\",\r\n        \"linePadding\",\r\n        \"controlPadding\",\r\n        \"preventDefault\",\r\n        \"preventRightClick\",\r\n        \"preventWheelClick\",\r\n        \"requestStyles\",\r\n    ],\r\n    events: [\r\n        \"changeTargets\",\r\n    ],\r\n};\n\nvar Padding = makeAble(\"padding\", {\r\n    props: [\"padding\"],\r\n    render: function (moveable, React) {\r\n        var props = moveable.props;\r\n        if (props.dragArea) {\r\n            return [];\r\n        }\r\n        var _a = getPaddingBox(props.padding || {}), left = _a.left, top = _a.top, right = _a.right, bottom = _a.bottom;\r\n        var _b = moveable.getState(), renderPoses = _b.renderPoses, pos1 = _b.pos1, pos2 = _b.pos2, pos3 = _b.pos3, pos4 = _b.pos4;\r\n        var poses = [pos1, pos2, pos3, pos4];\r\n        var paddingDirections = [];\r\n        if (left > 0) {\r\n            paddingDirections.push([0, 2]);\r\n        }\r\n        if (top > 0) {\r\n            paddingDirections.push([0, 1]);\r\n        }\r\n        if (right > 0) {\r\n            paddingDirections.push([1, 3]);\r\n        }\r\n        if (bottom > 0) {\r\n            paddingDirections.push([2, 3]);\r\n        }\r\n        return paddingDirections.map(function (_a, i) {\r\n            var _b = __read(_a, 2), dir1 = _b[0], dir2 = _b[1];\r\n            var paddingPos1 = poses[dir1];\r\n            var paddingPos2 = poses[dir2];\r\n            var paddingPos3 = renderPoses[dir1];\r\n            var paddingPos4 = renderPoses[dir2];\r\n            var h = createWarpMatrix([0, 0], [100, 0], [0, 100], [100, 100], paddingPos1, paddingPos2, paddingPos3, paddingPos4);\r\n            if (!h.length) {\r\n                return undefined;\r\n            }\r\n            return (React.createElement(\"div\", { key: \"padding\".concat(i), className: prefix(\"padding\"), style: {\r\n                    transform: makeMatrixCSS(h, true),\r\n                } }));\r\n        });\r\n    },\r\n});\r\n/**\r\n * Add padding around the target to increase the drag area.\r\n * @name Moveable#padding\r\n * @default null\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  target: document.querySelector(\".target\"),\r\n *  padding: { left: 0, top: 0, right: 0, bottom: 0 },\r\n * });\r\n * moveable.padding = { left: 10, top: 10, right: 10, bottom: 10 },\r\n * moveable.updateRect();\r\n */\n\nvar RADIUS_DIRECTIONS = [\"nw\", \"ne\", \"se\", \"sw\"];\r\nfunction calculateRatio(values, size) {\r\n    var sumSize = values[0] + values[1];\r\n    var sumRatio = sumSize > size ? size / sumSize : 1;\r\n    values[0] *= sumRatio;\r\n    values[1] = size - values[1] * sumRatio;\r\n    return values;\r\n}\r\nvar HORIZONTAL_RADIUS_ORDER = [1, 2, 5, 6];\r\nvar VERTICAL_RADIUS_ORDER = [0, 3, 4, 7];\r\nvar HORIZONTAL_RADIUS_DIRECTIONS = [1, -1, -1, 1];\r\nvar VERTICAL_RADIUS_DIRECTIONS = [1, 1, -1, -1];\r\nfunction getRadiusStyles(nextPoses, isRelative, width, height, left, top, right, bottom) {\r\n    if (left === void 0) { left = 0; }\r\n    if (top === void 0) { top = 0; }\r\n    if (right === void 0) { right = width; }\r\n    if (bottom === void 0) { bottom = height; }\r\n    var clipStyles = [];\r\n    var isVertical = false;\r\n    var radiusPoses = nextPoses.filter(function (pos) { return !pos.virtual; });\r\n    var raws = radiusPoses.map(function (posInfo) {\r\n        var horizontal = posInfo.horizontal, vertical = posInfo.vertical, pos = posInfo.pos;\r\n        if (vertical && !isVertical) {\r\n            isVertical = true;\r\n            clipStyles.push(\"/\");\r\n        }\r\n        if (isVertical) {\r\n            var rawPos = Math.max(0, vertical === 1 ? pos[1] - top : bottom - pos[1]);\r\n            clipStyles.push(convertCSSSize(rawPos, height, isRelative));\r\n            return rawPos;\r\n        }\r\n        else {\r\n            var rawPos = Math.max(0, horizontal === 1 ? pos[0] - left : right - pos[0]);\r\n            clipStyles.push(convertCSSSize(rawPos, width, isRelative));\r\n            return rawPos;\r\n        }\r\n    });\r\n    return {\r\n        radiusPoses: radiusPoses,\r\n        styles: clipStyles,\r\n        raws: raws,\r\n    };\r\n}\r\nfunction getRadiusRange(controlPoses) {\r\n    // [start, length]\r\n    var horizontalRange = [0, 0];\r\n    var verticalRange = [0, 0];\r\n    var length = controlPoses.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        var clipPose = controlPoses[i];\r\n        if (!clipPose.sub) {\r\n            continue;\r\n        }\r\n        if (clipPose.horizontal) {\r\n            if (horizontalRange[1] === 0) {\r\n                horizontalRange[0] = i;\r\n            }\r\n            horizontalRange[1] = i - horizontalRange[0] + 1;\r\n            verticalRange[0] = i + 1;\r\n        }\r\n        if (clipPose.vertical) {\r\n            if (verticalRange[1] === 0) {\r\n                verticalRange[0] = i;\r\n            }\r\n            verticalRange[1] = i - verticalRange[0] + 1;\r\n        }\r\n    }\r\n    return {\r\n        horizontalRange: horizontalRange,\r\n        verticalRange: verticalRange,\r\n    };\r\n}\r\nfunction getRadiusValues(values, width, height, left, top, minCounts, full) {\r\n    var _a, _b, _c, _d;\r\n    if (minCounts === void 0) { minCounts = [0, 0]; }\r\n    if (full === void 0) { full = false; }\r\n    var splitIndex = values.indexOf(\"/\");\r\n    var splitLength = (splitIndex > -1 ? values.slice(0, splitIndex) : values).length;\r\n    var horizontalValues = values.slice(0, splitLength);\r\n    var verticalValues = values.slice(splitLength + 1);\r\n    var horizontalValuesLength = horizontalValues.length;\r\n    var verticalValuesLength = verticalValues.length;\r\n    var hasVerticalValues = verticalValuesLength > 0;\r\n    var _e = __read(horizontalValues, 4), _f = _e[0], nwValue = _f === void 0 ? \"0px\" : _f, _g = _e[1], neValue = _g === void 0 ? nwValue : _g, _h = _e[2], seValue = _h === void 0 ? nwValue : _h, _j = _e[3], swValue = _j === void 0 ? neValue : _j;\r\n    var _k = __read(verticalValues, 4), _l = _k[0], wnValue = _l === void 0 ? nwValue : _l, _m = _k[1], enValue = _m === void 0 ? hasVerticalValues ? wnValue : neValue : _m, _o = _k[2], esValue = _o === void 0 ? hasVerticalValues ? wnValue : seValue : _o, _p = _k[3], wsValue = _p === void 0 ? hasVerticalValues ? enValue : swValue : _p;\r\n    var horizontalRawPoses = [nwValue, neValue, seValue, swValue].map(function (pos) { return convertUnitSize(pos, width); });\r\n    var verticalRawPoses = [wnValue, enValue, esValue, wsValue].map(function (pos) { return convertUnitSize(pos, height); });\r\n    var horizontalPoses = horizontalRawPoses.slice();\r\n    var verticalPoses = verticalRawPoses.slice();\r\n    _a = __read(calculateRatio([horizontalPoses[0], horizontalPoses[1]], width), 2), horizontalPoses[0] = _a[0], horizontalPoses[1] = _a[1];\r\n    _b = __read(calculateRatio([horizontalPoses[3], horizontalPoses[2]], width), 2), horizontalPoses[3] = _b[0], horizontalPoses[2] = _b[1];\r\n    _c = __read(calculateRatio([verticalPoses[0], verticalPoses[3]], height), 2), verticalPoses[0] = _c[0], verticalPoses[3] = _c[1];\r\n    _d = __read(calculateRatio([verticalPoses[1], verticalPoses[2]], height), 2), verticalPoses[1] = _d[0], verticalPoses[2] = _d[1];\r\n    var nextHorizontalPoses = full\r\n        ? horizontalPoses\r\n        : horizontalPoses.slice(0, Math.max(minCounts[0], horizontalValuesLength));\r\n    var nextVerticalPoses = full\r\n        ? verticalPoses\r\n        : verticalPoses.slice(0, Math.max(minCounts[1], verticalValuesLength));\r\n    return __spreadArray(__spreadArray([], __read(nextHorizontalPoses.map(function (pos, i) {\r\n        var direction = RADIUS_DIRECTIONS[i];\r\n        return {\r\n            virtual: i >= horizontalValuesLength,\r\n            horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\r\n            vertical: 0,\r\n            pos: [left + pos, top + (VERTICAL_RADIUS_DIRECTIONS[i] === -1 ? height : 0)],\r\n            sub: true,\r\n            raw: horizontalRawPoses[i],\r\n            direction: direction,\r\n        };\r\n    })), false), __read(nextVerticalPoses.map(function (pos, i) {\r\n        var direction = RADIUS_DIRECTIONS[i];\r\n        return {\r\n            virtual: i >= verticalValuesLength,\r\n            horizontal: 0,\r\n            vertical: VERTICAL_RADIUS_DIRECTIONS[i],\r\n            pos: [left + (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1 ? width : 0), top + pos],\r\n            sub: true,\r\n            raw: verticalRawPoses[i],\r\n            direction: direction,\r\n        };\r\n    })), false);\r\n}\r\nfunction removeRadiusPos(controlPoses, poses, index, startIndex, length) {\r\n    if (length === void 0) { length = poses.length; }\r\n    var _a = getRadiusRange(controlPoses.slice(startIndex)), horizontalRange = _a.horizontalRange, verticalRange = _a.verticalRange;\r\n    var radiuslIndex = index - startIndex;\r\n    var deleteCount = 0;\r\n    if (radiuslIndex === 0) {\r\n        deleteCount = length;\r\n    }\r\n    else if (radiuslIndex > 0 && radiuslIndex < horizontalRange[1]) {\r\n        deleteCount = horizontalRange[1] - radiuslIndex;\r\n    }\r\n    else if (radiuslIndex >= verticalRange[0]) {\r\n        deleteCount = verticalRange[0] + verticalRange[1] - radiuslIndex;\r\n    }\r\n    else {\r\n        return;\r\n    }\r\n    controlPoses.splice(index, deleteCount);\r\n    poses.splice(index, deleteCount);\r\n}\r\nfunction addRadiusPos(controlPoses, poses, startIndex, horizontalIndex, verticalIndex, distX, distY, right, bottom, left, top) {\r\n    if (left === void 0) { left = 0; }\r\n    if (top === void 0) { top = 0; }\r\n    var _a = getRadiusRange(controlPoses.slice(startIndex)), horizontalRange = _a.horizontalRange, verticalRange = _a.verticalRange;\r\n    if (horizontalIndex > -1) {\r\n        var radiusX = HORIZONTAL_RADIUS_DIRECTIONS[horizontalIndex] === 1\r\n            ? distX - left\r\n            : right - distX;\r\n        for (var i = horizontalRange[1]; i <= horizontalIndex; ++i) {\r\n            var y = VERTICAL_RADIUS_DIRECTIONS[i] === 1 ? top : bottom;\r\n            var x = 0;\r\n            if (horizontalIndex === i) {\r\n                x = distX;\r\n            }\r\n            else if (i === 0) {\r\n                x = left + radiusX;\r\n            }\r\n            else if (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1) {\r\n                x = right - (poses[startIndex][0] - left);\r\n            }\r\n            controlPoses.splice(startIndex + i, 0, {\r\n                horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\r\n                vertical: 0,\r\n                pos: [x, y],\r\n            });\r\n            poses.splice(startIndex + i, 0, [x, y]);\r\n            if (i === 0) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    else if (verticalIndex > -1) {\r\n        var radiusY = VERTICAL_RADIUS_DIRECTIONS[verticalIndex] === 1\r\n            ? distY - top\r\n            : bottom - distY;\r\n        if (horizontalRange[1] === 0 && verticalRange[1] === 0) {\r\n            var pos = [\r\n                left + radiusY,\r\n                top,\r\n            ];\r\n            controlPoses.push({\r\n                horizontal: HORIZONTAL_RADIUS_DIRECTIONS[0],\r\n                vertical: 0,\r\n                pos: pos,\r\n            });\r\n            poses.push(pos);\r\n        }\r\n        var startVerticalIndex = verticalRange[0];\r\n        for (var i = verticalRange[1]; i <= verticalIndex; ++i) {\r\n            var x = HORIZONTAL_RADIUS_DIRECTIONS[i] === 1 ? left : right;\r\n            var y = 0;\r\n            if (verticalIndex === i) {\r\n                y = distY;\r\n            }\r\n            else if (i === 0) {\r\n                y = top + radiusY;\r\n            }\r\n            else if (VERTICAL_RADIUS_DIRECTIONS[i] === 1) {\r\n                y = poses[startIndex + startVerticalIndex][1];\r\n            }\r\n            else if (VERTICAL_RADIUS_DIRECTIONS[i] === -1) {\r\n                y = bottom - (poses[startIndex + startVerticalIndex][1] - top);\r\n            }\r\n            controlPoses.push({\r\n                horizontal: 0,\r\n                vertical: VERTICAL_RADIUS_DIRECTIONS[i],\r\n                pos: [x, y],\r\n            });\r\n            poses.push([x, y]);\r\n            if (i === 0) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction splitRadiusPoses(controlPoses, raws) {\r\n    if (raws === void 0) { raws = controlPoses.map(function (pos) { return pos.raw; }); }\r\n    var horizontals = controlPoses\r\n        .map(function (pos, i) { return pos.horizontal ? raws[i] : null; }).filter(function (pos) { return pos != null; });\r\n    var verticals = controlPoses\r\n        .map(function (pos, i) { return pos.vertical ? raws[i] : null; }).filter(function (pos) { return pos != null; });\r\n    return {\r\n        horizontals: horizontals,\r\n        verticals: verticals,\r\n    };\r\n}\n\nvar CLIP_DIRECTIONS = [\r\n    [0, -1, \"n\"],\r\n    [1, 0, \"e\"],\r\n];\r\nvar CLIP_RECT_DIRECTIONS = [\r\n    [-1, -1, \"nw\"],\r\n    [0, -1, \"n\"],\r\n    [1, -1, \"ne\"],\r\n    [1, 0, \"e\"],\r\n    [1, 1, \"se\"],\r\n    [0, 1, \"s\"],\r\n    [-1, 1, \"sw\"],\r\n    [-1, 0, \"w\"],\r\n];\r\n// 1 2 5 6 0 3 4 7\r\n// 0 1 2 3 4 5 6 7\r\nfunction getClipStyles(moveable, clipPath, poses) {\r\n    var clipRelative = moveable.props.clipRelative;\r\n    var _a = moveable.state, width = _a.width, height = _a.height;\r\n    var _b = clipPath, clipType = _b.type, clipPoses = _b.poses;\r\n    var isRect = clipType === \"rect\";\r\n    var isCircle = clipType === \"circle\";\r\n    if (clipType === \"polygon\") {\r\n        return poses.map(function (pos) { return \"\".concat(convertCSSSize(pos[0], width, clipRelative), \" \").concat(convertCSSSize(pos[1], height, clipRelative)); });\r\n    }\r\n    else if (isRect || clipType === \"inset\") {\r\n        var top_1 = poses[1][1];\r\n        var right = poses[3][0];\r\n        var left = poses[7][0];\r\n        var bottom = poses[5][1];\r\n        if (isRect) {\r\n            return [\r\n                top_1,\r\n                right,\r\n                bottom,\r\n                left,\r\n            ].map(function (pos) { return \"\".concat(pos, \"px\"); });\r\n        }\r\n        var clipStyles = [top_1, width - right, height - bottom, left]\r\n            .map(function (pos, i) { return convertCSSSize(pos, i % 2 ? width : height, clipRelative); });\r\n        if (poses.length > 8) {\r\n            var _c = __read(minus(poses[4], poses[0]), 2), subWidth = _c[0], subHeight = _c[1];\r\n            clipStyles.push.apply(clipStyles, __spreadArray([\"round\"], __read(getRadiusStyles(clipPoses.slice(8).map(function (info, i) {\r\n                return __assign(__assign({}, info), { pos: poses[i] });\r\n            }), clipRelative, subWidth, subHeight, left, top_1, right, bottom).styles), false));\r\n        }\r\n        return clipStyles;\r\n    }\r\n    else if (isCircle || clipType === \"ellipse\") {\r\n        var center = poses[0];\r\n        var ry = convertCSSSize(abs(poses[1][1] - center[1]), isCircle ? Math.sqrt((width * width + height * height) / 2) : height, clipRelative);\r\n        var clipStyles = isCircle ? [ry]\r\n            : [convertCSSSize(abs(poses[2][0] - center[0]), width, clipRelative), ry];\r\n        clipStyles.push(\"at\", convertCSSSize(center[0], width, clipRelative), convertCSSSize(center[1], height, clipRelative));\r\n        return clipStyles;\r\n    }\r\n}\r\nfunction getRectPoses(top, right, bottom, left) {\r\n    var xs = [left, (left + right) / 2, right];\r\n    var ys = [top, (top + bottom) / 2, bottom];\r\n    return CLIP_RECT_DIRECTIONS.map(function (_a) {\r\n        var _b = __read(_a, 3), dirx = _b[0], diry = _b[1], dir = _b[2];\r\n        var x = xs[dirx + 1];\r\n        var y = ys[diry + 1];\r\n        return {\r\n            vertical: abs(diry),\r\n            horizontal: abs(dirx),\r\n            direction: dir,\r\n            pos: [x, y],\r\n        };\r\n    });\r\n}\r\nfunction getControlSize(controlPoses) {\r\n    var xRange = [Infinity, -Infinity];\r\n    var yRange = [Infinity, -Infinity];\r\n    controlPoses.forEach(function (_a) {\r\n        var pos = _a.pos;\r\n        xRange[0] = Math.min(xRange[0], pos[0]);\r\n        xRange[1] = Math.max(xRange[1], pos[0]);\r\n        yRange[0] = Math.min(yRange[0], pos[1]);\r\n        yRange[1] = Math.max(yRange[1], pos[1]);\r\n    });\r\n    return [\r\n        abs(xRange[1] - xRange[0]),\r\n        abs(yRange[1] - yRange[0]),\r\n    ];\r\n}\r\nfunction getClipPath(target, width, height, defaultClip, customClip) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n    if (!target) {\r\n        return;\r\n    }\r\n    var clipText = customClip;\r\n    if (!clipText) {\r\n        var getStyle = getCachedStyle(target);\r\n        var clipPath = getStyle(\"clipPath\");\r\n        clipText = clipPath !== \"none\" ? clipPath : getStyle(\"clip\");\r\n    }\r\n    if (!clipText || clipText === \"none\" || clipText === \"auto\") {\r\n        clipText = defaultClip;\r\n        if (!clipText) {\r\n            return;\r\n        }\r\n    }\r\n    var _k = splitBracket(clipText), _l = _k.prefix, clipPrefix = _l === void 0 ? clipText : _l, _m = _k.value, value = _m === void 0 ? \"\" : _m;\r\n    var isCircle = clipPrefix === \"circle\";\r\n    var splitter = \" \";\r\n    if (clipPrefix === \"polygon\") {\r\n        var values = splitComma(value || \"0% 0%, 100% 0%, 100% 100%, 0% 100%\");\r\n        splitter = \",\";\r\n        var poses = values.map(function (pos) {\r\n            var _a = __read(pos.split(\" \"), 2), xPos = _a[0], yPos = _a[1];\r\n            return {\r\n                vertical: 1,\r\n                horizontal: 1,\r\n                pos: [\r\n                    convertUnitSize(xPos, width),\r\n                    convertUnitSize(yPos, height),\r\n                ],\r\n            };\r\n        });\r\n        var minMaxs = getMinMaxs(poses.map(function (pos) { return pos.pos; }));\r\n        return {\r\n            type: clipPrefix,\r\n            clipText: clipText,\r\n            poses: poses,\r\n            splitter: splitter,\r\n            left: minMaxs.minX,\r\n            right: minMaxs.maxX,\r\n            top: minMaxs.minY,\r\n            bottom: minMaxs.maxY,\r\n        };\r\n    }\r\n    else if (isCircle || clipPrefix === \"ellipse\") {\r\n        var xPos = \"\";\r\n        var yPos = \"\";\r\n        var radiusX_1 = 0;\r\n        var radiusY_1 = 0;\r\n        var values = splitSpace(value);\r\n        if (isCircle) {\r\n            var radius = \"\";\r\n            _a = __read(values, 4), _b = _a[0], radius = _b === void 0 ? \"50%\" : _b, _c = _a[2], xPos = _c === void 0 ? \"50%\" : _c, _d = _a[3], yPos = _d === void 0 ? \"50%\" : _d;\r\n            radiusX_1 = convertUnitSize(radius, Math.sqrt((width * width + height * height) / 2));\r\n            radiusY_1 = radiusX_1;\r\n        }\r\n        else {\r\n            var xRadius = \"\";\r\n            var yRadius = \"\";\r\n            _e = __read(values, 5), _f = _e[0], xRadius = _f === void 0 ? \"50%\" : _f, _g = _e[1], yRadius = _g === void 0 ? \"50%\" : _g, _h = _e[3], xPos = _h === void 0 ? \"50%\" : _h, _j = _e[4], yPos = _j === void 0 ? \"50%\" : _j;\r\n            radiusX_1 = convertUnitSize(xRadius, width);\r\n            radiusY_1 = convertUnitSize(yRadius, height);\r\n        }\r\n        var centerPos_1 = [\r\n            convertUnitSize(xPos, width),\r\n            convertUnitSize(yPos, height),\r\n        ];\r\n        var poses = __spreadArray([\r\n            {\r\n                vertical: 1,\r\n                horizontal: 1,\r\n                pos: centerPos_1,\r\n                direction: \"nesw\",\r\n            }\r\n        ], __read(CLIP_DIRECTIONS.slice(0, isCircle ? 1 : 2).map(function (dir) { return ({\r\n            vertical: abs(dir[1]),\r\n            horizontal: dir[0],\r\n            direction: dir[2],\r\n            sub: true,\r\n            pos: [\r\n                centerPos_1[0] + dir[0] * radiusX_1,\r\n                centerPos_1[1] + dir[1] * radiusY_1,\r\n            ],\r\n        }); })), false);\r\n        return {\r\n            type: clipPrefix,\r\n            clipText: clipText,\r\n            radiusX: radiusX_1,\r\n            radiusY: radiusY_1,\r\n            left: centerPos_1[0] - radiusX_1,\r\n            top: centerPos_1[1] - radiusY_1,\r\n            right: centerPos_1[0] + radiusX_1,\r\n            bottom: centerPos_1[1] + radiusY_1,\r\n            poses: poses,\r\n            splitter: splitter,\r\n        };\r\n    }\r\n    else if (clipPrefix === \"inset\") {\r\n        var values = splitSpace(value || \"0 0 0 0\");\r\n        var roundIndex = values.indexOf(\"round\");\r\n        var rectLength = (roundIndex > -1 ? values.slice(0, roundIndex) : values).length;\r\n        var radiusValues = values.slice(rectLength + 1);\r\n        var _o = __read(values.slice(0, rectLength), 4), topValue = _o[0], _p = _o[1], rightValue = _p === void 0 ? topValue : _p, _q = _o[2], bottomValue = _q === void 0 ? topValue : _q, _r = _o[3], leftValue = _r === void 0 ? rightValue : _r;\r\n        var _s = __read([topValue, bottomValue].map(function (pos) { return convertUnitSize(pos, height); }), 2), top_2 = _s[0], bottom = _s[1];\r\n        var _t = __read([leftValue, rightValue].map(function (pos) { return convertUnitSize(pos, width); }), 2), left = _t[0], right = _t[1];\r\n        var nextRight = width - right;\r\n        var nextBottom = height - bottom;\r\n        var radiusPoses = getRadiusValues(radiusValues, nextRight - left, nextBottom - top_2, left, top_2);\r\n        var poses = __spreadArray(__spreadArray([], __read(getRectPoses(top_2, nextRight, nextBottom, left)), false), __read(radiusPoses), false);\r\n        return {\r\n            type: \"inset\",\r\n            clipText: clipText,\r\n            poses: poses,\r\n            top: top_2,\r\n            left: left,\r\n            right: nextRight,\r\n            bottom: nextBottom,\r\n            radius: radiusValues,\r\n            splitter: splitter,\r\n        };\r\n    }\r\n    else if (clipPrefix === \"rect\") {\r\n        // top right bottom left\r\n        var values = splitComma(value || \"0px, \".concat(width, \"px, \").concat(height, \"px, 0px\"));\r\n        splitter = \",\";\r\n        var _u = __read(values.map(function (pos) {\r\n            var posValue = splitUnit(pos).value;\r\n            return posValue;\r\n        }), 4), top_3 = _u[0], right = _u[1], bottom = _u[2], left = _u[3];\r\n        var poses = getRectPoses(top_3, right, bottom, left);\r\n        return {\r\n            type: \"rect\",\r\n            clipText: clipText,\r\n            poses: poses,\r\n            top: top_3,\r\n            right: right,\r\n            bottom: bottom,\r\n            left: left,\r\n            values: values,\r\n            splitter: splitter,\r\n        };\r\n    }\r\n    return;\r\n}\n\nfunction moveControlPos(controlPoses, index, dist, isRect, keepRatio) {\r\n    var _a = controlPoses[index], direction = _a.direction, sub = _a.sub;\r\n    var dists = controlPoses.map(function () { return [0, 0]; });\r\n    var directions = direction ? direction.split(\"\") : [];\r\n    if (isRect && index < 8) {\r\n        var verticalDirections = directions.filter(function (dir) { return dir === \"w\" || dir === \"e\"; });\r\n        var horizontalDirections = directions.filter(function (dir) { return dir === \"n\" || dir === \"s\"; });\r\n        var verticalDirection_1 = verticalDirections[0];\r\n        var horizontalDirection_1 = horizontalDirections[0];\r\n        dists[index] = dist;\r\n        var _b = __read(getControlSize(controlPoses), 2), width = _b[0], height = _b[1];\r\n        var ratio = width && height ? width / height : 0;\r\n        if (ratio && keepRatio) {\r\n            // 0 1 2\r\n            // 7   3\r\n            // 6 5 4\r\n            var fixedIndex = (index + 4) % 8;\r\n            var fixedPosition = controlPoses[fixedIndex].pos;\r\n            var sizeDirection = [0, 0];\r\n            if (direction.indexOf(\"w\") > -1) {\r\n                sizeDirection[0] = -1;\r\n            }\r\n            else if (direction.indexOf(\"e\") > -1) {\r\n                sizeDirection[0] = 1;\r\n            }\r\n            if (direction.indexOf(\"n\") > -1) {\r\n                sizeDirection[1] = -1;\r\n            }\r\n            else if (direction.indexOf(\"s\") > -1) {\r\n                sizeDirection[1] = 1;\r\n            }\r\n            var nextDist = getSizeDistByDist([width, height], dist, ratio, sizeDirection, true);\r\n            var nextWidth = width + nextDist[0];\r\n            var nextHeight = height + nextDist[1];\r\n            var top_1 = fixedPosition[1];\r\n            var bottom = fixedPosition[1];\r\n            var left = fixedPosition[0];\r\n            var right = fixedPosition[0];\r\n            if (sizeDirection[0] === -1) {\r\n                left = right - nextWidth;\r\n            }\r\n            else if (sizeDirection[0] === 1) {\r\n                right = left + nextWidth;\r\n            }\r\n            else {\r\n                left = left - nextWidth / 2;\r\n                right = right + nextWidth / 2;\r\n            }\r\n            if (sizeDirection[1] === -1) {\r\n                top_1 = bottom - nextHeight;\r\n            }\r\n            else if (sizeDirection[1] === 1) {\r\n                bottom = top_1 + nextHeight;\r\n            }\r\n            else {\r\n                top_1 = bottom - nextHeight / 2;\r\n                bottom = top_1 + nextHeight;\r\n            }\r\n            var nextControlPoses_1 = getRectPoses(top_1, right, bottom, left);\r\n            controlPoses.forEach(function (controlPose, i) {\r\n                dists[i][0] = nextControlPoses_1[i].pos[0] - controlPose.pos[0];\r\n                dists[i][1] = nextControlPoses_1[i].pos[1] - controlPose.pos[1];\r\n            });\r\n        }\r\n        else {\r\n            controlPoses.forEach(function (controlPose, i) {\r\n                var controlDir = controlPose.direction;\r\n                if (!controlDir) {\r\n                    return;\r\n                }\r\n                if (controlDir.indexOf(verticalDirection_1) > -1) {\r\n                    dists[i][0] = dist[0];\r\n                }\r\n                if (controlDir.indexOf(horizontalDirection_1) > -1) {\r\n                    dists[i][1] = dist[1];\r\n                }\r\n            });\r\n            if (verticalDirection_1) {\r\n                dists[1][0] = dist[0] / 2;\r\n                dists[5][0] = dist[0] / 2;\r\n            }\r\n            if (horizontalDirection_1) {\r\n                dists[3][1] = dist[1] / 2;\r\n                dists[7][1] = dist[1] / 2;\r\n            }\r\n        }\r\n    }\r\n    else if (direction && !sub) {\r\n        directions.forEach(function (dir) {\r\n            var isVertical = dir === \"n\" || dir === \"s\";\r\n            controlPoses.forEach(function (controlPose, i) {\r\n                var dirDir = controlPose.direction, dirHorizontal = controlPose.horizontal, dirVertical = controlPose.vertical;\r\n                if (!dirDir || dirDir.indexOf(dir) === -1) {\r\n                    return;\r\n                }\r\n                dists[i] = [\r\n                    isVertical || !dirHorizontal ? 0 : dist[0],\r\n                    !isVertical || !dirVertical ? 0 : dist[1],\r\n                ];\r\n            });\r\n        });\r\n    }\r\n    else {\r\n        dists[index] = dist;\r\n    }\r\n    return dists;\r\n}\r\nfunction addClipPath(moveable, e) {\r\n    var _a = __read(calculatePointerDist(moveable, e), 2), distX = _a[0], distY = _a[1];\r\n    var _b = e.datas, clipPath = _b.clipPath, clipIndex = _b.clipIndex;\r\n    var _c = clipPath, clipType = _c.type, clipPoses = _c.poses, splitter = _c.splitter;\r\n    var poses = clipPoses.map(function (pos) { return pos.pos; });\r\n    if (clipType === \"polygon\") {\r\n        poses.splice(clipIndex, 0, [distX, distY]);\r\n    }\r\n    else if (clipType === \"inset\") {\r\n        var horizontalIndex = HORIZONTAL_RADIUS_ORDER.indexOf(clipIndex);\r\n        var verticalIndex = VERTICAL_RADIUS_ORDER.indexOf(clipIndex);\r\n        var length_1 = clipPoses.length;\r\n        addRadiusPos(clipPoses, poses, 8, horizontalIndex, verticalIndex, distX, distY, poses[4][0], poses[4][1], poses[0][0], poses[0][1]);\r\n        if (length_1 === clipPoses.length) {\r\n            return;\r\n        }\r\n    }\r\n    else {\r\n        return;\r\n    }\r\n    var clipStyles = getClipStyles(moveable, clipPath, poses);\r\n    var clipStyle = \"\".concat(clipType, \"(\").concat(clipStyles.join(splitter), \")\");\r\n    triggerEvent(moveable, \"onClip\", fillParams(moveable, e, __assign({ clipEventType: \"added\", clipType: clipType, poses: poses, clipStyles: clipStyles, clipStyle: clipStyle, distX: 0, distY: 0 }, fillCSSObject({\r\n        clipPath: clipStyle,\r\n    }, e))));\r\n}\r\nfunction removeClipPath(moveable, e) {\r\n    var _a = e.datas, clipPath = _a.clipPath, clipIndex = _a.clipIndex;\r\n    var _b = clipPath, clipType = _b.type, clipPoses = _b.poses, splitter = _b.splitter;\r\n    var poses = clipPoses.map(function (pos) { return pos.pos; });\r\n    var length = poses.length;\r\n    if (clipType === \"polygon\") {\r\n        clipPoses.splice(clipIndex, 1);\r\n        poses.splice(clipIndex, 1);\r\n    }\r\n    else if (clipType === \"inset\") {\r\n        if (clipIndex < 8) {\r\n            return;\r\n        }\r\n        removeRadiusPos(clipPoses, poses, clipIndex, 8, length);\r\n        if (length === clipPoses.length) {\r\n            return;\r\n        }\r\n    }\r\n    else {\r\n        return;\r\n    }\r\n    var clipStyles = getClipStyles(moveable, clipPath, poses);\r\n    var clipStyle = \"\".concat(clipType, \"(\").concat(clipStyles.join(splitter), \")\");\r\n    triggerEvent(moveable, \"onClip\", fillParams(moveable, e, __assign({ clipEventType: \"removed\", clipType: clipType, poses: poses, clipStyles: clipStyles, clipStyle: clipStyle, distX: 0, distY: 0 }, fillCSSObject({\r\n        clipPath: clipStyle,\r\n    }, e))));\r\n}\r\n/**\r\n * @namespace Moveable.Clippable\r\n * @description Whether to clip the target.\r\n */\r\nvar Clippable = {\r\n    name: \"clippable\",\r\n    props: [\r\n        \"clippable\",\r\n        \"defaultClipPath\",\r\n        \"customClipPath\",\r\n        \"keepRatio\",\r\n        \"clipRelative\",\r\n        \"clipArea\",\r\n        \"dragWithClip\",\r\n        \"clipTargetBounds\",\r\n        \"clipVerticalGuidelines\",\r\n        \"clipHorizontalGuidelines\",\r\n        \"clipSnapThreshold\",\r\n    ],\r\n    events: [\r\n        \"clipStart\",\r\n        \"clip\",\r\n        \"clipEnd\",\r\n    ],\r\n    css: [\r\n        \".control.clip-control {\\nbackground: #6d6;\\ncursor: pointer;\\n}\\n.control.clip-control.clip-radius {\\nbackground: #d66;\\n}\\n.line.clip-line {\\nbackground: #6e6;\\ncursor: move;\\nz-index: 1;\\n}\\n.clip-area {\\nposition: absolute;\\ntop: 0;\\nleft: 0;\\n}\\n.clip-ellipse {\\nposition: absolute;\\ncursor: move;\\nborder: 1px solid #6d6;\\nborder: var(--zoompx) solid #6d6;\\nborder-radius: 50%;\\ntransform-origin: 0px 0px;\\n}\",\r\n        \":host {\\n--bounds-color: #d66;\\n}\",\r\n        \".guideline {\\npointer-events: none;\\nz-index: 2;\\n}\",\r\n        \".line.guideline.bounds {\\nbackground: #d66;\\nbackground: var(--bounds-color);\\n}\",\r\n    ],\r\n    render: function (moveable, React) {\r\n        var _a = moveable.props, customClipPath = _a.customClipPath, defaultClipPath = _a.defaultClipPath, clipArea = _a.clipArea, zoom = _a.zoom, groupable = _a.groupable;\r\n        var _b = moveable.getState(), target = _b.target, width = _b.width, height = _b.height, allMatrix = _b.allMatrix, is3d = _b.is3d, left = _b.left, top = _b.top, pos1 = _b.pos1, pos2 = _b.pos2, pos3 = _b.pos3, pos4 = _b.pos4, clipPathState = _b.clipPathState, snapBoundInfos = _b.snapBoundInfos, rotationRad = _b.rotation;\r\n        if (!target || groupable) {\r\n            return [];\r\n        }\r\n        var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", clipPathState || customClipPath);\r\n        if (!clipPath) {\r\n            return [];\r\n        }\r\n        var n = is3d ? 4 : 3;\r\n        var type = clipPath.type;\r\n        var clipPoses = clipPath.poses;\r\n        var poses = clipPoses.map(function (pos) {\r\n            // return [x, y];\r\n            var calculatedPos = calculatePosition(allMatrix, pos.pos, n);\r\n            return [\r\n                calculatedPos[0] - left,\r\n                calculatedPos[1] - top,\r\n            ];\r\n        });\r\n        var controls = [];\r\n        var lines = [];\r\n        var isRect = type === \"rect\";\r\n        var isInset = type === \"inset\";\r\n        var isPolygon = type === \"polygon\";\r\n        if (isRect || isInset || isPolygon) {\r\n            var linePoses_1 = isInset ? poses.slice(0, 8) : poses;\r\n            lines = linePoses_1.map(function (to, i) {\r\n                var from = i === 0 ? linePoses_1[linePoses_1.length - 1] : linePoses_1[i - 1];\r\n                var rad = getRad(from, to);\r\n                var dist = getDiagonalSize(from, to);\r\n                return React.createElement(\"div\", { key: \"clipLine\".concat(i), className: prefix(\"line\", \"clip-line\", \"snap-control\"), \"data-clip-index\": i, style: {\r\n                        width: \"\".concat(dist, \"px\"),\r\n                        transform: \"translate(\".concat(from[0], \"px, \").concat(from[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\"),\r\n                    } });\r\n            });\r\n        }\r\n        controls = poses.map(function (pos, i) {\r\n            return React.createElement(\"div\", { key: \"clipControl\".concat(i), className: prefix(\"control\", \"clip-control\", \"snap-control\"), \"data-clip-index\": i, style: {\r\n                    transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rotationRad, \"rad) scale(\").concat(zoom, \")\"),\r\n                } });\r\n        });\r\n        if (isInset) {\r\n            controls.push.apply(controls, __spreadArray([], __read(poses.slice(8).map(function (pos, i) {\r\n                return React.createElement(\"div\", { key: \"clipRadiusControl\".concat(i), className: prefix(\"control\", \"clip-control\", \"clip-radius\", \"snap-control\"), \"data-clip-index\": 8 + i, style: {\r\n                        transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rotationRad, \"rad) scale(\").concat(zoom, \")\"),\r\n                    } });\r\n            })), false));\r\n        }\r\n        if (type === \"circle\" || type === \"ellipse\") {\r\n            var clipLeft = clipPath.left, clipTop = clipPath.top, radiusX = clipPath.radiusX, radiusY = clipPath.radiusY;\r\n            var _c = __read(minus(calculatePosition(allMatrix, [clipLeft, clipTop], n), calculatePosition(allMatrix, [0, 0], n)), 2), distLeft = _c[0], distTop = _c[1];\r\n            var ellipseClipPath = \"none\";\r\n            if (!clipArea) {\r\n                var piece = Math.max(10, radiusX / 5, radiusY / 5);\r\n                var areaPoses = [];\r\n                for (var i = 0; i <= piece; ++i) {\r\n                    var rad = Math.PI * 2 / piece * i;\r\n                    areaPoses.push([\r\n                        radiusX + (radiusX - zoom) * Math.cos(rad),\r\n                        radiusY + (radiusY - zoom) * Math.sin(rad),\r\n                    ]);\r\n                }\r\n                areaPoses.push([radiusX, -2]);\r\n                areaPoses.push([-2, -2]);\r\n                areaPoses.push([-2, radiusY * 2 + 2]);\r\n                areaPoses.push([radiusX * 2 + 2, radiusY * 2 + 2]);\r\n                areaPoses.push([radiusX * 2 + 2, -2]);\r\n                areaPoses.push([radiusX, -2]);\r\n                ellipseClipPath = \"polygon(\".concat(areaPoses.map(function (pos) { return \"\".concat(pos[0], \"px \").concat(pos[1], \"px\"); }).join(\", \"), \")\");\r\n            }\r\n            controls.push(React.createElement(\"div\", { key: \"clipEllipse\", className: prefix(\"clip-ellipse\", \"snap-control\"), style: {\r\n                    width: \"\".concat(radiusX * 2, \"px\"),\r\n                    height: \"\".concat(radiusY * 2, \"px\"),\r\n                    clipPath: ellipseClipPath,\r\n                    transform: \"translate(\".concat(-left + distLeft, \"px, \").concat(-top + distTop, \"px) \").concat(makeMatrixCSS(allMatrix)),\r\n                } }));\r\n        }\r\n        if (clipArea) {\r\n            var _d = getRect(__spreadArray([pos1, pos2, pos3, pos4], __read(poses), false)), allWidth = _d.width, allHeight = _d.height, allLeft_1 = _d.left, allTop_1 = _d.top;\r\n            if (isPolygon || isRect || isInset) {\r\n                var areaPoses = isInset ? poses.slice(0, 8) : poses;\r\n                controls.push(React.createElement(\"div\", { key: \"clipArea\", className: prefix(\"clip-area\", \"snap-control\"), style: {\r\n                        width: \"\".concat(allWidth, \"px\"),\r\n                        height: \"\".concat(allHeight, \"px\"),\r\n                        transform: \"translate(\".concat(allLeft_1, \"px, \").concat(allTop_1, \"px)\"),\r\n                        clipPath: \"polygon(\".concat(areaPoses.map(function (pos) { return \"\".concat(pos[0] - allLeft_1, \"px \").concat(pos[1] - allTop_1, \"px\"); }).join(\", \"), \")\"),\r\n                    } }));\r\n            }\r\n        }\r\n        if (snapBoundInfos) {\r\n            [\"vertical\", \"horizontal\"].forEach(function (directionType) {\r\n                var info = snapBoundInfos[directionType];\r\n                var isHorizontal = directionType === \"horizontal\";\r\n                if (info.isSnap) {\r\n                    lines.push.apply(lines, __spreadArray([], __read(info.snap.posInfos.map(function (_a, i) {\r\n                        var pos = _a.pos;\r\n                        var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\r\n                        var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\r\n                        return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\".concat(directionType, \"snap\").concat(i), \"guideline\");\r\n                    })), false));\r\n                }\r\n                if (info.isBound) {\r\n                    lines.push.apply(lines, __spreadArray([], __read(info.bounds.map(function (_a, i) {\r\n                        var pos = _a.pos;\r\n                        var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\r\n                        var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\r\n                        return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\".concat(directionType, \"bounds\").concat(i), \"guideline\", \"bounds\", \"bold\");\r\n                    })), false));\r\n                }\r\n            });\r\n        }\r\n        return __spreadArray(__spreadArray([], __read(controls), false), __read(lines), false);\r\n    },\r\n    dragControlCondition: function (moveable, e) {\r\n        return e.inputEvent && (e.inputEvent.target.getAttribute(\"class\") || \"\").indexOf(\"clip\") > -1;\r\n    },\r\n    dragStart: function (moveable, e) {\r\n        var props = moveable.props;\r\n        var _a = props.dragWithClip, dragWithClip = _a === void 0 ? true : _a;\r\n        if (dragWithClip) {\r\n            return false;\r\n        }\r\n        return this.dragControlStart(moveable, e);\r\n    },\r\n    drag: function (moveable, e) {\r\n        return this.dragControl(moveable, __assign(__assign({}, e), { isDragTarget: true }));\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        return this.dragControlEnd(moveable, e);\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        var state = moveable.state;\r\n        var _a = moveable.props, defaultClipPath = _a.defaultClipPath, customClipPath = _a.customClipPath;\r\n        var target = state.target, width = state.width, height = state.height;\r\n        var inputTarget = e.inputEvent ? e.inputEvent.target : null;\r\n        var className = (inputTarget && inputTarget.getAttribute(\"class\")) || \"\";\r\n        var datas = e.datas;\r\n        var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", customClipPath);\r\n        if (!clipPath) {\r\n            return false;\r\n        }\r\n        var clipText = clipPath.clipText, type = clipPath.type, poses = clipPath.poses;\r\n        var result = triggerEvent(moveable, \"onClipStart\", fillParams(moveable, e, {\r\n            clipType: type,\r\n            clipStyle: clipText,\r\n            poses: poses.map(function (pos) { return pos.pos; }),\r\n        }));\r\n        if (result === false) {\r\n            datas.isClipStart = false;\r\n            return false;\r\n        }\r\n        datas.isControl = className && className.indexOf(\"clip-control\") > -1;\r\n        datas.isLine = className.indexOf(\"clip-line\") > -1;\r\n        datas.isArea = className.indexOf(\"clip-area\") > -1 || className.indexOf(\"clip-ellipse\") > -1;\r\n        datas.clipIndex = inputTarget ? parseInt(inputTarget.getAttribute(\"data-clip-index\"), 10) : -1;\r\n        datas.clipPath = clipPath;\r\n        datas.isClipStart = true;\r\n        state.clipPathState = clipText;\r\n        setDragStart(moveable, e);\r\n        return true;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        var _a, _b, _c;\r\n        var datas = e.datas, originalDatas = e.originalDatas, isDragTarget = e.isDragTarget;\r\n        if (!datas.isClipStart) {\r\n            return false;\r\n        }\r\n        var _d = datas, isControl = _d.isControl, isLine = _d.isLine, isArea = _d.isArea, clipIndex = _d.clipIndex, clipPath = _d.clipPath;\r\n        if (!clipPath) {\r\n            return false;\r\n        }\r\n        var props = getProps(moveable.props, \"clippable\");\r\n        var keepRatio = props.keepRatio;\r\n        var distX = 0;\r\n        var distY = 0;\r\n        var originalDraggable = originalDatas.draggable;\r\n        var originalDist = getDragDist(e);\r\n        if (isDragTarget && originalDraggable) {\r\n            _a = __read(originalDraggable.prevBeforeDist, 2), distX = _a[0], distY = _a[1];\r\n        }\r\n        else {\r\n            _b = __read(originalDist, 2), distX = _b[0], distY = _b[1];\r\n        }\r\n        var firstDist = [distX, distY];\r\n        var state = moveable.state;\r\n        var width = state.width, height = state.height;\r\n        var isDragWithTarget = !isArea && !isControl && !isLine;\r\n        var clipType = clipPath.type, clipPoses = clipPath.poses, splitter = clipPath.splitter;\r\n        var poses = clipPoses.map(function (pos) { return pos.pos; });\r\n        if (isDragWithTarget) {\r\n            distX = -distX;\r\n            distY = -distY;\r\n        }\r\n        var isAll = !isControl || clipPoses[clipIndex].direction === \"nesw\";\r\n        var isRect = clipType === \"inset\" || clipType === \"rect\";\r\n        var dists = clipPoses.map(function () { return [0, 0]; });\r\n        if (isControl && !isAll) {\r\n            var _e = clipPoses[clipIndex], horizontal = _e.horizontal, vertical = _e.vertical;\r\n            var dist = [\r\n                distX * abs(horizontal),\r\n                distY * abs(vertical),\r\n            ];\r\n            dists = moveControlPos(clipPoses, clipIndex, dist, isRect, keepRatio);\r\n        }\r\n        else if (isAll) {\r\n            dists = poses.map(function () { return [distX, distY]; });\r\n        }\r\n        var nextPoses = poses.map(function (pos, i) { return plus(pos, dists[i]); });\r\n        var guidePoses = __spreadArray([], __read(nextPoses), false);\r\n        state.snapBoundInfos = null;\r\n        var isCircle = clipPath.type === \"circle\";\r\n        var isEllipse = clipPath.type === \"ellipse\";\r\n        if (isCircle || isEllipse) {\r\n            var guideRect = getRect(nextPoses);\r\n            var ry = abs(guideRect.bottom - guideRect.top);\r\n            var rx = abs(isEllipse ? guideRect.right - guideRect.left : ry);\r\n            var bottom = nextPoses[0][1] + ry;\r\n            var left = nextPoses[0][0] - rx;\r\n            var right = nextPoses[0][0] + rx;\r\n            // right\r\n            if (isCircle) {\r\n                guidePoses.push([right, guideRect.bottom]);\r\n                dists.push([1, 0]);\r\n            }\r\n            // bottom\r\n            guidePoses.push([guideRect.left, bottom]);\r\n            dists.push([0, 1]);\r\n            // left\r\n            guidePoses.push([left, guideRect.bottom]);\r\n            dists.push([1, 0]);\r\n        }\r\n        var guidelines = getDefaultGuidelines((props.clipHorizontalGuidelines || []).map(function (v) { return convertUnitSize(\"\".concat(v), height); }), (props.clipVerticalGuidelines || []).map(function (v) { return convertUnitSize(\"\".concat(v), width); }), width, height);\r\n        var guideXPoses = [];\r\n        var guideYPoses = [];\r\n        if (isCircle || isEllipse) {\r\n            guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\r\n            guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\r\n        }\r\n        else if (isRect) {\r\n            var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\r\n            var rectDists_1 = [dists[0], dists[2], dists[4], dists[6]];\r\n            guideXPoses = rectPoses.filter(function (_, i) { return rectDists_1[i][0]; }).map(function (pos) { return pos[0]; });\r\n            guideYPoses = rectPoses.filter(function (_, i) { return rectDists_1[i][1]; }).map(function (pos) { return pos[1]; });\r\n        }\r\n        else {\r\n            guideXPoses = guidePoses.filter(function (_, i) { return dists[i][0]; }).map(function (pos) { return pos[0]; });\r\n            guideYPoses = guidePoses.filter(function (_, i) { return dists[i][1]; }).map(function (pos) { return pos[1]; });\r\n        }\r\n        var boundDelta = [0, 0];\r\n        var _f = checkSnapBounds(guidelines, props.clipTargetBounds && { left: 0, top: 0, right: width, bottom: height }, guideXPoses, guideYPoses, 5, 5), horizontalSnapInfo = _f.horizontal, verticalSnapInfo = _f.vertical;\r\n        var snapOffsetY = horizontalSnapInfo.offset;\r\n        var snapOffsetX = verticalSnapInfo.offset;\r\n        if (horizontalSnapInfo.isBound) {\r\n            boundDelta[1] += snapOffsetY;\r\n        }\r\n        if (verticalSnapInfo.isBound) {\r\n            boundDelta[0] += snapOffsetX;\r\n        }\r\n        if ((isEllipse || isCircle) && dists[0][0] === 0 && dists[0][1] === 0) {\r\n            var guideRect = getRect(nextPoses);\r\n            var cy = guideRect.bottom - guideRect.top;\r\n            var cx = isEllipse ? guideRect.right - guideRect.left : cy;\r\n            var distSnapX = verticalSnapInfo.isBound\r\n                ? abs(snapOffsetX)\r\n                : (verticalSnapInfo.snapIndex === 0 ? -snapOffsetX : snapOffsetX);\r\n            var distSnapY = horizontalSnapInfo.isBound\r\n                ? abs(snapOffsetY)\r\n                : (horizontalSnapInfo.snapIndex === 0 ? -snapOffsetY : snapOffsetY);\r\n            cx -= distSnapX;\r\n            cy -= distSnapY;\r\n            if (isCircle) {\r\n                cy = checkSnapBoundPriority(verticalSnapInfo, horizontalSnapInfo) > 0 ? cy : cx;\r\n                cx = cy;\r\n            }\r\n            var center = guidePoses[0];\r\n            guidePoses[1][1] = center[1] - cy;\r\n            guidePoses[2][0] = center[0] + cx;\r\n            guidePoses[3][1] = center[1] + cy;\r\n            guidePoses[4][0] = center[0] - cx;\r\n        }\r\n        else if (isRect && keepRatio && isControl) {\r\n            var _g = __read(getControlSize(clipPoses), 2), width_1 = _g[0], height_1 = _g[1];\r\n            var ratio = width_1 && height_1 ? width_1 / height_1 : 0;\r\n            var clipPose = clipPoses[clipIndex];\r\n            var direction = clipPose.direction || \"\";\r\n            var top_2 = guidePoses[1][1];\r\n            var bottom = guidePoses[5][1];\r\n            var left = guidePoses[7][0];\r\n            var right = guidePoses[3][0];\r\n            if (abs(snapOffsetY) <= abs(snapOffsetX)) {\r\n                snapOffsetY = sign(snapOffsetY) * abs(snapOffsetX) / ratio;\r\n            }\r\n            else {\r\n                snapOffsetX = sign(snapOffsetX) * abs(snapOffsetY) * ratio;\r\n            }\r\n            if (direction.indexOf(\"w\") > -1) {\r\n                left -= snapOffsetX;\r\n            }\r\n            else if (direction.indexOf(\"e\") > -1) {\r\n                right -= snapOffsetX;\r\n            }\r\n            else {\r\n                left += snapOffsetX / 2;\r\n                right -= snapOffsetX / 2;\r\n            }\r\n            if (direction.indexOf(\"n\") > -1) {\r\n                top_2 -= snapOffsetY;\r\n            }\r\n            else if (direction.indexOf(\"s\") > -1) {\r\n                bottom -= snapOffsetY;\r\n            }\r\n            else {\r\n                top_2 += snapOffsetY / 2;\r\n                bottom -= snapOffsetY / 2;\r\n            }\r\n            var nextControlPoses_2 = getRectPoses(top_2, right, bottom, left);\r\n            guidePoses.forEach(function (pos, i) {\r\n                var _a;\r\n                _a = __read(nextControlPoses_2[i].pos, 2), pos[0] = _a[0], pos[1] = _a[1];\r\n            });\r\n        }\r\n        else {\r\n            guidePoses.forEach(function (pos, j) {\r\n                var dist = dists[j];\r\n                if (dist[0]) {\r\n                    pos[0] -= snapOffsetX;\r\n                }\r\n                if (dist[1]) {\r\n                    pos[1] -= snapOffsetY;\r\n                }\r\n            });\r\n        }\r\n        var nextClipStyles = getClipStyles(moveable, clipPath, nextPoses);\r\n        var clipStyle = \"\".concat(clipType, \"(\").concat(nextClipStyles.join(splitter), \")\");\r\n        state.clipPathState = clipStyle;\r\n        if (isCircle || isEllipse) {\r\n            guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\r\n            guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\r\n        }\r\n        else if (isRect) {\r\n            var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\r\n            guideXPoses = rectPoses.map(function (pos) { return pos[0]; });\r\n            guideYPoses = rectPoses.map(function (pos) { return pos[1]; });\r\n        }\r\n        else {\r\n            guideXPoses = guidePoses.map(function (pos) { return pos[0]; });\r\n            guideYPoses = guidePoses.map(function (pos) { return pos[1]; });\r\n        }\r\n        state.snapBoundInfos = checkSnapBounds(guidelines, props.clipTargetBounds && { left: 0, top: 0, right: width, bottom: height }, guideXPoses, guideYPoses, 1, 1);\r\n        if (originalDraggable) {\r\n            var is3d = state.is3d, allMatrix = state.allMatrix;\r\n            var n = is3d ? 4 : 3;\r\n            var dragDist = boundDelta;\r\n            if (isDragTarget) {\r\n                dragDist = [\r\n                    firstDist[0] + boundDelta[0] - originalDist[0],\r\n                    firstDist[1] + boundDelta[1] - originalDist[1],\r\n                ];\r\n            }\r\n            originalDraggable.deltaOffset = multiply(allMatrix, [dragDist[0], dragDist[1], 0, 0], n);\r\n        }\r\n        triggerEvent(moveable, \"onClip\", fillParams(moveable, e, __assign({ clipEventType: \"changed\", clipType: clipType, poses: nextPoses, clipStyle: clipStyle, clipStyles: nextClipStyles, distX: distX, distY: distY }, fillCSSObject((_c = {},\r\n            _c[clipType === \"rect\" ? \"clip\" : \"clipPath\"] = clipStyle,\r\n            _c), e))));\r\n        return true;\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        this.unset(moveable);\r\n        var isDrag = e.isDrag, datas = e.datas, isDouble = e.isDouble;\r\n        var isLine = datas.isLine, isClipStart = datas.isClipStart, isControl = datas.isControl;\r\n        if (!isClipStart) {\r\n            return false;\r\n        }\r\n        triggerEvent(moveable, \"onClipEnd\", fillEndParams(moveable, e, {}));\r\n        if (isDouble) {\r\n            if (isControl) {\r\n                removeClipPath(moveable, e);\r\n            }\r\n            else if (isLine) {\r\n                // add\r\n                addClipPath(moveable, e);\r\n            }\r\n        }\r\n        return isDouble || isDrag;\r\n    },\r\n    unset: function (moveable) {\r\n        moveable.state.clipPathState = \"\";\r\n        moveable.state.snapBoundInfos = null;\r\n    },\r\n};\r\n/**\r\n * Whether to clip the target. (default: false)\r\n * @name Moveable.Clippable#clippable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n *  If clippath is not set, the default value can be set. (defaultClipPath < style < customClipPath < dragging clipPath)\r\n * @name Moveable.Clippable#defaultClipPath\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * % Can be used instead of the absolute px (`rect` not possible) (default: false)\r\n * @name Moveable.Clippable#clipRelative\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * You can force the custom clipPath. (defaultClipPath < style < customClipPath < dragging clipPath)\r\n * @name Moveable.Clippable#customClipPath\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When dragging the target, the clip also moves. (default: true)\r\n * @name Moveable.Clippable#dragWithClip\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * You can drag the clip by setting clipArea.\r\n * @name Moveable.Clippable#clipArea\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n* Whether the clip is bound to the target.\r\n* @name Moveable.Clippable#clipTargetBounds\r\n* @default false\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     clippable: true,\r\n*     defaultClipPath: \"inset\",\r\n*     customClipPath: \"\",\r\n*     clipRelative: false,\r\n*     clipArea: false,\r\n*     dragWithClip: true,\r\n*     clipTargetBounds: true,\r\n* });\r\n* moveable.on(\"clipStart\", e => {\r\n*     console.log(e);\r\n* }).on(\"clip\", e => {\r\n*     if (e.clipType === \"rect\") {\r\n*         e.target.style.clip = e.clipStyle;\r\n*     } else {\r\n*         e.target.style.clipPath = e.clipStyle;\r\n*     }\r\n* }).on(\"clipEnd\", e => {\r\n*     console.log(e);\r\n* });\r\n*/\r\n/**\r\n * Add clip guidelines in the vertical direction.\r\n * @name Moveable.Clippable#clipVerticalGuidelines\r\n * @default 0\r\n * @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     clippable: true,\r\n*     defaultClipPath: \"inset\",\r\n*     customClipPath: \"\",\r\n*     clipRelative: false,\r\n*     clipArea: false,\r\n*     dragWithClip: true,\r\n*     clipVerticalGuidelines: [0, 100, 200],\r\n*     clipHorizontalGuidelines: [0, 100, 200],\r\n*     clipSnapThreshold: 5,\r\n* });\r\n*/\r\n/**\r\n* Add clip guidelines in the horizontal direction.\r\n* @name Moveable.Clippable#clipHorizontalGuidelines\r\n* @default []\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     clippable: true,\r\n*     defaultClipPath: \"inset\",\r\n*     customClipPath: \"\",\r\n*     clipRelative: false,\r\n*     clipArea: false,\r\n*     dragWithClip: true,\r\n*     clipVerticalGuidelines: [0, 100, 200],\r\n*     clipHorizontalGuidelines: [0, 100, 200],\r\n*     clipSnapThreshold: 5,\r\n* });\r\n*/\r\n/**\r\n* istance value that can snap to clip guidelines.\r\n* @name Moveable.Clippable#clipSnapThreshold\r\n* @default 5\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     clippable: true,\r\n*     defaultClipPath: \"inset\",\r\n*     customClipPath: \"\",\r\n*     clipRelative: false,\r\n*     clipArea: false,\r\n*     dragWithClip: true,\r\n*     clipVerticalGuidelines: [0, 100, 200],\r\n*     clipHorizontalGuidelines: [0, 100, 200],\r\n*     clipSnapThreshold: 5,\r\n* });\r\n*/\r\n/**\r\n * When drag start the clip area or controls, the `clipStart` event is called.\r\n * @memberof Moveable.Clippable\r\n * @event clipStart\r\n * @param {Moveable.Clippable.OnClipStart} - Parameters for the `clipStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag the clip area or controls, the `clip` event is called.\r\n * @memberof Moveable.Clippable\r\n * @event clip\r\n * @param {Moveable.Clippable.OnClip} - Parameters for the `clip` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag end the clip area or controls, the `clipEnd` event is called.\r\n * @memberof Moveable.Clippable\r\n * @event clipEnd\r\n * @param {Moveable.Clippable.OnClipEnd} - Parameters for the `clipEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     clippable: true,\r\n *     defaultClipPath: \"inset\",\r\n *     customClipPath: \"\",\r\n *     clipRelative: false,\r\n *     clipArea: false,\r\n *     dragWithClip: true,\r\n * });\r\n * moveable.on(\"clipStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"clip\", e => {\r\n *     if (e.clipType === \"rect\") {\r\n *         e.target.style.clip = e.clipStyle;\r\n *     } else {\r\n *         e.target.style.clipPath = e.clipStyle;\r\n *     }\r\n * }).on(\"clipEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n\n/**\r\n * @namespace OriginDraggable\r\n * @memberof Moveable\r\n * @description Whether to drag origin (default: false)\r\n */\r\nvar OriginDraggable = {\r\n    name: \"originDraggable\",\r\n    props: [\r\n        \"originDraggable\",\r\n        \"originRelative\",\r\n    ],\r\n    events: [\r\n        \"dragOriginStart\",\r\n        \"dragOrigin\",\r\n        \"dragOriginEnd\",\r\n    ],\r\n    css: [\r\n        \":host[data-able-origindraggable] .control.origin {\\npointer-events: auto;\\n}\",\r\n    ],\r\n    dragControlCondition: function (_, e) {\r\n        if (e.isRequest) {\r\n            return e.requestAble === \"originDraggable\";\r\n        }\r\n        return hasClass(e.inputEvent.target, prefix(\"origin\"));\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        var datas = e.datas;\r\n        setDragStart(moveable, e);\r\n        var params = fillParams(moveable, e, {\r\n            dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e)),\r\n        });\r\n        var result = triggerEvent(moveable, \"onDragOriginStart\", params);\r\n        datas.startOrigin = moveable.state.transformOrigin;\r\n        datas.startTargetOrigin = moveable.state.targetOrigin;\r\n        datas.prevOrigin = [0, 0];\r\n        datas.isDragOrigin = true;\r\n        if (result === false) {\r\n            datas.isDragOrigin = false;\r\n            return false;\r\n        }\r\n        return params;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        var datas = e.datas, isPinch = e.isPinch, isRequest = e.isRequest;\r\n        if (!datas.isDragOrigin) {\r\n            return false;\r\n        }\r\n        var _a = __read(getDragDist(e), 2), distX = _a[0], distY = _a[1];\r\n        var state = moveable.state;\r\n        var width = state.width, height = state.height, offsetMatrix = state.offsetMatrix, targetMatrix = state.targetMatrix, is3d = state.is3d;\r\n        var _b = moveable.props.originRelative, originRelative = _b === void 0 ? true : _b;\r\n        var n = is3d ? 4 : 3;\r\n        var dist = [distX, distY];\r\n        if (isRequest) {\r\n            var distOrigin = e.distOrigin;\r\n            if (distOrigin[0] || distOrigin[1]) {\r\n                dist = distOrigin;\r\n            }\r\n        }\r\n        var origin = plus(datas.startOrigin, dist);\r\n        var targetOrigin = plus(datas.startTargetOrigin, dist);\r\n        var delta = minus(dist, datas.prevOrigin);\r\n        var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, origin, n);\r\n        var rect = moveable.getRect();\r\n        var nextRect = getRect(calculatePoses(nextMatrix, width, height, n));\r\n        var dragDelta = [\r\n            rect.left - nextRect.left,\r\n            rect.top - nextRect.top,\r\n        ];\r\n        datas.prevOrigin = dist;\r\n        var transformOrigin = [\r\n            convertCSSSize(targetOrigin[0], width, originRelative),\r\n            convertCSSSize(targetOrigin[1], height, originRelative),\r\n        ].join(\" \");\r\n        var result = Draggable.drag(moveable, setCustomDrag(e, moveable.state, dragDelta, !!isPinch, false));\r\n        var params = fillParams(moveable, e, __assign(__assign({ width: width, height: height, origin: origin, dist: dist, delta: delta, transformOrigin: transformOrigin, drag: result }, fillCSSObject({\r\n            transformOrigin: transformOrigin,\r\n            transform: result.transform,\r\n        }, e)), { afterTransform: result.transform }));\r\n        triggerEvent(moveable, \"onDragOrigin\", params);\r\n        return params;\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        var datas = e.datas;\r\n        if (!datas.isDragOrigin) {\r\n            return false;\r\n        }\r\n        triggerEvent(moveable, \"onDragOriginEnd\", fillEndParams(moveable, e, {}));\r\n        return true;\r\n    },\r\n    dragGroupControlCondition: function (moveable, e) {\r\n        return this.dragControlCondition(moveable, e);\r\n    },\r\n    dragGroupControlStart: function (moveable, e) {\r\n        var params = this.dragControlStart(moveable, e);\r\n        if (!params) {\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        var params = this.dragControl(moveable, e);\r\n        if (!params) {\r\n            return false;\r\n        }\r\n        moveable.transformOrigin = params.transformOrigin;\r\n        return true;\r\n    },\r\n    /**\r\n    * @method Moveable.OriginDraggable#request\r\n    * @param {object} e - the OriginDraggable's request parameter\r\n    * @param {number} [e.x] - x position\r\n    * @param {number} [e.y] - y position\r\n    * @param {number} [e.deltaX] - x number to move\r\n    * @param {number} [e.deltaY] - y number to move\r\n    * @param {array} [e.deltaOrigin] - left, top number to move transform-origin\r\n    * @param {array} [e.origin] - transform-origin position\r\n    * @param {number} [e.isInstant] - Whether to execute the request instantly\r\n    * @return {Moveable.Requester} Moveable Requester\r\n    * @example\r\n\n    * // Instantly Request (requestStart - request - requestEnd)\r\n    * // Use Relative Value\r\n    * moveable.request(\"originDraggable\", { deltaX: 10, deltaY: 10 }, true);\r\n    * // Use Absolute Value\r\n    * moveable.request(\"originDraggable\", { x: 200, y: 100 }, true);\r\n    * // Use Transform Value\r\n    * moveable.request(\"originDraggable\", { deltaOrigin: [10, 0] }, true);\r\n    * moveable.request(\"originDraggable\", { origin: [100, 0] }, true);\r\n    * // requestStart\r\n    * const requester = moveable.request(\"originDraggable\");\r\n    *\r\n    * // request\r\n    * // Use Relative Value\r\n    * requester.request({ deltaX: 10, deltaY: 10 });\r\n    * requester.request({ deltaX: 10, deltaY: 10 });\r\n    * requester.request({ deltaX: 10, deltaY: 10 });\r\n    * // Use Absolute Value\r\n    * moveable.request(\"originDraggable\", { x: 200, y: 100 });\r\n    * moveable.request(\"originDraggable\", { x: 220, y: 100 });\r\n    * moveable.request(\"originDraggable\", { x: 240, y: 100 });\r\n    *\r\n    * // requestEnd\r\n    * requester.requestEnd();\r\n    */\r\n    request: function (moveable) {\r\n        var datas = {};\r\n        var rect = moveable.getRect();\r\n        var distX = 0;\r\n        var distY = 0;\r\n        var transformOrigin = rect.transformOrigin;\r\n        var distOrigin = [0, 0];\r\n        return {\r\n            isControl: true,\r\n            requestStart: function () {\r\n                return { datas: datas };\r\n            },\r\n            request: function (e) {\r\n                if (\"deltaOrigin\" in e) {\r\n                    distOrigin[0] += e.deltaOrigin[0];\r\n                    distOrigin[1] += e.deltaOrigin[1];\r\n                }\r\n                else if (\"origin\" in e) {\r\n                    distOrigin[0] = e.origin[0] - transformOrigin[0];\r\n                    distOrigin[1] = e.origin[1] - transformOrigin[1];\r\n                }\r\n                else {\r\n                    if (\"x\" in e) {\r\n                        distX = e.x - rect.left;\r\n                    }\r\n                    else if (\"deltaX\" in e) {\r\n                        distX += e.deltaX;\r\n                    }\r\n                    if (\"y\" in e) {\r\n                        distY = e.y - rect.top;\r\n                    }\r\n                    else if (\"deltaY\" in e) {\r\n                        distY += e.deltaY;\r\n                    }\r\n                }\r\n                return { datas: datas, distX: distX, distY: distY, distOrigin: distOrigin };\r\n            },\r\n            requestEnd: function () {\r\n                return { datas: datas, isDrag: true };\r\n            },\r\n        };\r\n    },\r\n};\r\n/**\r\n * Whether to drag origin (default: false)\r\n * @name Moveable.OriginDraggable#originDraggable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     originDraggable: true,\r\n * });\r\n * let translate = [0, 0];\r\n * moveable.on(\"dragOriginStart\", e => {\r\n *     e.dragStart && e.dragStart.set(translate);\r\n * }).on(\"dragOrigin\", e => {\r\n *     translate = e.drag.beforeTranslate;\r\n *     e.target.style.cssText\r\n *         = `transform-origin: ${e.transformOrigin};`\r\n *         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\r\n * }).on(\"dragOriginEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * % Can be used instead of the absolute px (default: true)\r\n * @name Moveable.OriginDraggable#originRelative\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     originDraggable: true,\r\n *     originRelative: false,\r\n * });\r\n * moveable.originRelative = true;\r\n */\r\n/**\r\n* When drag start the origin, the `dragOriginStart` event is called.\r\n* @memberof Moveable.OriginDraggable\r\n* @event dragOriginStart\r\n* @param {Moveable.OriginDraggable.OnDragOriginStart} - Parameters for the `dragOriginStart` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     originDraggable: true,\r\n* });\r\n* let translate = [0, 0];\r\n* moveable.on(\"dragOriginStart\", e => {\r\n*     e.dragStart && e.dragStart.set(translate);\r\n* }).on(\"dragOrigin\", e => {\r\n*     translate = e.drag.beforeTranslate;\r\n*     e.target.style.cssText\r\n*         = `transform-origin: ${e.transformOrigin};`\r\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\r\n* }).on(\"dragOriginEnd\", e => {\r\n*     console.log(e);\r\n* });\r\n*/\r\n/**\r\n* When drag the origin, the `dragOrigin` event is called.\r\n* @memberof Moveable.OriginDraggable\r\n* @event dragOrigin\r\n* @param {Moveable.OriginDraggable.OnDragOrigin} - Parameters for the `dragOrigin` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     originDraggable: true,\r\n* });\r\n* let translate = [0, 0];\r\n* moveable.on(\"dragOriginStart\", e => {\r\n*     e.dragStart && e.dragStart.set(translate);\r\n* }).on(\"dragOrigin\", e => {\r\n*     translate = e.drag.beforeTranslate;\r\n*     e.target.style.cssText\r\n*         = `transform-origin: ${e.transformOrigin};`\r\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\r\n* }).on(\"dragOriginEnd\", e => {\r\n*     console.log(e);\r\n* });\r\n*/\r\n/**\r\n* When drag end the origin, the `dragOriginEnd` event is called.\r\n* @memberof Moveable.OriginDraggable\r\n* @event dragOriginEnd\r\n* @param {Moveable.OriginDraggable.OnDragOriginEnd} - Parameters for the `dragOriginEnd` event\r\n* @example\r\n* import Moveable from \"moveable\";\r\n*\r\n* const moveable = new Moveable(document.body, {\r\n*     originDraggable: true,\r\n* });\r\n* let translate = [0, 0];\r\n* moveable.on(\"dragOriginStart\", e => {\r\n*     e.dragStart && e.dragStart.set(translate);\r\n* }).on(\"dragOrigin\", e => {\r\n*     translate = e.drag.beforeTranslate;\r\n*     e.target.style.cssText\r\n*         = `transform-origin: ${e.transformOrigin};`\r\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\r\n* }).on(\"dragOriginEnd\", e => {\r\n*     console.log(e);\r\n* });\r\n*/\n\nfunction addBorderRadiusByLine(controlPoses, lineIndex, distX, distY) {\r\n    // lineIndex\r\n    // 0 top\r\n    // 1 right\r\n    // 2 bottom\r\n    // 3 left\r\n    var horizontalsLength = controlPoses.filter(function (_a) {\r\n        var virtual = _a.virtual, horizontal = _a.horizontal;\r\n        return horizontal && !virtual;\r\n    }).length;\r\n    var verticalsLength = controlPoses.filter(function (_a) {\r\n        var virtual = _a.virtual, vertical = _a.vertical;\r\n        return vertical && !virtual;\r\n    }).length;\r\n    var controlIndex = -1;\r\n    //top\r\n    if (lineIndex === 0) {\r\n        if (horizontalsLength === 0) {\r\n            controlIndex = 0;\r\n        }\r\n        else if (horizontalsLength === 1) {\r\n            controlIndex = 1;\r\n        }\r\n    }\r\n    // bottom\r\n    if (lineIndex === 2) {\r\n        if (horizontalsLength <= 2) {\r\n            controlIndex = 2;\r\n        }\r\n        else if (horizontalsLength <= 3) {\r\n            controlIndex = 3;\r\n        }\r\n    }\r\n    // left\r\n    if (lineIndex === 3) {\r\n        if (verticalsLength === 0) {\r\n            controlIndex = 4;\r\n        }\r\n        else if (verticalsLength < 4) {\r\n            controlIndex = 7;\r\n        }\r\n    }\r\n    // right\r\n    if (lineIndex === 1) {\r\n        if (verticalsLength <= 1) {\r\n            controlIndex = 5;\r\n        }\r\n        else if (verticalsLength <= 2) {\r\n            controlIndex = 6;\r\n        }\r\n    }\r\n    if (controlIndex === -1 || !controlPoses[controlIndex].virtual) {\r\n        return;\r\n    }\r\n    var controlPoseInfo = controlPoses[controlIndex];\r\n    addBorderRadius(controlPoses, controlIndex);\r\n    if (controlIndex < 4) {\r\n        controlPoseInfo.pos[0] = distX;\r\n    }\r\n    else {\r\n        controlPoseInfo.pos[1] = distY;\r\n    }\r\n}\r\nfunction addBorderRadius(controlPoses, index) {\r\n    if (index < 4) {\r\n        controlPoses.slice(0, index + 1).forEach(function (info) {\r\n            info.virtual = false;\r\n        });\r\n    }\r\n    else {\r\n        if (controlPoses[0].virtual) {\r\n            controlPoses[0].virtual = false;\r\n        }\r\n        controlPoses.slice(4, index + 1).forEach(function (info) {\r\n            info.virtual = false;\r\n        });\r\n    }\r\n}\r\nfunction removeBorderRadius(controlPoses, index) {\r\n    if (index < 4) {\r\n        controlPoses.slice(index, 4).forEach(function (info) {\r\n            info.virtual = true;\r\n        });\r\n    }\r\n    else {\r\n        controlPoses.slice(index).forEach(function (info) {\r\n            info.virtual = true;\r\n        });\r\n    }\r\n}\r\nfunction getBorderRadius(borderRadius, width, height, minCounts, full) {\r\n    if (minCounts === void 0) { minCounts = [0, 0]; }\r\n    var values = [];\r\n    if (!borderRadius || borderRadius === \"0px\") {\r\n        values = [];\r\n    }\r\n    else {\r\n        values = splitSpace(borderRadius);\r\n    }\r\n    return getRadiusValues(values, width, height, 0, 0, minCounts, full);\r\n}\r\nfunction triggerRoundEvent(moveable, e, dist, delta, nextPoses) {\r\n    var state = moveable.state;\r\n    var width = state.width, height = state.height;\r\n    var _a = getRadiusStyles(nextPoses, moveable.props.roundRelative, width, height), raws = _a.raws, styles = _a.styles, radiusPoses = _a.radiusPoses;\r\n    var _b = splitRadiusPoses(radiusPoses, raws), horizontals = _b.horizontals, verticals = _b.verticals;\r\n    var borderRadius = styles.join(\" \");\r\n    state.borderRadiusState = borderRadius;\r\n    var params = fillParams(moveable, e, __assign({ horizontals: horizontals, verticals: verticals, borderRadius: borderRadius, width: width, height: height, delta: delta, dist: dist }, fillCSSObject({\r\n        borderRadius: borderRadius,\r\n    }, e)));\r\n    triggerEvent(moveable, \"onRound\", params);\r\n    return params;\r\n}\r\nfunction getStyleBorderRadius(moveable) {\r\n    var _a, _b;\r\n    var style = moveable.getState().style;\r\n    var borderRadius = style.borderRadius || \"\";\r\n    if (!borderRadius && moveable.props.groupable) {\r\n        var firstMoveable = moveable.moveables[0];\r\n        var firstTarget = moveable.getTargets()[0];\r\n        if (firstTarget) {\r\n            if ((firstMoveable === null || firstMoveable === void 0 ? void 0 : firstMoveable.props.target) === firstTarget) {\r\n                borderRadius = (_b = (_a = moveable.moveables[0]) === null || _a === void 0 ? void 0 : _a.state.style.borderRadius) !== null && _b !== void 0 ? _b : \"\";\r\n                style.borderRadius = borderRadius;\r\n            }\r\n            else {\r\n                borderRadius = getComputedStyle(firstTarget).borderRadius;\r\n                style.borderRadius = borderRadius;\r\n            }\r\n        }\r\n    }\r\n    return borderRadius;\r\n}\r\n/**\r\n * @namespace Moveable.Roundable\r\n * @description Whether to show and drag or double click border-radius\r\n */\r\nvar Roundable = {\r\n    name: \"roundable\",\r\n    props: [\r\n        \"roundable\",\r\n        \"roundRelative\",\r\n        \"minRoundControls\",\r\n        \"maxRoundControls\",\r\n        \"roundClickable\",\r\n        \"roundPadding\",\r\n        \"isDisplayShadowRoundControls\",\r\n    ],\r\n    events: [\r\n        \"roundStart\",\r\n        \"round\",\r\n        \"roundEnd\",\r\n        \"roundGroupStart\",\r\n        \"roundGroup\",\r\n        \"roundGroupEnd\",\r\n    ],\r\n    css: [\r\n        \".control.border-radius {\\nbackground: #d66;\\ncursor: pointer;\\nz-index: 3;\\n}\",\r\n        \".control.border-radius.vertical {\\nbackground: #d6d;\\nz-index: 2;\\n}\",\r\n        \".control.border-radius.virtual {\\nopacity: 0.5;\\nz-index: 1;\\n}\",\r\n        \":host.round-line-clickable .line.direction {\\ncursor: pointer;\\n}\",\r\n    ],\r\n    className: function (moveable) {\r\n        var roundClickable = moveable.props.roundClickable;\r\n        return roundClickable === true || roundClickable === \"line\" ? prefix(\"round-line-clickable\") : \"\";\r\n    },\r\n    requestStyle: function () {\r\n        return [\"borderRadius\"];\r\n    },\r\n    requestChildStyle: function () {\r\n        return [\"borderRadius\"];\r\n    },\r\n    render: function (moveable, React) {\r\n        var _a = moveable.getState(), target = _a.target, width = _a.width, height = _a.height, allMatrix = _a.allMatrix, is3d = _a.is3d, left = _a.left, top = _a.top, borderRadiusState = _a.borderRadiusState;\r\n        var _b = moveable.props, _c = _b.minRoundControls, minRoundControls = _c === void 0 ? [0, 0] : _c, _d = _b.maxRoundControls, maxRoundControls = _d === void 0 ? [4, 4] : _d, zoom = _b.zoom, _e = _b.roundPadding, roundPadding = _e === void 0 ? 0 : _e, isDisplayShadowRoundControls = _b.isDisplayShadowRoundControls, groupable = _b.groupable;\r\n        if (!target) {\r\n            return null;\r\n        }\r\n        var borderRadius = borderRadiusState || getStyleBorderRadius(moveable);\r\n        var n = is3d ? 4 : 3;\r\n        var radiusValues = getBorderRadius(borderRadius, width, height, minRoundControls, true);\r\n        if (!radiusValues) {\r\n            return null;\r\n        }\r\n        var verticalCount = 0;\r\n        var horizontalCount = 0;\r\n        var basePos = groupable ? [0, 0] : [left, top];\r\n        return radiusValues.map(function (v, i) {\r\n            var horizontal = v.horizontal;\r\n            var vertical = v.vertical;\r\n            var direction = v.direction || \"\";\r\n            var originalPos = __spreadArray([], __read(v.pos), false);\r\n            horizontalCount += Math.abs(horizontal);\r\n            verticalCount += Math.abs(vertical);\r\n            if (horizontal && direction.indexOf(\"n\") > -1) {\r\n                originalPos[1] -= roundPadding;\r\n            }\r\n            if (vertical && direction.indexOf(\"w\") > -1) {\r\n                originalPos[0] -= roundPadding;\r\n            }\r\n            if (horizontal && direction.indexOf(\"s\") > -1) {\r\n                originalPos[1] += roundPadding;\r\n            }\r\n            if (vertical && direction.indexOf(\"e\") > -1) {\r\n                originalPos[0] += roundPadding;\r\n            }\r\n            var pos = minus(calculatePosition(allMatrix, originalPos, n), basePos);\r\n            var isDisplayVerticalShadow = isDisplayShadowRoundControls\r\n                && isDisplayShadowRoundControls !== \"horizontal\";\r\n            var isDisplay = v.vertical\r\n                ? verticalCount <= maxRoundControls[1] && (isDisplayVerticalShadow || !v.virtual)\r\n                : horizontalCount <= maxRoundControls[0] && (isDisplayShadowRoundControls || !v.virtual);\r\n            return React.createElement(\"div\", { key: \"borderRadiusControl\".concat(i), className: prefix(\"control\", \"border-radius\", v.vertical ? \"vertical\" : \"\", v.virtual ? \"virtual\" : \"\"), \"data-radius-index\": i, style: {\r\n                    display: isDisplay ? \"block\" : \"none\",\r\n                    transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) scale(\").concat(zoom, \")\"),\r\n                } });\r\n        });\r\n    },\r\n    dragControlCondition: function (moveable, e) {\r\n        if (!e.inputEvent || e.isRequest) {\r\n            return false;\r\n        }\r\n        var className = (e.inputEvent.target.getAttribute(\"class\") || \"\");\r\n        return className.indexOf(\"border-radius\") > -1\r\n            || (className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1);\r\n    },\r\n    dragGroupControlCondition: function (moveable, e) {\r\n        return this.dragControlCondition(moveable, e);\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        var inputEvent = e.inputEvent, datas = e.datas;\r\n        var inputTarget = inputEvent.target;\r\n        var className = (inputTarget.getAttribute(\"class\") || \"\");\r\n        var isControl = className.indexOf(\"border-radius\") > -1;\r\n        var isLine = className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1;\r\n        var controlIndex = isControl ? parseInt(inputTarget.getAttribute(\"data-radius-index\"), 10) : -1;\r\n        var lineIndex = -1;\r\n        if (isLine) {\r\n            var indexAttr = inputTarget.getAttribute(\"data-line-key\") || \"\";\r\n            if (indexAttr) {\r\n                lineIndex = parseInt(indexAttr.replace(/render-line-/g, \"\"), 10);\r\n                if (isNaN(lineIndex)) {\r\n                    lineIndex = -1;\r\n                }\r\n            }\r\n        }\r\n        if (!isControl && !isLine) {\r\n            return false;\r\n        }\r\n        var params = fillParams(moveable, e, {});\r\n        var result = triggerEvent(moveable, \"onRoundStart\", params);\r\n        if (result === false) {\r\n            return false;\r\n        }\r\n        datas.lineIndex = lineIndex;\r\n        datas.controlIndex = controlIndex;\r\n        datas.isControl = isControl;\r\n        datas.isLine = isLine;\r\n        setDragStart(moveable, e);\r\n        var _a = moveable.props, roundRelative = _a.roundRelative, _b = _a.minRoundControls, minRoundControls = _b === void 0 ? [0, 0] : _b;\r\n        var state = moveable.state;\r\n        var width = state.width, height = state.height;\r\n        datas.isRound = true;\r\n        datas.prevDist = [0, 0];\r\n        var borderRadius = getStyleBorderRadius(moveable);\r\n        var controlPoses = getBorderRadius(borderRadius || \"\", width, height, minRoundControls, true) || [];\r\n        datas.controlPoses = controlPoses;\r\n        state.borderRadiusState = getRadiusStyles(controlPoses, roundRelative, width, height).styles.join(\" \");\r\n        return params;\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        var datas = e.datas;\r\n        var controlPoses = datas.controlPoses;\r\n        if (!datas.isRound || !datas.isControl || !controlPoses.length) {\r\n            return false;\r\n        }\r\n        var index = datas.controlIndex;\r\n        var _a = __read(getDragDist(e), 2), distX = _a[0], distY = _a[1];\r\n        var dist = [distX, distY];\r\n        var delta = minus(dist, datas.prevDist);\r\n        var _b = moveable.props.maxRoundControls, maxRoundControls = _b === void 0 ? [4, 4] : _b;\r\n        var _c = moveable.state, width = _c.width, height = _c.height;\r\n        var selectedControlPose = controlPoses[index];\r\n        var selectedVertical = selectedControlPose.vertical;\r\n        var selectedHorizontal = selectedControlPose.horizontal;\r\n        // 0: [0, 1, 2, 3] maxCount === 1\r\n        // 0: [0, 2] maxCount === 2\r\n        // 1: [1, 3] maxCount === 2\r\n        // 0: [0] maxCount === 3\r\n        // 1: [1, 3] maxCount === 3\r\n        var dists = controlPoses.map(function (pose) {\r\n            var horizontal = pose.horizontal, vertical = pose.vertical;\r\n            var poseDist = [\r\n                horizontal * selectedHorizontal * dist[0],\r\n                vertical * selectedVertical * dist[1],\r\n            ];\r\n            if (horizontal) {\r\n                if (maxRoundControls[0] === 1) {\r\n                    return poseDist;\r\n                }\r\n                else if (maxRoundControls[0] < 4 && horizontal !== selectedHorizontal) {\r\n                    return poseDist;\r\n                }\r\n            }\r\n            else if (maxRoundControls[1] === 0) {\r\n                poseDist[1] = vertical * selectedHorizontal * dist[0] / width * height;\r\n                return poseDist;\r\n            }\r\n            else if (selectedVertical) {\r\n                if (maxRoundControls[1] === 1) {\r\n                    return poseDist;\r\n                }\r\n                else if (maxRoundControls[1] < 4 && vertical !== selectedVertical) {\r\n                    return poseDist;\r\n                }\r\n            }\r\n            return [0, 0];\r\n        });\r\n        dists[index] = dist;\r\n        var nextPoses = controlPoses.map(function (info, i) {\r\n            return __assign(__assign({}, info), { pos: plus(info.pos, dists[i]) });\r\n        });\r\n        if (index < 4) {\r\n            nextPoses.slice(0, index + 1).forEach(function (info) {\r\n                info.virtual = false;\r\n            });\r\n        }\r\n        else {\r\n            nextPoses.slice(4, index + 1).forEach(function (info) {\r\n                info.virtual = false;\r\n            });\r\n        }\r\n        datas.prevDist = [distX, distY];\r\n        return triggerRoundEvent(moveable, e, dist, delta, nextPoses);\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        var state = moveable.state;\r\n        state.borderRadiusState = \"\";\r\n        var datas = e.datas, isDouble = e.isDouble;\r\n        if (!datas.isRound) {\r\n            return false;\r\n        }\r\n        var isControl = datas.isControl, controlIndex = datas.controlIndex, isLine = datas.isLine, lineIndex = datas.lineIndex;\r\n        var controlPoses = datas.controlPoses;\r\n        var length = controlPoses.filter(function (_a) {\r\n            var virtual = _a.virtual;\r\n            return virtual;\r\n        }).length;\r\n        var _a = moveable.props.roundClickable, roundClickable = _a === void 0 ? true : _a;\r\n        if (isDouble && roundClickable) {\r\n            if (isControl && (roundClickable === true || roundClickable === \"control\")) {\r\n                removeBorderRadius(controlPoses, controlIndex);\r\n            }\r\n            else if (isLine && (roundClickable === true || roundClickable === \"line\")) {\r\n                var _b = __read(calculatePointerDist(moveable, e), 2), distX = _b[0], distY = _b[1];\r\n                addBorderRadiusByLine(controlPoses, lineIndex, distX, distY);\r\n            }\r\n            if (length !== controlPoses.filter(function (_a) {\r\n                var virtual = _a.virtual;\r\n                return virtual;\r\n            }).length) {\r\n                triggerRoundEvent(moveable, e, [0, 0], [0, 0], controlPoses);\r\n            }\r\n        }\r\n        var params = fillEndParams(moveable, e, {});\r\n        triggerEvent(moveable, \"onRoundEnd\", params);\r\n        state.borderRadiusState = \"\";\r\n        return params;\r\n    },\r\n    dragGroupControlStart: function (moveable, e) {\r\n        var result = this.dragControlStart(moveable, e);\r\n        if (!result) {\r\n            return false;\r\n        }\r\n        var moveables = moveable.moveables;\r\n        var targets = moveable.props.targets;\r\n        var events = fillChildEvents(moveable, \"roundable\", e);\r\n        var nextParams = __assign({ targets: moveable.props.targets, events: events.map(function (ev, i) {\r\n                return __assign(__assign({}, ev), { target: targets[i], moveable: moveables[i], currentTarget: moveables[i] });\r\n            }) }, result);\r\n        triggerEvent(moveable, \"onRoundGroupStart\", nextParams);\r\n        return result;\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        var result = this.dragControl(moveable, e);\r\n        if (!result) {\r\n            return false;\r\n        }\r\n        var moveables = moveable.moveables;\r\n        var targets = moveable.props.targets;\r\n        var events = fillChildEvents(moveable, \"roundable\", e);\r\n        var nextParams = __assign({ targets: moveable.props.targets, events: events.map(function (ev, i) {\r\n                return __assign(__assign(__assign({}, ev), { target: targets[i], moveable: moveables[i], currentTarget: moveables[i] }), fillCSSObject({\r\n                    borderRadius: result.borderRadius,\r\n                }, ev));\r\n            }) }, result);\r\n        triggerEvent(moveable, \"onRoundGroup\", nextParams);\r\n        return nextParams;\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        var moveables = moveable.moveables;\r\n        var targets = moveable.props.targets;\r\n        var events = fillChildEvents(moveable, \"roundable\", e);\r\n        catchEvent(moveable, \"onRound\", function (parentEvent) {\r\n            var nextParams = __assign({ targets: moveable.props.targets, events: events.map(function (ev, i) {\r\n                    return __assign(__assign(__assign({}, ev), { target: targets[i], moveable: moveables[i], currentTarget: moveables[i] }), fillCSSObject({\r\n                        borderRadius: parentEvent.borderRadius,\r\n                    }, ev));\r\n                }) }, parentEvent);\r\n            triggerEvent(moveable, \"onRoundGroup\", nextParams);\r\n        });\r\n        var result = this.dragControlEnd(moveable, e);\r\n        if (!result) {\r\n            return false;\r\n        }\r\n        var nextParams = __assign({ targets: moveable.props.targets, events: events.map(function (ev, i) {\r\n                var _a;\r\n                return __assign(__assign({}, ev), { target: targets[i], moveable: moveables[i], currentTarget: moveables[i], lastEvent: (_a = ev.datas) === null || _a === void 0 ? void 0 : _a.lastEvent });\r\n            }) }, result);\r\n        triggerEvent(moveable, \"onRoundGroupEnd\", nextParams);\r\n        return nextParams;\r\n    },\r\n    unset: function (moveable) {\r\n        moveable.state.borderRadiusState = \"\";\r\n    },\r\n};\r\n/**\r\n * Whether to show and drag or double click border-radius, (default: false)\r\n * @name Moveable.Roundable#roundable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * % Can be used instead of the absolute px\r\n * @name Moveable.Roundable#roundRelative\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * Minimum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [0, 0])\r\n * @name Moveable.Roundable#minRoundControls\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n *     minRoundControls: [0, 0],\r\n * });\r\n * moveable.minRoundControls = [1, 0];\r\n */\r\n/**\r\n * Maximum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [4, 4])\r\n * @name Moveable.Roundable#maxRoundControls\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n *     maxRoundControls: [4, 4],\r\n * });\r\n * moveable.maxRoundControls = [1, 0];\r\n */\r\n/**\r\n * Whether you can add/delete round controls by double-clicking a line or control.\r\n * @name Moveable.Roundable#roundClickable\r\n * @default true\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n *     roundClickable: true,\r\n * });\r\n * moveable.roundClickable = false;\r\n */\r\n/**\r\n * Whether to show a round control that does not actually exist as a shadow\r\n * @name Moveable.Roundable#isDisplayShadowRoundControls\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     isDisplayShadowRoundControls: false,\r\n * });\r\n * moveable.isDisplayShadowRoundControls = true;\r\n */\r\n/**\r\n * The padding value of the position of the round control\r\n * @name Moveable.Roundable#roundPadding\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundPadding: 0,\r\n * });\r\n * moveable.roundPadding = 15;\r\n */\r\n/**\r\n * When drag start the clip area or controls, the `roundStart` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundStart\r\n * @param {Moveable.Roundable.OnRoundStart} - Parameters for the `roundStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag or double click the border area or controls, the `round` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event round\r\n * @param {Moveable.Roundable.OnRound} - Parameters for the `round` event\r\n * @example\r\n  * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag end the border area or controls, the `roundEnd` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundEnd\r\n * @param {Moveable.Roundable.onRoundEnd} - Parameters for the `roundEnd` event\r\n * @example\r\n  * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     roundable: true,\r\n *     roundRelative: false,\r\n * });\r\n * moveable.on(\"roundStart\", e => {\r\n *     console.log(e);\r\n * }).on(\"round\", e => {\r\n *     e.target.style.borderRadius = e.borderRadius;\r\n * }).on(\"roundEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag start the clip area or controls, the `roundGroupStart` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundGroupStart\r\n * @param {Moveable.Roundable.OnRoundGroupStart} - Parameters for the `roundGroupStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     targets: [target1, target2, target3],\r\n *     roundable: true,\r\n * });\r\n * moveable.on(\"roundGroupStart\", e => {\r\n *     console.log(e.targets);\r\n * }).on(\"roundGroup\", e => {\r\n *   e.events.forEach(ev => {\r\n *       ev.target.style.cssText += ev.cssText;\r\n *   });\r\n * }).on(\"roundGroupEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag or double click the border area or controls, the `roundGroup` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundGroup\r\n * @param {Moveable.Roundable.OnRoundGroup} - Parameters for the `roundGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     targets: [target1, target2, target3],\r\n *     roundable: true,\r\n * });\r\n * moveable.on(\"roundGroupStart\", e => {\r\n *     console.log(e.targets);\r\n * }).on(\"roundGroup\", e => {\r\n *   e.events.forEach(ev => {\r\n *       ev.target.style.cssText += ev.cssText;\r\n *   });\r\n * }).on(\"roundGroupEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\r\n/**\r\n * When drag end the border area or controls, the `roundGroupEnd` event is called.\r\n * @memberof Moveable.Roundable\r\n * @event roundGroupEnd\r\n * @param {Moveable.Roundable.onRoundGroupEnd} - Parameters for the `roundGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     targets: [target1, target2, target3],\r\n *     roundable: true,\r\n * });\r\n * moveable.on(\"roundGroupStart\", e => {\r\n *     console.log(e.targets);\r\n * }).on(\"roundGroup\", e => {\r\n *     e.events.forEach(ev => {\r\n *         ev.target.style.cssText += ev.cssText;\r\n *     });\r\n * }).on(\"roundGroupEnd\", e => {\r\n *     console.log(e);\r\n * });\r\n */\n\nfunction isIdentityMatrix(matrix, is3d) {\r\n    var n = is3d ? 4 : 3;\r\n    var identityMatrix = createIdentityMatrix(n);\r\n    var value = \"matrix\".concat(is3d ? \"3d\" : \"\", \"(\").concat(identityMatrix.join(\",\"), \")\");\r\n    return matrix === value || matrix === \"matrix(1,0,0,1,0,0)\";\r\n}\r\nvar BeforeRenderable = {\r\n    isPinch: true,\r\n    name: \"beforeRenderable\",\r\n    props: [],\r\n    events: [\r\n        \"beforeRenderStart\",\r\n        \"beforeRender\",\r\n        \"beforeRenderEnd\",\r\n        \"beforeRenderGroupStart\",\r\n        \"beforeRenderGroup\",\r\n        \"beforeRenderGroupEnd\",\r\n    ],\r\n    dragRelation: \"weak\",\r\n    setTransform: function (moveable, e) {\r\n        var _a = moveable.state, is3d = _a.is3d, targetMatrix = _a.targetMatrix, inlineTransform = _a.inlineTransform;\r\n        var cssMatrix = is3d\r\n            ? \"matrix3d(\".concat(targetMatrix.join(\",\"), \")\")\r\n            : \"matrix(\".concat(convertMatrixtoCSS(targetMatrix, true), \")\");\r\n        var startTransform = !inlineTransform || inlineTransform === \"none\" ? cssMatrix : inlineTransform;\r\n        e.datas.startTransforms = isIdentityMatrix(startTransform, is3d) ? [] : splitSpace(startTransform);\r\n    },\r\n    resetStyle: function (e) {\r\n        var datas = e.datas;\r\n        datas.nextStyle = {};\r\n        datas.nextTransforms = e.datas.startTransforms;\r\n        datas.nextTransformAppendedIndexes = [];\r\n    },\r\n    fillDragStartParams: function (moveable, e) {\r\n        return fillParams(moveable, e, {\r\n            setTransform: function (transform) {\r\n                e.datas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\r\n            },\r\n            isPinch: !!e.isPinch,\r\n        });\r\n    },\r\n    fillDragParams: function (moveable, e) {\r\n        return fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n        });\r\n    },\r\n    dragStart: function (moveable, e) {\r\n        this.setTransform(moveable, e);\r\n        this.resetStyle(e);\r\n        triggerEvent(moveable, \"onBeforeRenderStart\", this.fillDragStartParams(moveable, e));\r\n    },\r\n    drag: function (moveable, e) {\r\n        if (!e.datas.startTransforms) {\r\n            this.setTransform(moveable, e);\r\n        }\r\n        this.resetStyle(e);\r\n        triggerEvent(moveable, \"onBeforeRender\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n        }));\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        if (!e.datas.startTransforms) {\r\n            this.setTransform(moveable, e);\r\n            this.resetStyle(e);\r\n        }\r\n        triggerEvent(moveable, \"onBeforeRenderEnd\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n            isDrag: e.isDrag,\r\n        }));\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        var _this = this;\r\n        this.dragStart(moveable, e);\r\n        var events = fillChildEvents(moveable, \"beforeRenderable\", e);\r\n        var moveables = moveable.moveables;\r\n        var params = events.map(function (childEvent, i) {\r\n            var childMoveable = moveables[i];\r\n            _this.setTransform(childMoveable, childEvent);\r\n            _this.resetStyle(childEvent);\r\n            return _this.fillDragStartParams(childMoveable, childEvent);\r\n        });\r\n        triggerEvent(moveable, \"onBeforeRenderGroupStart\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n            targets: moveable.props.targets,\r\n            setTransform: function () { },\r\n            events: params,\r\n        }));\r\n    },\r\n    dragGroup: function (moveable, e) {\r\n        var _this = this;\r\n        this.drag(moveable, e);\r\n        var events = fillChildEvents(moveable, \"beforeRenderable\", e);\r\n        var moveables = moveable.moveables;\r\n        var params = events.map(function (childEvent, i) {\r\n            var childMoveable = moveables[i];\r\n            _this.resetStyle(childEvent);\r\n            return _this.fillDragParams(childMoveable, childEvent);\r\n        });\r\n        triggerEvent(moveable, \"onBeforeRenderGroup\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n            targets: moveable.props.targets,\r\n            events: params,\r\n        }));\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        this.dragEnd(moveable, e);\r\n        triggerEvent(moveable, \"onBeforeRenderGroupEnd\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n            isDrag: e.isDrag,\r\n            targets: moveable.props.targets,\r\n        }));\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        return this.dragStart(moveable, e);\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        return this.drag(moveable, e);\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        return this.dragEnd(moveable, e);\r\n    },\r\n    dragGroupControlStart: function (moveable, e) {\r\n        return this.dragGroupStart(moveable, e);\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        return this.dragGroup(moveable, e);\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        return this.dragGroupEnd(moveable, e);\r\n    },\r\n};\n\nvar Renderable = {\r\n    name: \"renderable\",\r\n    props: [],\r\n    events: [\r\n        \"renderStart\",\r\n        \"render\",\r\n        \"renderEnd\",\r\n        \"renderGroupStart\",\r\n        \"renderGroup\",\r\n        \"renderGroupEnd\",\r\n    ],\r\n    dragRelation: \"weak\",\r\n    dragStart: function (moveable, e) {\r\n        triggerEvent(moveable, \"onRenderStart\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n        }));\r\n    },\r\n    drag: function (moveable, e) {\r\n        triggerEvent(moveable, \"onRender\", this.fillDragParams(moveable, e));\r\n    },\r\n    dragAfter: function (moveable, e) {\r\n        return this.drag(moveable, e);\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        triggerEvent(moveable, \"onRenderEnd\", this.fillDragEndParams(moveable, e));\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        triggerEvent(moveable, \"onRenderGroupStart\", fillParams(moveable, e, {\r\n            isPinch: !!e.isPinch,\r\n            targets: moveable.props.targets,\r\n        }));\r\n    },\r\n    dragGroup: function (moveable, e) {\r\n        var _this = this;\r\n        var events = fillChildEvents(moveable, \"beforeRenderable\", e);\r\n        var moveables = moveable.moveables;\r\n        var params = events.map(function (childEvent, i) {\r\n            var childMoveable = moveables[i];\r\n            return _this.fillDragParams(childMoveable, childEvent);\r\n        });\r\n        triggerEvent(moveable, \"onRenderGroup\", fillParams(moveable, e, __assign(__assign({ isPinch: !!e.isPinch, targets: moveable.props.targets, transform: getNextTransformText(e), transformObject: {} }, fillCSSObject(getNextStyle(e))), { events: params })));\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        var _this = this;\r\n        var events = fillChildEvents(moveable, \"beforeRenderable\", e);\r\n        var moveables = moveable.moveables;\r\n        var params = events.map(function (childEvent, i) {\r\n            var childMoveable = moveables[i];\r\n            return _this.fillDragEndParams(childMoveable, childEvent);\r\n        });\r\n        triggerEvent(moveable, \"onRenderGroupEnd\", fillParams(moveable, e, __assign({ isPinch: !!e.isPinch, isDrag: e.isDrag, targets: moveable.props.targets, events: params, transformObject: {}, transform: getNextTransformText(e) }, fillCSSObject(getNextStyle(e)))));\r\n    },\r\n    dragControlStart: function (moveable, e) {\r\n        return this.dragStart(moveable, e);\r\n    },\r\n    dragControl: function (moveable, e) {\r\n        return this.drag(moveable, e);\r\n    },\r\n    dragControlAfter: function (moveable, e) {\r\n        return this.dragAfter(moveable, e);\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        return this.dragEnd(moveable, e);\r\n    },\r\n    dragGroupControlStart: function (moveable, e) {\r\n        return this.dragGroupStart(moveable, e);\r\n    },\r\n    dragGroupControl: function (moveable, e) {\r\n        return this.dragGroup(moveable, e);\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        return this.dragGroupEnd(moveable, e);\r\n    },\r\n    fillDragParams: function (moveable, e) {\r\n        var transformObject = {};\r\n        parse(getNextTransforms(e) || []).forEach(function (matrixInfo) {\r\n            transformObject[matrixInfo.name] = matrixInfo.functionValue;\r\n        });\r\n        return fillParams(moveable, e, __assign({ isPinch: !!e.isPinch, transformObject: transformObject, transform: getNextTransformText(e) }, fillCSSObject(getNextStyle(e))));\r\n    },\r\n    fillDragEndParams: function (moveable, e) {\r\n        var transformObject = {};\r\n        parse(getNextTransforms(e) || []).forEach(function (matrixInfo) {\r\n            transformObject[matrixInfo.name] = matrixInfo.functionValue;\r\n        });\r\n        return fillParams(moveable, e, __assign({ isPinch: !!e.isPinch, isDrag: e.isDrag, transformObject: transformObject, transform: getNextTransformText(e) }, fillCSSObject(getNextStyle(e))));\r\n    },\r\n};\n\nfunction triggerAble(moveable, moveableAbles, eventOperations, eventAffix, eventType, e, requestInstant) {\r\n    // pre setting\r\n    e.clientDistX = e.distX;\r\n    e.clientDistY = e.distY;\r\n    var isStart = eventType === \"Start\";\r\n    var isEnd = eventType === \"End\";\r\n    var isAfter = eventType === \"After\";\r\n    var target = moveable.state.target;\r\n    var isRequest = e.isRequest;\r\n    var isControl = eventAffix.indexOf(\"Control\") > -1;\r\n    if (!target\r\n        || (isStart && isControl && !isRequest && moveable.areaElement === e.inputEvent.target)) {\r\n        return false;\r\n    }\r\n    var ables = __spreadArray([], __read(moveableAbles), false);\r\n    if (isRequest) {\r\n        var requestAble_1 = e.requestAble;\r\n        if (!ables.some(function (able) { return able.name === requestAble_1; })) {\r\n            ables.push.apply(ables, __spreadArray([], __read(moveable.props.ables.filter(function (able) { return able.name === requestAble_1; })), false));\r\n        }\r\n    }\r\n    if (!ables.length || ables.every(function (able) { return able.dragRelation; })) {\r\n        return false;\r\n    }\r\n    // \"drag\" \"Control\" \"After\"\r\n    var inputEvent = e.inputEvent;\r\n    var inputTarget;\r\n    if (isEnd && inputEvent) {\r\n        inputTarget = document.elementFromPoint(e.clientX, e.clientY) || inputEvent.target;\r\n    }\r\n    var isDragStop = false;\r\n    var stop = function () {\r\n        var _a;\r\n        isDragStop = true;\r\n        (_a = e.stop) === null || _a === void 0 ? void 0 : _a.call(e);\r\n    };\r\n    var isFirstStart = isStart && (!moveable.targetGesto || !moveable.controlGesto\r\n        || (!moveable.targetGesto.isFlag() || !moveable.controlGesto.isFlag()));\r\n    if (isFirstStart) {\r\n        moveable.updateRect(eventType, true, false);\r\n    }\r\n    // trigger ables\r\n    var datas = e.datas;\r\n    var gestoType = isControl ? \"controlGesto\" : \"targetGesto\";\r\n    var prevGesto = moveable[gestoType];\r\n    var trigger = function (able, eventName, conditionName) {\r\n        if (!(eventName in able) || prevGesto !== moveable[gestoType]) {\r\n            return false;\r\n        }\r\n        var ableName = able.name;\r\n        var nextDatas = datas[ableName] || (datas[ableName] = {});\r\n        if (isStart) {\r\n            nextDatas.isEventStart = !conditionName\r\n                || !able[conditionName] || able[conditionName](moveable, e);\r\n        }\r\n        if (!nextDatas.isEventStart) {\r\n            return false;\r\n        }\r\n        var result = able[eventName](moveable, __assign(__assign({}, e), { stop: stop, datas: nextDatas, originalDatas: datas, inputTarget: inputTarget }));\r\n        moveable._emitter.off();\r\n        if (isStart && result === false) {\r\n            nextDatas.isEventStart = false;\r\n        }\r\n        return result;\r\n    };\r\n    // unset ables for first drag start\r\n    if (isFirstStart) {\r\n        ables.forEach(function (able) {\r\n            able.unset && able.unset(moveable);\r\n        });\r\n    }\r\n    // BeforeRenderable\r\n    trigger(BeforeRenderable, \"drag\".concat(eventAffix).concat(eventType));\r\n    var forceEndedCount = 0;\r\n    var updatedCount = 0;\r\n    eventOperations.forEach(function (eventOperation) {\r\n        if (isDragStop) {\r\n            return false;\r\n        }\r\n        var eventName = \"\".concat(eventOperation).concat(eventAffix).concat(eventType);\r\n        var conditionName = \"\".concat(eventOperation).concat(eventAffix, \"Condition\");\r\n        if (eventType === \"\" && !isRequest) {\r\n            // Convert distX, distY\r\n            convertDragDist(moveable.state, e);\r\n        }\r\n        // const isGroup = eventAffix.indexOf(\"Group\") > -1;\r\n        var eventAbles = ables.filter(function (able) { return able[eventName]; });\r\n        eventAbles = eventAbles.filter(function (able, i) {\r\n            return able.name && eventAbles.indexOf(able) === i;\r\n        });\r\n        var results = eventAbles.filter(function (able) { return trigger(able, eventName, conditionName); });\r\n        var isUpdate = results.length;\r\n        // end ables\r\n        if (isDragStop) {\r\n            ++forceEndedCount;\r\n        }\r\n        if (isUpdate) {\r\n            ++updatedCount;\r\n        }\r\n        if (!isDragStop && isStart && eventAbles.length && !isUpdate) {\r\n            forceEndedCount += eventAbles.filter(function (able) {\r\n                var ableName = able.name;\r\n                var nextDatas = datas[ableName];\r\n                if (nextDatas.isEventStart) {\r\n                    if (able.dragRelation === \"strong\") {\r\n                        return false;\r\n                    }\r\n                    // stop drag\r\n                    return true;\r\n                }\r\n                // pre stop drag\r\n                return false;\r\n            }).length ? 1 : 0;\r\n        }\r\n    });\r\n    if (!isAfter || updatedCount) {\r\n        trigger(Renderable, \"drag\".concat(eventAffix).concat(eventType));\r\n    }\r\n    // stop gesto condition\r\n    var isForceEnd = prevGesto !== moveable[gestoType] || forceEndedCount === eventOperations.length;\r\n    if (isEnd || isDragStop || isForceEnd) {\r\n        moveable.state.gestos = {};\r\n        if (moveable.moveables) {\r\n            moveable.moveables.forEach(function (childMoveable) {\r\n                childMoveable.state.gestos = {};\r\n            });\r\n        }\r\n        ables.forEach(function (able) {\r\n            able.unset && able.unset(moveable);\r\n        });\r\n    }\r\n    if (isStart && !isForceEnd && !isRequest && updatedCount && moveable.props.preventDefault) {\r\n        e === null || e === void 0 ? void 0 : e.preventDefault();\r\n    }\r\n    if (moveable.isUnmounted || isForceEnd) {\r\n        return false;\r\n    }\r\n    if ((!isStart && updatedCount && !requestInstant) || isEnd) {\r\n        var flushSync = moveable.props.flushSync || defaultSync;\r\n        flushSync(function () {\r\n            moveable.updateRect(isEnd ? eventType : \"\", true, false);\r\n            moveable.forceUpdate();\r\n        });\r\n    }\r\n    if (!isStart && !isEnd && !isAfter && updatedCount && !requestInstant) {\r\n        triggerAble(moveable, moveableAbles, eventOperations, eventAffix, eventType + \"After\", e);\r\n    }\r\n    return true;\r\n}\r\nfunction checkMoveableTarget(moveable, isControl) {\r\n    return function (e, target) {\r\n        var _a;\r\n        if (target === void 0) { target = e.inputEvent.target; }\r\n        var eventTarget = target;\r\n        var areaElement = moveable.areaElement;\r\n        var dragTargetElement = moveable._dragTarget;\r\n        if (!dragTargetElement || (!isControl && ((_a = moveable.controlGesto) === null || _a === void 0 ? void 0 : _a.isFlag()))) {\r\n            return false;\r\n        }\r\n        return eventTarget === dragTargetElement\r\n            || dragTargetElement.contains(eventTarget)\r\n            || eventTarget === areaElement\r\n            || (!moveable.isMoveableElement(eventTarget) && !moveable.controlBox.contains(eventTarget))\r\n            || hasClass(eventTarget, \"moveable-area\")\r\n            || hasClass(eventTarget, \"moveable-padding\")\r\n            || hasClass(eventTarget, \"moveable-edgeDraggable\");\r\n    };\r\n}\r\nfunction getTargetAbleGesto(moveable, moveableTarget, eventAffix) {\r\n    var controlBox = moveable.controlBox;\r\n    var targets = [];\r\n    var props = moveable.props;\r\n    var dragArea = props.dragArea;\r\n    var target = moveable.state.target;\r\n    var dragTarget = props.dragTarget;\r\n    targets.push(controlBox);\r\n    if (!dragArea || dragTarget) {\r\n        targets.push(moveableTarget);\r\n    }\r\n    if (!dragArea && dragTarget && target && moveableTarget !== target && props.dragTargetSelf) {\r\n        targets.push(target);\r\n    }\r\n    var checkTarget = checkMoveableTarget(moveable);\r\n    return getAbleGesto(moveable, targets, \"targetAbles\", eventAffix, {\r\n        dragStart: checkTarget,\r\n        pinchStart: checkTarget,\r\n    });\r\n}\r\nfunction getControlAbleGesto(moveable, eventAffix) {\r\n    var controlBox = moveable.controlBox;\r\n    var targets = [];\r\n    targets.push(controlBox);\r\n    var checkTarget = checkMoveableTarget(moveable, true);\r\n    var checkControlTarget = function (e, target) {\r\n        if (target === void 0) { target = e.inputEvent.target; }\r\n        if (target === controlBox) {\r\n            return true;\r\n        }\r\n        var result = checkTarget(e, target);\r\n        return !result;\r\n    };\r\n    return getAbleGesto(moveable, targets, \"controlAbles\", eventAffix, {\r\n        dragStart: checkControlTarget,\r\n        pinchStart: checkControlTarget,\r\n    });\r\n}\r\nfunction getAbleGesto(moveable, target, ableType, eventAffix, conditionFunctions) {\r\n    if (conditionFunctions === void 0) { conditionFunctions = {}; }\r\n    var isTargetAbles = ableType === \"targetAbles\";\r\n    var _a = moveable.props, pinchOutside = _a.pinchOutside, pinchThreshold = _a.pinchThreshold, preventClickEventOnDrag = _a.preventClickEventOnDrag, preventClickDefault = _a.preventClickDefault, checkInput = _a.checkInput, dragFocusedInput = _a.dragFocusedInput, _b = _a.preventDefault, preventDefault = _b === void 0 ? true : _b, _c = _a.preventRightClick, preventRightClick = _c === void 0 ? true : _c, _d = _a.preventWheelClick, preventWheelClick = _d === void 0 ? true : _d, dragContaienrOption = _a.dragContainer;\r\n    var dragContainer = getRefTarget(dragContaienrOption, true);\r\n    var options = {\r\n        preventDefault: preventDefault,\r\n        preventRightClick: preventRightClick,\r\n        preventWheelClick: preventWheelClick,\r\n        container: dragContainer || getWindow(moveable.getControlBoxElement()),\r\n        pinchThreshold: pinchThreshold,\r\n        pinchOutside: pinchOutside,\r\n        preventClickEventOnDrag: isTargetAbles ? preventClickEventOnDrag : false,\r\n        preventClickEventOnDragStart: isTargetAbles ? preventClickDefault : false,\r\n        preventClickEventByCondition: isTargetAbles ? null : function (e) {\r\n            return moveable.controlBox.contains(e.target);\r\n        },\r\n        checkInput: isTargetAbles ? checkInput : false,\r\n        dragFocusedInput: dragFocusedInput,\r\n    };\r\n    var gesto = new Gesto(target, options);\r\n    var isControl = eventAffix === \"Control\";\r\n    [\"drag\", \"pinch\"].forEach(function (eventOperation) {\r\n        [\"Start\", \"\", \"End\"].forEach(function (eventType) {\r\n            gesto.on(\"\".concat(eventOperation).concat(eventType), function (e) {\r\n                var _a;\r\n                var eventName = e.eventType;\r\n                var isPinchScheduled = eventOperation === \"drag\" && e.isPinch;\r\n                if (conditionFunctions[eventName] && !conditionFunctions[eventName](e)) {\r\n                    e.stop();\r\n                    return;\r\n                }\r\n                if (isPinchScheduled) {\r\n                    return;\r\n                }\r\n                var eventOperations = eventOperation === \"drag\" ? [eventOperation] : [\"drag\", eventOperation];\r\n                var moveableAbles = __spreadArray([], __read(moveable[ableType]), false);\r\n                var result = triggerAble(moveable, moveableAbles, eventOperations, eventAffix, eventType, e);\r\n                if (!result) {\r\n                    e.stop();\r\n                }\r\n                else if (moveable.props.stopPropagation || (eventType === \"Start\" && isControl)) {\r\n                    (_a = e === null || e === void 0 ? void 0 : e.inputEvent) === null || _a === void 0 ? void 0 : _a.stopPropagation();\r\n                }\r\n            });\r\n        });\r\n    });\r\n    return gesto;\r\n}\n\nvar EventManager = /*#__PURE__*/ (function () {\r\n    function EventManager(target, moveable, eventName) {\r\n        var _this = this;\r\n        this.target = target;\r\n        this.moveable = moveable;\r\n        this.eventName = eventName;\r\n        this.ables = [];\r\n        this._onEvent = function (e) {\r\n            var eventName = _this.eventName;\r\n            var moveable = _this.moveable;\r\n            if (moveable.state.disableNativeEvent) {\r\n                return;\r\n            }\r\n            _this.ables.forEach(function (able) {\r\n                able[eventName](moveable, {\r\n                    inputEvent: e,\r\n                });\r\n            });\r\n        };\r\n        target.addEventListener(eventName.toLowerCase(), this._onEvent);\r\n    }\r\n    EventManager.prototype.setAbles = function (ables) {\r\n        this.ables = ables;\r\n    };\r\n    EventManager.prototype.destroy = function () {\r\n        this.target.removeEventListener(this.eventName.toLowerCase(), this._onEvent);\r\n        this.target = null;\r\n        this.moveable = null;\r\n    };\r\n    return EventManager;\r\n}());\n\nfunction calculateMatrixStack(target, container, rootContainer, isAbsolute3d) {\r\n    var _a;\r\n    if (rootContainer === void 0) { rootContainer = container; }\r\n    var _b = getMatrixStackInfo(target, container), matrixes = _b.matrixes, is3d = _b.is3d, prevTargetMatrix = _b.targetMatrix, transformOrigin = _b.transformOrigin, targetOrigin = _b.targetOrigin, offsetContainer = _b.offsetContainer, hasFixed = _b.hasFixed, containerZoom = _b.zoom; // prevMatrix\r\n    var _c = getCachedMatrixContainerInfo(offsetContainer, rootContainer), rootMatrixes = _c.matrixes, isRoot3d = _c.is3d, offsetRootContainer = _c.offsetContainer, rootZoom = _c.zoom; // prevRootMatrix\r\n    // if (rootContainer === document.body) {\r\n    //     console.log(offsetContainer, rootContainer, rootMatrixes);\r\n    // }\r\n    var isNext3d = isAbsolute3d || isRoot3d || is3d;\r\n    var n = isNext3d ? 4 : 3;\r\n    var isSVGGraphicElement = target.tagName.toLowerCase() !== \"svg\" && \"ownerSVGElement\" in target;\r\n    var targetMatrix = prevTargetMatrix;\r\n    // let allMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\r\n    // let rootMatrix = prevRootMatrix ? convertDimension(prevRootMatrix, prevN!, n) : createIdentityMatrix(n);\r\n    // let beforeMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\r\n    var allMatrix = createIdentityMatrix(n);\r\n    var rootMatrix = createIdentityMatrix(n);\r\n    var beforeMatrix = createIdentityMatrix(n);\r\n    var offsetMatrix = createIdentityMatrix(n);\r\n    var length = matrixes.length;\r\n    var nextRootMatrixes = rootMatrixes.map(function (info) {\r\n        return __assign(__assign({}, info), { matrix: info.matrix ? __spreadArray([], __read(info.matrix), false) : undefined });\r\n    }).reverse();\r\n    matrixes.reverse();\r\n    if (!is3d && isNext3d) {\r\n        targetMatrix = convertDimension(targetMatrix, 3, 4);\r\n        convert3DMatrixes(matrixes);\r\n    }\r\n    if (!isRoot3d && isNext3d) {\r\n        convert3DMatrixes(nextRootMatrixes);\r\n    }\r\n    // rootMatrix = (...) -> container -> offset -> absolute -> offset -> absolute(targetMatrix)\r\n    // rootMatrixBeforeOffset = lastOffsetMatrix -> (...) -> container\r\n    // beforeMatrix = (... -> container -> offset -> absolute) -> offset -> absolute(targetMatrix)\r\n    // offsetMatrix = (... -> container -> offset -> absolute -> offset) -> absolute(targetMatrix)\r\n    nextRootMatrixes.forEach(function (info) {\r\n        rootMatrix = multiply(rootMatrix, info.matrix, n);\r\n    });\r\n    var originalRootContainer = rootContainer || getDocumentBody(target);\r\n    var endContainer = ((_a = nextRootMatrixes[0]) === null || _a === void 0 ? void 0 : _a.target)\r\n        || getOffsetInfo(originalRootContainer, originalRootContainer, true).offsetParent;\r\n    var rootMatrixBeforeOffset = nextRootMatrixes.slice(1).reduce(function (matrix, info) {\r\n        return multiply(matrix, info.matrix, n);\r\n    }, createIdentityMatrix(n));\r\n    matrixes.forEach(function (info, i) {\r\n        if (length - 2 === i) {\r\n            // length - 3\r\n            beforeMatrix = allMatrix.slice();\r\n        }\r\n        if (length - 1 === i) {\r\n            // length - 2\r\n            offsetMatrix = allMatrix.slice();\r\n        }\r\n        // calculate for SVGElement\r\n        if (!info.matrix) {\r\n            var nextInfo = matrixes[i + 1];\r\n            var offset = getSVGOffset(info, nextInfo, endContainer, n, multiply(rootMatrixBeforeOffset, allMatrix, n));\r\n            info.matrix = createOriginMatrix(offset, n);\r\n        }\r\n        allMatrix = multiply(allMatrix, info.matrix, n);\r\n    });\r\n    var isMatrix3d = !isSVGGraphicElement && is3d;\r\n    if (!targetMatrix) {\r\n        targetMatrix = createIdentityMatrix(isMatrix3d ? 4 : 3);\r\n    }\r\n    var targetTransform = makeMatrixCSS(isSVGGraphicElement && targetMatrix.length === 16\r\n        ? convertDimension(targetMatrix, 4, 3) : targetMatrix, isMatrix3d);\r\n    var originalRootMatrix = rootMatrix;\r\n    rootMatrix = ignoreDimension(rootMatrix, n, n);\r\n    return {\r\n        hasZoom: containerZoom !== 1 || rootZoom !== 1,\r\n        hasFixed: hasFixed,\r\n        matrixes: matrixes,\r\n        rootMatrix: rootMatrix,\r\n        originalRootMatrix: originalRootMatrix,\r\n        beforeMatrix: beforeMatrix,\r\n        offsetMatrix: offsetMatrix,\r\n        allMatrix: allMatrix,\r\n        targetMatrix: targetMatrix,\r\n        targetTransform: targetTransform,\r\n        inlineTransform: target.style.transform,\r\n        transformOrigin: transformOrigin,\r\n        targetOrigin: targetOrigin,\r\n        is3d: isNext3d,\r\n        offsetContainer: offsetContainer,\r\n        offsetRootContainer: offsetRootContainer,\r\n    };\r\n}\n\nfunction calculateElementInfo(target, container, rootContainer, isAbsolute3d) {\r\n    if (rootContainer === void 0) { rootContainer = container; }\r\n    var width = 0;\r\n    var height = 0;\r\n    var rotation = 0;\r\n    var allResult = {};\r\n    var sizes = getSize(target);\r\n    if (target) {\r\n        width = sizes.offsetWidth;\r\n        height = sizes.offsetHeight;\r\n    }\r\n    if (target) {\r\n        var result = calculateMatrixStack(target, container, rootContainer, isAbsolute3d);\r\n        var position = calculateElementPosition(result.allMatrix, result.transformOrigin, width, height);\r\n        allResult = __assign(__assign({}, result), position);\r\n        var rotationPosition = calculateElementPosition(result.allMatrix, [50, 50], 100, 100);\r\n        rotation = getRotationRad([rotationPosition.pos1, rotationPosition.pos2], rotationPosition.direction);\r\n    }\r\n    var n = isAbsolute3d ? 4 : 3;\r\n    return __assign(__assign(__assign({ hasZoom: false, width: width, height: height, rotation: rotation }, sizes), { originalRootMatrix: createIdentityMatrix(n), rootMatrix: createIdentityMatrix(n), beforeMatrix: createIdentityMatrix(n), offsetMatrix: createIdentityMatrix(n), allMatrix: createIdentityMatrix(n), targetMatrix: createIdentityMatrix(n), targetTransform: \"\", inlineTransform: \"\", transformOrigin: [0, 0], targetOrigin: [0, 0], is3d: !!isAbsolute3d, left: 0, top: 0, right: 0, bottom: 0, origin: [0, 0], pos1: [0, 0], pos2: [0, 0], pos3: [0, 0], pos4: [0, 0], direction: 1, hasFixed: false, offsetContainer: null, offsetRootContainer: null, matrixes: [] }), allResult);\r\n}\r\nfunction getElementInfo(target, container, rootContainer) {\r\n    if (rootContainer === void 0) { rootContainer = container; }\r\n    return calculateElementInfo(target, container, rootContainer, true);\r\n}\n\nfunction getMoveableTargetInfo(moveableElement, target, container, parentContainer, rootContainer, requestStyles) {\r\n    if (requestStyles === void 0) { requestStyles = []; }\r\n    var beforeDirection = 1;\r\n    var beforeOrigin = [0, 0];\r\n    var targetClientRect = resetClientRect();\r\n    var moveableClientRect = resetClientRect();\r\n    var containerClientRect = resetClientRect();\r\n    var rootContainerClientRect = resetClientRect();\r\n    var offsetDelta = [0, 0];\r\n    var style = {};\r\n    var result = calculateElementInfo(target, container, rootContainer, true);\r\n    if (target) {\r\n        var getStyle_1 = getCachedStyle(target);\r\n        requestStyles.forEach(function (name) {\r\n            style[name] = getStyle_1(name);\r\n        });\r\n        var n = result.is3d ? 4 : 3;\r\n        var beforePosition = calculateElementPosition(result.offsetMatrix, plus(result.transformOrigin, getOrigin(result.targetMatrix, n)), result.width, result.height);\r\n        beforeDirection = beforePosition.direction;\r\n        beforeOrigin = plus(beforePosition.origin, [beforePosition.left - result.left, beforePosition.top - result.top]);\r\n        rootContainerClientRect = getClientRect(result.offsetRootContainer);\r\n        var offsetContainer = getOffsetInfo(parentContainer, parentContainer, true).offsetParent\r\n            || result.offsetRootContainer;\r\n        if (result.hasZoom) {\r\n            var absoluteTargetPosition = calculateElementPosition(multiply(result.originalRootMatrix, result.allMatrix), result.transformOrigin, result.width, result.height);\r\n            var absoluteContainerPosition = calculateElementPosition(result.originalRootMatrix, getTransformOriginArray(getCachedStyle(offsetContainer)(\"transformOrigin\")).map(function (pos) { return parseFloat(pos); }), offsetContainer.offsetWidth, offsetContainer.offsetHeight);\r\n            targetClientRect = getClientRectByPosition(absoluteTargetPosition, rootContainerClientRect);\r\n            containerClientRect = getClientRectByPosition(absoluteContainerPosition, rootContainerClientRect, offsetContainer, true);\r\n            if (moveableElement) {\r\n                var left = absoluteTargetPosition.left;\r\n                var top_1 = absoluteTargetPosition.top;\r\n                moveableClientRect = getClientRectByPosition({\r\n                    left: left,\r\n                    top: top_1,\r\n                    bottom: top_1,\r\n                    right: top_1,\r\n                }, rootContainerClientRect);\r\n            }\r\n        }\r\n        else {\r\n            targetClientRect = getClientRect(target);\r\n            containerClientRect = getCachedClientRect(offsetContainer);\r\n            if (moveableElement) {\r\n                moveableClientRect = getClientRect(moveableElement);\r\n            }\r\n            var containerClientRectLeft = containerClientRect.left, containerClientRectTop = containerClientRect.top, containterClientLeft = containerClientRect.clientLeft, containerClientTop = containerClientRect.clientTop;\r\n            var clientDelta = [\r\n                targetClientRect.left - containerClientRectLeft,\r\n                targetClientRect.top - containerClientRectTop,\r\n            ];\r\n            offsetDelta = minus(calculateInversePosition(result.rootMatrix, clientDelta, 4), [containterClientLeft + result.left, containerClientTop + result.top]);\r\n        }\r\n    }\r\n    return __assign({ targetClientRect: targetClientRect, containerClientRect: containerClientRect, moveableClientRect: moveableClientRect, rootContainerClientRect: rootContainerClientRect, beforeDirection: beforeDirection, beforeOrigin: beforeOrigin, originalBeforeOrigin: beforeOrigin, target: target, style: style, offsetDelta: offsetDelta }, result);\r\n}\n\nfunction getPersistState(rect) {\r\n    var pos1 = rect.pos1, pos2 = rect.pos2, pos3 = rect.pos3, pos4 = rect.pos4;\r\n    if (!pos1 || !pos2 || !pos3 || !pos4) {\r\n        return null;\r\n    }\r\n    var minPos = getMinMaxs([pos1, pos2, pos3, pos4]);\r\n    var posDelta = [minPos.minX, minPos.minY];\r\n    var origin = minus(rect.origin, posDelta);\r\n    pos1 = minus(pos1, posDelta);\r\n    pos2 = minus(pos2, posDelta);\r\n    pos3 = minus(pos3, posDelta);\r\n    pos4 = minus(pos4, posDelta);\r\n    return __assign(__assign({}, rect), { left: rect.left, top: rect.top, posDelta: posDelta, pos1: pos1, pos2: pos2, pos3: pos3, pos4: pos4, origin: origin, beforeOrigin: origin, \r\n        // originalBeforeOrigin: origin,\r\n        isPersisted: true });\r\n}\n\nvar MoveableManager = /*#__PURE__*/ (function (_super) {\r\n    __extends(MoveableManager, _super);\r\n    function MoveableManager() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = __assign({ container: null, gestos: {}, renderLines: [\r\n                [[0, 0], [0, 0]],\r\n                [[0, 0], [0, 0]],\r\n                [[0, 0], [0, 0]],\r\n                [[0, 0], [0, 0]],\r\n            ], renderPoses: [[0, 0], [0, 0], [0, 0], [0, 0]], disableNativeEvent: false, posDelta: [0, 0] }, getMoveableTargetInfo(null));\r\n        _this.renderState = {};\r\n        _this.enabledAbles = [];\r\n        _this.targetAbles = [];\r\n        _this.controlAbles = [];\r\n        _this.rotation = 0;\r\n        _this.scale = [1, 1];\r\n        _this.isMoveableMounted = false;\r\n        _this.isUnmounted = false;\r\n        _this.events = {\r\n            \"mouseEnter\": null,\r\n            \"mouseLeave\": null,\r\n        };\r\n        _this._emitter = new EventEmitter();\r\n        _this._prevOriginalDragTarget = null;\r\n        _this._originalDragTarget = null;\r\n        _this._prevDragTarget = null;\r\n        _this._dragTarget = null;\r\n        _this._prevPropTarget = null;\r\n        _this._propTarget = null;\r\n        _this._prevDragArea = false;\r\n        _this._isPropTargetChanged = false;\r\n        _this._hasFirstTarget = false;\r\n        _this._reiszeObserver = null;\r\n        _this._observerId = 0;\r\n        _this._mutationObserver = null;\r\n        _this._rootContainer = null;\r\n        _this._viewContainer = null;\r\n        _this._viewClassNames = [];\r\n        _this._store = {};\r\n        _this.checkUpdateRect = function () {\r\n            if (_this.isDragging()) {\r\n                return;\r\n            }\r\n            var parentMoveable = _this.props.parentMoveable;\r\n            if (parentMoveable) {\r\n                parentMoveable.checkUpdateRect();\r\n                return;\r\n            }\r\n            cancelAnimationFrame(_this._observerId);\r\n            _this._observerId = requestAnimationFrame(function () {\r\n                if (_this.isDragging()) {\r\n                    return;\r\n                }\r\n                _this.updateRect();\r\n            });\r\n        };\r\n        _this._onPreventClick = function (e) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            // removeEvent(window, \"click\", this._onPreventClick, true);\r\n        };\r\n        return _this;\r\n    }\r\n    MoveableManager.prototype.render = function () {\r\n        var props = this.props;\r\n        var state = this.getState();\r\n        var parentPosition = props.parentPosition, className = props.className, propsTarget = props.target, zoom = props.zoom, cspNonce = props.cspNonce, translateZ = props.translateZ, ControlBoxElement = props.cssStyled, groupable = props.groupable, linePadding = props.linePadding, controlPadding = props.controlPadding;\r\n        this._checkUpdateRootContainer();\r\n        this.checkUpdate();\r\n        this.updateRenderPoses();\r\n        var _a = __read(parentPosition || [0, 0], 2), parentLeft = _a[0], parentTop = _a[1];\r\n        var left = state.left, top = state.top, stateTarget = state.target, direction = state.direction, hasFixed = state.hasFixed, offsetDelta = state.offsetDelta;\r\n        var groupTargets = props.targets;\r\n        var isDragging = this.isDragging();\r\n        var ableAttributes = {};\r\n        this.getEnabledAbles().forEach(function (able) {\r\n            ableAttributes[\"data-able-\".concat(able.name.toLowerCase())] = true;\r\n        });\r\n        var ableClassName = this._getAbleClassName();\r\n        var isDisplay = (groupTargets && groupTargets.length && (stateTarget || groupable))\r\n            || propsTarget\r\n            || (!this._hasFirstTarget && this.state.isPersisted);\r\n        var isVisible = this.controlBox || this.props.firstRenderState || this.props.persistData;\r\n        var translate = [left - parentLeft, top - parentTop];\r\n        if (!groupable && props.useAccuratePosition) {\r\n            translate[0] += offsetDelta[0];\r\n            translate[1] += offsetDelta[1];\r\n        }\r\n        var style = {\r\n            \"position\": hasFixed ? \"fixed\" : \"absolute\",\r\n            \"display\": isDisplay ? \"block\" : \"none\",\r\n            \"visibility\": isVisible ? \"visible\" : \"hidden\",\r\n            \"transform\": \"translate3d(\".concat(translate[0], \"px, \").concat(translate[1], \"px, \").concat(translateZ, \")\"),\r\n            \"--zoom\": zoom,\r\n            \"--zoompx\": \"\".concat(zoom, \"px\"),\r\n        };\r\n        if (linePadding) {\r\n            style[\"--moveable-line-padding\"] = linePadding;\r\n        }\r\n        if (controlPadding) {\r\n            style[\"--moveable-control-padding\"] = controlPadding;\r\n        }\r\n        return (React.createElement(ControlBoxElement, __assign({ cspNonce: cspNonce, ref: ref(this, \"controlBox\"), className: \"\".concat(prefix(\"control-box\", direction === -1 ? \"reverse\" : \"\", isDragging ? \"dragging\" : \"\"), \" \").concat(ableClassName, \" \").concat(className) }, ableAttributes, { onClick: this._onPreventClick, style: style }),\r\n            this.renderAbles(),\r\n            this._renderLines()));\r\n    };\r\n    MoveableManager.prototype.componentDidMount = function () {\r\n        this.isMoveableMounted = true;\r\n        this.isUnmounted = false;\r\n        var props = this.props;\r\n        var parentMoveable = props.parentMoveable, container = props.container;\r\n        this._checkUpdateRootContainer();\r\n        this._checkUpdateViewContainer();\r\n        this._updateTargets();\r\n        this._updateNativeEvents();\r\n        this._updateEvents();\r\n        this.updateCheckInput();\r\n        this._updateObserver(this.props);\r\n        if (!container && !parentMoveable && !this.state.isPersisted) {\r\n            this.updateRect(\"\", false, false);\r\n            this.forceUpdate();\r\n        }\r\n    };\r\n    MoveableManager.prototype.componentDidUpdate = function (prevProps) {\r\n        this._checkUpdateRootContainer();\r\n        this._checkUpdateViewContainer();\r\n        this._updateNativeEvents();\r\n        this._updateTargets();\r\n        this._updateEvents();\r\n        this.updateCheckInput();\r\n        this._updateObserver(prevProps);\r\n    };\r\n    MoveableManager.prototype.componentWillUnmount = function () {\r\n        var _a, _b;\r\n        this.isMoveableMounted = false;\r\n        this.isUnmounted = true;\r\n        this._emitter.off();\r\n        (_a = this._reiszeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n        (_b = this._mutationObserver) === null || _b === void 0 ? void 0 : _b.disconnect();\r\n        var viewContainer = this._viewContainer;\r\n        if (viewContainer) {\r\n            this._changeAbleViewClassNames([]);\r\n        }\r\n        unsetGesto(this, false);\r\n        unsetGesto(this, true);\r\n        var events = this.events;\r\n        for (var name_1 in events) {\r\n            var manager = events[name_1];\r\n            manager && manager.destroy();\r\n        }\r\n    };\r\n    MoveableManager.prototype.getTargets = function () {\r\n        var target = this.props.target;\r\n        return target ? [target] : [];\r\n    };\r\n    /**\r\n     * Get the able used in MoveableManager.\r\n     * @method Moveable#getAble\r\n     * @param - able name\r\n     */\r\n    MoveableManager.prototype.getAble = function (ableName) {\r\n        var ables = this.props.ables || [];\r\n        return find(ables, function (able) { return able.name === ableName; });\r\n    };\r\n    MoveableManager.prototype.getContainer = function () {\r\n        var _a = this.props, parentMoveable = _a.parentMoveable, wrapperMoveable = _a.wrapperMoveable, container = _a.container;\r\n        return container\r\n            || (wrapperMoveable && wrapperMoveable.getContainer())\r\n            || (parentMoveable && parentMoveable.getContainer())\r\n            || this.controlBox.parentElement;\r\n    };\r\n    /**\r\n     * Returns the element of the control box.\r\n     * @method Moveable#getControlBoxElement\r\n     */\r\n    MoveableManager.prototype.getControlBoxElement = function () {\r\n        return this.controlBox;\r\n    };\r\n    /**\r\n     * Target element to be dragged in moveable\r\n     * @method Moveable#getDragElement\r\n     */\r\n    MoveableManager.prototype.getDragElement = function () {\r\n        return this._dragTarget;\r\n    };\r\n    /**\r\n     * Check if the target is an element included in the moveable.\r\n     * @method Moveable#isMoveableElement\r\n     * @param - the target\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * window.addEventListener(\"click\", e => {\r\n     *     if (!moveable.isMoveableElement(e.target)) {\r\n     *         moveable.target = e.target;\r\n     *     }\r\n     * });\r\n     */\r\n    MoveableManager.prototype.isMoveableElement = function (target) {\r\n        var _a;\r\n        return target && (((_a = target.getAttribute) === null || _a === void 0 ? void 0 : _a.call(target, \"class\")) || \"\").indexOf(PREFIX) > -1;\r\n    };\r\n    /**\r\n     * You can drag start the Moveable through the external `MouseEvent`or `TouchEvent`. (Angular: ngDragStart)\r\n     * @method Moveable#dragStart\r\n     * @param - external `MouseEvent`or `TouchEvent`\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * document.body.addEventListener(\"mousedown\", e => {\r\n     *     if (!moveable.isMoveableElement(e.target)) {\r\n     *          moveable.dragStart(e);\r\n     *     }\r\n     * });\r\n     */\r\n    MoveableManager.prototype.dragStart = function (e, target) {\r\n        if (target === void 0) { target = e.target; }\r\n        var targetGesto = this.targetGesto;\r\n        var controlGesto = this.controlGesto;\r\n        if (targetGesto && checkMoveableTarget(this)({ inputEvent: e }, target)) {\r\n            if (!targetGesto.isFlag()) {\r\n                targetGesto.triggerDragStart(e);\r\n            }\r\n        }\r\n        else if (controlGesto && this.isMoveableElement(target)) {\r\n            if (!controlGesto.isFlag()) {\r\n                controlGesto.triggerDragStart(e);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Hit test an element or rect on a moveable target.\r\n     * (100% = 100)\r\n     * @method Moveable#hitTest\r\n     * @param - element or rect to test\r\n     * @return - Get hit test rate (rate > 0 is hitted)\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * document.body.addEventListener(\"mousedown\", e => {\r\n     *     if (moveable.hitTest(e.target) > 0) {\r\n     *          console.log(\"hiited\");\r\n     *     }\r\n     * });\r\n     */\r\n    MoveableManager.prototype.hitTest = function (el) {\r\n        var _a = this.state, target = _a.target, pos1 = _a.pos1, pos2 = _a.pos2, pos3 = _a.pos3, pos4 = _a.pos4, targetClientRect = _a.targetClientRect;\r\n        if (!target) {\r\n            return 0;\r\n        }\r\n        var rect;\r\n        if (isNode(el)) {\r\n            var clientRect = el.getBoundingClientRect();\r\n            rect = {\r\n                left: clientRect.left,\r\n                top: clientRect.top,\r\n                width: clientRect.width,\r\n                height: clientRect.height,\r\n            };\r\n        }\r\n        else {\r\n            rect = __assign({ width: 0, height: 0 }, el);\r\n        }\r\n        var rectLeft = rect.left, rectTop = rect.top, rectWidth = rect.width, rectHeight = rect.height;\r\n        var points = fitPoints([pos1, pos2, pos4, pos3], targetClientRect);\r\n        var size = getOverlapSize(points, [\r\n            [rectLeft, rectTop],\r\n            [rectLeft + rectWidth, rectTop],\r\n            [rectLeft + rectWidth, rectTop + rectHeight],\r\n            [rectLeft, rectTop + rectHeight],\r\n        ]);\r\n        var totalSize = getAreaSize(points);\r\n        if (!size || !totalSize) {\r\n            return 0;\r\n        }\r\n        return Math.min(100, size / totalSize * 100);\r\n    };\r\n    /**\r\n     * Whether the coordinates are inside Moveable\r\n     * @method Moveable#isInside\r\n     * @param - x coordinate\r\n     * @param - y coordinate\r\n     * @return - True if the coordinate is in moveable or false\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * document.body.addEventListener(\"mousedown\", e => {\r\n     *     if (moveable.isInside(e.clientX, e.clientY)) {\r\n     *          console.log(\"inside\");\r\n     *     }\r\n     * });\r\n     */\r\n    MoveableManager.prototype.isInside = function (clientX, clientY) {\r\n        var _a = this.state, target = _a.target, pos1 = _a.pos1, pos2 = _a.pos2, pos3 = _a.pos3, pos4 = _a.pos4, targetClientRect = _a.targetClientRect;\r\n        if (!target) {\r\n            return false;\r\n        }\r\n        return isInside([clientX, clientY], fitPoints([pos1, pos2, pos4, pos3], targetClientRect));\r\n    };\r\n    /**\r\n     * If the width, height, left, and top of all elements change, update the shape of the moveable.\r\n     * @method Moveable#updateRect\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * window.addEventListener(\"resize\", e => {\r\n     *     moveable.updateRect();\r\n     * });\r\n     */\r\n    MoveableManager.prototype.updateRect = function (type, isTarget, isSetState) {\r\n        if (isSetState === void 0) { isSetState = true; }\r\n        var props = this.props;\r\n        var isSingle = !props.parentPosition && !props.wrapperMoveable;\r\n        if (isSingle) {\r\n            setStoreCache(true);\r\n        }\r\n        var parentMoveable = props.parentMoveable;\r\n        var state = this.state;\r\n        var target = (state.target || props.target);\r\n        var container = this.getContainer();\r\n        var rootContainer = parentMoveable\r\n            ? parentMoveable._rootContainer\r\n            : this._rootContainer;\r\n        var nextState = getMoveableTargetInfo(this.controlBox, target, container, container, rootContainer || container, this._getRequestStyles());\r\n        if (!target && this._hasFirstTarget && props.persistData) {\r\n            var persistState = getPersistState(props.persistData);\r\n            for (var name_2 in persistState) {\r\n                nextState[name_2] = persistState[name_2];\r\n            }\r\n        }\r\n        if (isSingle) {\r\n            setStoreCache();\r\n        }\r\n        this.updateState(nextState, parentMoveable ? false : isSetState);\r\n    };\r\n    /**\r\n     * Check if the moveable state is being dragged.\r\n     * @method Moveable#isDragging\r\n     * @param - If you want to check if able is dragging, specify ableName.\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * // false\r\n     * console.log(moveable.isDragging());\r\n     *\r\n     * moveable.on(\"drag\", () => {\r\n     *   // true\r\n     *   console.log(moveable.isDragging());\r\n     * });\r\n     */\r\n    MoveableManager.prototype.isDragging = function (ableName) {\r\n        var _a, _b;\r\n        var targetGesto = this.targetGesto;\r\n        var controlGesto = this.controlGesto;\r\n        if (targetGesto === null || targetGesto === void 0 ? void 0 : targetGesto.isFlag()) {\r\n            if (!ableName) {\r\n                return true;\r\n            }\r\n            var data = targetGesto.getEventData();\r\n            return !!((_a = data[ableName]) === null || _a === void 0 ? void 0 : _a.isEventStart);\r\n        }\r\n        if (controlGesto === null || controlGesto === void 0 ? void 0 : controlGesto.isFlag()) {\r\n            if (!ableName) {\r\n                return true;\r\n            }\r\n            var data = controlGesto.getEventData();\r\n            return !!((_b = data[ableName]) === null || _b === void 0 ? void 0 : _b.isEventStart);\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * If the width, height, left, and top of the only target change, update the shape of the moveable.\r\n     * Use `.updateRect()` method\r\n     * @method Moveable#updateTarget\r\n     * @deprecated\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * moveable.updateTarget();\r\n     */\r\n    MoveableManager.prototype.updateTarget = function (type) {\r\n        this.updateRect(type, true);\r\n    };\r\n    /**\r\n     * You can get the vertex information, position and offset size information of the target based on the container.\r\n     * @method Moveable#getRect\r\n     * @return - The Rect Info\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * const rectInfo = moveable.getRect();\r\n     */\r\n    MoveableManager.prototype.getRect = function () {\r\n        var state = this.state;\r\n        var poses = getAbsolutePosesByState(this.state);\r\n        var _a = __read(poses, 4), pos1 = _a[0], pos2 = _a[1], pos3 = _a[2], pos4 = _a[3];\r\n        var rect = getRect(poses);\r\n        var offsetWidth = state.width, offsetHeight = state.height;\r\n        var width = rect.width, height = rect.height, left = rect.left, top = rect.top;\r\n        var statePos = [state.left, state.top];\r\n        var origin = plus(statePos, state.origin);\r\n        var beforeOrigin = plus(statePos, state.beforeOrigin);\r\n        var transformOrigin = state.transformOrigin;\r\n        return {\r\n            width: width,\r\n            height: height,\r\n            left: left,\r\n            top: top,\r\n            pos1: pos1,\r\n            pos2: pos2,\r\n            pos3: pos3,\r\n            pos4: pos4,\r\n            offsetWidth: offsetWidth,\r\n            offsetHeight: offsetHeight,\r\n            beforeOrigin: beforeOrigin,\r\n            origin: origin,\r\n            transformOrigin: transformOrigin,\r\n            rotation: this.getRotation(),\r\n        };\r\n    };\r\n    /**\r\n     * Get a manager that manages the moveable's state and props.\r\n     * @method Moveable#getManager\r\n     * @return - The Rect Info\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * const manager = moveable.getManager(); // real moveable class instance\r\n     */\r\n    MoveableManager.prototype.getManager = function () {\r\n        return this;\r\n    };\r\n    /**\r\n     * You can stop the dragging currently in progress through a method from outside.\r\n     * @method Moveable#stopDrag\r\n     * @return - The Rect Info\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * moveable.stopDrag();\r\n     */\r\n    MoveableManager.prototype.stopDrag = function (type) {\r\n        if (!type || type === \"target\") {\r\n            var gesto = this.targetGesto;\r\n            if ((gesto === null || gesto === void 0 ? void 0 : gesto.isIdle()) === false) {\r\n                unsetAbles(this, false);\r\n            }\r\n            gesto === null || gesto === void 0 ? void 0 : gesto.stop();\r\n        }\r\n        if (!type || type === \"control\") {\r\n            var gesto = this.controlGesto;\r\n            if ((gesto === null || gesto === void 0 ? void 0 : gesto.isIdle()) === false) {\r\n                unsetAbles(this, true);\r\n            }\r\n            gesto === null || gesto === void 0 ? void 0 : gesto.stop();\r\n        }\r\n    };\r\n    MoveableManager.prototype.getRotation = function () {\r\n        var _a = this.state, pos1 = _a.pos1, pos2 = _a.pos2, direction = _a.direction;\r\n        return getAbsoluteRotation(pos1, pos2, direction);\r\n    };\r\n    /**\r\n     * Request able through a method rather than an event.\r\n     * At the moment of execution, requestStart is executed,\r\n     * and then request and requestEnd can be executed through Requester.\r\n     * @method Moveable#request\r\n     * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Draggable.html#request|Draggable Requester}\r\n     * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Resizable.html#request|Resizable Requester}\r\n     * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Scalable.html#request|Scalable Requester}\r\n     * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Rotatable.html#request|Rotatable Requester}\r\n     * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.OriginDraggable.html#request|OriginDraggable Requester}\r\n     * @param - ableName\r\n     * @param - request to be able params.\r\n     * @param - If isInstant is true, request and requestEnd are executed immediately.\r\n     * @return - Able Requester. If there is no request in able, nothing will work.\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * // Instantly Request (requestStart - request - requestEnd)\r\n     * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\r\n     *\r\n     * // Start move\r\n     * const requester = moveable.request(\"draggable\");\r\n     * requester.request({ deltaX: 10, deltaY: 10 });\r\n     * requester.request({ deltaX: 10, deltaY: 10 });\r\n     * requester.request({ deltaX: 10, deltaY: 10 });\r\n     * requester.requestEnd();\r\n     */\r\n    MoveableManager.prototype.request = function (ableName, param, isInstant) {\r\n        if (param === void 0) { param = {}; }\r\n        var self = this;\r\n        var props = self.props;\r\n        var manager = props.parentMoveable || props.wrapperMoveable || self;\r\n        var allAbles = manager.props.ables;\r\n        var groupable = props.groupable;\r\n        var requsetAble = find(allAbles, function (able) { return able.name === ableName; });\r\n        if (this.isDragging() || !requsetAble || !requsetAble.request) {\r\n            return {\r\n                request: function () {\r\n                    return this;\r\n                },\r\n                requestEnd: function () {\r\n                    return this;\r\n                },\r\n            };\r\n        }\r\n        var ableRequester = requsetAble.request(self);\r\n        var requestInstant = isInstant || param.isInstant;\r\n        var ableType = ableRequester.isControl ? \"controlAbles\" : \"targetAbles\";\r\n        var eventAffix = \"\".concat((groupable ? \"Group\" : \"\")).concat(ableRequester.isControl ? \"Control\" : \"\");\r\n        var moveableAbles = __spreadArray([], __read(manager[ableType]), false);\r\n        var requester = {\r\n            request: function (ableParam) {\r\n                triggerAble(self, moveableAbles, [\"drag\"], eventAffix, \"\", __assign(__assign({}, ableRequester.request(ableParam)), { requestAble: ableName, isRequest: true }), requestInstant);\r\n                return requester;\r\n            },\r\n            requestEnd: function () {\r\n                triggerAble(self, moveableAbles, [\"drag\"], eventAffix, \"End\", __assign(__assign({}, ableRequester.requestEnd()), { requestAble: ableName, isRequest: true }), requestInstant);\r\n                return requester;\r\n            },\r\n        };\r\n        triggerAble(self, moveableAbles, [\"drag\"], eventAffix, \"Start\", __assign(__assign({}, ableRequester.requestStart(param)), { requestAble: ableName, isRequest: true }), requestInstant);\r\n        return requestInstant ? requester.request(param).requestEnd() : requester;\r\n    };\r\n    /**\r\n     * moveable is the top level that manages targets\r\n     * `Single`: MoveableManager instance\r\n     * `Group`: MoveableGroup instance\r\n     * `IndividualGroup`: MoveableIndividaulGroup instance\r\n     * Returns leaf target MoveableManagers.\r\n     */\r\n    MoveableManager.prototype.getMoveables = function () {\r\n        return [this];\r\n    };\r\n    /**\r\n     * Remove the Moveable object and the events.\r\n     * @method Moveable#destroy\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body);\r\n     *\r\n     * moveable.destroy();\r\n     */\r\n    MoveableManager.prototype.destroy = function () {\r\n        this.componentWillUnmount();\r\n    };\r\n    MoveableManager.prototype.updateRenderPoses = function () {\r\n        var state = this.getState();\r\n        var props = this.props;\r\n        var padding = props.padding;\r\n        var originalBeforeOrigin = state.originalBeforeOrigin, transformOrigin = state.transformOrigin, allMatrix = state.allMatrix, is3d = state.is3d, pos1 = state.pos1, pos2 = state.pos2, pos3 = state.pos3, pos4 = state.pos4, stateLeft = state.left, stateTop = state.top, isPersisted = state.isPersisted;\r\n        var zoom = props.zoom || 1;\r\n        if (!padding && zoom <= 1) {\r\n            state.renderPoses = [\r\n                pos1,\r\n                pos2,\r\n                pos3,\r\n                pos4,\r\n            ];\r\n            state.renderLines = [\r\n                [pos1, pos2],\r\n                [pos2, pos4],\r\n                [pos4, pos3],\r\n                [pos3, pos1],\r\n            ];\r\n            return;\r\n        }\r\n        var _a = getPaddingBox(padding || {}), left = _a.left, top = _a.top, bottom = _a.bottom, right = _a.right;\r\n        var n = is3d ? 4 : 3;\r\n        // const clipPathInfo = getClipPath(\r\n        //     props.target,\r\n        //     offsetWidth,\r\n        //     offsetHeight,\r\n        // );\r\n        // if (clipPathInfo) {\r\n        //     left -= Math.max(0, clipPathInfo.left);\r\n        //     top -= Math.max(0, clipPathInfo.top);\r\n        //     bottom -= Math.max(0, offsetHeight - clipPathInfo.bottom);\r\n        //     right -= Math.max(0, offsetWidth - clipPathInfo.right);\r\n        // }\r\n        var absoluteOrigin = [];\r\n        if (isPersisted) {\r\n            absoluteOrigin = transformOrigin;\r\n        }\r\n        else if (this.controlBox && props.groupable) {\r\n            absoluteOrigin = originalBeforeOrigin;\r\n        }\r\n        else {\r\n            absoluteOrigin = plus(originalBeforeOrigin, [stateLeft, stateTop]);\r\n        }\r\n        var nextMatrix = multiplies(n, createOriginMatrix(absoluteOrigin.map(function (v) { return -v; }), n), allMatrix, createOriginMatrix(transformOrigin, n));\r\n        var renderPos1 = calculatePadding(nextMatrix, pos1, [-left, -top], n);\r\n        var renderPos2 = calculatePadding(nextMatrix, pos2, [right, -top], n);\r\n        var renderPos3 = calculatePadding(nextMatrix, pos3, [-left, bottom], n);\r\n        var renderPos4 = calculatePadding(nextMatrix, pos4, [right, bottom], n);\r\n        state.renderPoses = [\r\n            renderPos1,\r\n            renderPos2,\r\n            renderPos3,\r\n            renderPos4,\r\n        ];\r\n        state.renderLines = [\r\n            [renderPos1, renderPos2],\r\n            [renderPos2, renderPos4],\r\n            [renderPos4, renderPos3],\r\n            [renderPos3, renderPos1],\r\n        ];\r\n        if (zoom) {\r\n            var zoomOffset = zoom / 2;\r\n            state.renderLines = [\r\n                [\r\n                    calculatePadding(nextMatrix, pos1, [-left - zoomOffset, -top], n),\r\n                    calculatePadding(nextMatrix, pos2, [right + zoomOffset, -top], n),\r\n                ],\r\n                [\r\n                    calculatePadding(nextMatrix, pos2, [right, -top - zoomOffset], n),\r\n                    calculatePadding(nextMatrix, pos4, [right, bottom + zoomOffset], n),\r\n                ],\r\n                [\r\n                    calculatePadding(nextMatrix, pos4, [right + zoomOffset, bottom], n),\r\n                    calculatePadding(nextMatrix, pos3, [-left - zoomOffset, bottom], n),\r\n                ],\r\n                [\r\n                    calculatePadding(nextMatrix, pos3, [-left, bottom + zoomOffset], n),\r\n                    calculatePadding(nextMatrix, pos1, [-left, -top - zoomOffset], n),\r\n                ],\r\n            ];\r\n        }\r\n    };\r\n    MoveableManager.prototype.checkUpdate = function () {\r\n        this._isPropTargetChanged = false;\r\n        var _a = this.props, target = _a.target, container = _a.container, parentMoveable = _a.parentMoveable;\r\n        var _b = this.state, stateTarget = _b.target, stateContainer = _b.container;\r\n        if (!stateTarget && !target) {\r\n            return;\r\n        }\r\n        this.updateAbles();\r\n        var isTargetChanged = !equals(stateTarget, target);\r\n        var isChanged = isTargetChanged || !equals(stateContainer, container);\r\n        if (!isChanged) {\r\n            return;\r\n        }\r\n        var moveableContainer = container || this.controlBox;\r\n        if (moveableContainer) {\r\n            this.unsetAbles();\r\n        }\r\n        this.updateState({ target: target, container: container });\r\n        if (!parentMoveable && moveableContainer) {\r\n            this.updateRect(\"End\", false, false);\r\n        }\r\n        this._isPropTargetChanged = isTargetChanged;\r\n    };\r\n    MoveableManager.prototype.waitToChangeTarget = function () {\r\n        return new Promise(function () { });\r\n    };\r\n    MoveableManager.prototype.triggerEvent = function (name, e) {\r\n        var props = this.props;\r\n        this._emitter.trigger(name, e);\r\n        if (props.parentMoveable && e.isRequest && !e.isRequestChild) {\r\n            return props.parentMoveable.triggerEvent(name, e, true);\r\n        }\r\n        var callback = props[name];\r\n        return callback && callback(e);\r\n    };\r\n    MoveableManager.prototype.useCSS = function (tag, css) {\r\n        var customStyleMap = this.props.customStyledMap;\r\n        var key = tag + css;\r\n        if (!customStyleMap[key]) {\r\n            customStyleMap[key] = styled(tag, css);\r\n        }\r\n        return customStyleMap[key];\r\n    };\r\n    MoveableManager.prototype.getState = function () {\r\n        var _a;\r\n        var props = this.props;\r\n        if (props.target || ((_a = props.targets) === null || _a === void 0 ? void 0 : _a.length)) {\r\n            this._hasFirstTarget = true;\r\n        }\r\n        var hasControlBox = this.controlBox;\r\n        var persistData = props.persistData;\r\n        var firstRenderState = props.firstRenderState;\r\n        if (firstRenderState && !hasControlBox) {\r\n            return firstRenderState;\r\n        }\r\n        if (!this._hasFirstTarget && persistData) {\r\n            var persistState = getPersistState(persistData);\r\n            if (persistState) {\r\n                this.updateState(persistState, false);\r\n                return this.state;\r\n            }\r\n        }\r\n        this.state.isPersisted = false;\r\n        return this.state;\r\n    };\r\n    MoveableManager.prototype.updateSelectors = function () { };\r\n    MoveableManager.prototype.unsetAbles = function () {\r\n        var _this = this;\r\n        this.targetAbles.forEach(function (able) {\r\n            if (able.unset) {\r\n                able.unset(_this);\r\n            }\r\n        });\r\n    };\r\n    MoveableManager.prototype.updateAbles = function (ables, eventAffix) {\r\n        if (ables === void 0) { ables = this.props.ables; }\r\n        if (eventAffix === void 0) { eventAffix = \"\"; }\r\n        var props = this.props;\r\n        var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\r\n        var enabledAbles = this.getEnabledAbles(ables);\r\n        var dragStart = \"drag\".concat(eventAffix, \"Start\");\r\n        var pinchStart = \"pinch\".concat(eventAffix, \"Start\");\r\n        var dragControlStart = \"drag\".concat(eventAffix, \"ControlStart\");\r\n        var targetAbles = filterAbles(enabledAbles, [dragStart, pinchStart], triggerAblesSimultaneously);\r\n        var controlAbles = filterAbles(enabledAbles, [dragControlStart], triggerAblesSimultaneously);\r\n        this.enabledAbles = enabledAbles;\r\n        this.targetAbles = targetAbles;\r\n        this.controlAbles = controlAbles;\r\n    };\r\n    MoveableManager.prototype.updateState = function (nextState, isSetState) {\r\n        if (isSetState) {\r\n            if (this.isUnmounted) {\r\n                return;\r\n            }\r\n            this.setState(nextState);\r\n        }\r\n        else {\r\n            var state = this.state;\r\n            for (var name_3 in nextState) {\r\n                state[name_3] = nextState[name_3];\r\n            }\r\n        }\r\n    };\r\n    MoveableManager.prototype.getEnabledAbles = function (ables) {\r\n        if (ables === void 0) { ables = this.props.ables; }\r\n        var props = this.props;\r\n        return ables.filter(function (able) { return able && ((able.always && props[able.name] !== false)\r\n            || props[able.name]); });\r\n    };\r\n    MoveableManager.prototype.renderAbles = function () {\r\n        var _this = this;\r\n        var props = this.props;\r\n        var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\r\n        var Renderer = {\r\n            createElement: createElement,\r\n        };\r\n        this.renderState = {};\r\n        return groupByMap(flat(filterAbles(this.getEnabledAbles(), [\"render\"], triggerAblesSimultaneously).map(function (_a) {\r\n            var render = _a.render;\r\n            return render(_this, Renderer) || [];\r\n        })).filter(function (el) { return el; }), function (_a) {\r\n            var key = _a.key;\r\n            return key;\r\n        }).map(function (group) { return group[0]; });\r\n    };\r\n    MoveableManager.prototype.updateCheckInput = function () {\r\n        this.targetGesto && (this.targetGesto.options.checkInput = this.props.checkInput);\r\n    };\r\n    MoveableManager.prototype._getRequestStyles = function () {\r\n        var styleNames = this.getEnabledAbles().reduce(function (names, able) {\r\n            var _a, _b;\r\n            var ableStyleNames = ((_b = (_a = able.requestStyle) === null || _a === void 0 ? void 0 : _a.call(able)) !== null && _b !== void 0 ? _b : []);\r\n            return __spreadArray(__spreadArray([], __read(names), false), __read(ableStyleNames), false);\r\n        }, __spreadArray([], __read((this.props.requestStyles || [])), false));\r\n        return styleNames;\r\n    };\r\n    MoveableManager.prototype._updateObserver = function (prevProps) {\r\n        this._updateResizeObserver(prevProps);\r\n        this._updateMutationObserver(prevProps);\r\n    };\r\n    MoveableManager.prototype._updateEvents = function () {\r\n        var hasTargetAble = this.targetAbles.length;\r\n        var hasControlAble = this.controlAbles.length;\r\n        var target = this._dragTarget;\r\n        var isUnset = (!hasTargetAble && this.targetGesto)\r\n            || this._isTargetChanged(true);\r\n        if (isUnset) {\r\n            unsetGesto(this, false);\r\n            this.updateState({ gestos: {} });\r\n        }\r\n        if (!hasControlAble) {\r\n            unsetGesto(this, true);\r\n        }\r\n        if (target && hasTargetAble && !this.targetGesto) {\r\n            this.targetGesto = getTargetAbleGesto(this, target, \"\");\r\n        }\r\n        if (!this.controlGesto && hasControlAble) {\r\n            this.controlGesto = getControlAbleGesto(this, \"Control\");\r\n        }\r\n    };\r\n    MoveableManager.prototype._updateTargets = function () {\r\n        var props = this.props;\r\n        this._prevPropTarget = this._propTarget;\r\n        this._prevDragTarget = this._dragTarget;\r\n        this._prevOriginalDragTarget = this._originalDragTarget;\r\n        this._prevDragArea = props.dragArea;\r\n        this._propTarget = props.target;\r\n        this._originalDragTarget = props.dragTarget || props.target;\r\n        this._dragTarget = getRefTarget(this._originalDragTarget, true);\r\n    };\r\n    MoveableManager.prototype._renderLines = function () {\r\n        var props = this.props;\r\n        var _a = props, zoom = _a.zoom, hideDefaultLines = _a.hideDefaultLines, hideChildMoveableDefaultLines = _a.hideChildMoveableDefaultLines, parentMoveable = _a.parentMoveable;\r\n        if (hideDefaultLines || (parentMoveable && hideChildMoveableDefaultLines)) {\r\n            return [];\r\n        }\r\n        var state = this.getState();\r\n        var Renderer = {\r\n            createElement: createElement,\r\n        };\r\n        return state.renderLines.map(function (line, i) {\r\n            return renderLine(Renderer, \"\", line[0], line[1], zoom, \"render-line-\".concat(i));\r\n        });\r\n    };\r\n    MoveableManager.prototype._isTargetChanged = function (useDragArea) {\r\n        var props = this.props;\r\n        var nextTarget = props.dragTarget || props.target;\r\n        var prevTarget = this._prevOriginalDragTarget;\r\n        var prevDragArea = this._prevDragArea;\r\n        var dragArea = props.dragArea;\r\n        // check target without dragArea\r\n        var isDragTargetChanged = !dragArea && prevTarget !== nextTarget;\r\n        var isDragAreaChanged = (useDragArea || dragArea) && prevDragArea !== dragArea;\r\n        return isDragTargetChanged || isDragAreaChanged || this._prevPropTarget != this._propTarget;\r\n    };\r\n    MoveableManager.prototype._updateNativeEvents = function () {\r\n        var _this = this;\r\n        var props = this.props;\r\n        var target = props.dragArea ? this.areaElement : this.state.target;\r\n        var events = this.events;\r\n        var eventKeys = getKeys(events);\r\n        if (this._isTargetChanged()) {\r\n            for (var eventName in events) {\r\n                var manager = events[eventName];\r\n                manager && manager.destroy();\r\n                events[eventName] = null;\r\n            }\r\n        }\r\n        if (!target) {\r\n            return;\r\n        }\r\n        var enabledAbles = this.enabledAbles;\r\n        eventKeys.forEach(function (eventName) {\r\n            var ables = filterAbles(enabledAbles, [eventName]);\r\n            var hasAbles = ables.length > 0;\r\n            var manager = events[eventName];\r\n            if (!hasAbles) {\r\n                if (manager) {\r\n                    manager.destroy();\r\n                    events[eventName] = null;\r\n                }\r\n                return;\r\n            }\r\n            if (!manager) {\r\n                manager = new EventManager(target, _this, eventName);\r\n                events[eventName] = manager;\r\n            }\r\n            manager.setAbles(ables);\r\n        });\r\n    };\r\n    MoveableManager.prototype._checkUpdateRootContainer = function () {\r\n        var rootContainer = this.props.rootContainer;\r\n        if (!this._rootContainer && rootContainer) {\r\n            this._rootContainer = getRefTarget(rootContainer, true);\r\n        }\r\n    };\r\n    MoveableManager.prototype._checkUpdateViewContainer = function () {\r\n        var viewContainerOption = this.props.viewContainer;\r\n        if (!this._viewContainer && viewContainerOption) {\r\n            this._viewContainer = getRefTarget(viewContainerOption, true);\r\n        }\r\n        var viewContainer = this._viewContainer;\r\n        if (viewContainer) {\r\n            this._changeAbleViewClassNames(__spreadArray(__spreadArray([], __read(this._getAbleViewClassNames()), false), [\r\n                this.isDragging() ? VIEW_DRAGGING : \"\",\r\n            ], false));\r\n        }\r\n    };\r\n    MoveableManager.prototype._changeAbleViewClassNames = function (classNames) {\r\n        var viewContainer = this._viewContainer;\r\n        var nextClassNames = groupBy(classNames.filter(Boolean), function (el) { return el; }).map(function (_a) {\r\n            var _b = __read(_a, 1), className = _b[0];\r\n            return className;\r\n        });\r\n        var prevClassNames = this._viewClassNames;\r\n        var _a = diff$1(prevClassNames, nextClassNames), removed = _a.removed, added = _a.added;\r\n        removed.forEach(function (index) {\r\n            removeClass(viewContainer, prevClassNames[index]);\r\n        });\r\n        added.forEach(function (index) {\r\n            addClass(viewContainer, nextClassNames[index]);\r\n        });\r\n        this._viewClassNames = nextClassNames;\r\n    };\r\n    MoveableManager.prototype._getAbleViewClassNames = function () {\r\n        var _this = this;\r\n        return (this.getEnabledAbles().map(function (able) {\r\n            var _a;\r\n            return (((_a = able.viewClassName) === null || _a === void 0 ? void 0 : _a.call(able, _this)) || \"\");\r\n        }).join(\" \") + \" \".concat(this._getAbleClassName(\"-view\"))).split(/\\s+/g);\r\n    };\r\n    MoveableManager.prototype._getAbleClassName = function (classPrefix) {\r\n        var _this = this;\r\n        if (classPrefix === void 0) { classPrefix = \"\"; }\r\n        var ables = this.getEnabledAbles();\r\n        var targetGesto = this.targetGesto;\r\n        var controlGesto = this.controlGesto;\r\n        var targetGestoData = (targetGesto === null || targetGesto === void 0 ? void 0 : targetGesto.isFlag())\r\n            ? targetGesto.getEventData() : {};\r\n        var controlGestoData = (controlGesto === null || controlGesto === void 0 ? void 0 : controlGesto.isFlag())\r\n            ? controlGesto.getEventData() : {};\r\n        return ables.map(function (able) {\r\n            var _a, _b, _c;\r\n            var name = able.name;\r\n            var className = ((_a = able.className) === null || _a === void 0 ? void 0 : _a.call(able, _this)) || \"\";\r\n            if (((_b = targetGestoData[name]) === null || _b === void 0 ? void 0 : _b.isEventStart)\r\n                || ((_c = controlGestoData[name]) === null || _c === void 0 ? void 0 : _c.isEventStart)) {\r\n                className += \" \".concat(prefix(\"\".concat(name).concat(classPrefix, \"-dragging\")));\r\n            }\r\n            return className.trim();\r\n        }).filter(Boolean).join(\" \");\r\n    };\r\n    MoveableManager.prototype._updateResizeObserver = function (prevProps) {\r\n        var _a;\r\n        var props = this.props;\r\n        var target = props.target;\r\n        var win = getWindow(this.getControlBoxElement());\r\n        if (!win.ResizeObserver || !target || !props.useResizeObserver) {\r\n            (_a = this._reiszeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n            return;\r\n        }\r\n        if (prevProps.target === target && this._reiszeObserver) {\r\n            return;\r\n        }\r\n        var observer = new win.ResizeObserver(this.checkUpdateRect);\r\n        observer.observe(target, {\r\n            box: \"border-box\",\r\n        });\r\n        this._reiszeObserver = observer;\r\n    };\r\n    MoveableManager.prototype._updateMutationObserver = function (prevProps) {\r\n        var _this = this;\r\n        var _a;\r\n        var props = this.props;\r\n        var target = props.target;\r\n        var win = getWindow(this.getControlBoxElement());\r\n        if (!win.MutationObserver || !target || !props.useMutationObserver) {\r\n            (_a = this._mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\r\n            return;\r\n        }\r\n        if (prevProps.target === target && this._mutationObserver) {\r\n            return;\r\n        }\r\n        var observer = new win.MutationObserver(function (records) {\r\n            var e_1, _a;\r\n            try {\r\n                for (var records_1 = __values(records), records_1_1 = records_1.next(); !records_1_1.done; records_1_1 = records_1.next()) {\r\n                    var mutation = records_1_1.value;\r\n                    if (mutation.type === \"attributes\" && mutation.attributeName === \"style\") {\r\n                        _this.checkUpdateRect();\r\n                    }\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (records_1_1 && !records_1_1.done && (_a = records_1.return)) _a.call(records_1);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n        });\r\n        observer.observe(target, {\r\n            attributes: true,\r\n        });\r\n        this._mutationObserver = observer;\r\n    };\r\n    MoveableManager.defaultProps = {\r\n        dragTargetSelf: false,\r\n        target: null,\r\n        dragTarget: null,\r\n        container: null,\r\n        rootContainer: null,\r\n        origin: true,\r\n        parentMoveable: null,\r\n        wrapperMoveable: null,\r\n        isWrapperMounted: false,\r\n        parentPosition: null,\r\n        warpSelf: false,\r\n        svgOrigin: \"\",\r\n        dragContainer: null,\r\n        useResizeObserver: false,\r\n        useMutationObserver: false,\r\n        preventDefault: true,\r\n        preventRightClick: true,\r\n        preventWheelClick: true,\r\n        linePadding: 0,\r\n        controlPadding: 0,\r\n        ables: [],\r\n        pinchThreshold: 20,\r\n        dragArea: false,\r\n        passDragArea: false,\r\n        transformOrigin: \"\",\r\n        className: \"\",\r\n        zoom: 1,\r\n        triggerAblesSimultaneously: false,\r\n        padding: {},\r\n        pinchOutside: true,\r\n        checkInput: false,\r\n        dragFocusedInput: false,\r\n        groupable: false,\r\n        hideDefaultLines: false,\r\n        cspNonce: \"\",\r\n        translateZ: 0,\r\n        cssStyled: null,\r\n        customStyledMap: {},\r\n        props: {},\r\n        stopPropagation: false,\r\n        preventClickDefault: false,\r\n        preventClickEventOnDrag: true,\r\n        flushSync: defaultSync,\r\n        firstRenderState: null,\r\n        persistData: null,\r\n        viewContainer: null,\r\n        requestStyles: [],\r\n        useAccuratePosition: false,\r\n    };\r\n    return MoveableManager;\r\n}(React.PureComponent));\r\n/**\r\n * The target to indicate Moveable Control Box.\r\n * @name Moveable#target\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.target = document.querySelector(\".target\");\r\n */\r\n/**\r\n * Zooms in the elements of a moveable.\r\n * @name Moveable#zoom\r\n * @default 1\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.zoom = 2;\r\n */\r\n/**\r\n * Whether the target size is detected and updated whenever it changes.\r\n * @name Moveable#useResizeObserver\r\n * @default false\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.useResizeObserver = true;\r\n */\r\n/**\r\n * Resize, Scale Events at edges\r\n * @name Moveable#edge\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.edge = true;\r\n */\r\n/**\r\n * You can specify the className of the moveable controlbox.\r\n * @name Moveable#className\r\n * @default \"\"\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *   className: \"\",\r\n * });\r\n *\r\n * moveable.className = \"moveable1\";\r\n */\r\n/**\r\n * The target(s) to drag Moveable target(s)\r\n * @name Moveable#dragTarget\r\n * @default target\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body);\r\n * moveable.target = document.querySelector(\".target\");\r\n * moveable.dragTarget = document.querySelector(\".dragTarget\");\r\n */\r\n/**\r\n * `renderStart` event occurs at the first start of all events.\r\n * @memberof Moveable\r\n * @event renderStart\r\n * @param {Moveable.OnRenderStart} - Parameters for the `renderStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"renderStart\", ({ target }) => {\r\n *     console.log(\"onRenderStart\", target);\r\n * });\r\n */\r\n/**\r\n * `render` event occurs before the target is drawn on the screen.\r\n * @memberof Moveable\r\n * @event render\r\n * @param {Moveable.OnRender} - Parameters for the `render` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"render\", ({ target }) => {\r\n *     console.log(\"onRender\", target);\r\n * });\r\n */\r\n/**\r\n * `renderEnd` event occurs at the end of all events.\r\n * @memberof Moveable\r\n * @event renderEnd\r\n * @param {Moveable.OnRenderEnd} - Parameters for the `renderEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"renderEnd\", ({ target }) => {\r\n *     console.log(\"onRenderEnd\", target);\r\n * });\r\n */\r\n/**\r\n * `renderGroupStart` event occurs at the first start of all events in group.\r\n * @memberof Moveable\r\n * @event renderGroupStart\r\n * @param {Moveable.OnRenderGroupStart} - Parameters for the `renderGroupStart` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"renderGroupStart\", ({ targets }) => {\r\n *     console.log(\"onRenderGroupStart\", targets);\r\n * });\r\n */\r\n/**\r\n * `renderGroup` event occurs before the target is drawn on the screen in group.\r\n * @memberof Moveable\r\n * @event renderGroup\r\n * @param {Moveable.OnRenderGroup} - Parameters for the `renderGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"renderGroup\", ({ targets }) => {\r\n *     console.log(\"onRenderGroup\", targets);\r\n * });\r\n */\r\n/**\r\n * `renderGroupEnd` event occurs at the end of all events in group.\r\n * @memberof Moveable\r\n * @event renderGroupEnd\r\n * @param {Moveable.OnRenderGroupEnd} - Parameters for the `renderGroupEnd` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"renderGroupEnd\", ({ targets }) => {\r\n *     console.log(\"onRenderGroupEnd\", targets);\r\n * });\r\n */\n\nvar Groupable = {\r\n    name: \"groupable\",\r\n    props: [\r\n        \"defaultGroupRotate\",\r\n        \"useDefaultGroupRotate\",\r\n        \"defaultGroupOrigin\",\r\n        \"groupable\",\r\n        \"groupableProps\",\r\n        \"targetGroups\",\r\n        \"hideChildMoveableDefaultLines\",\r\n    ],\r\n    events: [],\r\n    render: function (moveable, React) {\r\n        var _a;\r\n        var props = moveable.props;\r\n        var targets = props.targets || [];\r\n        var _b = moveable.getState(), left = _b.left, top = _b.top, isPersisted = _b.isPersisted;\r\n        var zoom = props.zoom || 1;\r\n        var renderGroupRects = moveable.renderGroupRects;\r\n        var persistDatChildren = ((_a = props.persistData) === null || _a === void 0 ? void 0 : _a.children) || [];\r\n        if (isPersisted) {\r\n            targets = persistDatChildren.map(function () { return null; });\r\n        }\r\n        else {\r\n            persistDatChildren = [];\r\n        }\r\n        var parentPosition = watchValue(moveable, \"parentPosition\", [left, top], function (styles) { return styles.join(\",\"); });\r\n        var requestStyles = watchValue(moveable, \"requestStyles\", moveable.getRequestChildStyles(), function (styles) { return styles.join(\",\"); });\r\n        moveable.moveables = moveable.moveables.slice(0, targets.length);\r\n        return __spreadArray(__spreadArray([], __read(targets.map(function (target, i) {\r\n            return React.createElement(MoveableManager, { key: \"moveable\" + i, ref: refs(moveable, \"moveables\", i), target: target, origin: false, requestStyles: requestStyles, cssStyled: props.cssStyled, customStyledMap: props.customStyledMap, useResizeObserver: props.useResizeObserver, useMutationObserver: props.useMutationObserver, hideChildMoveableDefaultLines: props.hideChildMoveableDefaultLines, parentMoveable: moveable, parentPosition: [left, top], persistData: persistDatChildren[i], zoom: zoom });\r\n        })), false), __read(flat(renderGroupRects.map(function (_a, i) {\r\n            var pos1 = _a.pos1, pos2 = _a.pos2, pos3 = _a.pos3, pos4 = _a.pos4;\r\n            var poses = [pos1, pos2, pos3, pos4];\r\n            return [\r\n                [0, 1],\r\n                [1, 3],\r\n                [3, 2],\r\n                [2, 0],\r\n            ].map(function (_a, j) {\r\n                var _b = __read(_a, 2), from = _b[0], to = _b[1];\r\n                return renderLine(React, \"\", minus(poses[from], parentPosition), minus(poses[to], parentPosition), zoom, \"group-rect-\".concat(i, \"-\").concat(j));\r\n            });\r\n        }))), false);\r\n    },\r\n};\n\nvar Clickable = makeAble(\"clickable\", {\r\n    props: [\r\n        \"clickable\",\r\n    ],\r\n    events: [\r\n        \"click\",\r\n        \"clickGroup\",\r\n    ],\r\n    always: true,\r\n    dragRelation: \"weak\",\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    dragStart: function () {\r\n        return;\r\n    },\r\n    dragControlStart: function () {\r\n        return;\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        e.datas.inputTarget = e.inputEvent && e.inputEvent.target;\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        var target = moveable.props.target;\r\n        var inputEvent = e.inputEvent;\r\n        var inputTarget = e.inputTarget;\r\n        var isMoveableElement = moveable.isMoveableElement(inputTarget);\r\n        var containsElement = !isMoveableElement && moveable.controlBox.contains(inputTarget);\r\n        if (!inputEvent || !inputTarget || e.isDrag\r\n            || moveable.isMoveableElement(inputTarget)\r\n            || containsElement\r\n        // External event duplicate target or dragAreaElement\r\n        ) {\r\n            return;\r\n        }\r\n        var containsTarget = target.contains(inputTarget);\r\n        triggerEvent(moveable, \"onClick\", fillParams(moveable, e, {\r\n            isDouble: e.isDouble,\r\n            inputTarget: inputTarget,\r\n            isTarget: target === inputTarget,\r\n            moveableTarget: moveable.props.target,\r\n            containsTarget: containsTarget,\r\n        }));\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        var inputEvent = e.inputEvent;\r\n        var inputTarget = e.inputTarget;\r\n        if (!inputEvent || !inputTarget || e.isDrag\r\n            || moveable.isMoveableElement(inputTarget)\r\n            // External event duplicate target or dragAreaElement\r\n            || e.datas.inputTarget === inputTarget) {\r\n            return;\r\n        }\r\n        var targets = moveable.props.targets;\r\n        var targetIndex = targets.indexOf(inputTarget);\r\n        var isTarget = targetIndex > -1;\r\n        var containsTarget = false;\r\n        if (targetIndex === -1) {\r\n            targetIndex = findIndex(targets, function (parentTarget) { return parentTarget.contains(inputTarget); });\r\n            containsTarget = targetIndex > -1;\r\n        }\r\n        triggerEvent(moveable, \"onClickGroup\", fillParams(moveable, e, {\r\n            isDouble: e.isDouble,\r\n            targets: targets,\r\n            inputTarget: inputTarget,\r\n            targetIndex: targetIndex,\r\n            isTarget: isTarget,\r\n            containsTarget: containsTarget,\r\n            moveableTarget: targets[targetIndex],\r\n        }));\r\n    },\r\n    dragControlEnd: function (moveable, e) {\r\n        this.dragEnd(moveable, e);\r\n    },\r\n    dragGroupControlEnd: function (moveable, e) {\r\n        this.dragEnd(moveable, e);\r\n    },\r\n});\r\n/**\r\n * When you click on the element, the `click` event is called.\r\n * @memberof Moveable\r\n * @event click\r\n * @param {Moveable.OnClick} - Parameters for the `click` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: document.querySelector(\".target\"),\r\n * });\r\n * moveable.on(\"click\", ({ hasTarget, containsTarget, targetIndex }) => {\r\n *     // If you click on an element other than the target and not included in the target, index is -1.\r\n *     console.log(\"onClickGroup\", target, hasTarget, containsTarget, targetIndex);\r\n * });\r\n */\r\n/**\r\n * When you click on the element inside the group, the `clickGroup` event is called.\r\n * @memberof Moveable\r\n * @event clickGroup\r\n * @param {Moveable.OnClickGroup} - Parameters for the `clickGroup` event\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\r\n * });\r\n * moveable.on(\"clickGroup\", ({ inputTarget, isTarget, containsTarget, targetIndex }) => {\r\n *     // If you click on an element other than the target and not included in the target, index is -1.\r\n *     console.log(\"onClickGroup\", inputTarget, isTarget, containsTarget, targetIndex);\r\n * });\r\n */\n\nfunction getDraggableEvent(e) {\r\n    var datas = e.originalDatas.draggable;\r\n    if (!datas) {\r\n        e.originalDatas.draggable = {};\r\n        datas = e.originalDatas.draggable;\r\n    }\r\n    return __assign(__assign({}, e), { datas: datas });\r\n}\r\nvar edgeDraggable = makeAble(\"edgeDraggable\", {\r\n    css: [\r\n        \".edge.edgeDraggable.line {\\ncursor: move;\\n}\",\r\n    ],\r\n    render: function (moveable, React) {\r\n        var props = moveable.props;\r\n        var edge = props.edgeDraggable;\r\n        if (!edge) {\r\n            return [];\r\n        }\r\n        return renderEdgeLines(React, \"edgeDraggable\", edge, moveable.getState().renderPoses, props.zoom);\r\n    },\r\n    dragCondition: function (moveable, e) {\r\n        var _a;\r\n        var props = moveable.props;\r\n        var target = (_a = e.inputEvent) === null || _a === void 0 ? void 0 : _a.target;\r\n        if (!props.edgeDraggable || !target) {\r\n            return false;\r\n        }\r\n        return !props.draggable\r\n            && hasClass(target, prefix(\"direction\"))\r\n            && hasClass(target, prefix(\"edge\"))\r\n            && hasClass(target, prefix(\"edgeDraggable\"));\r\n    },\r\n    dragStart: function (moveable, e) {\r\n        return Draggable.dragStart(moveable, getDraggableEvent(e));\r\n    },\r\n    drag: function (moveable, e) {\r\n        return Draggable.drag(moveable, getDraggableEvent(e));\r\n    },\r\n    dragEnd: function (moveable, e) {\r\n        return Draggable.dragEnd(moveable, getDraggableEvent(e));\r\n    },\r\n    dragGroupCondition: function (moveable, e) {\r\n        var _a;\r\n        var props = moveable.props;\r\n        var target = (_a = e.inputEvent) === null || _a === void 0 ? void 0 : _a.target;\r\n        if (!props.edgeDraggable || !target) {\r\n            return false;\r\n        }\r\n        return !props.draggable && hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"line\"));\r\n    },\r\n    dragGroupStart: function (moveable, e) {\r\n        return Draggable.dragGroupStart(moveable, getDraggableEvent(e));\r\n    },\r\n    dragGroup: function (moveable, e) {\r\n        return Draggable.dragGroup(moveable, getDraggableEvent(e));\r\n    },\r\n    dragGroupEnd: function (moveable, e) {\r\n        return Draggable.dragGroupEnd(moveable, getDraggableEvent(e));\r\n    },\r\n    unset: function (moveable) {\r\n        return Draggable.unset(moveable);\r\n    },\r\n});\r\n/**\r\n * Whether to move by dragging the edge line (default: false)\r\n * @name Moveable.Draggable#edgeDraggable\r\n * @example\r\n * import Moveable from \"moveable\";\r\n *\r\n * const moveable = new Moveable(document.body, {\r\n *  draggable: true,\r\n *  edgeDraggable: false,\r\n * });\r\n *\r\n * moveable.edgeDraggable = true;\r\n */\n\nvar IndividualGroupable = {\r\n    name: \"individualGroupable\",\r\n    props: [\r\n        \"individualGroupable\",\r\n        \"individualGroupableProps\",\r\n    ],\r\n    events: [],\r\n};\n\nvar MOVEABLE_ABLES =  [\r\n    BeforeRenderable,\r\n    Default, Snappable, Pinchable,\r\n    Draggable, edgeDraggable,\r\n    Resizable, Scalable, Warpable, Rotatable,\r\n    Scrollable, Padding, Origin,\r\n    OriginDraggable,\r\n    Clippable, Roundable, Groupable, IndividualGroupable,\r\n    Clickable,\r\n    DragArea,\r\n    Renderable,\r\n];\r\nvar MOVEABLE_EVENTS = /*#__PURE__*/ MOVEABLE_ABLES.reduce(function (current, able) {\r\n    (able.events || []).forEach(function (name) {\r\n        pushSet(current, name);\r\n    });\r\n    return current;\r\n}, []);\r\nvar MOVEABLE_PROPS = /*#__PURE__*/ MOVEABLE_ABLES.reduce(function (current, able) {\r\n    (able.props || []).forEach(function (name) {\r\n        pushSet(current, name);\r\n    });\r\n    return current;\r\n}, []);\n\nfunction solveConstantsDistance(_a, pos) {\r\n    var _b = __read(_a, 3), a = _b[0], b = _b[1], c = _b[2];\r\n    return (a * pos[0] + b * pos[1] + c) / Math.sqrt(a * a + b * b);\r\n}\r\nfunction solveC(_a, pos) {\r\n    var _b = __read(_a, 2), a = _b[0], b = _b[1];\r\n    // ax + by + c = 0\r\n    // -ax -by;\r\n    return -a * pos[0] - b * pos[1];\r\n}\n\nfunction getMaxPos(poses, index) {\r\n    return Math.max.apply(Math, __spreadArray([], __read(poses.map(function (_a) {\r\n        var _b = __read(_a, 4), pos1 = _b[0], pos2 = _b[1], pos3 = _b[2], pos4 = _b[3];\r\n        return Math.max(pos1[index], pos2[index], pos3[index], pos4[index]);\r\n    })), false));\r\n}\r\nfunction getMinPos(poses, index) {\r\n    return Math.min.apply(Math, __spreadArray([], __read(poses.map(function (_a) {\r\n        var _b = __read(_a, 4), pos1 = _b[0], pos2 = _b[1], pos3 = _b[2], pos4 = _b[3];\r\n        return Math.min(pos1[index], pos2[index], pos3[index], pos4[index]);\r\n    })), false));\r\n}\r\nfunction getGroupRect(parentPoses, rotation) {\r\n    var _a, _b, _c;\r\n    var pos1 = [0, 0];\r\n    var pos2 = [0, 0];\r\n    var pos3 = [0, 0];\r\n    var pos4 = [0, 0];\r\n    var width = 0;\r\n    var height = 0;\r\n    if (!parentPoses.length) {\r\n        return {\r\n            pos1: pos1,\r\n            pos2: pos2,\r\n            pos3: pos3,\r\n            pos4: pos4,\r\n            minX: 0,\r\n            minY: 0,\r\n            maxX: 0,\r\n            maxY: 0,\r\n            width: width,\r\n            height: height,\r\n            rotation: rotation,\r\n        };\r\n    }\r\n    var fixedRotation = throttle(rotation, TINY_NUM);\r\n    if (fixedRotation % 90) {\r\n        var rad = fixedRotation / 180 * Math.PI;\r\n        var a1_1 = Math.tan(rad);\r\n        var a2_1 = -1 / a1_1;\r\n        // ax = y  // -ax + y = 0 // 0 => 1\r\n        // -ax = y // ax + y = 0  // 0 => 3\r\n        var a1MinMax_1 = [MAX_NUM, MIN_NUM];\r\n        var a1MinMaxPos_1 = [[0, 0], [0, 0]];\r\n        var a2MinMax_1 = [MAX_NUM, MIN_NUM];\r\n        var a2MinMaxPos_1 = [[0, 0], [0, 0]];\r\n        parentPoses.forEach(function (poses) {\r\n            poses.forEach(function (pos) {\r\n                // const b1 = pos[1] - a1 * pos[0];\r\n                // const b2 = pos[1] - a2 * pos[0];\r\n                var a1Dist = solveConstantsDistance([-a1_1, 1, 0], pos);\r\n                var a2Dist = solveConstantsDistance([-a2_1, 1, 0], pos);\r\n                if (a1MinMax_1[0] > a1Dist) {\r\n                    a1MinMaxPos_1[0] = pos;\r\n                    a1MinMax_1[0] = a1Dist;\r\n                }\r\n                if (a1MinMax_1[1] < a1Dist) {\r\n                    a1MinMaxPos_1[1] = pos;\r\n                    a1MinMax_1[1] = a1Dist;\r\n                }\r\n                if (a2MinMax_1[0] > a2Dist) {\r\n                    a2MinMaxPos_1[0] = pos;\r\n                    a2MinMax_1[0] = a2Dist;\r\n                }\r\n                if (a2MinMax_1[1] < a2Dist) {\r\n                    a2MinMaxPos_1[1] = pos;\r\n                    a2MinMax_1[1] = a2Dist;\r\n                }\r\n            });\r\n        });\r\n        var _d = __read(a1MinMaxPos_1, 2), a1MinPos = _d[0], a1MaxPos = _d[1];\r\n        var _e = __read(a2MinMaxPos_1, 2), a2MinPos = _e[0], a2MaxPos = _e[1];\r\n        var minHorizontalLine = [-a1_1, 1, solveC([-a1_1, 1], a1MinPos)];\r\n        var maxHorizontalLine = [-a1_1, 1, solveC([-a1_1, 1], a1MaxPos)];\r\n        var minVerticalLine = [-a2_1, 1, solveC([-a2_1, 1], a2MinPos)];\r\n        var maxVerticalLine = [-a2_1, 1, solveC([-a2_1, 1], a2MaxPos)];\r\n        _a = __read([\r\n            [minHorizontalLine, minVerticalLine],\r\n            [minHorizontalLine, maxVerticalLine],\r\n            [maxHorizontalLine, minVerticalLine],\r\n            [maxHorizontalLine, maxVerticalLine],\r\n        ].map(function (_a) {\r\n            var _b = __read(_a, 2), line1 = _b[0], line2 = _b[1];\r\n            return getIntersectionPointsByConstants(line1, line2)[0];\r\n        }), 4), pos1 = _a[0], pos2 = _a[1], pos3 = _a[2], pos4 = _a[3];\r\n        width = a2MinMax_1[1] - a2MinMax_1[0];\r\n        height = a1MinMax_1[1] - a1MinMax_1[0];\r\n    }\r\n    else {\r\n        var minX_1 = getMinPos(parentPoses, 0);\r\n        var minY_1 = getMinPos(parentPoses, 1);\r\n        var maxX_1 = getMaxPos(parentPoses, 0);\r\n        var maxY_1 = getMaxPos(parentPoses, 1);\r\n        pos1 = [minX_1, minY_1];\r\n        pos2 = [maxX_1, minY_1];\r\n        pos3 = [minX_1, maxY_1];\r\n        pos4 = [maxX_1, maxY_1];\r\n        width = maxX_1 - minX_1;\r\n        height = maxY_1 - minY_1;\r\n        if (fixedRotation % 180) {\r\n            // 0\r\n            // 1 2\r\n            // 3 4\r\n            // 90\r\n            // 3 1\r\n            // 4 2\r\n            // 180\r\n            // 4 3\r\n            // 2 1\r\n            // 270\r\n            // 2 4\r\n            // 1 3\r\n            // 1, 2, 3,4 = 3 1 4 2\r\n            var changedX = [pos3, pos1, pos4, pos2];\r\n            _b = __read(changedX, 4), pos1 = _b[0], pos2 = _b[1], pos3 = _b[2], pos4 = _b[3];\r\n            width = maxY_1 - minY_1;\r\n            height = maxX_1 - minX_1;\r\n        }\r\n    }\r\n    if (fixedRotation % 360 > 180) {\r\n        // 1 2   4 3\r\n        // 3 4   2 1\r\n        var changedX = [pos4, pos3, pos2, pos1];\r\n        _c = __read(changedX, 4), pos1 = _c[0], pos2 = _c[1], pos3 = _c[2], pos4 = _c[3];\r\n    }\r\n    var _f = getMinMaxs([pos1, pos2, pos3, pos4]), minX = _f.minX, minY = _f.minY, maxX = _f.maxX, maxY = _f.maxY;\r\n    return {\r\n        pos1: pos1,\r\n        pos2: pos2,\r\n        pos3: pos3,\r\n        pos4: pos4,\r\n        width: width,\r\n        height: height,\r\n        minX: minX,\r\n        minY: minY,\r\n        maxX: maxX,\r\n        maxY: maxY,\r\n        rotation: rotation,\r\n    };\r\n}\r\nfunction findMoveableGroups(moveables, childTargetGroups) {\r\n    var groups = childTargetGroups.map(function (targetGroup) {\r\n        if (isArray(targetGroup)) {\r\n            var childMoveableGroups = findMoveableGroups(moveables, targetGroup);\r\n            var length_1 = childMoveableGroups.length;\r\n            if (length_1 > 1) {\r\n                return childMoveableGroups;\r\n            }\r\n            else if (length_1 === 1) {\r\n                return childMoveableGroups[0];\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            var checked = find(moveables, function (_a) {\r\n                var manager = _a.manager;\r\n                return manager.props.target === targetGroup;\r\n            });\r\n            if (checked) {\r\n                checked.finded = true;\r\n                return checked.manager;\r\n            }\r\n            return null;\r\n        }\r\n    }).filter(Boolean);\r\n    if (groups.length === 1 && isArray(groups[0])) {\r\n        return groups[0];\r\n    }\r\n    return groups;\r\n}\r\n/**\r\n * @namespace Moveable.Group\r\n * @description You can make targets moveable.\r\n */\r\nvar MoveableGroup = /*#__PURE__*/ (function (_super) {\r\n    __extends(MoveableGroup, _super);\r\n    function MoveableGroup() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.differ = new ChildrenDiffer();\r\n        _this.moveables = [];\r\n        _this.transformOrigin = \"50% 50%\";\r\n        _this.renderGroupRects = [];\r\n        _this._targetGroups = [];\r\n        _this._hasFirstTargets = false;\r\n        return _this;\r\n    }\r\n    MoveableGroup.prototype.componentDidMount = function () {\r\n        _super.prototype.componentDidMount.call(this);\r\n    };\r\n    MoveableGroup.prototype.checkUpdate = function () {\r\n        this._isPropTargetChanged = false;\r\n        this.updateAbles();\r\n    };\r\n    MoveableGroup.prototype.getTargets = function () {\r\n        return this.props.targets;\r\n    };\r\n    MoveableGroup.prototype.updateRect = function (type, isTarget, isSetState) {\r\n        var _a;\r\n        if (isSetState === void 0) { isSetState = true; }\r\n        var state = this.state;\r\n        if (!this.controlBox || state.isPersisted) {\r\n            return;\r\n        }\r\n        setStoreCache(true);\r\n        this.moveables.forEach(function (moveable) {\r\n            moveable.updateRect(type, false, false);\r\n        });\r\n        var props = this.props;\r\n        var moveables = this.moveables;\r\n        var target = state.target || props.target;\r\n        var checkeds = moveables.map(function (moveable) { return ({ finded: false, manager: moveable }); });\r\n        var targetGroups = this.props.targetGroups || [];\r\n        var moveableGroups = findMoveableGroups(checkeds, targetGroups);\r\n        var useDefaultGroupRotate = props.useDefaultGroupRotate;\r\n        moveableGroups.push.apply(moveableGroups, __spreadArray([], __read(checkeds.filter(function (_a) {\r\n            var finded = _a.finded;\r\n            return !finded;\r\n        }).map(function (_a) {\r\n            var manager = _a.manager;\r\n            return manager;\r\n        })), false));\r\n        var renderGroupRects = [];\r\n        var isReset = !isTarget || (type !== \"\" && props.updateGroup);\r\n        var defaultGroupRotate = props.defaultGroupRotate || 0;\r\n        if (!this._hasFirstTargets) {\r\n            var persistedRoatation = (_a = props.persistData) === null || _a === void 0 ? void 0 : _a.rotation;\r\n            if (persistedRoatation != null) {\r\n                defaultGroupRotate = persistedRoatation;\r\n            }\r\n        }\r\n        function getMoveableGroupRect(group, parentRotation, isRoot) {\r\n            var posesRotations = group.map(function (moveable) {\r\n                if (isArray(moveable)) {\r\n                    var rect = getMoveableGroupRect(moveable, parentRotation);\r\n                    var poses = [rect.pos1, rect.pos2, rect.pos3, rect.pos4];\r\n                    renderGroupRects.push(rect);\r\n                    return { poses: poses, rotation: rect.rotation };\r\n                }\r\n                else {\r\n                    return {\r\n                        poses: getAbsolutePosesByState(moveable.state),\r\n                        rotation: moveable.getRotation(),\r\n                    };\r\n                }\r\n            });\r\n            var rotations = posesRotations.map(function (_a) {\r\n                var rotation = _a.rotation;\r\n                return rotation;\r\n            });\r\n            var groupRotation = 0;\r\n            var firstRotation = rotations[0];\r\n            var isSameRotation = rotations.every(function (nextRotation) {\r\n                return Math.abs(firstRotation - nextRotation) < 0.1;\r\n            });\r\n            if (isReset) {\r\n                groupRotation = !useDefaultGroupRotate && isSameRotation ? firstRotation : defaultGroupRotate;\r\n            }\r\n            else {\r\n                groupRotation = !useDefaultGroupRotate && !isRoot && isSameRotation ? firstRotation : parentRotation;\r\n            }\r\n            var groupPoses = posesRotations.map(function (_a) {\r\n                var poses = _a.poses;\r\n                return poses;\r\n            });\r\n            var groupRect = getGroupRect(groupPoses, groupRotation);\r\n            return groupRect;\r\n        }\r\n        var rootGroupRect = getMoveableGroupRect(moveableGroups, this.rotation, true);\r\n        if (isReset) {\r\n            // reset rotataion\r\n            this.rotation = rootGroupRect.rotation;\r\n            this.transformOrigin = props.defaultGroupOrigin || \"50% 50%\";\r\n            this.scale = [1, 1];\r\n        }\r\n        this._targetGroups = targetGroups;\r\n        this.renderGroupRects = renderGroupRects;\r\n        var transformOrigin = this.transformOrigin;\r\n        var rotation = this.rotation;\r\n        var scale = this.scale;\r\n        var width = rootGroupRect.width, height = rootGroupRect.height, minX = rootGroupRect.minX, minY = rootGroupRect.minY;\r\n        var posesInfo = rotatePosesInfo([\r\n            [0, 0],\r\n            [width, 0],\r\n            [0, height],\r\n            [width, height],\r\n        ], convertTransformOriginArray(transformOrigin, width, height), this.rotation / 180 * Math.PI);\r\n        var _b = getMinMaxs(posesInfo.result), deltaX = _b.minX, deltaY = _b.minY;\r\n        var rotateScale = \" rotate(\".concat(rotation, \"deg)\")\r\n            + \" scale(\".concat(sign(scale[0]), \", \").concat(sign(scale[1]), \")\");\r\n        var transform = \"translate(\".concat(-deltaX, \"px, \").concat(-deltaY, \"px)\").concat(rotateScale);\r\n        this.controlBox.style.transform\r\n            = \"translate3d(\".concat(minX, \"px, \").concat(minY, \"px, \").concat(this.props.translateZ || 0, \")\");\r\n        target.style.cssText += \"left:0px;top:0px;\"\r\n            + \"transform-origin:\".concat(transformOrigin, \";\")\r\n            + \"width:\".concat(width, \"px;height:\").concat(height, \"px;\")\r\n            + \"transform: \".concat(transform);\r\n        state.width = width;\r\n        state.height = height;\r\n        var container = this.getContainer();\r\n        var info = getMoveableTargetInfo(this.controlBox, target, this.controlBox, this.getContainer(), this._rootContainer || container, []);\r\n        var pos = [info.left, info.top];\r\n        var _c = __read(getAbsolutePosesByState(info), 4), pos1 = _c[0], pos2 = _c[1], pos3 = _c[2], pos4 = _c[3]; // info.left + info.pos(1 ~ 4)\r\n        var minPos = getMinMaxs([pos1, pos2, pos3, pos4]);\r\n        var delta = [minPos.minX, minPos.minY];\r\n        var direction = sign(scale[0] * scale[1]);\r\n        info.pos1 = minus(pos1, delta);\r\n        info.pos2 = minus(pos2, delta);\r\n        info.pos3 = minus(pos3, delta);\r\n        info.pos4 = minus(pos4, delta);\r\n        // info.left = info.left + delta[0];\r\n        // info.top = info.top + delta[1];\r\n        info.left = minX - info.left + delta[0];\r\n        info.top = minY - info.top + delta[1];\r\n        info.origin = minus(plus(pos, info.origin), delta);\r\n        info.beforeOrigin = minus(plus(pos, info.beforeOrigin), delta);\r\n        info.originalBeforeOrigin = plus(pos, info.originalBeforeOrigin);\r\n        info.transformOrigin = minus(plus(pos, info.transformOrigin), delta);\r\n        target.style.transform\r\n            = \"translate(\".concat(-deltaX - delta[0], \"px, \").concat(-deltaY - delta[1], \"px)\")\r\n                + rotateScale;\r\n        setStoreCache();\r\n        this.updateState(__assign(__assign({}, info), { posDelta: delta, direction: direction, beforeDirection: direction }), isSetState);\r\n    };\r\n    MoveableGroup.prototype.getRect = function () {\r\n        return __assign(__assign({}, _super.prototype.getRect.call(this)), { children: this.moveables.map(function (child) { return child.getRect(); }) });\r\n    };\r\n    MoveableGroup.prototype.triggerEvent = function (name, e, isManager) {\r\n        if (isManager || name.indexOf(\"Group\") > -1) {\r\n            return _super.prototype.triggerEvent.call(this, name, e);\r\n        }\r\n        else {\r\n            this._emitter.trigger(name, e);\r\n        }\r\n    };\r\n    MoveableGroup.prototype.getRequestChildStyles = function () {\r\n        var styleNames = this.getEnabledAbles().reduce(function (names, able) {\r\n            var _a, _b;\r\n            var ableStyleNames = ((_b = (_a = able.requestChildStyle) === null || _a === void 0 ? void 0 : _a.call(able)) !== null && _b !== void 0 ? _b : []);\r\n            return __spreadArray(__spreadArray([], __read(names), false), __read(ableStyleNames), false);\r\n        }, []);\r\n        return styleNames;\r\n    };\r\n    MoveableGroup.prototype.getMoveables = function () {\r\n        return __spreadArray([], __read(this.moveables), false);\r\n    };\r\n    MoveableGroup.prototype.updateAbles = function () {\r\n        _super.prototype.updateAbles.call(this, __spreadArray(__spreadArray([], __read(this.props.ables), false), [Groupable], false), \"Group\");\r\n    };\r\n    MoveableGroup.prototype._updateTargets = function () {\r\n        _super.prototype._updateTargets.call(this);\r\n        this._originalDragTarget = this.props.dragTarget || this.areaElement;\r\n        this._dragTarget = getRefTarget(this._originalDragTarget, true);\r\n    };\r\n    MoveableGroup.prototype._updateEvents = function () {\r\n        var state = this.state;\r\n        var props = this.props;\r\n        var prevTarget = this._prevDragTarget;\r\n        var nextTarget = props.dragTarget || this.areaElement;\r\n        var targets = props.targets;\r\n        var _a = this.differ.update(targets), added = _a.added, changed = _a.changed, removed = _a.removed;\r\n        var isTargetChanged = added.length || removed.length;\r\n        if (isTargetChanged || this._prevOriginalDragTarget !== this._originalDragTarget) {\r\n            unsetGesto(this, false);\r\n            unsetGesto(this, true);\r\n            this.updateState({ gestos: {} });\r\n        }\r\n        if (prevTarget !== nextTarget) {\r\n            state.target = null;\r\n        }\r\n        if (!state.target) {\r\n            state.target = this.areaElement;\r\n            this.controlBox.style.display = \"block\";\r\n        }\r\n        if (state.target) {\r\n            if (!this.targetGesto) {\r\n                this.targetGesto = getTargetAbleGesto(this, this._dragTarget, \"Group\");\r\n            }\r\n            if (!this.controlGesto) {\r\n                this.controlGesto = getControlAbleGesto(this, \"GroupControl\");\r\n            }\r\n        }\r\n        var isContainerChanged = !equals(state.container, props.container);\r\n        if (isContainerChanged) {\r\n            state.container = props.container;\r\n        }\r\n        if (isContainerChanged\r\n            || isTargetChanged\r\n            || this.transformOrigin !== (props.defaultGroupOrigin || \"50% 50%\")\r\n            || changed.length\r\n            || targets.length && !isDeepArrayEquals(this._targetGroups, props.targetGroups || [])) {\r\n            this.updateRect();\r\n            this._hasFirstTargets = true;\r\n        }\r\n        this._isPropTargetChanged = !!isTargetChanged;\r\n    };\r\n    MoveableGroup.prototype._updateObserver = function () { };\r\n    MoveableGroup.defaultProps = __assign(__assign({}, MoveableManager.defaultProps), { transformOrigin: [\"50%\", \"50%\"], groupable: true, dragArea: true, keepRatio: true, targets: [], defaultGroupRotate: 0, defaultGroupOrigin: \"50% 50%\" });\r\n    return MoveableGroup;\r\n}(MoveableManager));\n\n/**\r\n * @namespace Moveable.IndividualGroup\r\n * @description Create targets individually, not as a group.Create targets individually, not as a group.\r\n */\r\nvar MoveableIndividualGroup = /*#__PURE__*/ (function (_super) {\r\n    __extends(MoveableIndividualGroup, _super);\r\n    function MoveableIndividualGroup() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.moveables = [];\r\n        return _this;\r\n    }\r\n    MoveableIndividualGroup.prototype.render = function () {\r\n        var _this = this;\r\n        var _a;\r\n        var props = this.props;\r\n        var cspNonce = props.cspNonce, ControlBoxElement = props.cssStyled, persistData = props.persistData;\r\n        var targets = props.targets || [];\r\n        var length = targets.length;\r\n        var canPersist = this.isUnmounted || !length;\r\n        var persistDatChildren = (_a = persistData === null || persistData === void 0 ? void 0 : persistData.children) !== null && _a !== void 0 ? _a : [];\r\n        if (canPersist && !length && persistDatChildren.length) {\r\n            targets = persistDatChildren.map(function () { return null; });\r\n        }\r\n        else if (!canPersist) {\r\n            persistDatChildren = [];\r\n        }\r\n        return React.createElement(ControlBoxElement, { cspNonce: cspNonce, ref: ref(this, \"controlBox\"), className: prefix(\"control-box\") }, targets.map(function (target, i) {\r\n            var _a, _b;\r\n            var individualProps = (_b = (_a = props.individualGroupableProps) === null || _a === void 0 ? void 0 : _a.call(props, target, i)) !== null && _b !== void 0 ? _b : {};\r\n            return React.createElement(MoveableManager, __assign({ key: \"moveable\" + i, ref: refs(_this, \"moveables\", i) }, props, individualProps, { target: target, wrapperMoveable: _this, isWrapperMounted: _this.isMoveableMounted, persistData: persistDatChildren[i] }));\r\n        }));\r\n    };\r\n    MoveableIndividualGroup.prototype.componentDidMount = function () { };\r\n    MoveableIndividualGroup.prototype.componentDidUpdate = function () { };\r\n    MoveableIndividualGroup.prototype.getTargets = function () {\r\n        return this.props.targets;\r\n    };\r\n    MoveableIndividualGroup.prototype.updateRect = function (type, isTarget, isSetState) {\r\n        if (isSetState === void 0) { isSetState = true; }\r\n        setStoreCache(true);\r\n        this.moveables.forEach(function (moveable) {\r\n            moveable.updateRect(type, isTarget, isSetState);\r\n        });\r\n        setStoreCache();\r\n    };\r\n    MoveableIndividualGroup.prototype.getRect = function () {\r\n        return __assign(__assign({}, _super.prototype.getRect.call(this)), { children: this.moveables.map(function (child) { return child.getRect(); }) });\r\n    };\r\n    MoveableIndividualGroup.prototype.request = function (ableName, param, isInstant) {\r\n        if (param === void 0) { param = {}; }\r\n        var results = this.moveables.map(function (m) { return m.request(ableName, __assign(__assign({}, param), { isInstant: false }), false); });\r\n        var requestInstant = isInstant || param.isInstant;\r\n        var requester = {\r\n            request: function (ableParam) {\r\n                results.forEach(function (r) { return r.request(ableParam); });\r\n                return this;\r\n            },\r\n            requestEnd: function () {\r\n                results.forEach(function (r) { return r.requestEnd(); });\r\n                return this;\r\n            },\r\n        };\r\n        return requestInstant ? requester.request(param).requestEnd() : requester;\r\n    };\r\n    MoveableIndividualGroup.prototype.dragStart = function (e, target) {\r\n        if (target === void 0) { target = e.target; }\r\n        var inputTarget = target;\r\n        var childMoveable = find(this.moveables, function (child) {\r\n            var target = child.getTargets()[0];\r\n            var controlBoxElement = child.getControlBoxElement();\r\n            var dragElement = child.getDragElement();\r\n            if (!target || !dragElement) {\r\n                return false;\r\n            }\r\n            return dragElement === inputTarget || dragElement.contains(inputTarget)\r\n                || (dragElement !== target && target === inputTarget || target.contains(inputTarget))\r\n                || controlBoxElement === inputTarget || controlBoxElement.contains(inputTarget);\r\n        });\r\n        if (childMoveable) {\r\n            childMoveable.dragStart(e, target);\r\n        }\r\n        return this;\r\n    };\r\n    MoveableIndividualGroup.prototype.hitTest = function () {\r\n        return 0;\r\n    };\r\n    MoveableIndividualGroup.prototype.isInside = function () {\r\n        return false;\r\n    };\r\n    MoveableIndividualGroup.prototype.isDragging = function () {\r\n        return false;\r\n    };\r\n    MoveableIndividualGroup.prototype.getDragElement = function () {\r\n        return null;\r\n    };\r\n    MoveableIndividualGroup.prototype.getMoveables = function () {\r\n        return __spreadArray([], __read(this.moveables), false);\r\n    };\r\n    MoveableIndividualGroup.prototype.updateRenderPoses = function () { };\r\n    MoveableIndividualGroup.prototype.checkUpdate = function () { };\r\n    MoveableIndividualGroup.prototype.triggerEvent = function () { };\r\n    MoveableIndividualGroup.prototype.updateAbles = function () { };\r\n    MoveableIndividualGroup.prototype._updateEvents = function () { };\r\n    MoveableIndividualGroup.prototype._updateObserver = function () { };\r\n    return MoveableIndividualGroup;\r\n}(MoveableManager));\n\nfunction getElementTargets(refTargets, selectorMap) {\r\n    var elementTargets = [];\r\n    refTargets.forEach(function (target) {\r\n        if (!target) {\r\n            return;\r\n        }\r\n        if (isString(target)) {\r\n            if (selectorMap[target]) {\r\n                elementTargets.push.apply(elementTargets, __spreadArray([], __read(selectorMap[target]), false));\r\n            }\r\n            return;\r\n        }\r\n        if (isArray(target)) {\r\n            elementTargets.push.apply(elementTargets, __spreadArray([], __read(getElementTargets(target, selectorMap)), false));\r\n        }\r\n        else {\r\n            elementTargets.push(target);\r\n        }\r\n    });\r\n    return elementTargets;\r\n}\r\nfunction getTargetGroups(refTargets, selectorMap) {\r\n    var targetGroups = [];\r\n    refTargets.forEach(function (target) {\r\n        if (!target) {\r\n            return;\r\n        }\r\n        if (isString(target)) {\r\n            if (selectorMap[target]) {\r\n                targetGroups.push.apply(targetGroups, __spreadArray([], __read(selectorMap[target]), false));\r\n            }\r\n            return;\r\n        }\r\n        if (isArray(target)) {\r\n            targetGroups.push(getTargetGroups(target, selectorMap));\r\n        }\r\n        else {\r\n            targetGroups.push(target);\r\n        }\r\n    });\r\n    return targetGroups;\r\n}\r\nfunction compareRefTargets(prevRefTargets, nextRefTargets) {\r\n    return (prevRefTargets.length !== nextRefTargets.length) || prevRefTargets.some(function (target, i) {\r\n        var nextTarget = nextRefTargets[i];\r\n        if (!target && !nextTarget) {\r\n            return false;\r\n        }\r\n        else if (target != nextTarget) {\r\n            if (isArray(target) && isArray(nextTarget)) {\r\n                return compareRefTargets(target, nextTarget);\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    });\r\n}\r\nvar InitialMoveable = /*#__PURE__*/ (function (_super) {\r\n    __extends(InitialMoveable, _super);\r\n    function InitialMoveable() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.refTargets = [];\r\n        _this.selectorMap = {};\r\n        _this._differ = new ChildrenDiffer();\r\n        _this._elementTargets = [];\r\n        _this._tmpRefTargets = [];\r\n        _this._tmpSelectorMap = {};\r\n        _this._onChangeTargets = null;\r\n        return _this;\r\n    }\r\n    InitialMoveable.makeStyled = function () {\r\n        var cssMap = {};\r\n        var ables = this.getTotalAbles();\r\n        ables.forEach(function (_a) {\r\n            var css = _a.css;\r\n            if (!css) {\r\n                return;\r\n            }\r\n            css.forEach(function (text) {\r\n                cssMap[text] = true;\r\n            });\r\n        });\r\n        var style = getKeys(cssMap).join(\"\\n\");\r\n        this.defaultStyled = styled(\"div\", prefixCSS(PREFIX, MOVEABLE_CSS + style));\r\n    };\r\n    InitialMoveable.getTotalAbles = function () {\r\n        return __spreadArray([Default, Groupable, IndividualGroupable, DragArea], __read(this.defaultAbles), false);\r\n    };\r\n    InitialMoveable.prototype.render = function () {\r\n        var _a;\r\n        var moveableContructor = this.constructor;\r\n        if (!moveableContructor.defaultStyled) {\r\n            moveableContructor.makeStyled();\r\n        }\r\n        var _b = this.props, userAbles = _b.ables, userProps = _b.props, props = __rest(_b, [\"ables\", \"props\"]);\r\n        var _c = __read(this._updateRefs(true), 2), refTargets = _c[0], nextSelectorMap = _c[1];\r\n        var elementTargets = getElementTargets(refTargets, nextSelectorMap);\r\n        var isGroup = elementTargets.length > 1;\r\n        var totalAbles = moveableContructor.getTotalAbles();\r\n        var ables = __spreadArray(__spreadArray([], __read(totalAbles), false), __read((userAbles || [])), false);\r\n        var nextProps = __assign(__assign(__assign({}, props), (userProps || {})), { ables: ables, cssStyled: moveableContructor.defaultStyled, customStyledMap: moveableContructor.customStyledMap });\r\n        this._elementTargets = elementTargets;\r\n        var firstRenderState = null;\r\n        var prevMoveable = this.moveable;\r\n        var persistData = props.persistData;\r\n        if (persistData === null || persistData === void 0 ? void 0 : persistData.children) {\r\n            isGroup = true;\r\n        }\r\n        // Even one child is treated as a group if individualGroupable is enabled. #867\r\n        if (props.individualGroupable) {\r\n            return React.createElement(MoveableIndividualGroup, __assign({ key: \"individual-group\", ref: ref(this, \"moveable\") }, nextProps, { target: null, targets: elementTargets }));\r\n        }\r\n        if (isGroup) {\r\n            var targetGroups = getTargetGroups(refTargets, nextSelectorMap);\r\n            // manager\r\n            if (prevMoveable && !prevMoveable.props.groupable && !prevMoveable.props.individualGroupable) {\r\n                var target = prevMoveable.props.target;\r\n                if (target && elementTargets.indexOf(target) > -1) {\r\n                    firstRenderState = __assign({}, prevMoveable.state);\r\n                }\r\n            }\r\n            return React.createElement(MoveableGroup, __assign({ key: \"group\", ref: ref(this, \"moveable\") }, nextProps, (_a = props.groupableProps) !== null && _a !== void 0 ? _a : {}, { target: null, targets: elementTargets, targetGroups: targetGroups, firstRenderState: firstRenderState }));\r\n        }\r\n        else {\r\n            var target_1 = elementTargets[0];\r\n            // manager\r\n            if (prevMoveable && (prevMoveable.props.groupable || prevMoveable.props.individualGroupable)) {\r\n                var moveables = prevMoveable.moveables || [];\r\n                var prevTargetMoveable = find(moveables, function (mv) { return mv.props.target === target_1; });\r\n                if (prevTargetMoveable) {\r\n                    firstRenderState = __assign({}, prevTargetMoveable.state);\r\n                }\r\n            }\r\n            return React.createElement(MoveableManager, __assign({ key: \"single\", ref: ref(this, \"moveable\") }, nextProps, { target: target_1, firstRenderState: firstRenderState }));\r\n        }\r\n    };\r\n    InitialMoveable.prototype.componentDidMount = function () {\r\n        this._checkChangeTargets();\r\n    };\r\n    InitialMoveable.prototype.componentDidUpdate = function () {\r\n        this._checkChangeTargets();\r\n    };\r\n    InitialMoveable.prototype.componentWillUnmount = function () {\r\n        this.selectorMap = {};\r\n        this.refTargets = [];\r\n    };\r\n    /**\r\n     * Get targets set in moveable through target or targets of props.\r\n     * @method Moveable#getTargets\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body, {\r\n     *    target: [targetRef, \".target\", document.querySelectorAll(\".target\")],\r\n     * });\r\n     *\r\n     * console.log(moveable.getTargets());\r\n     */\r\n    InitialMoveable.prototype.getTargets = function () {\r\n        var _a, _b;\r\n        return (_b = (_a = this.moveable) === null || _a === void 0 ? void 0 : _a.getTargets()) !== null && _b !== void 0 ? _b : [];\r\n    };\r\n    /**\r\n     * If the element list corresponding to the selector among the targets is changed, it is updated.\r\n     * @method Moveable#updateSelectors\r\n     * @example\r\n     * import Moveable from \"moveable\";\r\n     *\r\n     * const moveable = new Moveable(document.body, {\r\n     *    target: \".target\",\r\n     * });\r\n     *\r\n     * moveable.updateSelectors();\r\n     */\r\n    InitialMoveable.prototype.updateSelectors = function () {\r\n        this.selectorMap = {};\r\n        this._updateRefs();\r\n        this.forceUpdate();\r\n    };\r\n    /**\r\n     * User changes target and waits for target to change.\r\n     * @method Moveable#waitToChangeTarget\r\n     * @story combination-with-other-components--components-selecto\r\n     * @example\r\n     * document.querySelector(\".target\").addEventListener(\"mousedown\", e => {\r\n     *   moveable.waitToChangeTarget().then(() => {\r\n     *      moveable.dragStart(e, e.currentTarget);\r\n     *   });\r\n     *   moveable.target = e.currentTarget;\r\n     * });\r\n     */\r\n    InitialMoveable.prototype.waitToChangeTarget = function () {\r\n        // let resolvePromise: (e: OnChangeTarget) => void;\r\n        var _this = this;\r\n        // this._onChangeTargets = () => {\r\n        //     this._onChangeTargets = null;\r\n        //     resolvePromise({\r\n        //         moveable: this.getManager(),\r\n        //         targets: this._elementTargets,\r\n        //     });\r\n        // };\r\n        // return new Promise<OnChangeTarget>(resolve => {\r\n        //     resolvePromise = resolve;\r\n        // });\r\n        var resolvePromise;\r\n        this._onChangeTargets = function () {\r\n            _this._onChangeTargets = null;\r\n            resolvePromise();\r\n        };\r\n        return new Promise(function (resolve) {\r\n            resolvePromise = resolve;\r\n        });\r\n    };\r\n    InitialMoveable.prototype.waitToChangeTargets = function () {\r\n        return this.waitToChangeTarget();\r\n    };\r\n    InitialMoveable.prototype.getManager = function () {\r\n        return this.moveable;\r\n    };\r\n    InitialMoveable.prototype.getMoveables = function () {\r\n        return this.moveable.getMoveables();\r\n    };\r\n    InitialMoveable.prototype.getDragElement = function () {\r\n        return this.moveable.getDragElement();\r\n    };\r\n    InitialMoveable.prototype._updateRefs = function (isRender) {\r\n        var prevRefTargets = this.refTargets;\r\n        var nextRefTargets = getRefTargets((this.props.target || this.props.targets));\r\n        var isBrowser = typeof document !== \"undefined\";\r\n        var isUpdate = compareRefTargets(prevRefTargets, nextRefTargets);\r\n        var selectorMap = this.selectorMap;\r\n        var nextSelectorMap = {};\r\n        this.refTargets.forEach(function updateSelectorMap(target) {\r\n            if (isString(target)) {\r\n                var selectorTarget = selectorMap[target];\r\n                if (selectorTarget) {\r\n                    nextSelectorMap[target] = selectorMap[target];\r\n                }\r\n                else if (isBrowser) {\r\n                    isUpdate = true;\r\n                    nextSelectorMap[target] = [].slice.call(document.querySelectorAll(target));\r\n                }\r\n            }\r\n            else if (isArray(target)) {\r\n                target.forEach(updateSelectorMap);\r\n            }\r\n        });\r\n        this._tmpRefTargets = nextRefTargets;\r\n        this._tmpSelectorMap = nextSelectorMap;\r\n        return [\r\n            nextRefTargets,\r\n            nextSelectorMap,\r\n            !isRender && isUpdate,\r\n        ];\r\n    };\r\n    InitialMoveable.prototype._checkChangeTargets = function () {\r\n        var _a, _b, _c;\r\n        this.refTargets = this._tmpRefTargets;\r\n        this.selectorMap = this._tmpSelectorMap;\r\n        var _d = this._differ.update(this._elementTargets), added = _d.added, removed = _d.removed;\r\n        var isTargetChanged = added.length || removed.length;\r\n        if (isTargetChanged) {\r\n            (_b = (_a = this.props).onChangeTargets) === null || _b === void 0 ? void 0 : _b.call(_a, {\r\n                moveable: this.moveable,\r\n                targets: this._elementTargets,\r\n            });\r\n            (_c = this._onChangeTargets) === null || _c === void 0 ? void 0 : _c.call(this);\r\n        }\r\n        var _e = __read(this._updateRefs(), 3), refTargets = _e[0], selectorMap = _e[1], isUpdate = _e[2];\r\n        this.refTargets = refTargets;\r\n        this.selectorMap = selectorMap;\r\n        if (isUpdate) {\r\n            this.forceUpdate();\r\n        }\r\n    };\r\n    InitialMoveable.defaultAbles = [];\r\n    InitialMoveable.customStyledMap = {};\r\n    InitialMoveable.defaultStyled = null;\r\n    __decorate([\r\n        withMethods(MOVEABLE_METHODS)\r\n    ], InitialMoveable.prototype, \"moveable\", void 0);\r\n    return InitialMoveable;\r\n}(React.PureComponent));\n\nvar Moveable = /*#__PURE__*/ (function (_super) {\r\n    __extends(Moveable, _super);\r\n    function Moveable() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Moveable.defaultAbles = MOVEABLE_ABLES;\r\n    return Moveable;\r\n}(InitialMoveable));\n\nfunction makeMoveable(ables) {\r\n    var _a;\r\n    return _a = /*#__PURE__*/ (function (_super) {\r\n            __extends(Moveable, _super);\r\n            function Moveable() {\r\n                return _super !== null && _super.apply(this, arguments) || this;\r\n            }\r\n            return Moveable;\r\n        }(InitialMoveable)),\r\n        _a.defaultAbles = ables,\r\n        _a;\r\n}\n\nexport { Clippable, DIRECTIONS, Draggable, edgeDraggable as EdgeDraggable, InitialMoveable, MOVEABLE_ABLES, MOVEABLE_EVENTS, MOVEABLE_METHODS, MOVEABLE_PROPS, Pinchable, Resizable, Rotatable, Roundable, Scalable, Snappable, Warpable, calculateElementPosition, Moveable as default, getElementInfo, makeAble, makeMoveable };\n//# sourceMappingURL=moveable.esm.js.map\n","import { useContext, useRef } from 'react'\nimport { coords } from '../lib/coords'\nimport { MachineTileContext } from './MachineTileContext'\nimport { useLoopHandler } from './PhysicsContext'\n\nexport default function DebugOverlay({\n  ticksBetweenUpdates = 0,\n}: {\n  ticksBetweenUpdates?: number\n}) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null)\n  const { width, height } = useContext(MachineTileContext)\n\n  const ticksRef = useRef<number | null>(null)\n\n  useLoopHandler(\n    ({ world }) => {\n      const context = canvasRef.current?.getContext('2d')\n      if (!context) {\n        return\n      }\n\n      const { current: ticksSinceUpdate } = ticksRef\n      if (\n        ticksBetweenUpdates > 0 &&\n        ticksSinceUpdate != null &&\n        ticksSinceUpdate < ticksBetweenUpdates\n      ) {\n        ticksRef.current = ticksSinceUpdate + 1\n        return\n      }\n\n      context.clearRect(0, 0, width, height)\n      const { vertices, colors } = world.debugRender()\n\n      for (let i = 0; i < vertices.length / 4; i += 1) {\n        const red = colors[i * 4 + 0] * 255\n        const green = colors[i * 4 + 1] * 255\n        const blue = colors[i * 4 + 2] * 255\n        const alpha = colors[i * 4 + 3] * 255\n\n        context.beginPath()\n        context.strokeStyle = `rgba(${red}, ${green}, ${blue}, ${alpha})`\n        context.lineWidth = 1.5\n        context.moveTo(\n          ...coords.fromRapier.vector(vertices[i * 4 + 0], vertices[i * 4 + 1]),\n        )\n        context.lineTo(\n          ...coords.fromRapier.vector(vertices[i * 4 + 2], vertices[i * 4 + 3]),\n        )\n        context.closePath()\n        context.stroke()\n      }\n\n      ticksRef.current = 0\n    },\n    [width, height, ticksRef, ticksBetweenUpdates],\n  )\n\n  return (\n    <div\n      css={{\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        pointerEvents: 'none',\n        zIndex: 100,\n      }}\n    >\n      <canvas ref={canvasRef} height={width} width={height} />\n    </div>\n  )\n}\n","import { useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from './use-isomorphic-effect.mjs';\n\nfunction useIsMounted() {\n    const isMounted = useRef(false);\n    useIsomorphicLayoutEffect(() => {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    return isMounted;\n}\n\nexport { useIsMounted };\n","import * as React from 'react';\nimport { useId, useRef, useContext, useInsertionEffect } from 'react';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\n\n/**\n * Measurement functionality has to be within a separate component\n * to leverage snapshot lifecycle.\n */\nclass PopChildMeasure extends React.Component {\n    getSnapshotBeforeUpdate(prevProps) {\n        const element = this.props.childRef.current;\n        if (element && prevProps.isPresent && !this.props.isPresent) {\n            const size = this.props.sizeRef.current;\n            size.height = element.offsetHeight || 0;\n            size.width = element.offsetWidth || 0;\n            size.top = element.offsetTop;\n            size.left = element.offsetLeft;\n        }\n        return null;\n    }\n    /**\n     * Required with getSnapshotBeforeUpdate to stop React complaining.\n     */\n    componentDidUpdate() { }\n    render() {\n        return this.props.children;\n    }\n}\nfunction PopChild({ children, isPresent }) {\n    const id = useId();\n    const ref = useRef(null);\n    const size = useRef({\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n    });\n    const { nonce } = useContext(MotionConfigContext);\n    /**\n     * We create and inject a style block so we can apply this explicit\n     * sizing in a non-destructive manner by just deleting the style block.\n     *\n     * We can't apply size via render as the measurement happens\n     * in getSnapshotBeforeUpdate (post-render), likewise if we apply the\n     * styles directly on the DOM node, we might be overwriting\n     * styles set via the style prop.\n     */\n    useInsertionEffect(() => {\n        const { width, height, top, left } = size.current;\n        if (isPresent || !ref.current || !width || !height)\n            return;\n        ref.current.dataset.motionPopId = id;\n        const style = document.createElement(\"style\");\n        if (nonce)\n            style.nonce = nonce;\n        document.head.appendChild(style);\n        if (style.sheet) {\n            style.sheet.insertRule(`\n          [data-motion-pop-id=\"${id}\"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            top: ${top}px !important;\n            left: ${left}px !important;\n          }\n        `);\n        }\n        return () => {\n            document.head.removeChild(style);\n        };\n    }, [isPresent]);\n    return (React.createElement(PopChildMeasure, { isPresent: isPresent, childRef: ref, sizeRef: size }, React.cloneElement(children, { ref })));\n}\n\nexport { PopChild };\n","import * as React from 'react';\nimport { useId, useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { PopChild } from './PopChild.mjs';\n\nconst PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, }) => {\n    const presenceChildren = useConstant(newChildrenMap);\n    const id = useId();\n    const context = useMemo(() => ({\n        id,\n        initial,\n        isPresent,\n        custom,\n        onExitComplete: (childId) => {\n            presenceChildren.set(childId, true);\n            for (const isComplete of presenceChildren.values()) {\n                if (!isComplete)\n                    return; // can stop searching when any is incomplete\n            }\n            onExitComplete && onExitComplete();\n        },\n        register: (childId) => {\n            presenceChildren.set(childId, false);\n            return () => presenceChildren.delete(childId);\n        },\n    }), \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(() => {\n        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(() => {\n        !isPresent &&\n            !presenceChildren.size &&\n            onExitComplete &&\n            onExitComplete();\n    }, [isPresent]);\n    if (mode === \"popLayout\") {\n        children = React.createElement(PopChild, { isPresent: isPresent }, children);\n    }\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.mjs';\nimport { useIsMounted } from '../../utils/use-is-mounted.mjs';\nimport { PresenceChild } from './PresenceChild.mjs';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { useUnmountEffect } from '../../utils/use-unmount-effect.mjs';\nimport { invariant } from '../../utils/errors.mjs';\n\nconst getChildKey = (child) => child.key || \"\";\nfunction updateChildLookup(children, allChildren) {\n    children.forEach((child) => {\n        const key = getChildKey(child);\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    const filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, (child) => {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nconst AnimatePresence = ({ children, custom, initial = true, onExitComplete, exitBeforeEnter, presenceAffectsLayout = true, mode = \"sync\", }) => {\n    invariant(!exitBeforeEnter, \"Replace exitBeforeEnter with mode='wait'\");\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    const forceRender = useContext(LayoutGroupContext).forceRender || useForceUpdate()[0];\n    const isMounted = useIsMounted();\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    const filteredChildren = onlyElements(children);\n    let childrenToRender = filteredChildren;\n    const exitingChildren = useRef(new Map()).current;\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    const presentChildren = useRef(childrenToRender);\n    // A lookup table to quickly reference components by key\n    const allChildren = useRef(new Map()).current;\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    const isInitialRender = useRef(true);\n    useIsomorphicLayoutEffect(() => {\n        isInitialRender.current = false;\n        updateChildLookup(filteredChildren, allChildren);\n        presentChildren.current = childrenToRender;\n    });\n    useUnmountEffect(() => {\n        isInitialRender.current = true;\n        allChildren.clear();\n        exitingChildren.clear();\n    });\n    if (isInitialRender.current) {\n        return (React.createElement(React.Fragment, null, childrenToRender.map((child) => (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child)))));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    childrenToRender = [...childrenToRender];\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    const presentKeys = presentChildren.current.map(getChildKey);\n    const targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    const numPresent = presentKeys.length;\n    for (let i = 0; i < numPresent; i++) {\n        const key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1 && !exitingChildren.has(key)) {\n            exitingChildren.set(key, undefined);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (mode === \"wait\" && exitingChildren.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exitingChildren.forEach((component, key) => {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        const child = allChildren.get(key);\n        if (!child)\n            return;\n        const insertionIndex = presentKeys.indexOf(key);\n        let exitingComponent = component;\n        if (!exitingComponent) {\n            const onExit = () => {\n                // clean up the exiting children map\n                exitingChildren.delete(key);\n                // compute the keys of children that were rendered once but are no longer present\n                // this could happen in case of too many fast consequent renderings\n                // @link https://github.com/framer/motion/issues/2023\n                const leftOverKeys = Array.from(allChildren.keys()).filter((childKey) => !targetKeys.includes(childKey));\n                // clean up the all children map\n                leftOverKeys.forEach((leftOverKey) => allChildren.delete(leftOverKey));\n                // make sure to render only the children that are actually visible\n                presentChildren.current = filteredChildren.filter((presentChild) => {\n                    const presentChildKey = getChildKey(presentChild);\n                    return (\n                    // filter out the node exiting\n                    presentChildKey === key ||\n                        // filter out the leftover children\n                        leftOverKeys.includes(presentChildKey));\n                });\n                // Defer re-rendering until all exiting children have indeed left\n                if (!exitingChildren.size) {\n                    if (isMounted.current === false)\n                        return;\n                    forceRender();\n                    onExitComplete && onExitComplete();\n                }\n            };\n            exitingComponent = (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child));\n            exitingChildren.set(key, exitingComponent);\n        }\n        childrenToRender.splice(insertionIndex, 0, exitingComponent);\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map((child) => {\n        const key = child.key;\n        return exitingChildren.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout, mode: mode }, child));\n    });\n    if (process.env.NODE_ENV !== \"production\" &&\n        mode === \"wait\" &&\n        childrenToRender.length > 1) {\n        console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to \"wait\". This will lead to odd visual behaviour.`);\n    }\n    return (React.createElement(React.Fragment, null, exitingChildren.size\n        ? childrenToRender\n        : childrenToRender.map((child) => cloneElement(child))));\n};\n\nexport { AnimatePresence };\n","import { useState, useCallback } from 'react';\nimport { useIsMounted } from './use-is-mounted.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction useForceUpdate() {\n    const isMounted = useIsMounted();\n    const [forcedRenderCount, setForcedRenderCount] = useState(0);\n    const forceRender = useCallback(() => {\n        isMounted.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n    /**\n     * Defer this to the end of the next animation frame in case there are multiple\n     * synchronous calls.\n     */\n    const deferredForceRender = useCallback(() => frame.postRender(forceRender), [forceRender]);\n    return [deferredForceRender, forcedRenderCount];\n}\n\nexport { useForceUpdate };\n","import { useEffect } from 'react';\n\nfunction useUnmountEffect(callback) {\n    return useEffect(() => () => callback(), []);\n}\n\nexport { useUnmountEffect };\n","import { css } from '@emotion/react'\nimport { motion } from 'framer-motion'\nimport React, { ReactNode, useCallback, useRef } from 'react'\n\nexport const dialogStyles = css({\n  border: '2px solid black',\n  background: 'white',\n  boxShadow: '5px 5px 0 rgba(0, 0, 0, 0.5)',\n  borderRadius: 4,\n})\n\nexport function SwooshyDialog({\n  className,\n  onDismiss,\n  children,\n}: {\n  className?: string\n  onDismiss?: () => void\n  children: ReactNode\n}) {\n  const ref = useRef<HTMLDivElement>(null)\n  const handleClick = useCallback(\n    (ev: React.MouseEvent<HTMLDivElement>) => {\n      if (ev.target === ev.currentTarget) {\n        onDismiss?.()\n      }\n    },\n    [onDismiss],\n  )\n\n  return (\n    <motion.div\n      ref={ref}\n      onClick={handleClick}\n      initial={{ scale: 0, opacity: 0 }}\n      animate={{ scale: 1, opacity: 1 }}\n      exit={{ scale: 0, opacity: 0 }}\n      transition={{ type: 'spring', duration: 0.65 }}\n      css={{\n        position: 'absolute',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: '100%',\n        height: '100%',\n        zIndex: 50,\n        '.wrapper': {\n          display: 'flex',\n          position: 'relative',\n        },\n      }}\n      className={className}\n    >\n      {children}\n    </motion.div>\n  )\n}\n","import imgTutorialCongrats from '@art/tutorial_congrats_4x.png'\nimport imgTutorialExpiry from '@art/tutorial_expiry_4x.png'\nimport imgTutorialRouted from '@art/tutorial_routed_4x.png'\nimport { AnimatePresence } from 'framer-motion'\nimport { useCallback, useMemo, useState } from 'react'\nimport { ComicImage } from './ComicImage'\nimport { SwooshyDialog } from './SwooshyDialog'\n\nconst tutorials = {\n  routed: imgTutorialRouted,\n  expiry: imgTutorialExpiry,\n  submit: imgTutorialCongrats,\n} as const\n\nconst tutorialKeys = Object.keys(tutorials)\n\ntype TutorialKey = keyof typeof tutorials\ntype TutorialState = { [K in TutorialKey]: boolean }\n\nconst STORE_KEY = 'contraptionTips'\n\nfunction loadState(): TutorialState {\n  let data: Record<string, boolean> = {}\n  try {\n    const stored = localStorage.getItem(STORE_KEY)\n    data = JSON.parse(stored ?? '{}') as Record<string, boolean>\n  } catch {\n    // Use defaults\n  }\n\n  return Object.fromEntries(\n    tutorialKeys.map((key) => [key, Boolean(data[key]) ?? false]),\n  ) as TutorialState\n}\n\nfunction saveState(state: TutorialState) {\n  localStorage[STORE_KEY] = JSON.stringify(state)\n}\n\nexport function useTutorials() {\n  const [seenTutorials, setSeenTutorials] = useState(loadState)\n\n  const [visibleTutorial, setVisibleTutorial] = useState<TutorialKey | null>(\n    null,\n  )\n\n  const showTutorial = useCallback(\n    (key: TutorialKey) => {\n      if (seenTutorials[key] || visibleTutorial != null) {\n        return\n      }\n      setVisibleTutorial(key)\n    },\n    [seenTutorials, visibleTutorial],\n  )\n\n  const dismissTutorial = useCallback(\n    (key: TutorialKey) => {\n      setVisibleTutorial(null)\n\n      const nextState = { ...seenTutorials, [key]: true }\n      setSeenTutorials(nextState)\n      saveState(nextState)\n    },\n    [seenTutorials],\n  )\n\n  return useMemo(\n    () => ({ seenTutorials, visibleTutorial, showTutorial, dismissTutorial }),\n    [dismissTutorial, seenTutorials, showTutorial, visibleTutorial],\n  )\n}\n\nexport function EditorTutorials({\n  visibleTutorial,\n  onDismissTutorial,\n}: {\n  visibleTutorial: TutorialKey | null\n  onDismissTutorial: (key: TutorialKey) => void\n}) {\n  const handleDismiss = useCallback(() => {\n    if (!visibleTutorial) {\n      return\n    }\n    onDismissTutorial(visibleTutorial)\n  }, [onDismissTutorial, visibleTutorial])\n\n  return (\n    <AnimatePresence>\n      {visibleTutorial ? (\n        <SwooshyDialog onDismiss={handleDismiss}>\n          <div\n            css={{\n              display: 'flex',\n              position: 'relative',\n            }}\n          >\n            <ComicImage\n              img={tutorials[visibleTutorial]}\n              css={{\n                filter: 'drop-shadow(5px 5px 0 rgba(0, 0, 0, 0.5))',\n              }}\n            />\n            <button\n              css={{\n                position: 'absolute',\n                background: 'none',\n                border: 'none',\n                top: 0,\n                right: 0,\n                width: 24,\n                height: 24,\n                cursor: 'pointer',\n              }}\n              onClick={handleDismiss}\n              aria-label=\"Close\"\n            />\n          </div>\n        </SwooshyDialog>\n      ) : null}\n    </AnimatePresence>\n  )\n}\n","import imgEmergencyStop from '@art/emergency-stop_4x.png'\nimport imgTrash from '@art/trash_4x.png'\nimport { PropsOf, css } from '@emotion/react'\nimport { motion } from 'framer-motion'\nimport { ComicImage } from './ComicImage'\nimport { dialogStyles } from './SwooshyDialog'\nimport { MAX_WIDGET_COUNT } from './constants'\nimport { PaletteItem, WidgetData, stickerList, widgetList } from './widgets'\n\nexport const comicDropShadow = css({\n  filter: 'drop-shadow(2px 2px 0 rgba(0, 0, 0, 0.5))',\n})\n\nexport function ToolButton({\n  disabled,\n  className,\n  'aria-label': ariaLabel,\n  onClick,\n  children,\n  ...props\n}: PropsOf<typeof motion.button>) {\n  return (\n    <motion.button\n      {...props}\n      onClick={onClick}\n      disabled={disabled}\n      css={{\n        padding: 0,\n        border: 'none',\n        background: 'none',\n        cursor: disabled ? 'default' : 'pointer',\n        zIndex: 20,\n      }}\n      className={className}\n      aria-label={ariaLabel}\n    >\n      {children}\n    </motion.button>\n  )\n}\n\nexport default function WidgetPalette({\n  className,\n  widgetCount,\n  onAdd,\n  onTrash,\n  onEmergencyStop,\n}: {\n  className?: string\n  widgetCount: number\n  onAdd: (create: PaletteItem<WidgetData>['create']) => void\n  onTrash: () => void\n  onEmergencyStop: () => void\n}) {\n  const canAddWidgets = widgetCount < MAX_WIDGET_COUNT\n\n  function renderList(list: Record<string, PaletteItem<WidgetData>>) {\n    return Object.entries(list).map(\n      ([type, { preview: WidgetPreview, create }]) => (\n        <div\n          key={type}\n          onClick={() => onAdd(create)}\n          css={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            aspectRatio: 1,\n            cursor: 'pointer',\n            ':hover': {\n              background: '#ccc',\n            },\n          }}\n        >\n          <WidgetPreview />\n        </div>\n      ),\n    )\n  }\n\n  return (\n    <div\n      css={[\n        dialogStyles,\n        {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 12,\n          paddingBottom: 12,\n          zIndex: 70,\n        },\n      ]}\n      className={className}\n    >\n      <div\n        css={{\n          flex: 1,\n          overflow: 'auto',\n          scrollbarWidth: 'thin',\n          opacity: canAddWidgets ? 1 : 0.5,\n          pointerEvents: canAddWidgets ? 'all' : 'none',\n        }}\n      >\n        {renderList(widgetList)}\n        <div\n          css={{\n            borderBottom: '1px dashed black',\n            paddingTop: 10,\n            marginBottom: 10,\n            marginLeft: 4,\n            marginRight: 4,\n          }}\n        />\n        {renderList(stickerList)}\n      </div>\n      {widgetCount > 0.75 * MAX_WIDGET_COUNT && (\n        <div\n          css={{\n            display: 'flex',\n            height: 26,\n            alignItems: 'center',\n            justifyContent: 'center',\n            borderTop: '2px solid black',\n            color: canAddWidgets ? 'black' : 'red',\n          }}\n        >\n          {widgetCount} / {MAX_WIDGET_COUNT}\n        </div>\n      )}\n      <ToolButton\n        onClick={onTrash}\n        aria-label=\"Delete selection\"\n        css={{\n          height: imgTrash.height,\n        }}\n      >\n        <ComicImage img={imgTrash} />\n      </ToolButton>\n      <ToolButton\n        onClick={onEmergencyStop}\n        aria-label=\"Emergency stop\"\n        css={{\n          height: imgEmergencyStop.height,\n        }}\n      >\n        <ComicImage img={imgEmergencyStop} />\n      </ToolButton>\n    </div>\n  )\n}\n","import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import baseForOwn from './_baseForOwn.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nexport default baseEach;\n","import isArrayLike from './isArrayLike.js';\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nexport default createBaseEach;\n","import baseEach from './_baseEach.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nexport default baseMap;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nexport default baseSortBy;\n","import isSymbol from './isSymbol.js';\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nexport default compareAscending;\n","import compareAscending from './_compareAscending.js';\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nexport default compareMultiple;\n","import arrayMap from './_arrayMap.js';\nimport baseGet from './_baseGet.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseMap from './_baseMap.js';\nimport baseSortBy from './_baseSortBy.js';\nimport baseUnary from './_baseUnary.js';\nimport compareMultiple from './_compareMultiple.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  if (iteratees.length) {\n    iteratees = arrayMap(iteratees, function(iteratee) {\n      if (isArray(iteratee)) {\n        return function(value) {\n          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n        }\n      }\n      return iteratee;\n    });\n  } else {\n    iteratees = [identity];\n  }\n\n  var index = -1;\n  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nexport default baseOrderBy;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","import baseFlatten from './_baseFlatten.js';\nimport baseOrderBy from './_baseOrderBy.js';\nimport baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 30 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nexport default sortBy;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nexport default arrayAggregator;\n","import baseEach from './_baseEach.js';\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nexport default baseAggregator;\n","import arrayAggregator from './_arrayAggregator.js';\nimport baseAggregator from './_baseAggregator.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nexport default createAggregator;\n","import baseAssignValue from './_baseAssignValue.js';\nimport createAggregator from './_createAggregator.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nexport default groupBy;\n","import baseClamp from './_baseClamp.js';\nimport toNumber from './toNumber.js';\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nexport default clamp;\n","import { clamp } from 'lodash'\nimport { SVGAttributes } from 'react'\n\nconst PI_2 = 2 * Math.PI\n\nexport function CircleGauge({\n  value: rawValue,\n  lineWidth = 0.2,\n  ...props\n}: { value: number; lineWidth?: number } & SVGAttributes<SVGElement>) {\n  const value = clamp(rawValue, 0, 1)\n  const largeArc = value > 0.5 ? 1 : 0\n  const halfLineWidth = lineWidth / 2\n  const radius = 1 - halfLineWidth\n  const x = radius * Math.sin(value * PI_2) + 1\n  const y = 1 - radius * Math.cos(value * PI_2)\n\n  return (\n    <svg {...props} viewBox=\"0 0 2 2\">\n      {value === 1 ? (\n        <circle\n          r={radius}\n          cx={1}\n          cy={1}\n          strokeWidth={lineWidth}\n          fill=\"transparent\"\n        />\n      ) : (\n        <path\n          d={`M 1 ${halfLineWidth} A ${radius} ${radius} 0 ${largeArc} 1 ${x} ${y}`}\n          strokeWidth={lineWidth}\n          fill=\"transparent\"\n        />\n      )}\n    </svg>\n  )\n}\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { BallData, PuzzlePosition } from '../../types'\nimport { ComicImageAnimation } from '../ComicImage'\nimport { useMachine } from '../MachineContext'\nimport { getPositionStyles } from '../positionStyles'\nimport InputOutput, { InputOutputSide } from './InputOutput'\nimport { BALL_RATE_VARIANCE } from './SpawnInput'\n\nimport imgCheck from '@art/check-circle_4x.png'\nimport imgWrong from '@art/wrong-circle_4x.png'\nimport { sumBy } from 'lodash'\nimport { CircleGauge } from './CircleGauge'\n\nconst imgs = [imgCheck, imgWrong]\n\nconst UPDATE_MS = 1000 / 15\nconst RATE_WINDOW_MS = 10 * 1000\n\nexport default function OutputValidator({\n  x,\n  y,\n  balls: balls,\n  side,\n  id,\n  onValidate,\n}: {\n  side: InputOutputSide\n  id: string\n  onValidate: (id: string, isValid: boolean) => void\n} & PuzzlePosition) {\n  const { msPerBall, exitBall } = useMachine()\n\n  const [gaugeLevel, setGaugeLevel] = useState(0)\n\n  const expectedTypes = useMemo(\n    () => new Set(balls.map(({ type }) => type)),\n    [balls],\n  )\n\n  const totalRate = sumBy(balls, ({ rate }) => rate)\n  const msPerSpawn = msPerBall / totalRate\n  const maxGauge = RATE_WINDOW_MS / msPerSpawn\n  // Allow the gauge to fill 2 balls (+ expected variance) past 100%, so it doesn't immediately drop between receiving balls.\n  const maxGaugeOverfill = maxGauge + 3 + 0.5 * BALL_RATE_VARIANCE\n\n  const gaugePercent = gaugeLevel / maxGauge\n  const isValid = gaugePercent >= 1\n\n  const handleReceiveBall = useCallback(\n    (ballData: BallData) => {\n      const delta = expectedTypes.has(ballData.ballType) ? 1 : -1\n\n      setGaugeLevel((curLevel) =>\n        // Add 1 + the expected 1 the RATE_WINDOW_MS will decay per ball.\n        Math.min(curLevel + delta * 2, maxGaugeOverfill),\n      )\n\n      exitBall(ballData.id)\n    },\n    [exitBall, expectedTypes, maxGaugeOverfill],\n  )\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      // The gauge decays fully after RATE_WINDOW_MS.\n      setGaugeLevel((curLevel) =>\n        Math.max(0, curLevel - maxGauge * (UPDATE_MS / RATE_WINDOW_MS)),\n      )\n    }, UPDATE_MS)\n    return () => {\n      clearInterval(interval)\n    }\n  }, [maxGauge, msPerSpawn])\n\n  useEffect(() => {\n    onValidate?.(id, isValid)\n  }, [id, isValid, onValidate])\n\n  return (\n    <>\n      <div\n        css={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          width: 26,\n          height: 26,\n          marginLeft: side === 'bottom' ? -32 : side === 'right' ? -40 : 40,\n          marginTop: side === 'bottom' ? -40 : -32,\n          borderRadius: '100%',\n          outline: '2px solid white',\n          pointerEvents: 'none',\n          opacity: 0.75,\n          zIndex: 10,\n        }}\n        style={getPositionStyles(x, y)}\n      >\n        <ComicImageAnimation\n          css={{\n            position: 'absolute',\n          }}\n          imgs={imgs}\n          showIdx={isValid ? 0 : 1}\n        />\n        <CircleGauge\n          value={gaugePercent}\n          lineWidth={0.25}\n          css={{\n            position: 'absolute',\n            stroke: isValid ? 'darkgreen' : 'darkred',\n            fill: 'transparent',\n          }}\n        />\n      </div>\n      <InputOutput\n        x={x}\n        y={y}\n        balls={balls}\n        side={side}\n        isInput={false}\n        onReceiveBall={handleReceiveBall}\n      />\n    </>\n  )\n}\n","import { groupBy, sortBy } from 'lodash'\nimport { useCallback, useRef } from 'react'\nimport { coords } from '../../lib/coords'\nimport { Puzzle, PuzzlePosition, Sized } from '../../types'\nimport { useMachineTile } from '../MachineTileContext'\nimport { useCollider } from '../PhysicsContext'\nimport { INPUT_WIDTH } from '../constants'\nimport InputOutput, { InputOutputSide, positionToSide } from './InputOutput'\nimport OutputValidator from './OutputValidator'\nimport SpawnInput from './SpawnInput'\n\nfunction Line({\n  left,\n  top,\n  width,\n  height,\n}: { left: number; top: number } & Sized) {\n  useCollider(\n    ({ ColliderDesc }) =>\n      ColliderDesc.cuboid(...coords.toRapier.lengths(width / 2, height / 2))\n        .setTranslation(\n          ...coords.toRapier.vector(left + width / 2, top + height / 2),\n        )\n        .setRestitution(0.5),\n    [height, width, left, top],\n  )\n\n  return (\n    <div\n      css={{\n        background: 'black',\n      }}\n      style={{\n        position: 'absolute',\n        left,\n        top,\n        width,\n        height,\n      }}\n    />\n  )\n}\n\nfunction hLinesWithBreaks(\n  positions: PuzzlePosition[],\n  offsetX: number,\n  y: number,\n  width: number,\n) {\n  const line = []\n  let left = 0\n\n  const sortedPositions = sortBy(positions, (p) => p.x)\n  for (let i = 0; i < sortedPositions.length; i++) {\n    const { x } = sortedPositions[i]\n    line.push(\n      <Line\n        key={i}\n        left={offsetX + left}\n        top={y}\n        width={x * width - left - INPUT_WIDTH / 2}\n        height={1}\n      />,\n    )\n\n    left = x * width + INPUT_WIDTH / 2\n  }\n\n  line.push(\n    <Line\n      key=\"line-end\"\n      left={offsetX + left}\n      top={y}\n      width={width - left}\n      height={1}\n    />,\n  )\n\n  return line\n}\n\nfunction vLinesWithBreaks(\n  positions: PuzzlePosition[],\n  x: number,\n  offsetY: number,\n  height: number,\n) {\n  const line = []\n  let top = 0\n\n  const sortedPositions = sortBy(positions, (p) => p.y)\n  for (let i = 0; i < sortedPositions.length; i++) {\n    const { y } = sortedPositions[i]\n    line.push(\n      <Line\n        key={i}\n        left={x}\n        top={offsetY + top}\n        width={1}\n        height={y * height - top - INPUT_WIDTH / 2}\n      />,\n    )\n\n    top = y * height + INPUT_WIDTH / 2\n  }\n\n  line.push(\n    <Line\n      key=\"line-end\"\n      left={x}\n      top={offsetY + top}\n      width={1}\n      height={height - top}\n    />,\n  )\n\n  return line\n}\n\nexport default function MachineFrame({\n  inputs,\n  outputs,\n  title,\n  spawnBallsTop,\n  spawnBallsLeft,\n  spawnBallsRight,\n  validateOutputs,\n  onValidate,\n}: Pick<Puzzle, 'inputs' | 'outputs'> & {\n  title?: string | undefined\n  spawnBallsTop?: boolean\n  spawnBallsLeft?: boolean\n  spawnBallsRight?: boolean\n  validateOutputs?: boolean\n  onValidate?: (isValid: boolean) => void\n}) {\n  const {\n    bounds: [offsetX, offsetY],\n    width,\n    height,\n  } = useMachineTile()\n\n  const outputStateMap = useRef<Record<string, boolean>>({})\n  const prevValid = useRef(false)\n  const handleValidate = useCallback(\n    (id: string, isValid: boolean) => {\n      outputStateMap.current[id] = isValid\n      const isAllValid = Object.values(outputStateMap.current).every(Boolean)\n      if (isAllValid !== prevValid.current) {\n        onValidate?.(isAllValid)\n        prevValid.current = isAllValid\n      }\n    },\n    [onValidate],\n  )\n\n  const OutputComponent = validateOutputs ? OutputValidator : InputOutput\n\n  const inputGroups = groupBy(inputs, positionToSide)\n  const outputGroups = groupBy(outputs, positionToSide)\n\n  function renderInputs(\n    side: InputOutputSide,\n    sideInputs: PuzzlePosition[] | undefined,\n  ) {\n    if (!sideInputs) {\n      return null\n    }\n    return sideInputs.map(({ x, y, balls }, idx) => (\n      <SpawnInput\n        key={`${side}-${idx}`}\n        x={offsetX + width * x}\n        y={offsetY + height * y}\n        balls={balls}\n        side={side}\n      />\n    ))\n  }\n\n  return (\n    <>\n      {title && (\n        <div\n          css={{\n            position: 'absolute',\n            left: offsetX,\n            top: offsetY,\n            fontFamily: 'xkcd-Regular-v3',\n            fontSize: 16,\n            marginLeft: 6,\n            marginTop: 4,\n            zIndex: 1,\n          }}\n        >\n          &ldquo;{title}&rdquo;\n        </div>\n      )}\n\n      {spawnBallsTop && renderInputs('top', inputGroups['top'])}\n      {spawnBallsLeft && renderInputs('left', inputGroups['left'])}\n      {spawnBallsRight && renderInputs('right', inputGroups['right'])}\n\n      {Object.entries(outputGroups).flatMap(([side, outputs]) =>\n        outputs.map(({ x, y, balls }, idx) => (\n          <OutputComponent\n            key={`${side}-${idx}`}\n            id={`${side}-${idx}`}\n            x={offsetX + width * x}\n            y={offsetY + height * y}\n            balls={balls}\n            isInput={false}\n            side={side as InputOutputSide}\n            onValidate={handleValidate}\n          />\n        )),\n      )}\n\n      {hLinesWithBreaks(inputGroups.top ?? [], offsetX, offsetY, width)}\n      {hLinesWithBreaks(\n        outputGroups.bottom ?? [],\n        offsetX,\n        offsetY + height - 1,\n        width,\n      )}\n      {vLinesWithBreaks(\n        [...(inputGroups.left ?? []), ...(outputGroups.left ?? [])],\n        offsetX,\n        offsetY,\n        height,\n      )}\n      {vLinesWithBreaks(\n        [...(inputGroups.right ?? []), ...(outputGroups.right ?? [])],\n        offsetX + width - 1,\n        offsetY,\n        height,\n      )}\n    </>\n  )\n}\n","import { useCallback } from 'react'\nimport { coords } from '../../lib/coords'\nimport { Angled, Ball, Vector, isBall } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { getPositionStyles } from '../positionStyles'\n\nimport imgPrism from '@art/prism_4x.png'\nimport type { Collider, RigidBody } from '@dimforge/rapier2d'\nimport { Basis } from '../../lib/utils'\nimport { useCollider, useCollisionHandler } from '../PhysicsContext'\n\nexport interface PrismWidget extends Vector, Angled {\n  type: 'prism'\n}\n\nexport function PrismPreview() {\n  return <ComicImage img={imgPrism} css={{ width: '80%', height: 'auto' }} />\n}\n\nexport function pointToVectorObject(\n  { xBasis, yBasis }: Basis,\n  x: number,\n  y: number,\n) {\n  return coords.toRapier.vectorObject(x - xBasis, y - yBasis)\n}\n\nconst width = imgPrism.width\nconst height = imgPrism.height\nconst MIN_CONTACT_DISTANCE = 0.1\nconst PRISM_REFRACTION_INDEX = 2.0\n\nfunction setRefractionVector(\n  // 2:1 <-> 1:2 is fine, but fyi btw 80:1 <-> 1:80 is really really not - it gets weird as you go towards 0\n  indexRatio: (ball: Ball) => number,\n  // new speed is equal to old speed multiplied by this\n  speedMult: (ball: Ball) => number,\n  // prism\n  prismCollider: Collider | undefined,\n  otherCollider: Collider,\n  // are you joining the prism party? or leaving?\n  headingIn: boolean,\n  // stuff prints when this is non-null\n  logString?: string,\n) {\n  const ball: RigidBody | null = otherCollider.parent()\n  if (ball == null || !isBall(ball) || prismCollider == null) {\n    return null\n  }\n\n  const contact = prismCollider.contactCollider(\n    otherCollider,\n    MIN_CONTACT_DISTANCE,\n  )\n  if (contact == null) {\n    return null\n  }\n\n  // I did a lot of holding up two pencils U_U\n  // normal1 points towards the 'outside' of the prism, and normal2 points inside\n  // so when you're coming into the prism you want normal1 and when you're going out you want normal2\n  // (or the reverse and then you don't invert the velocity vector)\n  const normal = headingIn ? contact.normal1 : contact.normal2\n  const invNormal = headingIn ? contact.normal2 : contact.normal1\n  const ballVellocity = ball.linvel()\n  const ballMass = ball.mass()\n\n  const surfaceAngle = Math.atan2(normal.y, normal.x)\n  // please make sure all vectors are fastened into their seatbelts and pointed in the same direction as the normals\n  const velocityAngle = Math.atan2(\n    -1.0 * ballVellocity.y,\n    -1.0 * ballVellocity.x,\n  )\n  // convert to surface normal coordinate system\n  const angleInc = velocityAngle - surfaceAngle\n  // sin(incident) / sin(refraction) = index destination / index start\n  const angleRefr = Math.asin(\n    // clamp to the domain of asin *just in case*\n    Math.max(Math.min(Math.sin(angleInc) / indexRatio(ball), 1), -1),\n  )\n\n  if (logString) {\n    console.log(`** ${logString}\n        surfaceNormal: ${contact.normal1.x.toFixed(3)}, ${contact.normal1.y.toFixed(3)}\n        surfaceNormal2: ${contact.normal2.x.toFixed(3)}, ${contact.normal2.y.toFixed(3)}\n        prismRot: ${(prismCollider.rotation() / Math.PI).toFixed(3)}\n        surfNorm: x:${normal.x.toFixed(3)}, y:${normal.y.toFixed(3)}\n        surfAngle/pi: ${(surfaceAngle / Math.PI).toFixed(3)}\n        velocityAngle/pi: ${(velocityAngle / Math.PI).toFixed(3)}\n        ballType: ${ball.userData.ballType}\n        ballMass: ${ballMass}\n        angleInc/pi: ${(angleInc / Math.PI).toFixed(3)}\n        angleRefr/pi: ${(angleRefr / Math.PI).toFixed(3)}\n        ballVelocity: ${ballVellocity.x.toFixed(3)}, ${ballVellocity.y.toFixed(3)}\n        indexRatio: ${indexRatio(ball)}\n      `)\n  }\n\n  const newX =\n    invNormal.x * Math.cos(angleRefr) - invNormal.y * Math.sin(angleRefr)\n  const newY =\n    invNormal.x * Math.sin(angleRefr) + invNormal.y * Math.cos(angleRefr)\n\n  const speed =\n    Math.sqrt(ballVellocity.x ** 2 + ballVellocity.y ** 2) * speedMult(ball)\n\n  if (logString) {\n    console.log(`<<${logString}\n          new normal: x:${newX.toFixed(3)}, y:${newY.toFixed(3)}\n    >>`)\n  }\n  ball.setLinvel({ x: newX * speed, y: newY * speed }, true)\n}\n\nexport default function Prism({\n  id,\n  onSelect,\n  x,\n  y,\n  angle,\n}: PrismWidget & EditableWidget) {\n  const collider = useCollider(\n    ({ ColliderDesc, ActiveEvents }) => {\n      const vector = pointToVectorObject.bind(undefined, {\n        xBasis: width / 2.0,\n        yBasis: height / 2.0,\n      })\n      return ColliderDesc.triangle(\n        vector(0, height),\n        vector(width, height),\n        vector(width / 2.0, 0),\n      )\n        .setSensor(true)\n        .setTranslation(...coords.toRapier.vector(x, y))\n        .setRotation(coords.toRapier.angle(angle))\n        .setActiveEvents(\n          ActiveEvents.COLLISION_EVENTS | ActiveEvents.CONTACT_FORCE_EVENTS,\n        )\n    },\n    [x, y, angle],\n  )\n\n  const collisionStart = useCallback(\n    (otherCollider: Collider) => {\n      setRefractionVector(\n        // TODO: base on ball properties\n        (_) => PRISM_REFRACTION_INDEX,\n        // TODO: idk if we want to be able to speed up or slow down the balls, but it is possible here\n        (_) => 1.0,\n        collider,\n        otherCollider,\n        true,\n      )\n    },\n    [collider],\n  )\n\n  const collisionEnd = useCallback(\n    (otherCollider: Collider) => {\n      setRefractionVector(\n        // TODO: see above\n        (_) => 1.0 / PRISM_REFRACTION_INDEX,\n        (_) => 1.0,\n        collider,\n        otherCollider,\n        false,\n      )\n    },\n    [collider],\n  )\n\n  useCollisionHandler('start', collider, collisionStart, [])\n  useCollisionHandler('end', collider, collisionEnd, [])\n\n  return (\n    <ComicImage\n      {...useSelectHandlers(id, onSelect)}\n      img={imgPrism}\n      style={getPositionStyles(x, y, angle)}\n    />\n  )\n}\n","import { coords } from '../../lib/coords'\nimport { Vector } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { useRigidBody } from '../MachineTileContext'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { useRapierEffect } from '../PhysicsContext'\nimport { usePositionedBodyRef } from '../positionStyles'\n\nimport imgWheel from '@art/spoked-wheel_4x.png'\nimport type { ColliderDesc } from '@dimforge/rapier2d'\nimport { useRef } from 'react'\nimport { rotate } from '../../lib/utils'\nimport { pointToVectorObject } from './Prism'\n\nexport interface SpokedWheelWidget extends Vector {\n  type: 'spokedwheel'\n  speed: number\n}\n\nexport function SpokedWheelPreview() {\n  return <ComicImage img={imgWheel} css={{ width: '85%', height: 'auto' }} />\n}\n\nexport function getNextWheelSpeed(wheel: SpokedWheelWidget, key: string) {\n  const currentSpeed = wheel.speed\n  if (\n    key === 'arrowleft' ||\n    (key === 'arrowdown' && currentSpeed < 0) ||\n    (key === 'arrowup' && currentSpeed > 0)\n  ) {\n    return currentSpeed + 1\n  } else if (\n    key === 'arrowright' ||\n    (key === 'arrowup' && currentSpeed < 0) ||\n    (key === 'arrowdown' && currentSpeed > 0)\n  ) {\n    return currentSpeed - 1\n  } else {\n    return null\n  }\n}\n\n// I think this is a really ugly bag of constants and object descriptions\nconst OUTER_WHEEL_RADIUS = 40.0\nconst WHEEL_TOP = 38\nconst WHEEL_LEFT = 79\nconst NUM_SPOKES = 7\n\nconst spokeCapsule = {\n  boundRect: { width: 9.0, height: 10.0 },\n  distanceFromTop: 12.0,\n}\nconst upperConvexPiece = {\n  x: 76,\n  y: 18,\n  topWidth: 7,\n  bottomWidth: 4.5,\n  height: 11.0,\n}\n// typing it liuke this is pretty dumb\ntype Description<T> = {\n  readonly [P in keyof T]: T[P]\n}\ntype HullDescription = Description<typeof upperConvexPiece>\nconst bottomConvexPiece: HullDescription = {\n  x: 77,\n  y: 28,\n  topWidth: 4.5,\n  bottomWidth: 8,\n  height: 10,\n}\n\n/*\n * the spokes are made from a capsule (the top) and then two convex hulls\n * looking something like this:\n *\n *  ^\n * | |\n *  v\n * \\ /\n * / \\\n *\n */\nfunction makeConvexHull(hullDesc: HullDescription, rotationAngle: number) {\n  const { x, y, topWidth, bottomWidth, height } = hullDesc\n  rotate.bind(undefined, rotationAngle)\n  const makePoint = (x: number, y: number) =>\n    rotate(rotationAngle, pointToVectorObject({ xBasis, yBasis }, x, y))\n  const bottomXAdjust = (topWidth - bottomWidth) / 2.0\n  return [\n    makePoint(x, y),\n    makePoint(x + topWidth, y),\n    makePoint(x + bottomXAdjust, y + height),\n    makePoint(x + bottomXAdjust + bottomWidth, y + height),\n  ].flatMap(({ x, y }) => [x, y])\n}\n\nfunction makeSpoke(index: number, colliderDesc: typeof ColliderDesc) {\n  const rotationAngle = (index * 2.0 * Math.PI) / NUM_SPOKES\n  const translationRotation = rotate(\n    rotationAngle,\n    coords.toRapier.vectorObject(0, spokeCapsule.distanceFromTop, {\n      xBasis: 0,\n      yBasis: yBasis,\n    }),\n  )\n  return [\n    colliderDesc\n      .capsule(\n        ...coords.toRapier.lengths(\n          spokeCapsule.boundRect.height / 2.0,\n          spokeCapsule.boundRect.width / 2.0,\n        ),\n      )\n      .setRotation(rotationAngle)\n      .setTranslation(translationRotation.x, translationRotation.y),\n    colliderDesc.convexHull(\n      new Float32Array(makeConvexHull(upperConvexPiece, rotationAngle)),\n    ),\n    colliderDesc.convexHull(\n      new Float32Array(makeConvexHull(bottomConvexPiece, rotationAngle)),\n    ),\n  ]\n}\n\nconst xBasis = imgWheel.width / 2\nconst yBasis = imgWheel.height / 2\n\nexport default function SpokedWheel({\n  id,\n  onSelect,\n  x,\n  y,\n  isSelected,\n  speed,\n}: SpokedWheelWidget & EditableWidget) {\n  const bodyRef = useRigidBody(\n    // @ts-expect-error mad about possibly null convexHull. dont worrty though im filtering null values out\n    ({ RigidBodyDesc, ColliderDesc, RigidBodyType }) => {\n      const wheelCenter = coords.toRapier.vectorObject(\n        WHEEL_LEFT,\n        WHEEL_TOP + OUTER_WHEEL_RADIUS,\n        {\n          xBasis,\n          yBasis,\n        },\n      )\n      return {\n        key: id,\n        bodyDesc: new RigidBodyDesc(RigidBodyType.Dynamic)\n          .lockTranslations()\n          .setAdditionalMassProperties(2, wheelCenter, 2)\n          .setAngularDamping(1),\n        colliderDescs: [\n          ...Array(NUM_SPOKES)\n            .fill(0)\n            .flatMap((_, index) => {\n              return makeSpoke(index, ColliderDesc)\n            })\n            .filter((v) => v != null),\n          ColliderDesc.ball(\n            coords.toRapier.length(OUTER_WHEEL_RADIUS),\n          ).setTranslation(wheelCenter.x, wheelCenter.y),\n        ],\n      }\n    },\n    [id],\n  )\n\n  // Update position without recreating so angular momentum is preserved during edits\n  useRapierEffect(() => {\n    const { current: body } = bodyRef\n    if (!body) {\n      return\n    }\n    body.setTranslation(coords.toRapier.vectorObject(x, y), true)\n  }, [bodyRef, x, y])\n\n  const selectedRef = useRef(isSelected)\n  selectedRef.current = isSelected\n  // separate effect for setting speed so we're not resetting torque when we translate\n  useRapierEffect(() => {\n    const { current: body } = bodyRef\n    if (!body) {\n      return\n    }\n    body.resetTorques(true)\n    body.addTorque(speed, true)\n  }, [bodyRef, speed])\n\n  return (\n    <ComicImage\n      ref={usePositionedBodyRef(bodyRef, {\n        width: imgWheel.width,\n        height: imgWheel.height,\n        initialX: x,\n        initialY: y,\n      })}\n      {...useSelectHandlers(id, onSelect)}\n      img={imgWheel}\n    />\n  )\n}\n","import imgSubmit from '@art/submit_4x.png'\nimport imgWrench from '@art/wrench_4x.png'\nimport { PropsOf } from '@emotion/react'\nimport useLatest from '@react-hook/latest'\nimport { motion } from 'framer-motion'\nimport { max } from 'lodash'\nimport React, {\n  KeyboardEvent,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react'\nimport Moveable, {\n  OnDrag,\n  OnResize,\n  OnResizeStart,\n  OnRotate,\n} from 'react-moveable'\nimport { px, useIdGen } from '../lib/utils'\nimport { Puzzle, WidgetCollection } from '../types'\nimport { ComicImage } from './ComicImage'\nimport DebugOverlay from './DebugOverlay'\nimport { EditorTutorials, useTutorials } from './EditorTutorials'\nimport { useMachine } from './MachineContext'\nimport { useMachineTile } from './MachineTileContext'\nimport { useLoopHandler } from './PhysicsContext'\nimport WidgetPalette, { ToolButton, comicDropShadow } from './WidgetPalette'\nimport { MAX_WIDGET_COUNT } from './constants'\nimport { getPositionStyles } from './positionStyles'\nimport {\n  PaletteItem,\n  WidgetData,\n  Widgets,\n  stickerList,\n  widgetList,\n} from './widgets'\nimport { Balls } from './widgets/Balls'\nimport MachineFrame from './widgets/MachineFrame'\nimport { getNextWheelSpeed } from './widgets/Wheel'\n\nconst DEG_TO_RAD = Math.PI / 180\n\nexport interface EditableWidget {\n  id: string\n  onSelect?: (\n    ev: React.MouseEvent<HTMLDivElement> | React.TouchEvent<HTMLDivElement>,\n    id: string,\n  ) => void\n  isSelected?: boolean\n}\n\ninterface Selection {\n  id: string\n  el: HTMLDivElement\n}\n\nexport function useSelectHandlers(\n  id: EditableWidget['id'],\n  onSelect: EditableWidget['onSelect'],\n) {\n  const handleSelect = useCallback(\n    (\n      ev: React.MouseEvent<HTMLDivElement> | React.TouchEvent<HTMLDivElement>,\n    ) => {\n      onSelect?.(ev, id)\n    },\n    [id, onSelect],\n  )\n  return { onMouseDown: handleSelect, onTouchStart: handleSelect }\n}\n\ntype Widgets = Record<string, WidgetData>\n\n// use arrow keys for fun and profit\n// ... but only when a wheel is selected\nexport function useWheelSpeed(\n  setWidgets: (setState: (widgets: Widgets) => Widgets) => void,\n  selection: Selection | undefined,\n) {\n  // no advantage to recreating everything each time selection changes imo\n  const selectionRef = useRef(selection)\n  selectionRef.current = selection\n  useEffect(() => {\n    function handleKey(ev: KeyboardEvent) {\n      const key = ev.key.toLowerCase()\n      const { current: selection } = selectionRef\n      if (selection == null) {\n        return\n      }\n      setWidgets((widgets) => {\n        const selectedWheel = widgets[selection.id]\n        if (selectedWheel.type === 'spokedwheel') {\n          const speed = getNextWheelSpeed(selectedWheel, key)\n          if (speed != null) {\n            return {\n              ...widgets,\n              [selection.id]: {\n                ...selectedWheel,\n                speed,\n              },\n            }\n          }\n        }\n        return widgets\n      })\n    }\n\n    // @ts-expect-error typescript doesn't like going from event to KeyboardEvent or something\n    window.addEventListener('keydown', handleKey, false)\n    return () => {\n      // @ts-expect-error typescript doesn't like going from event to KeyboardEvent or something\n      window.removeEventListener('keydown', handleKey, false)\n    }\n  }, [selectionRef, setWidgets])\n}\n\nconst dragBounds: PropsOf<typeof Moveable>['bounds'] = {\n  left: 0,\n  top: 0,\n  right: 0,\n  bottom: 0,\n  position: 'css',\n}\n\nexport default function MachineTileEditor({\n  puzzle,\n  initialWidgets,\n  onSubmit,\n}: {\n  puzzle: Puzzle\n  initialWidgets: WidgetCollection\n  onSubmit?: (widgets: WidgetCollection) => void\n}) {\n  const { clearBalls, events: machineEvents } = useMachine()\n  const { width, height } = useMachineTile()\n\n  const moveableRef = useRef<Moveable>(null)\n  const [isShowingPalette, setShowingPalette] = useState(false)\n  const [isManipulating, setManipulating] = useState(false)\n  const [selection, setSelection] = useState<Selection>()\n  const [isValidOutputs, setValidOutputs] = useState(false)\n\n  const nextId = useIdGen(\n    () => max(Object.keys(initialWidgets).map(Number)) ?? 0,\n  )\n  const [widgets, setWidgets] =\n    useState<Record<string, WidgetData>>(initialWidgets)\n  const latestWidgets = useLatest(widgets)\n  const widgetCount = Object.keys(widgets).length\n\n  const tutorials = useTutorials()\n  const canSubmit = isValidOutputs && widgetCount <= MAX_WIDGET_COUNT\n\n  useEffect(() => {\n    function showExpiryTutorial() {\n      tutorials.showTutorial('expiry')\n    }\n    function showRoutedTutorial() {\n      tutorials.showTutorial('routed')\n    }\n    machineEvents.on('ballExpired', showExpiryTutorial)\n    machineEvents.on('exitBall', showRoutedTutorial)\n    return () => {\n      machineEvents.off('ballExpired', showExpiryTutorial)\n      machineEvents.off('exitBall', showRoutedTutorial)\n    }\n  }, [machineEvents, tutorials])\n\n  useEffect(() => {\n    if (canSubmit) {\n      tutorials.showTutorial('submit')\n    }\n  }, [canSubmit, tutorials])\n\n  const handleStartManipulating = useCallback(() => {\n    setManipulating(true)\n  }, [])\n\n  const handleEndManipulating = useCallback(() => {\n    setManipulating(false)\n  }, [])\n\n  useLoopHandler(() => {\n    const { current: moveable } = moveableRef\n    if (!moveable) {\n      return\n    }\n\n    setTimeout(() => {\n      moveable.updateRect()\n    }, 0)\n  }, [])\n\n  const applyImmediateStyles = useCallback(\n    (\n      selection: Selection,\n      { x, y, angle }: { x?: number; y?: number; angle?: number },\n    ) => {\n      const curWidget = latestWidgets.current[selection.id]\n\n      // Not all widgets have rotation so we have to do some type checks for ts to be happy with this.\n      const curAngle = 'angle' in curWidget ? curWidget.angle : 0\n\n      Object.assign(\n        selection.el,\n        getPositionStyles(\n          x ?? curWidget.x,\n          y ?? curWidget.y,\n          angle ?? curAngle,\n        ),\n      )\n    },\n    [latestWidgets],\n  )\n\n  const handleSelect = useCallback(\n    (\n      ev: React.MouseEvent<HTMLDivElement> | React.TouchEvent<HTMLDivElement>,\n      id: string,\n    ) => {\n      async function doSelect() {\n        const { current: moveable } = moveableRef\n        if (!moveable) {\n          return\n        }\n\n        setSelection({ id, el: ev.currentTarget })\n        await moveable.waitToChangeTarget()\n        moveable.dragStart(ev.nativeEvent)\n      }\n      void doSelect()\n    },\n    [setSelection],\n  )\n\n  const handleDrag = useCallback(\n    ({ translate: [x, y] }: OnDrag) => {\n      if (!selection) {\n        return\n      }\n\n      applyImmediateStyles(selection, { x, y })\n\n      setWidgets((curWidgets) => {\n        const selectedWidget = curWidgets[selection.id]\n        return {\n          ...curWidgets,\n          [selection.id]: {\n            ...selectedWidget,\n            x,\n            y,\n          },\n        }\n      })\n    },\n    [applyImmediateStyles, selection],\n  )\n\n  const handleRotate = useCallback(\n    ({ rotation: degRotation }: OnRotate) => {\n      if (!selection) {\n        return\n      }\n\n      const angle = degRotation * DEG_TO_RAD\n\n      applyImmediateStyles(selection, { angle })\n\n      setWidgets((curWidgets) => {\n        const selectedWidget = curWidgets[selection.id]\n        return {\n          ...curWidgets,\n          [selection.id]: {\n            ...selectedWidget,\n            angle,\n          },\n        }\n      })\n    },\n    [applyImmediateStyles, selection],\n  )\n\n  const handleResize = useCallback(\n    ({\n      target,\n      width,\n      height,\n      drag: {\n        translate: [x, y],\n        transform,\n      },\n    }: OnResize) => {\n      if (!selection) {\n        return\n      }\n\n      // It's necessary to immediately apply the styles, otherwise react-moveable gets stale values and glitches out.\n      target.style.transform = transform\n      target.style.width = px(width)\n      target.style.height = px(height)\n\n      setWidgets((curWidgets) => {\n        const selectedWidget = curWidgets[selection.id]\n        return {\n          ...curWidgets,\n          [selection.id]: {\n            ...selectedWidget,\n            x,\n            y,\n            width,\n            height,\n          },\n        }\n      })\n    },\n    [selection],\n  )\n\n  const handleResizeStart = useCallback((ev: OnResizeStart) => {\n    ev.setMin([25, 25])\n    setManipulating(true)\n  }, [])\n\n  const handleDeselect = useCallback((ev: React.MouseEvent<HTMLDivElement>) => {\n    if (ev.target === ev.currentTarget) {\n      setSelection(undefined)\n      setShowingPalette(false)\n    }\n  }, [])\n\n  const handleOpenPalette = useCallback(() => {\n    setShowingPalette(true)\n  }, [])\n\n  const handleAddWidget = useCallback(\n    (create: PaletteItem<WidgetData>['create']) => {\n      setWidgets((curWidgets) => ({\n        ...curWidgets,\n        [nextId()]: create(width / 2, height / 2),\n      }))\n    },\n    [height, nextId, width],\n  )\n\n  const handleTrashWidget = useCallback(() => {\n    if (!selection) {\n      return\n    }\n\n    setWidgets(({ [selection.id]: _removed, ...curWidgets }) => curWidgets)\n    setSelection(undefined)\n  }, [selection])\n\n  const [widgetsKey, setWidgetsKey] = useState(0)\n  const handleEmergencyStop = useCallback(() => {\n    // Remove and recreate widgets\n    setWidgetsKey((x) => x + 1)\n    clearBalls()\n  }, [clearBalls])\n\n  const handleSubmit = useCallback(() => {\n    onSubmit?.(widgets)\n  }, [onSubmit, widgets])\n\n  const [showDebugOverlay, setShowDebugOverlay] = useState(false)\n  // Delete key trashes widgets and ctrl+option+shift+d shows the debug overlay\n  useEffect(() => {\n    function handleKey(ev: KeyboardEvent) {\n      if (ev.key === 'Delete') {\n        handleTrashWidget()\n      } else if (\n        ev.key.toLowerCase() === 'd' &&\n        ev.shiftKey &&\n        ev.ctrlKey &&\n        ev.metaKey\n      ) {\n        setShowDebugOverlay((prev) => !prev)\n      } else if (ev.key === 'Escape') {\n        setShowDebugOverlay(false)\n      }\n    }\n    // @ts-expect-error typescript doesn't like going from event to KeyboardEvent or something\n    window.addEventListener('keydown', handleKey, false)\n    return () => {\n      // @ts-expect-error typescript doesn't like going from event to KeyboardEvent or something\n      window.removeEventListener('keydown', handleKey, false)\n    }\n  }, [handleTrashWidget, selection, setShowDebugOverlay])\n\n  useWheelSpeed(setWidgets, selection)\n\n  const selectedWidget = selection ? widgets[selection.id] : null\n  const selectedWidgetInfo =\n    selectedWidget == null\n      ? null\n      : selectedWidget.type === 'sticker'\n        ? stickerList[selectedWidget.sticker]\n        : widgetList[selectedWidget.type]\n\n  return (\n    <div\n      onMouseDown={handleDeselect}\n      css={{\n        position: 'relative',\n        width,\n        height,\n        overflow: 'hidden',\n        userSelect: 'none',\n      }}\n    >\n      <EditorTutorials\n        visibleTutorial={tutorials.visibleTutorial}\n        onDismissTutorial={tutorials.dismissTutorial}\n      />\n      {/* portal so can display outside extents? */}\n      <Moveable\n        ref={moveableRef}\n        css={{\n          '.moveable-control.moveable-origin': {\n            display: 'none',\n          },\n        }}\n        target={selection?.el}\n        onDrag={handleDrag}\n        onRotate={handleRotate}\n        onResize={handleResize}\n        onResizeStart={handleResizeStart}\n        onDragStart={handleStartManipulating}\n        onDragEnd={handleEndManipulating}\n        onRotateStart={handleStartManipulating}\n        onRotateEnd={handleEndManipulating}\n        onResizeEnd={handleEndManipulating}\n        keepRatio={selectedWidgetInfo?.isSquare}\n        rotatable={selectedWidgetInfo?.canRotate}\n        resizable={selectedWidgetInfo?.canResize}\n        bounds={dragBounds}\n        draggable\n        snappable\n      />\n      <Widgets\n        key={widgetsKey}\n        widgets={widgets}\n        onSelect={handleSelect}\n        selectedId={selection?.id}\n      />\n      <Balls />\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ duration: 1 }}\n      >\n        <MachineFrame\n          inputs={puzzle.inputs}\n          outputs={puzzle.outputs}\n          onValidate={setValidOutputs}\n          spawnBallsTop\n          spawnBallsLeft\n          spawnBallsRight\n          validateOutputs\n        />\n      </motion.div>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.5, duration: 1 }}\n      >\n        <ToolButton\n          onClick={handleOpenPalette}\n          css={[\n            {\n              position: 'absolute',\n              right: 10,\n              top: 10,\n              opacity: isShowingPalette ? 0 : 1,\n              transition: 'opacity 100ms ease-out',\n            },\n            comicDropShadow,\n          ]}\n          aria-label=\"Toolbox\"\n        >\n          <ComicImage img={imgWrench} />\n        </ToolButton>\n        <ToolButton\n          initial={false}\n          animate={{\n            scale:\n              tutorials.seenTutorials.submit ||\n              tutorials.visibleTutorial === 'submit'\n                ? 1\n                : 0,\n            opacity: canSubmit ? 1 : 0.5,\n          }}\n          onClick={handleSubmit}\n          disabled={!canSubmit}\n          aria-label=\"Submit your blueprint\"\n          css={[\n            {\n              position: 'absolute',\n              left: 10,\n              top: 10,\n              width: 50,\n              height: 50,\n              cursor: canSubmit ? 'pointer' : 'not-allowed',\n            },\n            comicDropShadow,\n          ]}\n        >\n          <ComicImage img={imgSubmit} />\n        </ToolButton>\n      </motion.div>\n      <WidgetPalette\n        onAdd={handleAddWidget}\n        onTrash={handleTrashWidget}\n        onEmergencyStop={handleEmergencyStop}\n        widgetCount={widgetCount}\n        css={{\n          position: 'absolute',\n          right: 10,\n          top: 10,\n          bottom: 10,\n          width: 72,\n          transform: isShowingPalette ? '' : `translateX(calc(100% + 10px))`,\n          opacity: isManipulating ? 0.1 : 1,\n          transition: 'transform 250ms ease, opacity 100ms ease-out',\n          pointerEvents: isManipulating ? 'none' : 'all',\n        }}\n      />\n      {showDebugOverlay && <DebugOverlay />}\n    </div>\n  )\n}\n","import imgAnvil from '@art/anvil_4x.png'\nimport { coords } from '../../lib/coords'\nimport { Angled, Vector } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { useRigidBody } from '../MachineTileContext'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { getPositionStyles } from '../positionStyles'\n\nexport interface AnvilWidget extends Vector, Angled {\n  type: 'anvil'\n}\n\nexport function AnvilPreview() {\n  return <ComicImage img={imgAnvil} css={{ width: '70%', height: 'auto' }} />\n}\n\nexport function Anvil({\n  id,\n  onSelect,\n  x,\n  y,\n  angle,\n}: AnvilWidget & EditableWidget) {\n  const width = imgAnvil.width\n  const height = imgAnvil.height\n\n  useRigidBody(\n    ({ RigidBodyDesc, ColliderDesc, RigidBodyType }) => {\n      return {\n        key: null,\n        bodyDesc: new RigidBodyDesc(RigidBodyType.Fixed)\n          .setTranslation(...coords.toRapier.vector(x, y))\n          .setRotation(coords.toRapier.angle(angle)),\n        colliderDescs: [\n          // Top\n          ColliderDesc.triangle(\n            coords.toRapier.vectorObject(-width / 2, -height / 2),\n            coords.toRapier.vectorObject(width / 2, -height / 2),\n            coords.toRapier.vectorObject(0, 0),\n          ).setRestitution(0.7),\n\n          // Bottom\n          ColliderDesc.triangle(\n            coords.toRapier.vectorObject(-23, height / 2),\n            coords.toRapier.vectorObject(34, height / 2),\n            coords.toRapier.vectorObject(-14, 0),\n          ).setRestitution(0.7),\n\n          // Center\n          ColliderDesc.cuboid(...coords.toRapier.lengths(11, 10))\n            .setTranslation(...coords.toRapier.vector(-6, 0))\n            .setRestitution(0.7),\n        ],\n      }\n    },\n    [angle, height, width, x, y],\n  )\n\n  return (\n    <ComicImage\n      {...useSelectHandlers(id, onSelect)}\n      img={imgAnvil}\n      style={getPositionStyles(x, y, angle)}\n    />\n  )\n}\n","import imgAttractor from '@art/attractor_4x.png'\nimport imgRepulsor from '@art/repulsor_4x.png'\nimport { useState } from 'react'\nimport { coords, vectorAngle, vectorDistance } from '../../lib/coords'\nimport { Sized, Vector } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { useSensorInTile } from '../MachineTileContext'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { useCollider, useLoopHandler } from '../PhysicsContext'\nimport { getPositionStyles } from '../positionStyles'\n\nexport interface AttractorWidget extends Vector, Sized {\n  type: 'attractor'\n}\n\nexport interface RepulsorWidget extends Vector, Sized {\n  type: 'repulsor'\n}\n\nexport function AttractorPreview() {\n  return <ComicImage img={imgAttractor} />\n}\n\nexport function RepulsorPreview() {\n  return <ComicImage img={imgRepulsor} />\n}\n\nconst startTime = performance.now()\n\nexport function AttractorRepulsor({\n  id,\n  onSelect,\n  isSelected,\n  className,\n  x,\n  y,\n  width,\n  strength,\n}: Vector & Sized & EditableWidget & { className?: string; strength: number }) {\n  const fieldSize = width\n  const radius = 10\n\n  const img = strength < 0 ? imgAttractor : imgRepulsor\n\n  const boxCollider = useCollider(\n    ({ ColliderDesc }) =>\n      ColliderDesc.ball(coords.toRapier.length(radius))\n        .setTranslation(...coords.toRapier.vector(x, y))\n        .setRestitution(0.5),\n    [radius, x, y],\n  )\n\n  const fieldCollider = useCollider(\n    ({ ColliderDesc }) =>\n      ColliderDesc.ball(coords.toRapier.length(fieldSize))\n        .setTranslation(...coords.toRapier.vector(x, y))\n        .setSensor(true),\n    [fieldSize, x, y],\n  )\n\n  const falloffDistance = coords.toRapier.length(fieldSize)\n  const [angle, setAngle] = useState(0)\n  const [scale, setScale] = useState(1)\n\n  useSensorInTile(\n    fieldCollider,\n    (otherCollider) => {\n      const body = otherCollider.parent()\n      if (!boxCollider || !body) {\n        return\n      }\n\n      const distance = vectorDistance(\n        boxCollider.translation(),\n        body.translation(),\n      )\n\n      const angle = vectorAngle(boxCollider.translation(), body.translation())\n\n      const falloff = Math.max(\n        0,\n        Math.pow((falloffDistance - distance) / falloffDistance, 2),\n      )\n\n      const forceVector = {\n        x: strength * falloff * Math.cos(angle),\n        y: strength * falloff * Math.sin(angle),\n      }\n\n      body.applyImpulse(forceVector, true)\n    },\n    [boxCollider, falloffDistance, strength],\n  )\n\n  useLoopHandler(() => {\n    const currentTime = performance.now()\n\n    if (strength < 0) {\n      setAngle(((360 * (currentTime - startTime)) / 4000) % 360)\n    } else {\n      setScale(1 + 0.05 * Math.sin((Math.PI * (currentTime - startTime)) / 500))\n    }\n  }, [strength])\n\n  return (\n    <div\n      {...useSelectHandlers(id, onSelect)}\n      css={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: isSelected\n          ? 'radial-gradient(circle closest-side at center, transparent, rgba(0, 0, 0, .25))'\n          : 'transparent',\n        width: fieldSize,\n        height: fieldSize,\n        borderRadius: '100%',\n      }}\n      style={getPositionStyles(x, y, 0)}\n    >\n      <ComicImage\n        img={img}\n        style={{\n          transform: `rotate(-${angle}deg) scale(${scale})`,\n        }}\n      />\n      <div\n        css={{\n          position: 'absolute',\n          width: radius,\n          height: radius,\n        }}\n        className={className}\n        style={{\n          borderRadius: '100%',\n        }}\n      />\n    </div>\n  )\n}\n\nexport function Attractor(props: AttractorWidget & EditableWidget) {\n  return (\n    <AttractorRepulsor css={{}} {...props} strength={-0.1}></AttractorRepulsor>\n  )\n}\n\nexport function Repulsor(props: RepulsorWidget & EditableWidget) {\n  return <AttractorRepulsor css={{}} {...props} strength={0.5} />\n}\n","import imgBallStand from '@art/ball-stand_4x.png'\nimport { coords } from '../../lib/coords'\nimport { Angled, Vector } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { useRigidBody } from '../MachineTileContext'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { getPositionStyles } from '../positionStyles'\n\nexport interface BallStandWidget extends Vector, Angled {\n  type: 'ballstand'\n}\n\nexport function BallStandPreview() {\n  return (\n    <ComicImage img={imgBallStand} css={{ width: 'auto', height: '80%' }} />\n  )\n}\n\nexport function BallStand({\n  id,\n  onSelect,\n  x,\n  y,\n  angle,\n}: BallStandWidget & EditableWidget) {\n  const width = imgBallStand.width\n  const height = imgBallStand.height\n\n  useRigidBody(\n    ({ RigidBodyDesc, ColliderDesc, RigidBodyType }) => {\n      return {\n        key: null,\n        bodyDesc: new RigidBodyDesc(RigidBodyType.Fixed)\n          .setTranslation(...coords.toRapier.vector(x, y))\n          .setRotation(coords.toRapier.angle(angle)),\n        colliderDescs: [\n          // Stand\n          ColliderDesc.cuboid(\n            ...coords.toRapier.lengths(width / 4, height / 2 - 6),\n          )\n            .setTranslation(...coords.toRapier.vector(0, 4))\n            .setRestitution(0.75),\n\n          // Base\n          ColliderDesc.cuboid(\n            ...coords.toRapier.lengths(width / 2, height / 12),\n          )\n            .setTranslation(\n              ...coords.toRapier.vector(0, height / 2 - height / 12),\n            )\n            .setRestitution(0.75),\n\n          // Top left\n          ColliderDesc.triangle(\n            coords.toRapier.vectorObject(width / 5, -height / 2),\n            coords.toRapier.vectorObject(0, -height / 2 + 10),\n            coords.toRapier.vectorObject(0, -height / 2 + 4),\n          ).setRestitution(0.1),\n\n          // Top right\n          ColliderDesc.triangle(\n            coords.toRapier.vectorObject(-width / 5, -height / 2),\n            coords.toRapier.vectorObject(0, -height / 2 + 10),\n            coords.toRapier.vectorObject(0, -height / 2 + 4),\n          ).setRestitution(0.1),\n        ],\n      }\n    },\n    [angle, height, width, x, y],\n  )\n\n  return (\n    <ComicImage\n      {...useSelectHandlers(id, onSelect)}\n      img={imgBallStand}\n      style={getPositionStyles(x, y, angle)}\n    />\n  )\n}\n","import imgBoard from '@art/board_4x.png'\nimport { coords } from '../../lib/coords'\nimport { Angled, Vector } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { useCollider } from '../PhysicsContext'\nimport { getPositionStyles } from '../positionStyles'\n\nexport interface BoardWidget extends Vector, Angled {\n  type: 'board'\n}\n\nexport function BoardPreview() {\n  return (\n    <ComicImage\n      img={imgBoard}\n      css={{ width: '100%', height: 'auto', transform: 'rotate(-45deg)' }}\n    />\n  )\n}\n\nexport function Board({\n  id,\n  onSelect,\n  x,\n  y,\n  angle,\n}: BoardWidget & EditableWidget) {\n  const width = imgBoard.width\n  const height = imgBoard.height\n\n  useCollider(\n    ({ ColliderDesc }) =>\n      ColliderDesc.cuboid(...coords.toRapier.lengths(width / 2, height / 2))\n        .setTranslation(...coords.toRapier.vector(x, y))\n        .setRotation(coords.toRapier.angle(angle))\n        .setRestitution(0.5),\n    [angle, height, width, x, y],\n  )\n\n  return (\n    <ComicImage\n      {...useSelectHandlers(id, onSelect)}\n      img={imgBoard}\n      style={getPositionStyles(x, y, angle)}\n    />\n  )\n}\n","import imgBrick from '@art/brick_4x.png'\nimport { coords } from '../../lib/coords'\nimport { Angled, Vector } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { useCollider } from '../PhysicsContext'\nimport { getPositionStyles } from '../positionStyles'\n\nexport interface BrickWidget extends Vector, Angled {\n  type: 'brick'\n}\n\nexport function BrickPreview() {\n  return <ComicImage img={imgBrick} css={{ width: '80%', height: 'auto' }} />\n}\n\nexport function Brick({\n  id,\n  onSelect,\n  x,\n  y,\n  angle,\n}: BrickWidget & EditableWidget) {\n  const width = imgBrick.width\n  const height = imgBrick.height\n\n  useCollider(\n    ({ ColliderDesc }) =>\n      ColliderDesc.cuboid(...coords.toRapier.lengths(width / 2, height / 2))\n        .setTranslation(...coords.toRapier.vector(x, y))\n        .setRotation(coords.toRapier.angle(angle))\n        .setRestitution(0.75),\n    [angle, height, width, x, y],\n  )\n\n  return (\n    <ComicImage\n      {...useSelectHandlers(id, onSelect)}\n      img={imgBrick}\n      style={getPositionStyles(x, y, angle)}\n    />\n  )\n}\n","import imgCup from '@art/cup_4x.png'\nimport { coords } from '../../lib/coords'\nimport { Angled, Vector } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { useRigidBody } from '../MachineTileContext'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { getPositionStyles } from '../positionStyles'\n\nexport interface CupWidget extends Vector, Angled {\n  type: 'cup'\n}\n\nexport function CupPreview() {\n  return <ComicImage img={imgCup} css={{ width: '50%', height: 'auto' }} />\n}\n\nexport function Cup({ id, onSelect, x, y, angle }: CupWidget & EditableWidget) {\n  const width = imgCup.width\n  const height = imgCup.height\n\n  useRigidBody(\n    ({ RigidBodyDesc, ColliderDesc, RigidBodyType }) => {\n      return {\n        key: null,\n        bodyDesc: new RigidBodyDesc(RigidBodyType.Fixed)\n          .setTranslation(...coords.toRapier.vector(x, y))\n          .setRotation(coords.toRapier.angle(angle)),\n        colliderDescs: [\n          // Bottom\n          ColliderDesc.cuboid(\n            ...coords.toRapier.lengths(width / 3, height / 12),\n          )\n            .setTranslation(\n              ...coords.toRapier.vector(0, height / 2 - height / 12),\n            )\n            .setRestitution(0.9),\n\n          // Left\n          ColliderDesc.cuboid(\n            ...coords.toRapier.lengths(width / 16, height / 2 - 2),\n          )\n            .setTranslation(...coords.toRapier.vector(-width / 3, 0))\n            .setRotation(coords.toRapier.angle(-Math.PI / 16))\n            .setRestitution(0.9),\n\n          // Right\n          ColliderDesc.cuboid(\n            ...coords.toRapier.lengths(width / 16, height / 2 - 2),\n          )\n            .setTranslation(...coords.toRapier.vector(width / 3, 0))\n            .setRotation(coords.toRapier.angle(Math.PI / 16))\n            .setRestitution(0.9),\n        ],\n      }\n    },\n    [angle, height, width, x, y],\n  )\n\n  return (\n    <ComicImage\n      {...useSelectHandlers(id, onSelect)}\n      img={imgCup}\n      style={getPositionStyles(x, y, angle)}\n    />\n  )\n}\n","import imgCushion from '@art/cushion_4x.png'\nimport { coords } from '../../lib/coords'\nimport { Angled, Vector } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { useCollider } from '../PhysicsContext'\nimport { getPositionStyles } from '../positionStyles'\n\nexport interface CushionWidget extends Vector, Angled {\n  type: 'cushion'\n}\n\nexport function CushionPreview() {\n  return <ComicImage img={imgCushion} css={{ width: '70%', height: 'auto' }} />\n}\n\nexport function Cushion({\n  id,\n  onSelect,\n  x,\n  y,\n  angle,\n}: CushionWidget & EditableWidget) {\n  const width = imgCushion.width\n  const height = imgCushion.height\n\n  const widthRatio = width / 328\n  const heightRatio = height / 157\n\n  useCollider(\n    ({ ColliderDesc, CoefficientCombineRule }) => {\n      const vectorConversion = (xIn: number, yIn: number): [number, number] =>\n        coords.toRapier.vector(\n          -0.5 * width + xIn * widthRatio,\n          -0.5 * height + yIn * heightRatio,\n        )\n\n      return ColliderDesc.roundConvexHull(\n        new Float32Array([\n          ...vectorConversion(6, 40),\n          ...vectorConversion(112, 10),\n          ...vectorConversion(214, 10),\n          ...vectorConversion(321, 42),\n          ...vectorConversion(317, 55),\n          ...vectorConversion(320, 76),\n          ...vectorConversion(315, 100),\n          ...vectorConversion(322, 114),\n          ...vectorConversion(220, 146),\n          ...vectorConversion(139, 149),\n          ...vectorConversion(10, 120),\n          ...vectorConversion(13, 101),\n          ...vectorConversion(12, 58),\n        ]),\n        coords.toRapier.length(5.5 * widthRatio),\n      )!\n        .setTranslation(...coords.toRapier.vector(x, y))\n        .setRotation(coords.toRapier.angle(angle))\n        .setRestitutionCombineRule(CoefficientCombineRule.Min)\n        .setFrictionCombineRule(CoefficientCombineRule.Max)\n        .setRestitution(0.0)\n        .setFriction(0.999)\n    },\n    [angle, width, height, x, y, widthRatio, heightRatio],\n  )\n\n  return (\n    <ComicImage\n      {...useSelectHandlers(id, onSelect)}\n      img={imgCushion}\n      style={getPositionStyles(x, y, angle)}\n    />\n  )\n}\n","import img1 from '@art/fan-blade1_4x.png'\nimport img2 from '@art/fan-blade2_4x.png'\nimport img3 from '@art/fan-blade3_4x.png'\nimport img4 from '@art/fan-blade4_4x.png'\nimport { coords, vectorDistance } from '../../lib/coords'\nimport { Angled, Vector } from '../../types'\nimport { ComicImage, ComicImageAnimation } from '../ComicImage'\nimport { useRigidBody, useSensorInTile } from '../MachineTileContext'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { useCollider, usePhysicsLoaded } from '../PhysicsContext'\nimport { getPositionStyles } from '../positionStyles'\n\nexport interface FanWidget extends Vector, Angled {\n  type: 'fan'\n}\n\nconst imgs = [img1, img2, img3, img4]\n\nexport function FanPreview() {\n  return <ComicImage img={img1} css={{ width: '50%', height: 'auto' }} />\n}\n\nexport default function Fan({\n  id,\n  onSelect,\n  isSelected,\n  x,\n  y,\n  angle,\n}: FanWidget & EditableWidget) {\n  const width = img1.width\n  const height = img1.height\n  const bladesWidth = width / 5\n  const bodyHeight = height / 3\n  const airOffset = 20\n  const radius = 10\n  const length = 300\n  const strength = 0.05\n\n  const bodyRef = useRigidBody(\n    ({ RigidBodyDesc, ColliderDesc, RigidBodyType }) => {\n      return {\n        key: null,\n        bodyDesc: new RigidBodyDesc(RigidBodyType.Fixed)\n          .setTranslation(...coords.toRapier.vector(x, y))\n          .setRotation(coords.toRapier.angle(angle)),\n        colliderDescs: [\n          // Body\n          ColliderDesc.roundCuboid(\n            ...coords.toRapier.lengths(\n              width / 2 - radius,\n              bodyHeight / 2 - radius,\n            ),\n            coords.toRapier.length(radius),\n          ).setRestitution(0.5),\n\n          // Blades\n          ColliderDesc.roundCuboid(\n            ...coords.toRapier.lengths(\n              bladesWidth / 2 - radius,\n              height / 2 - radius,\n            ),\n            coords.toRapier.length(radius),\n          )\n            .setTranslation(\n              ...coords.toRapier.vector(width / 2 - bladesWidth / 2, 0),\n            )\n            .setRestitution(2.5),\n        ],\n      }\n    },\n    [angle, bladesWidth, bodyHeight, height, width, x, y],\n  )\n\n  const airCollider = useCollider(\n    ({ ColliderDesc }) =>\n      ColliderDesc.cuboid(\n        ...coords.toRapier.lengths((length - airOffset) / 2, height / 2),\n      )\n        .setTranslation(\n          ...coords.toRapier.vector(\n            x + 0.5 * length * Math.cos(angle),\n            y + 0.5 * length * Math.sin(angle),\n          ),\n        )\n        .setRotation(coords.toRapier.angle(angle))\n        .setSensor(true),\n    [angle, height, x, y],\n  )\n\n  const xComponent = Math.cos(coords.toRapier.angle(angle))\n  const yComponent = Math.sin(coords.toRapier.angle(angle))\n  const falloffDistance = coords.toRapier.length(length)\n\n  useSensorInTile(\n    airCollider,\n    (otherCollider) => {\n      const { current: body } = bodyRef\n      const otherBody = otherCollider.parent()\n      if (!body || !otherBody) {\n        return\n      }\n\n      const distance = vectorDistance(\n        otherBody.translation(),\n        body.translation(),\n      )\n\n      const falloff = Math.max(\n        0,\n        Math.pow((falloffDistance - distance) / falloffDistance, 2),\n      )\n\n      const forceVector = {\n        x: strength * falloff * xComponent,\n        y: strength * falloff * yComponent,\n      }\n\n      otherBody.applyImpulse(forceVector, true)\n    },\n    [bodyRef, falloffDistance, xComponent, yComponent],\n  )\n\n  const hasPhysics = usePhysicsLoaded()\n\n  return (\n    <div\n      {...useSelectHandlers(id, onSelect)}\n      css={{\n        width,\n        height,\n      }}\n      style={getPositionStyles(x, y, angle)}\n    >\n      <ComicImageAnimation\n        css={{\n          position: 'absolute',\n          height,\n        }}\n        imgs={imgs}\n        rateMS={hasPhysics ? 60 : 0}\n      />\n      {isSelected && (\n        <div\n          css={{\n            position: 'absolute',\n            background:\n              'linear-gradient(to right, rgba(0, 0, 0, .5), transparent)',\n            pointerEvents: 'none',\n            width: length,\n            height,\n            marginLeft: airOffset * 2,\n            opacity: 0.25,\n          }}\n        />\n      )}\n    </div>\n  )\n}\n","import imgHammer from '@art/hammer_4x.png'\nimport { coords } from '../../lib/coords'\nimport { Angled, Vector } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { useRigidBody } from '../MachineTileContext'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { getPositionStyles } from '../positionStyles'\n\nexport interface HammerWidget extends Vector, Angled {\n  type: 'hammer'\n}\n\nexport function HammerPreview() {\n  return (\n    <ComicImage\n      img={imgHammer}\n      css={{ width: '100%', height: 'auto', transform: 'rotate(-45deg)' }}\n    />\n  )\n}\n\nexport function Hammer({\n  id,\n  onSelect,\n  x,\n  y,\n  angle,\n}: HammerWidget & EditableWidget) {\n  const width = imgHammer.width\n  const height = imgHammer.height\n  const headWidth = 23\n  const shaftThickness = 10\n  const handleLength = 30\n  const handleThickness = 12\n  const handleRadius = 2\n\n  useRigidBody(\n    ({ RigidBodyDesc, ColliderDesc, RigidBodyType }) => {\n      return {\n        key: null,\n        bodyDesc: new RigidBodyDesc(RigidBodyType.Fixed)\n          .setTranslation(...coords.toRapier.vector(x, y))\n          .setRotation(coords.toRapier.angle(angle)),\n        colliderDescs: [\n          // Shaft\n          ColliderDesc.cuboid(\n            ...coords.toRapier.lengths(width / 2, shaftThickness / 2),\n          ).setRestitution(0.7),\n\n          // Handle\n          ColliderDesc.roundCuboid(\n            ...coords.toRapier.lengths(\n              handleLength / 2 - handleRadius,\n              handleThickness / 2 - handleRadius,\n              handleRadius,\n            ),\n          )\n            .setTranslation(\n              ...coords.toRapier.vector(-width / 2 + handleLength / 2 + 4, 0),\n            )\n            .setRestitution(0.7),\n\n          // Head\n          ColliderDesc.cuboid(\n            ...coords.toRapier.lengths(headWidth / 2, height / 2),\n          )\n            .setTranslation(\n              ...coords.toRapier.vector(width / 2 - headWidth / 2, 0),\n            )\n            .setRestitution(0.8),\n        ],\n      }\n    },\n    [angle, height, width, x, y],\n  )\n\n  return (\n    <ComicImage\n      {...useSelectHandlers(id, onSelect)}\n      img={imgHammer}\n      style={getPositionStyles(x, y, angle)}\n    />\n  )\n}\n","import { coords } from '../../lib/coords'\nimport { RandallPath } from '../../lib/utils'\nimport { Angled, Vector } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { useRigidBody } from '../MachineTileContext'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { useLoopHandler, useRapierEffect } from '../PhysicsContext'\nimport { usePositionedBodyRef } from '../positionStyles'\nimport { lineCuboid } from './lib/lineCuboid'\n\nimport imgHook from '@art/hook_4x.png'\n\nexport interface HookWidgetBase extends Vector, Angled {\n  type: string\n  mass?: number\n  restitution?: number\n  damping?: number\n  disableSpring?: boolean\n  isLeft?: boolean\n}\n\nexport interface HookWidget extends HookWidgetBase {\n  type: 'hook'\n}\n\nexport interface LeftHookWidget extends HookWidgetBase {\n  type: 'lefthook'\n}\n\nexport function HookPreview() {\n  return (\n    <ComicImage\n      img={imgHook}\n      css={{ width: '100%', height: 'auto', transform: 'rotate(-45deg)' }}\n    />\n  )\n}\n\nexport function FlippedHookPreview() {\n  return (\n    <ComicImage\n      img={imgHook}\n      css={{\n        width: '100%',\n        height: 'auto',\n        transform: 'scaleX(-1) rotate(-45deg)',\n      }}\n    />\n  )\n}\n\nconst paths: RandallPath[] = [\n  // * handle: 1,9 -> 206,9, width: 12\n  { x1: 1, y1: 9, x2: 190, y2: 9, thickness: 9 },\n  // * thickboy: 188,9 -> 206,9, width: 12\n  { x1: 188, y1: 9, x2: 206, y2: 9, thickness: 12 },\n  // * hookbuddyPt1: 202,16 -> 222,26, width: 6\n  { x1: 202, y1: 16, x2: 222, y2: 26, thickness: 6 },\n  // * hookbuddyPt2: 220,26 -> 237,14, width: 6\n  { x1: 220, y1: 26, x2: 237, y2: 14, thickness: 6 },\n  // * hookbuddyPt3: 237,2 -> 237,16, width: 6d\n  { x1: 237, y1: 16, x2: 237, y2: 2, thickness: 6 },\n]\nconst xBasis = imgHook.width / 2\nconst yBasis = imgHook.height / 2\n\nfunction horizontalMirrorPaths(pathNodes: RandallPath[]): RandallPath[] {\n  return pathNodes.map((value) => {\n    return {\n      x1: imgHook.width - value.x1,\n      y1: value.y1,\n      x2: imgHook.width - value.x2,\n      y2: value.y2,\n      thickness: value.thickness,\n    }\n  })\n}\n\nconst mirrorPaths: RandallPath[] = horizontalMirrorPaths(paths)\n\nexport default function Hook({\n  id,\n  onSelect,\n  x,\n  y,\n  mass = 1.3,\n  restitution = 0.1,\n  damping = 0.999,\n  disableSpring = false,\n  isLeft,\n}: HookWidgetBase & EditableWidget) {\n  const bodyRef = useRigidBody(\n    ({ RigidBodyDesc, ColliderDesc, RigidBodyType }) => {\n      return {\n        key: id,\n        bodyDesc: new RigidBodyDesc(RigidBodyType.Dynamic)\n          .lockTranslations()\n          .setAdditionalMassProperties(\n            // initial mass\n            mass,\n            // initial center of mass\n\n            isLeft\n              ? coords.toRapier.vectorObject(-170.5 + xBasis, 9.5 - yBasis)\n              : coords.toRapier.vectorObject(170.5 - xBasis, 9.5 - yBasis),\n            // initial angular inertia\n            mass,\n          )\n          .setAngularDamping(damping)\n          .setCcdEnabled(true),\n        colliderDescs: [\n          ...(isLeft ? mirrorPaths : paths).map((path) =>\n            lineCuboid(ColliderDesc, path, { xBasis, yBasis })\n              .setRestitution(restitution)\n              .setDensity(0),\n          ),\n        ],\n      }\n    },\n    [id, mass, isLeft, damping, restitution],\n  )\n\n  useLoopHandler(\n    (_) => {\n      const { current: body } = bodyRef\n      if (body == null) {\n        return\n      }\n\n      if (disableSpring) {\n        body.resetTorques(false)\n        return\n      }\n\n      const rotation = body.rotation()\n      if (Math.abs(rotation) > 0.001) {\n        const springConstant = -mass * damping\n        body.resetTorques(true)\n        body.applyTorqueImpulse(rotation * springConstant, false)\n      }\n    },\n    [bodyRef, damping, disableSpring, mass],\n  )\n\n  // Update position without recreating so angular momentum is preserved during edits\n  useRapierEffect(() => {\n    const { current: body } = bodyRef\n    if (!body) {\n      return\n    }\n    body.setTranslation(coords.toRapier.vectorObject(x, y), true)\n  }, [bodyRef, x, y])\n\n  return (\n    <div\n      ref={usePositionedBodyRef(bodyRef, {\n        width: imgHook.width,\n        height: imgHook.height,\n        initialX: x,\n        initialY: y,\n      })}\n      {...useSelectHandlers(id, onSelect)}\n    >\n      <ComicImage\n        img={imgHook}\n        style={{\n          transform: isLeft ? 'scaleX(-1)' : undefined,\n        }}\n      />\n    </div>\n  )\n}\n\nexport function LeftHook(props: LeftHookWidget & EditableWidget) {\n  return <Hook {...props} isLeft />\n}\n","import imgBonkOff from '@art/tribonker-off_4x.png'\nimport imgBonkOn from '@art/tribonker-on_4x.png'\nimport { useState } from 'react'\nimport { coords, vectorScale } from '../../lib/coords'\nimport { Angled, Vector } from '../../types'\nimport { ComicImage, ComicImageAnimation } from '../ComicImage'\nimport { useRigidBody } from '../MachineTileContext'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { useCollider, useCollisionHandler } from '../PhysicsContext'\nimport {\n  BONK_ANIMATION_DELAY_MS,\n  TRIANGLE_BUMPER_CONTACT_DISTANCE,\n  TRIANGLE_BUMPER_RADIUS_RATIO,\n  TRIANGLE_BUMPER_SENSOR_FUDGE,\n  TRIANGLE_BUMPER_SENSOR_OFFSET,\n  TRIANGLE_BUMPER_STRENGTH,\n} from '../constants'\nimport { getPositionStyles } from '../positionStyles'\n\nexport interface LeftBumperWidget extends Vector, Angled {\n  type: 'leftbumper'\n}\n\nconst imgs = [imgBonkOff, imgBonkOn]\n\nexport function LeftBumperPreview() {\n  return <ComicImage img={imgBonkOff} css={{ width: '50%', height: 'auto' }} />\n}\n\nexport default function LeftBumper({\n  id,\n  onSelect,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  isSelected,\n  x,\n  y,\n  angle,\n}: LeftBumperWidget & EditableWidget) {\n  const width = imgBonkOff.width\n  const height = imgBonkOff.height\n  const triangleRadius = width * TRIANGLE_BUMPER_RADIUS_RATIO\n  const sensorOffsetRadius = triangleRadius * TRIANGLE_BUMPER_SENSOR_OFFSET\n\n  const bodyRef = useRigidBody(\n    ({ RigidBodyDesc, ColliderDesc, RigidBodyType }) => {\n      return {\n        key: null,\n        bodyDesc: new RigidBodyDesc(RigidBodyType.Fixed)\n          .setTranslation(...coords.toRapier.vector(x, y))\n          .setRotation(coords.toRapier.angle(angle))\n          .setCcdEnabled(true),\n        colliderDescs: [\n          // Body\n          ColliderDesc.roundTriangle(\n            coords.toRapier.vectorObject(\n              0.5 * width - triangleRadius,\n              -0.5 * height + triangleRadius,\n            ),\n            coords.toRapier.vectorObject(\n              -0.5 * width + triangleRadius,\n              0.5 * height - triangleRadius,\n            ),\n            coords.toRapier.vectorObject(\n              0.5 * width - triangleRadius,\n              0.5 * height - triangleRadius,\n            ),\n            coords.toRapier.length(triangleRadius),\n          ).setRestitution(0.1),\n        ],\n      }\n    },\n    [angle, triangleRadius, height, width, x, y],\n  )\n\n  const bumperCollider = useCollider(\n    ({ ColliderDesc, ActiveEvents, ActiveCollisionTypes }) =>\n      ColliderDesc.roundConvexPolyline(\n        new Float32Array([\n          ...coords.toRapier.vector(\n            0.5 * width - triangleRadius * TRIANGLE_BUMPER_SENSOR_FUDGE,\n            -0.5 * height + triangleRadius,\n          ),\n          ...coords.toRapier.vector(\n            -0.5 * width,\n            0.5 * height - triangleRadius,\n          ),\n        ]),\n        coords.toRapier.length(sensorOffsetRadius),\n      )!\n        .setTranslation(...coords.toRapier.vector(x, y))\n        .setRotation(coords.toRapier.angle(angle))\n        .setSensor(true)\n        .setActiveEvents(\n          ActiveEvents.COLLISION_EVENTS | ActiveEvents.CONTACT_FORCE_EVENTS,\n        )\n        .setActiveCollisionTypes(ActiveCollisionTypes.ALL),\n    [angle, triangleRadius, sensorOffsetRadius, width, height, x, y],\n  )\n\n  const strength = TRIANGLE_BUMPER_STRENGTH\n  const bonkOnMS = BONK_ANIMATION_DELAY_MS\n\n  const [isContacting, setContacting] = useState(0)\n\n  useCollisionHandler(\n    'start',\n    bumperCollider,\n    (otherCollider) => {\n      const otherBody = otherCollider.parent()\n      if (!bumperCollider || !otherBody) {\n        return\n      }\n\n      const contact = bumperCollider.contactCollider(\n        otherCollider,\n        TRIANGLE_BUMPER_CONTACT_DISTANCE,\n      )\n\n      if (contact == null) {\n        return\n      }\n\n      const forceVector = vectorScale(\n        contact.normal1,\n        strength / Math.max(otherBody.invMass(), Number.MIN_VALUE),\n      )\n\n      otherBody.applyImpulseAtPoint(forceVector, contact.point2, true)\n      setContacting( ( isContacting ) => isContacting + 1)\n      setTimeout(() => setContacting(( isContacting ) => Math.max(isContacting - 1, 0)), bonkOnMS)\n    },\n    [bodyRef, strength, isContacting, bonkOnMS],\n  )\n\n  return (\n    <ComicImageAnimation\n      {...useSelectHandlers(id, onSelect)}\n      imgs={imgs}\n      showIdx={isContacting > 0 ? 1 : 0}\n      style={getPositionStyles(x, y, angle)}\n    />\n  )\n}\n","import imgBonkOff from '@art/mirrortribonker-off_4x.png'\nimport imgBonkOn from '@art/mirrortribonker-on_4x.png'\nimport { useState } from 'react'\nimport { coords, vectorScale } from '../../lib/coords'\nimport { Angled, Vector } from '../../types'\nimport { ComicImage, ComicImageAnimation } from '../ComicImage'\nimport { useRigidBody } from '../MachineTileContext'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { useCollider, useCollisionHandler } from '../PhysicsContext'\nimport {\n  BONK_ANIMATION_DELAY_MS,\n  TRIANGLE_BUMPER_CONTACT_DISTANCE,\n  TRIANGLE_BUMPER_RADIUS_RATIO,\n  TRIANGLE_BUMPER_SENSOR_FUDGE,\n  TRIANGLE_BUMPER_SENSOR_OFFSET,\n  TRIANGLE_BUMPER_STRENGTH,\n} from '../constants'\nimport { getPositionStyles } from '../positionStyles'\n\nexport interface RightBumperWidget extends Vector, Angled {\n  type: 'rightbumper'\n}\n\nconst imgs = [imgBonkOff, imgBonkOn]\nconst strength = TRIANGLE_BUMPER_STRENGTH\nconst bonkOnMs = BONK_ANIMATION_DELAY_MS\n\nexport function RightBumperPreview() {\n  return <ComicImage img={imgBonkOff} css={{ width: '50%', height: 'auto' }} />\n}\n\nexport default function RightBumper({\n  id,\n  onSelect,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  isSelected,\n  x,\n  y,\n  angle,\n}: RightBumperWidget & EditableWidget) {\n  const width = imgBonkOff.width\n  const height = imgBonkOff.height\n  const triangleRadius = width * TRIANGLE_BUMPER_RADIUS_RATIO\n  const sensorOffsetRadius = triangleRadius * TRIANGLE_BUMPER_SENSOR_OFFSET\n\n  const bodyRef = useRigidBody(\n    ({ RigidBodyDesc, ColliderDesc, RigidBodyType }) => {\n      return {\n        key: null,\n        bodyDesc: new RigidBodyDesc(RigidBodyType.Fixed)\n          .setTranslation(...coords.toRapier.vector(x, y))\n          .setRotation(coords.toRapier.angle(angle))\n          .setCcdEnabled(true),\n        colliderDescs: [\n          // Body\n          ColliderDesc.roundTriangle(\n            coords.toRapier.vectorObject(\n              -0.5 * width + triangleRadius,\n              -0.5 * height + triangleRadius,\n            ),\n            coords.toRapier.vectorObject(\n              0.5 * width - triangleRadius,\n              0.5 * height - triangleRadius,\n            ),\n            coords.toRapier.vectorObject(\n              -0.5 * width + triangleRadius,\n              0.5 * height - triangleRadius,\n            ),\n            coords.toRapier.length(triangleRadius),\n          ).setRestitution(0.1),\n        ],\n      }\n    },\n    [angle, triangleRadius, height, width, x, y],\n  )\n\n  const bumperCollider = useCollider(\n    ({ ColliderDesc, ActiveEvents, ActiveCollisionTypes }) =>\n      ColliderDesc.roundConvexPolyline(\n        new Float32Array([\n          ...coords.toRapier.vector(\n            -0.5 * width + triangleRadius * TRIANGLE_BUMPER_SENSOR_FUDGE,\n            -0.5 * height + triangleRadius,\n          ),\n          ...coords.toRapier.vector(0.5 * width, 0.5 * height - triangleRadius),\n        ]),\n        coords.toRapier.length(sensorOffsetRadius),\n      )!\n        .setTranslation(...coords.toRapier.vector(x, y))\n        .setRotation(coords.toRapier.angle(angle))\n        .setSensor(true)\n        .setActiveEvents(\n          ActiveEvents.COLLISION_EVENTS | ActiveEvents.CONTACT_FORCE_EVENTS,\n        )\n        .setActiveCollisionTypes(ActiveCollisionTypes.ALL),\n    [angle, triangleRadius, sensorOffsetRadius, width, height, x, y],\n  )\n\n  const [isContacting, setContacting] = useState(0)\n\n  useCollisionHandler(\n    'start',\n    bumperCollider,\n    (otherCollider) => {\n      const otherBody = otherCollider.parent()\n      if (!bumperCollider || !otherBody) {\n        return\n      }\n\n      const contact = bumperCollider.contactCollider(\n        otherCollider,\n        TRIANGLE_BUMPER_CONTACT_DISTANCE,\n      )\n\n      if (contact == null) {\n        return\n      }\n\n      const forceVector = vectorScale(\n        contact.normal1,\n        strength / Math.max(otherBody.invMass(), Number.MIN_VALUE),\n      )\n\n      otherBody.applyImpulseAtPoint(forceVector, contact.point2, true)\n      setContacting( ( isContacting ) => isContacting + 1)\n      setTimeout(() => setContacting( ( isContacting ) => Math.max(isContacting - 1, 0)), bonkOnMs)\n    },\n    [bodyRef, strength, isContacting, bonkOnMs],\n  )\n\n  return (\n    <ComicImageAnimation\n      {...useSelectHandlers(id, onSelect)}\n      imgs={imgs}\n      showIdx={isContacting > 0 ? 1 : 0}\n      style={getPositionStyles(x, y, angle)}\n    />\n  )\n}\n","import imgBonkOff from '@art/bonker-off_4x.png'\nimport imgBonkOn from '@art/bonker-on_4x.png'\nimport { useState } from 'react'\nimport {\n  coords,\n  vectorDifference,\n  vectorNorm,\n  vectorScale,\n} from '../../lib/coords'\nimport { Vector, isBall } from '../../types'\nimport { ComicImage, ComicImageAnimation } from '../ComicImage'\nimport { useRigidBody } from '../MachineTileContext'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { useCollider, useCollisionHandler } from '../PhysicsContext'\nimport {\n  BONK_ANIMATION_DELAY_MS,\n  TRIANGLE_BUMPER_CONTACT_DISTANCE as BUMPER_CONTACT_DISTANCE,\n  ROAND_BUMPER_RADIUS_RATIO,\n  ROUND_BUMPER_FALLBACK_RATIO,\n  ROUND_BUMPER_STRENGTH,\n} from '../constants'\nimport { getPositionStyles } from '../positionStyles'\n\nexport interface RoundBumperWidget extends Vector {\n  type: 'roundbumper'\n}\n\nconst imgs = [imgBonkOff, imgBonkOn]\nconst strength = ROUND_BUMPER_STRENGTH\nconst bonkOnMs = BONK_ANIMATION_DELAY_MS\n\nexport function RoundBumperPreview() {\n  return <ComicImage img={imgBonkOff} css={{ width: '65%', height: 'auto' }} />\n}\n\nexport default function RoundBumper({\n  id,\n  onSelect,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  isSelected,\n  x,\n  y,\n}: RoundBumperWidget & EditableWidget) {\n  const width = imgBonkOff.width\n  const bumperRadius = width * ROAND_BUMPER_RADIUS_RATIO\n\n  const bodyRef = useRigidBody(\n    ({ RigidBodyDesc, ColliderDesc, RigidBodyType }) => {\n      return {\n        key: null,\n        bodyDesc: new RigidBodyDesc(RigidBodyType.Fixed)\n          .setTranslation(...coords.toRapier.vector(x, y))\n          .setCcdEnabled(true),\n        colliderDescs: [\n          ColliderDesc.capsule(\n            0,\n            coords.toRapier.length(bumperRadius * ROUND_BUMPER_FALLBACK_RATIO),\n          ).setRestitution(1),\n        ],\n      }\n    },\n    [bumperRadius, x, y],\n  )\n\n  const bumperCollider = useCollider(\n    ({ ColliderDesc, ActiveEvents, ActiveCollisionTypes }) =>\n      ColliderDesc.capsule(0, coords.toRapier.length(bumperRadius))\n        .setTranslation(...coords.toRapier.vector(x, y))\n        .setSensor(true)\n        .setActiveEvents(\n          ActiveEvents.COLLISION_EVENTS | ActiveEvents.CONTACT_FORCE_EVENTS,\n        )\n        .setActiveCollisionTypes(ActiveCollisionTypes.ALL),\n    [bumperRadius, x, y],\n  )\n\n  const [isContacting, setContacting] = useState(0)\n\n  useCollisionHandler(\n    'start',\n    bumperCollider,\n    (otherCollider) => {\n      const { current: body } = bodyRef\n      if (!bumperCollider || !body) {\n        return\n      }\n      const otherBody = otherCollider.parent()\n      if (!otherBody) {\n        return\n      }\n\n      const contact = bumperCollider.contactCollider(\n        otherCollider,\n        BUMPER_CONTACT_DISTANCE,\n      )\n\n      if (contact !== null) {\n        const bodyIsBall = isBall(otherBody)\n\n        otherBody.applyImpulseAtPoint(\n          vectorScale(\n            vectorNorm(\n              vectorDifference(\n                otherCollider.translation(),\n                bumperCollider.translation(),\n              ),\n            ),\n            strength /\n              Math.max(\n                bodyIsBall ? otherBody.invMass() : otherBody.mass(),\n                Number.MIN_VALUE,\n              ),\n          ),\n          contact?.point2,\n          true,\n        )\n        setContacting((isContacting) => isContacting + 1)\n        setTimeout(\n          () => setContacting((isContacting) => Math.max(isContacting - 1, 0)),\n          bonkOnMs,\n        )\n      }\n    },\n    [bodyRef, strength, isContacting, bonkOnMs],\n  )\n\n  return (\n    <ComicImageAnimation\n      {...useSelectHandlers(id, onSelect)}\n      imgs={imgs}\n      showIdx={isContacting > 0 ? 1 : 0}\n      style={getPositionStyles(x, y, 0)}\n    />\n  )\n}\n","import imgCat from '@art/cat_4x.png'\nimport imgDeterminism from '@art/determinism-sign_4x.png'\nimport imgFigure1Happy from '@art/figure1-happy_4x.png'\nimport imgFigure1Sad from '@art/figure1-sad_4x.png'\nimport imgFigure2Happy from '@art/figure2-happy_4x.png'\nimport imgFigure2Sad from '@art/figure2-sad_4x.png'\nimport imgFigure3Happy from '@art/figure3-happy_4x.png'\nimport imgFigure3Sad from '@art/figure3-sad_4x.png'\nimport imgKingbun from '@art/kingbun_4x.png'\nimport imgKnievel from '@art/knievel_4x.png'\nimport imgSquobject from '@art/squobject_4x.png'\nimport { Angled, Vector } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { getPositionStyles } from '../positionStyles'\n\nexport const stickers = {\n  'figure1-happy': imgFigure1Happy,\n  'figure1-sad': imgFigure1Sad,\n  'figure2-happy': imgFigure2Happy,\n  'figure2-sad': imgFigure2Sad,\n  'figure3-happy': imgFigure3Happy,\n  'figure3-sad': imgFigure3Sad,\n  knievel: imgKnievel,\n  squobject: imgSquobject,\n  determinism: imgDeterminism,\n  kingbun: imgKingbun,\n  cat: imgCat,\n} as const\n\nexport type StickerName = keyof typeof stickers\n\nconst smolStickers = new Set<StickerName>(['cat', 'kingbun'])\n\nexport interface StickerWidget extends Vector, Angled {\n  type: 'sticker'\n  sticker: StickerName\n}\n\nexport function StickerPreview({ sticker }: { sticker: StickerName }) {\n  return (\n    <ComicImage\n      img={stickers[sticker]}\n      css={{\n        maxWidth: smolStickers.has(sticker) ? '40%' : '75%',\n        maxHeight: '80%',\n        width: 'auto',\n        height: 'auto',\n      }}\n    />\n  )\n}\n\nexport function Sticker({\n  id,\n  onSelect,\n  x,\n  y,\n  angle,\n  sticker,\n}: StickerWidget & EditableWidget) {\n  return (\n    <ComicImage\n      {...useSelectHandlers(id, onSelect)}\n      img={stickers[sticker]}\n      style={getPositionStyles(x, y, angle)}\n    />\n  )\n}\n","import imgSword from '@art/sword_4x.png'\nimport { coords } from '../../lib/coords'\nimport { Angled, Vector } from '../../types'\nimport { ComicImage } from '../ComicImage'\nimport { useRigidBody } from '../MachineTileContext'\nimport { EditableWidget, useSelectHandlers } from '../MachineTileEditor'\nimport { getPositionStyles } from '../positionStyles'\n\nexport interface SwordWidget extends Vector, Angled {\n  type: 'sword'\n}\n\nexport function SwordPreview() {\n  return (\n    <ComicImage\n      img={imgSword}\n      css={{ width: '100%', height: 'auto', transform: 'rotate(-45deg)' }}\n    />\n  )\n}\n\nexport function Sword({\n  id,\n  onSelect,\n  x,\n  y,\n  angle,\n}: SwordWidget & EditableWidget) {\n  const width = imgSword.width\n  const height = imgSword.height\n  const guardWidth = 9\n  const guardOffset = 35\n  const handleThickness = 10\n  const tipLength = handleThickness\n\n  useRigidBody(\n    ({ RigidBodyDesc, ColliderDesc, RigidBodyType }) => {\n      return {\n        key: null,\n        bodyDesc: new RigidBodyDesc(RigidBodyType.Fixed)\n          .setTranslation(...coords.toRapier.vector(x, y))\n          .setRotation(coords.toRapier.angle(angle)),\n        colliderDescs: [\n          // Handle\n          ColliderDesc.cuboid(\n            ...coords.toRapier.lengths(\n              width / 2 - tipLength / 2,\n              handleThickness / 2,\n            ),\n          )\n            .setTranslation(...coords.toRapier.vector(-tipLength, 0))\n            .setRestitution(0.9),\n\n          // Tip\n          ColliderDesc.triangle(\n            coords.toRapier.vectorObject(\n              width / 2 - tipLength,\n              -handleThickness / 2,\n            ),\n            coords.toRapier.vectorObject(width / 2, 0),\n            coords.toRapier.vectorObject(\n              width / 2 - tipLength,\n              handleThickness / 2,\n            ),\n          ).setRestitution(0.9),\n\n          // Guard\n          ColliderDesc.cuboid(\n            ...coords.toRapier.lengths(guardWidth / 2, height / 2),\n          )\n            .setTranslation(...coords.toRapier.vector(-guardOffset, 0))\n            .setRestitution(0.9),\n        ],\n      }\n    },\n    [angle, height, width, x, y],\n  )\n\n  return (\n    <ComicImage\n      {...useSelectHandlers(id, onSelect)}\n      img={imgSword}\n      style={getPositionStyles(x, y, angle)}\n    />\n  )\n}\n","import assertNever from 'assert-never'\nimport { mapValues } from 'lodash'\nimport React, { FC } from 'react'\nimport { WidgetCollection } from '../../types'\nimport { useMachineTile } from '../MachineTileContext'\nimport { EditableWidget } from '../MachineTileEditor'\nimport { Anvil, AnvilPreview, AnvilWidget } from './Anvil'\nimport {\n  Attractor,\n  AttractorPreview,\n  AttractorWidget,\n  Repulsor,\n  RepulsorPreview,\n  RepulsorWidget,\n} from './AttractorRepulsor'\nimport { BallStand, BallStandPreview, BallStandWidget } from './BallStand'\nimport { Board, BoardPreview, BoardWidget } from './Board'\nimport { Brick, BrickPreview, BrickWidget } from './Brick'\nimport { Cup, CupPreview, CupWidget } from './Cup'\nimport { Cushion, CushionPreview, CushionWidget } from './Cushion'\nimport Fan, { FanPreview, FanWidget } from './Fan'\nimport { Hammer, HammerPreview, HammerWidget } from './Hammer'\nimport Hook, {\n  FlippedHookPreview,\n  HookPreview,\n  HookWidget,\n  LeftHook,\n  LeftHookWidget,\n} from './Hook'\nimport LeftBumper, { LeftBumperPreview, LeftBumperWidget } from './LeftBumper'\nimport Prism, { PrismPreview, PrismWidget } from './Prism'\nimport RightBumper, {\n  RightBumperPreview,\n  RightBumperWidget,\n} from './RightBumper'\nimport RoundBumper, {\n  RoundBumperPreview,\n  RoundBumperWidget,\n} from './RoundBumper'\nimport {\n  Sticker,\n  StickerName,\n  StickerPreview,\n  StickerWidget,\n  stickers,\n} from './Sticker'\nimport { Sword, SwordPreview, SwordWidget } from './Sword'\nimport SpokedWheel, { SpokedWheelPreview, SpokedWheelWidget } from './Wheel'\n\nexport type WidgetData =\n  | BoardWidget\n  | BrickWidget\n  | HammerWidget\n  | SwordWidget\n  | AnvilWidget\n  | FanWidget\n  | AttractorWidget\n  | RepulsorWidget\n  | LeftBumperWidget\n  | RightBumperWidget\n  | HookWidget\n  | LeftHookWidget\n  | RoundBumperWidget\n  | CushionWidget\n  | PrismWidget\n  //| QuantumGateSlowWidget\n  //| QuantumGateFastWidget\n  | SpokedWheelWidget\n  | BallStandWidget\n  | CupWidget\n  | StickerWidget\nexport type WidgetType = WidgetData['type']\n\nexport interface PaletteItem<T> {\n  preview: FC\n  create: (x: number, y: number) => T\n  canRotate?: boolean\n  canResize?: boolean\n  isSquare?: boolean\n}\n\nexport const widgetList: Partial<Record<WidgetType, PaletteItem<WidgetData>>> =\n  {\n    board: {\n      preview: BoardPreview,\n      create: (x: number, y: number) => ({\n        type: 'board',\n        x,\n        y,\n        angle: 0,\n      }),\n      canRotate: true,\n    },\n    hammer: {\n      preview: HammerPreview,\n      create: (x: number, y: number) => ({\n        type: 'hammer',\n        x,\n        y,\n        angle: 0,\n      }),\n      canRotate: true,\n    },\n    sword: {\n      preview: SwordPreview,\n      create: (x: number, y: number) => ({\n        type: 'sword',\n        x,\n        y,\n        angle: 0,\n      }),\n      canRotate: true,\n    },\n    hook: {\n      preview: HookPreview,\n      create: (x: number, y: number) => ({\n        type: 'hook',\n        x,\n        y,\n        angle: 0,\n      }),\n    },\n    lefthook: {\n      preview: FlippedHookPreview,\n      create: (x: number, y: number) => ({\n        type: 'lefthook',\n        x,\n        y,\n        angle: 0,\n      }),\n    },\n    anvil: {\n      preview: AnvilPreview,\n      create: (x: number, y: number) => ({\n        type: 'anvil',\n        x,\n        y,\n        angle: 0,\n      }),\n      canRotate: true,\n    },\n    brick: {\n      preview: BrickPreview,\n      create: (x: number, y: number) => ({\n        type: 'brick',\n        x,\n        y,\n        angle: 0,\n      }),\n      canRotate: true,\n    },\n    fan: {\n      preview: FanPreview,\n      create: (x: number, y: number) => ({\n        type: 'fan',\n        x,\n        y,\n        angle: 0,\n      }),\n      canRotate: true,\n    },\n    cushion: {\n      preview: CushionPreview,\n      create: (x: number, y: number) => ({\n        type: 'cushion',\n        x,\n        y,\n        angle: 0,\n      }),\n      canRotate: true,\n    },\n    roundbumper: {\n      preview: RoundBumperPreview,\n      create: (x: number, y: number) => ({\n        type: 'roundbumper',\n        x,\n        y,\n      }),\n    },\n    rightbumper: {\n      preview: RightBumperPreview,\n      create: (x: number, y: number) => ({\n        type: 'rightbumper',\n        x,\n        y,\n        angle: 0,\n      }),\n      canRotate: true,\n    },\n    leftbumper: {\n      preview: LeftBumperPreview,\n      create: (x: number, y: number) => ({\n        type: 'leftbumper',\n        x,\n        y,\n        angle: 0,\n      }),\n      canRotate: true,\n    },\n\n    attractor: {\n      preview: AttractorPreview,\n      create: (x: number, y: number) => ({\n        type: 'attractor',\n        x,\n        y,\n        width: 150,\n        height: 10,\n      }),\n      canResize: true,\n      isSquare: true,\n    },\n    repulsor: {\n      preview: RepulsorPreview,\n      create: (x: number, y: number) => ({\n        type: 'repulsor',\n        x,\n        y,\n        width: 150,\n        height: 10,\n      }),\n      canResize: true,\n      isSquare: true,\n    } /*\n  quantumgateslow: {\n    preview: QuantumGateSlowPreview,\n    create: (x: number, y: number) => ({\n      type: 'quantumgateslow',\n      x,\n      y,\n      width: 150,\n      height: 10,\n    }),\n    canResize: true,\n    isSquare: true,\n  },\n  quantumgatefast: {\n    preview: QuantumGateFastPreview,\n    create: (x: number, y: number) => ({\n      type: 'quantumgatefast',\n      x,\n      y,\n      width: 150,\n      height: 10,\n    }),\n    canResize: true,\n    isSquare: true,\n  },\n  */,\n    prism: {\n      preview: PrismPreview,\n      create: (x: number, y: number) => ({\n        type: 'prism',\n        x,\n        y,\n        angle: 0,\n      }),\n      canRotate: true,\n    },\n    spokedwheel: {\n      preview: SpokedWheelPreview,\n      create: (x: number, y: number) => ({\n        type: 'spokedwheel',\n        x,\n        y,\n        speed: 25,\n        angle: 0,\n      }),\n    },\n    ballstand: {\n      preview: BallStandPreview,\n      create: (x: number, y: number) => ({\n        type: 'ballstand',\n        x,\n        y,\n        angle: 0,\n      }),\n      canRotate: true,\n    },\n    cup: {\n      preview: CupPreview,\n      create: (x: number, y: number) => ({\n        type: 'cup',\n        x,\n        y,\n        angle: 0,\n      }),\n      canRotate: true,\n    },\n  }\n\nexport const stickerList: Record<\n  string,\n  PaletteItem<StickerWidget>\n> = mapValues(stickers, (_, sticker) => ({\n  preview: () => <StickerPreview sticker={sticker as StickerName} />,\n  create: (x: number, y: number) => ({\n    type: 'sticker' as const,\n    sticker: sticker as StickerName,\n    x,\n    y,\n    angle: 0,\n  }),\n  canRotate: true,\n}))\n\nexport function Widget(\n  props: WidgetData & Partial<EditableWidget> & { id: EditableWidget['id'] },\n) {\n  const { type } = props\n\n  if (type === 'board') {\n    return <Board {...props} />\n  } else if (type === 'brick') {\n    return <Brick {...props} />\n  } else if (type === 'hammer') {\n    return <Hammer {...props} />\n  } else if (type === 'sword') {\n    return <Sword {...props} />\n  } else if (type === 'anvil') {\n    return <Anvil {...props} />\n  } else if (type === 'fan') {\n    return <Fan {...props} />\n  } else if (type === 'leftbumper') {\n    return <LeftBumper {...props} />\n  } else if (type === 'rightbumper') {\n    return <RightBumper {...props} />\n  } else if (type === 'hook') {\n    return <Hook {...props} />\n  } else if (type === 'lefthook') {\n    return <LeftHook {...props} />\n  } else if (type === 'roundbumper') {\n    return <RoundBumper {...props} />\n  } else if (type === 'cushion') {\n    return <Cushion {...props} />\n  } else if (type === 'prism') {\n    return <Prism {...props} />\n  } else if (type === 'spokedwheel') {\n    return <SpokedWheel {...props} />\n  } else if (type === 'attractor') {\n    return <Attractor {...props} />\n  } else if (type === 'repulsor') {\n    return <Repulsor {...props} />\n  } else if (type === 'ballstand') {\n    return <BallStand {...props} />\n  } else if (type === 'cup') {\n    return <Cup {...props} />\n  } else if (type === 'sticker') {\n    return <Sticker {...props} /> /*\n    /*\n  } else if (type === 'quantumgateslow') {\n    return <QuantumGateSlow {...props} />\n  } else if (type === 'quantumgatefast') {\n    return <QuantumGateFast {...props} />\n  */\n  } else {\n    assertNever(type, true)\n  }\n}\n\nfunction WidgetsUnmemoized({\n  widgets,\n  onSelect,\n  selectedId,\n}: {\n  widgets: WidgetCollection\n  onSelect?: EditableWidget['onSelect']\n  selectedId?: string | undefined\n}) {\n  const {\n    bounds: [offsetX, offsetY],\n  } = useMachineTile()\n\n  return Object.entries(widgets).map(([id, widget]) => {\n    let { x, y } = widget\n    x = x + offsetX\n    y = y + offsetY\n\n    return (\n      <Widget\n        key={id}\n        {...widget}\n        id={id}\n        x={x}\n        y={y}\n        onSelect={onSelect}\n        isSelected={selectedId === id}\n      />\n    )\n  })\n}\n\n// Separated to work around an eslint react/prop-types false positive.\nexport const Widgets = React.memo(WidgetsUnmemoized)\n","import { ClassNames } from '@emotion/react'\nimport { throttle } from 'lodash'\nimport React, {\n  RefObject,\n  forwardRef,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react'\nimport { MachineSnapshot } from '../lib/snapshot'\nimport { gridViewBounds, iterTiles, tileKey } from '../lib/tiles'\nimport { Bounds, Puzzle, WidgetCollection } from '../types'\nimport { BallPitMechanism } from './BallPitMechanism'\nimport {\n  CenteredSlippyMap,\n  CenteredSlippyMapProps,\n  SlippyMapRef,\n} from './CenteredSlippyMap'\nimport {\n  MachineContextProvider,\n  MachineContextProviderRef,\n} from './MachineContext'\nimport { MachineTileContextProvider } from './MachineTileContext'\nimport MachineTilePlaceholder from './MachineTilePlaceholder'\nimport { deferATick } from './PhysicsContext'\nimport { BOTTOM_MECHANISM_HEIGHT } from './constants'\nimport { MetaMachineInfo } from './useMetaMachineClient'\nimport { Widgets } from './widgets'\nimport { Balls } from './widgets/Balls'\nimport MachineFrame from './widgets/MachineFrame'\n\nconst MetaMachineTile = React.memo(function MetaMachineTiles({\n  puzzle,\n  widgets,\n  snapshot,\n  title,\n  tileWidth,\n  tileHeight,\n  xt,\n  yt,\n  spawnBallsTop,\n  spawnBallsLeft,\n  spawnBallsRight,\n}: {\n  puzzle: Puzzle\n  widgets: WidgetCollection\n  snapshot: MachineSnapshot | undefined\n  title: string | undefined\n  tileWidth: number\n  tileHeight: number\n  xt: number\n  yt: number\n  spawnBallsTop: boolean\n  spawnBallsLeft: boolean\n  spawnBallsRight: boolean\n}) {\n  // Stagger tile renders so we don't have entire rows or columns mounting and updating the world state at the same time.\n  const [isRendered, setRendered] = useState(false)\n  useEffect(() => {\n    function draw() {\n      setRendered(true)\n    }\n    const timeout = deferATick(draw)\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [])\n\n  if (!isRendered) {\n    return\n  }\n\n  return (\n    <MachineTileContextProvider\n      initialSnapshot={snapshot}\n      bounds={[\n        xt * tileWidth,\n        yt * tileHeight,\n        (xt + 1) * tileWidth,\n        (yt + 1) * tileHeight,\n      ]}\n    >\n      <MachineFrame\n        title={title}\n        inputs={puzzle.inputs}\n        outputs={puzzle.outputs}\n        spawnBallsTop={spawnBallsTop}\n        spawnBallsLeft={spawnBallsLeft}\n        spawnBallsRight={spawnBallsRight}\n      />\n      <Widgets widgets={widgets} />\n    </MachineTileContextProvider>\n  )\n})\n\nexport interface SlippyMetaMachineViewProps extends MetaMachineInfo {\n  initialX?: number\n  initialY?: number\n  initialZoom?: number\n  simulateOutset?: number\n  onPosition?: CenteredSlippyMapProps['onPosition']\n}\n\nexport interface SlippyMetaMachineRef {\n  mapRef: RefObject<SlippyMapRef | undefined>\n  machineRef: RefObject<MachineContextProviderRef | undefined>\n}\n\nexport const SlippyMetaMachineView = forwardRef<\n  SlippyMetaMachineRef,\n  SlippyMetaMachineViewProps\n>(function SlippyMetaMachineView(\n  {\n    getMachine,\n    tilesX,\n    tilesY,\n    tileWidth,\n    tileHeight,\n    msPerBall,\n    initialX = 0,\n    initialY = 0,\n    initialZoom = 1,\n    simulateOutset = 150,\n    onPosition,\n  }: SlippyMetaMachineViewProps,\n  ref,\n) {\n  const mapRef = useRef<SlippyMapRef>(null)\n  const machineRef = useRef<MachineContextProviderRef>(null)\n\n  const [xt1, setXt1] = useState(0)\n  const [yt1, setYt1] = useState(0)\n  const [xt2, setXt2] = useState(1)\n  const [yt2, setYt2] = useState(1)\n\n  const totalWidth = tileWidth * tilesX\n  const totalHeight = tileHeight * tilesY + BOTTOM_MECHANISM_HEIGHT\n\n  const [isBottomVisible, setBottomVisible] = useState(false)\n\n  const updatePosition = useMemo(\n    () =>\n      throttle((viewBounds: Bounds) => {\n        const { current: machine } = machineRef\n        if (!machine) {\n          return\n        }\n\n        machine.viewBoundsRef.current = viewBounds\n\n        const [xt1, yt1, xt2, yt2] = gridViewBounds(\n          viewBounds,\n          tilesX,\n          tilesY,\n          tileWidth,\n          tileHeight,\n          simulateOutset,\n        )\n\n        setXt1(xt1)\n        setYt1(yt1)\n        setXt2(xt2)\n        setYt2(yt2)\n\n        machine.simulationBoundsRef.current = [\n          xt1 * tileWidth,\n          yt1 * tileHeight,\n          (xt2 + 1) * tileWidth,\n          (yt2 + 1) * tileHeight,\n        ]\n\n        onPosition?.(viewBounds)\n\n        const [, , , y2] = viewBounds\n        setBottomVisible(y2 > totalHeight - BOTTOM_MECHANISM_HEIGHT)\n      }, 1000 / 60),\n    [\n      tilesX,\n      tilesY,\n      tileWidth,\n      tileHeight,\n      simulateOutset,\n      onPosition,\n      totalHeight,\n    ],\n  )\n\n  useImperativeHandle(ref, () => ({ mapRef, machineRef }))\n\n  return (\n    <ClassNames>\n      {({ css }) => (\n        <CenteredSlippyMap\n          ref={mapRef}\n          width={tileWidth}\n          height={tileHeight}\n          totalWidth={totalWidth}\n          totalHeight={totalHeight}\n          innerClassName={css({ outline: '1px solid black' })}\n          onPosition={updatePosition}\n          initialX={initialX}\n          initialY={initialY}\n          initialZoom={initialZoom}\n        >\n          <MachineContextProvider ref={machineRef} msPerBall={msPerBall}>\n            {Array.from(iterTiles(xt1, yt1, xt2, yt2), ([xt, yt]) => {\n              const data = getMachine(xt, yt)\n              if (!data) {\n                return (\n                  <MachineTilePlaceholder\n                    key={tileKey(xt, yt)}\n                    tileWidth={tileWidth}\n                    tileHeight={tileHeight}\n                    xt={xt}\n                    yt={yt}\n                  />\n                )\n              }\n              const { blueprintId, title, puzzle, widgets, snapshot } = data\n              return (\n                <MetaMachineTile\n                  key={`${tileKey(xt, yt)}-${blueprintId}`}\n                  puzzle={puzzle}\n                  widgets={widgets}\n                  snapshot={snapshot}\n                  title={title}\n                  tileWidth={tileWidth}\n                  tileHeight={tileHeight}\n                  xt={xt}\n                  yt={yt}\n                  spawnBallsTop={yt === yt1 || !getMachine(xt, yt - 1)}\n                  spawnBallsLeft={xt === xt1 || !getMachine(xt - 1, yt)}\n                  spawnBallsRight={xt === xt2 || !getMachine(xt + 1, yt)}\n                />\n              )\n            })}\n            <BallPitMechanism\n              tileWidth={tileWidth}\n              tileHeight={tileHeight}\n              tilesX={tilesX}\n              tilesY={tilesY}\n              stepRateMultiplier={isBottomVisible ? 1 : 0.05}\n            />\n            <Balls />\n          </MachineContextProvider>\n        </CenteredSlippyMap>\n      )}\n    </ClassNames>\n  )\n})\n","import { random } from 'lodash'\nimport { useCallback, useEffect, useLayoutEffect, useRef } from 'react'\nimport { Bounds } from '../types'\nimport { MetaMachineLink } from './Comic'\nimport LoadingSpinner from './LoadingSpinner'\nimport {\n  SlippyMetaMachineRef,\n  SlippyMetaMachineView,\n  SlippyMetaMachineViewProps,\n} from './MetaMachineView'\nimport { PhysicsContextProvider, PhysicsLoader } from './PhysicsContext'\nimport { MetaMachineInfo, SavedMachine } from './useMetaMachineClient'\n\nfunction findRandomTile(metaMachine: MetaMachineInfo) {\n  const { tilesX, tilesY } = metaMachine\n\n  for (let tries = 0; tries < 16; tries++) {\n    const xt = random(0, tilesX - 1)\n    const yt = random(0, tilesY - 1)\n    if (metaMachine.hasBlueprint(xt, yt)) {\n      return { xt, yt }\n    }\n  }\n\n  // <3, jamslunt interfoggle\n  return { xt: 2, yt: 2 }\n}\n\nexport function ComicBrowseView({\n  lastSubmission,\n  metaMachine,\n  isActive,\n  onPosition,\n  hashLink,\n  setHashLink,\n}: {\n  lastSubmission: SavedMachine | undefined\n  metaMachine: MetaMachineInfo\n  isActive: boolean\n  onPosition: SlippyMetaMachineViewProps['onPosition']\n  hashLink: MetaMachineLink | null\n  setHashLink: (link: MetaMachineLink) => void\n}) {\n  const viewRef = useRef<SlippyMetaMachineRef>(null)\n\n  const getMap = () => viewRef?.current?.mapRef?.current\n  const getMachine = () => viewRef?.current?.machineRef?.current\n\n  const { tileWidth, tileHeight, tilesX, tilesY } = metaMachine\n\n  function centeredScreenCoords({ xt, yt }: { xt: number; yt: number }) {\n    return [xt * tileWidth + tileWidth / 2, yt * tileHeight + tileHeight / 2]\n  }\n\n  const [initialCenterX, initialCenterY] = centeredScreenCoords(\n    lastSubmission ?? hashLink ?? findRandomTile(metaMachine),\n  )\n\n  const isMovingToSubmission = useRef(false)\n\n  useLayoutEffect(() => {\n    async function doSubmitAnimate() {\n      if (lastSubmission) {\n        isMovingToSubmission.current = true\n        getMachine()?.unfollowBall()\n        getMap()?.jumpTo(initialCenterX, initialCenterY, 1)\n        await new Promise((r) => setTimeout(r, 150))\n        await getMap()?.animateTo(initialCenterX, initialCenterY, 0.8)\n        setHashLink({ xt: lastSubmission.xt, yt: lastSubmission.yt })\n        isMovingToSubmission.current = false\n      }\n    }\n    void doSubmitAnimate()\n  }, [lastSubmission, initialCenterX, initialCenterY, setHashLink])\n\n  const handlePosition = useCallback(\n    (viewBounds: Bounds) => {\n      onPosition?.(viewBounds)\n\n      if (\n        getMap()?.isAnimating() ||\n        isMovingToSubmission.current ||\n        !isActive\n      ) {\n        return\n      }\n      const [x1, y1, x2, y2] = viewBounds\n      const x = (x1 + x2) / 2\n      const y = (y1 + y2) / 2\n      const xt = Math.floor(x / tileWidth)\n      const yt = Math.floor(y / tileHeight)\n\n      if (xt < 0 || xt > tilesX - 1 || yt < 0 || yt > tilesY - 1) {\n        return\n      }\n      setHashLink({ xt, yt })\n    },\n    [isActive, onPosition, setHashLink, tileHeight, tileWidth, tilesX, tilesY],\n  )\n\n  useEffect(() => {\n    const map = getMap()\n    if (!hashLink || !map) {\n      return\n    }\n    const [x, y] = map.getPosition()\n    const xt = Math.floor(x / tileWidth)\n    const yt = Math.floor(y / tileHeight)\n    if (hashLink.xt === xt && hashLink.yt === yt) {\n      return\n    }\n    getMachine()?.unfollowBall()\n    void map.animateTo(\n      hashLink.xt * tileWidth + tileWidth / 2,\n      hashLink.yt * tileHeight + tileHeight / 2,\n      0.8,\n    )\n  }, [hashLink, tileHeight, tileWidth])\n\n  // Ball follow mode\n  useEffect(() => {\n    function handleKey(ev: KeyboardEvent) {\n      if (ev.key.toLowerCase() === 'b' && ev.ctrlKey && ev.altKey) {\n        const map = getMap()\n        const machine = getMachine()\n        if (!map || !machine) {\n          return\n        }\n        machine.followBall((x: number, y: number) => {\n          map.jumpTo(x, y, 0.8)\n        })\n      }\n    }\n    window.addEventListener('keydown', handleKey, false)\n    return () => {\n      window.removeEventListener('keydown', handleKey, false)\n    }\n  }, [])\n\n  return (\n    <PhysicsContextProvider stepRateMultiplier={isActive ? 1 : 0}>\n      <PhysicsLoader spinner={<LoadingSpinner />}>\n        <SlippyMetaMachineView\n          ref={viewRef}\n          {...metaMachine}\n          initialX={initialCenterX}\n          initialY={initialCenterY}\n          initialZoom={0.8}\n          onPosition={handlePosition}\n        />\n      </PhysicsLoader>\n    </PhysicsContextProvider>\n  )\n}\n","import { Puzzle, WidgetCollection } from '../../types'\n\nexport const emptyPuzzle: Puzzle = {\n  inputs: [\n    { x: 0.5, y: 0, balls: [{ type: 1, rate: 1 }] },\n    { x: 0, y: 0.5, balls: [{ type: 2, rate: 1 }] },\n    { x: 1, y: 0.75, balls: [{ type: 3, rate: 1 }] },\n    { x: 1, y: 0.25, balls: [{ type: 4, rate: 1 }] },\n  ],\n  outputs: [\n    { x: 0.5, y: 1, balls: [{ type: 1, rate: 1 }] },\n    { x: 1, y: 0.5, balls: [{ type: 2, rate: 1 }] },\n    { x: 0, y: 0.75, balls: [{ type: 3, rate: 1 }] },\n    { x: 0, y: 0.25, balls: [{ type: 4, rate: 1 }] },\n  ],\n}\n\nexport const emptyWidgets: WidgetCollection = {}\n","import { css } from '@emotion/react'\nimport { sample } from 'lodash'\nimport React, { useCallback, useMemo, useState } from 'react'\nimport { SwooshyDialog, dialogStyles } from './SwooshyDialog'\n\nconst superlatives = [\n  'illustrious',\n  'magnificent',\n  'peculiar',\n  'fascinating',\n  'marvelous',\n  'confounding',\n]\n\nconst nouns = ['invention', 'device', 'machine', 'contraption']\n\nconst namePromptStyles = css({\n  fontFamily: 'xkcd-Regular-v3',\n  padding: 16,\n  userSelect: 'none',\n  display: 'flex',\n  flexDirection: 'column',\n  gap: 16,\n  width: 350,\n\n  '.title': {\n    fontSize: '20px',\n    lineHeight: '135%',\n  },\n\n  'button, input': {\n    fontFamily: 'xkcd-Regular-v3',\n    border: '2px solid black',\n    padding: 8,\n    borderRadius: 4,\n  },\n\n  input: {\n    fontSize: '20px',\n    background: '#eee',\n  },\n\n  button: {\n    fontSize: '16px',\n    background: 'white',\n    boxShadow: '3px 3px 0 rgba(0, 0, 0, 0.5)',\n    cursor: 'pointer',\n\n    '&:active': {\n      transform: 'translate(3px, 3px)',\n      background: '#eee',\n      boxShadow: 'none',\n    },\n\n    '&:disabled': {\n      pointerEvents: 'none',\n    },\n  },\n})\n\nexport function NamePrompt({\n  onSubmit,\n  onCancel,\n}: {\n  onSubmit: (name: string) => void\n  onCancel: () => void\n}) {\n  const description = useMemo(\n    () => `${sample(superlatives)} ${sample(nouns)}`,\n    [],\n  )\n\n  const [name, setName] = useState('')\n\n  const handleNameChange = useCallback(\n    (ev: React.ChangeEvent<HTMLInputElement>) => {\n      setName(ev.target.value)\n    },\n    [],\n  )\n\n  const handleSubmit = useCallback(() => {\n    onSubmit(name)\n  }, [name, onSubmit])\n\n  return (\n    <SwooshyDialog onDismiss={onCancel}>\n      <div className=\"wrapper\" css={[dialogStyles, namePromptStyles]}>\n        <span className=\"title\">\n          What will you name this\n          <br />\n          {description}?\n        </span>\n        <input\n          css={{\n            textAlign: 'center',\n            fontSize: '20px',\n          }}\n          value={name}\n          onChange={handleNameChange}\n        />\n        <div\n          css={{\n            display: 'flex',\n            justifyContent: 'center',\n            gap: 12,\n          }}\n        >\n          <button onClick={onCancel}>Cancel</button>\n          <button disabled={name.length === 0} onClick={handleSubmit}>\n            Submit\n          </button>\n        </div>\n      </div>\n    </SwooshyDialog>\n  )\n}\n","import { AnimatePresence } from 'framer-motion'\nimport { useCallback, useMemo, useRef, useState } from 'react'\nimport invariant from 'tiny-invariant'\nimport { emptyWidgets } from '../page/fixtures/emptyMachine'\nimport { Bounds, PuzzleOrder, WidgetCollection } from '../types'\nimport LoadingSpinner from './LoadingSpinner'\nimport { MachineContextProvider } from './MachineContext'\nimport {\n  MachineTileContextProvider,\n  MachineTileContextProviderRef,\n} from './MachineTileContext'\nimport MachineTileEditor from './MachineTileEditor'\nimport { NamePrompt } from './NamePrompt'\nimport { PhysicsContextProvider, PhysicsLoader } from './PhysicsContext'\nimport {\n  MetaMachineInfo,\n  SavedMachine,\n  useSubmitBlueprint,\n} from './useMetaMachineClient'\n\nexport function ComicPuzzleView({\n  puzzle,\n  metaMachine,\n  isActive,\n  onSubmit,\n}: {\n  puzzle: PuzzleOrder\n  metaMachine: MetaMachineInfo | null\n  isActive: boolean\n  onSubmit: (location: SavedMachine) => void\n}) {\n  const machineTileRef = useRef<MachineTileContextProviderRef>()\n\n  const submitBlueprint = useSubmitBlueprint()\n\n  const [isNaming, setNaming] = useState(false)\n  const [widgets, setWidgets] = useState<WidgetCollection | null>(null)\n\n  const handleSubmit = useCallback((widgets: WidgetCollection) => {\n    setWidgets(widgets)\n    setNaming(true)\n  }, [])\n\n  const handleCancelName = useCallback(() => {\n    setNaming(false)\n  }, [])\n\n  const handleSend = useCallback(\n    (title: string) => {\n      async function doSubmit() {\n        invariant(widgets, 'widgets cannot be null')\n        invariant(puzzle, 'puzzle cannot be null')\n\n        // TODO: spinner\n        const location = await submitBlueprint.mutateAsync({\n          puzzleId: puzzle.id,\n          workOrder: puzzle.workOrder,\n          title,\n          widgets,\n        })\n\n        if (location) {\n          const snapshot = machineTileRef.current?.snapshot()\n          onSubmit({ ...location, title, widgets, puzzle, snapshot })\n        }\n      }\n      void doSubmit()\n    },\n    [onSubmit, puzzle, submitBlueprint, widgets],\n  )\n\n  const tileBounds: Bounds | null = useMemo(\n    () =>\n      metaMachine\n        ? [0, 0, metaMachine.tileWidth, metaMachine.tileHeight]\n        : null,\n    [metaMachine],\n  )\n\n  if (!metaMachine || !puzzle || !tileBounds) {\n    return <LoadingSpinner />\n  }\n\n  return (\n    <PhysicsContextProvider stepRateMultiplier={isActive ? 1 : 0}>\n      <PhysicsLoader spinner={<LoadingSpinner />}>\n        <MachineContextProvider\n          initialSimulationBounds={tileBounds}\n          initialViewBounds={tileBounds}\n          msPerBall={metaMachine.msPerBall}\n        >\n          <MachineTileContextProvider ref={machineTileRef} bounds={tileBounds}>\n            <AnimatePresence>\n              {isNaming ? (\n                <NamePrompt onSubmit={handleSend} onCancel={handleCancelName} />\n              ) : null}\n            </AnimatePresence>\n            <MachineTileEditor\n              key={puzzle.id}\n              puzzle={puzzle}\n              initialWidgets={emptyWidgets}\n              onSubmit={handleSubmit}\n            />\n          </MachineTileContextProvider>\n        </MachineContextProvider>\n      </PhysicsLoader>\n    </PhysicsContextProvider>\n  )\n}\n","var resizeObservers = [];\nexport { resizeObservers };\n","var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n","var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n","export var freeze = function (obj) { return Object.freeze(obj); };\n","var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\".concat(toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n","import { freeze } from './utils/freeze';\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        freeze(this);\n    }\n    return ResizeObserverSize;\n}());\nexport { ResizeObserverSize };\n","import { freeze } from './utils/freeze';\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n","var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_a = obj === null || obj === void 0 ? void 0 : obj.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n","export var global = typeof window !== 'undefined' ? window : {};\n","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { ResizeObserverSize } from '../ResizeObserverSize';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { freeze } from '../utils/freeze';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes };\n","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nimport { freeze } from './utils/freeze';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = freeze([boxes.borderBoxSize]);\n        this.contentBoxSize = freeze([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n","import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n","import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n","import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n","var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n","import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && resizeObservers.push(detail);\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n            updateCount(1);\n            scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            updateCount(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n","import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n","import React from 'react';\nconst usePassiveLayoutEffect = React[typeof document !== 'undefined' && document.createElement !== void 0 ? 'useLayoutEffect' : 'useEffect'];\nexport default usePassiveLayoutEffect;","/* eslint-disable no-return-assign */\n\n/* eslint-disable no-underscore-dangle */\nimport { ResizeObserver as Polyfill } from '@juggle/resize-observer';\nimport useLayoutEffect from '@react-hook/passive-layout-effect';\nimport useLatest from '@react-hook/latest';\nconst ResizeObserver = typeof window !== 'undefined' && 'ResizeObserver' in window ? // @ts-ignore\nwindow.ResizeObserver : Polyfill;\n/**\n * A React hook that fires a callback whenever ResizeObserver detects a change to its size\n *\n * @param target A React ref created by `useRef()` or an HTML element\n * @param callback Invoked with a single `ResizeObserverEntry` any time\n *   the `target` resizes\n */\n\nfunction _ref() {}\n\nfunction useResizeObserver(target, callback) {\n  const resizeObserver = getResizeObserver();\n  const storedCallback = useLatest(callback);\n  useLayoutEffect(() => {\n    let didUnsubscribe = false;\n    const targetEl = target && 'current' in target ? target.current : target;\n    if (!targetEl) return _ref;\n\n    function cb(entry, observer) {\n      if (didUnsubscribe) return;\n      storedCallback.current(entry, observer);\n    }\n\n    resizeObserver.subscribe(targetEl, cb);\n    return () => {\n      didUnsubscribe = true;\n      resizeObserver.unsubscribe(targetEl, cb);\n    };\n  }, [target, resizeObserver, storedCallback]);\n  return resizeObserver.observer;\n}\n\nfunction createResizeObserver() {\n  let ticking = false;\n  let allEntries = [];\n  const callbacks = new Map();\n  const observer = new ResizeObserver((entries, obs) => {\n    allEntries = allEntries.concat(entries);\n\n    function _ref2() {\n      const triggered = new Set();\n\n      for (let i = 0; i < allEntries.length; i++) {\n        if (triggered.has(allEntries[i].target)) continue;\n        triggered.add(allEntries[i].target);\n        const cbs = callbacks.get(allEntries[i].target);\n        cbs === null || cbs === void 0 ? void 0 : cbs.forEach(cb => cb(allEntries[i], obs));\n      }\n\n      allEntries = [];\n      ticking = false;\n    }\n\n    if (!ticking) {\n      window.requestAnimationFrame(_ref2);\n    }\n\n    ticking = true;\n  });\n  return {\n    observer,\n\n    subscribe(target, callback) {\n      var _callbacks$get;\n\n      observer.observe(target);\n      const cbs = (_callbacks$get = callbacks.get(target)) !== null && _callbacks$get !== void 0 ? _callbacks$get : [];\n      cbs.push(callback);\n      callbacks.set(target, cbs);\n    },\n\n    unsubscribe(target, callback) {\n      var _callbacks$get2;\n\n      const cbs = (_callbacks$get2 = callbacks.get(target)) !== null && _callbacks$get2 !== void 0 ? _callbacks$get2 : [];\n\n      if (cbs.length === 1) {\n        observer.unobserve(target);\n        callbacks.delete(target);\n        return;\n      }\n\n      const cbIndex = cbs.indexOf(callback);\n      if (cbIndex !== -1) cbs.splice(cbIndex, 1);\n      callbacks.set(target, cbs);\n    }\n\n  };\n}\n\nlet _resizeObserver;\n\nconst getResizeObserver = () => !_resizeObserver ? _resizeObserver = createResizeObserver() : _resizeObserver;\n\nexport default useResizeObserver;","import * as React from 'react';\nimport useResizeObserver from '@react-hook/resize-observer';\nimport useLayoutEffect from '@react-hook/passive-layout-effect';\n/**\n * A React hook for measuring the size of HTML elements including when they change\n *\n * @param target A React ref created by `useRef()` or an HTML element\n * @param options Configures the initial width and initial height of the hook's state\n */\n\nconst useSize = (target, options) => {\n  const [size, setSize] = React.useState(() => {\n    var _options$initialWidth, _options$initialHeigh;\n\n    const targetEl = target && 'current' in target ? target.current : target;\n    return targetEl ? [targetEl.offsetWidth, targetEl.offsetHeight] : [(_options$initialWidth = options === null || options === void 0 ? void 0 : options.initialWidth) !== null && _options$initialWidth !== void 0 ? _options$initialWidth : 0, (_options$initialHeigh = options === null || options === void 0 ? void 0 : options.initialHeight) !== null && _options$initialHeigh !== void 0 ? _options$initialHeigh : 0];\n  });\n  useLayoutEffect(() => {\n    const targetEl = target && 'current' in target ? target.current : target;\n    if (!targetEl) return;\n    setSize([targetEl.offsetWidth, targetEl.offsetHeight]);\n  }, [target]); // Where the magic happens\n\n  useResizeObserver(target, entry => {\n    const target = entry.target;\n    setSize([target.offsetWidth, target.offsetHeight]);\n  });\n  return size;\n};\n\nexport default useSize;","import { CSSProperties, ReactNode } from 'react'\nimport comic from '../../comic.json'\n\nexport default function InnerComicBorder({\n  style,\n  children,\n}: {\n  style?: CSSProperties\n  children: ReactNode\n}) {\n  return (\n    <div\n      css={{\n        position: 'relative',\n        width: comic.width,\n        height: comic.height,\n        '&:after': {\n          content: '\"\"',\n          position: 'absolute',\n          border: '2px solid black',\n          inset: 0,\n          zIndex: 100,\n          pointerEvents: 'none',\n        },\n      }}\n      style={style}\n    >\n      {children}\n    </div>\n  )\n}\n","import useSize from '@react-hook/size'\nimport { ReactNode, useCallback, useEffect, useRef, useState } from 'react'\nimport comic from '../../comic.json'\nimport InnerComicBorder from './InnerComicBorder'\nimport { SwooshyDialog } from './SwooshyDialog'\n\nfunction useIsFullscreen() {\n  const [isFullscreen, setFullscreen] = useState(false)\n\n  useEffect(() => {\n    function handleFullscreenChange() {\n      setFullscreen(\n        Boolean(document.fullscreenElement ?? document.webkitFullscreenElement),\n      )\n    }\n\n    document.addEventListener('fullscreenchange', handleFullscreenChange)\n    return () => {\n      document.removeEventListener('fullscreenchange', handleFullscreenChange)\n    }\n  })\n\n  return isFullscreen\n}\n\nexport function FullscreenComicContainer({\n  children,\n}: {\n  children: ReactNode\n}) {\n  const ref = useRef<HTMLDivElement>(null)\n\n  const [canFullscreen, setCanFullscreen] = useState(false)\n  const [fullscreenFailed, setFullscreenFailed] = useState(false)\n\n  const [width, height] = useSize(ref)\n\n  const isFullscreen = useIsFullscreen()\n\n  const [isTouch] = useState(\n    () => window.matchMedia('(pointer: coarse)').matches,\n  )\n\n  useEffect(() => {\n    const { current: el } = ref\n    if (!el) {\n      return\n    }\n    setCanFullscreen(\n      'requestFullscreen' in el || 'webkitRequestFullscreen' in el,\n    )\n  }, [])\n\n  const handleMaybeFullscreen = useCallback(() => {\n    const { current: el } = ref\n\n    async function tryFullscreen() {\n      if (!el) {\n        return\n      }\n\n      if (\n        document.fullscreenElement !== el &&\n        document.webkitFullscreenElement !== el\n      ) {\n        try {\n          if ('requestFullscreen' in el) {\n            await el.requestFullscreen?.()\n          } else if ('webkitRequestFullscreen' in el) {\n            await el.webkitRequestFullscreen?.()\n          }\n        } catch {\n          setFullscreenFailed(true)\n        }\n      }\n    }\n    void tryFullscreen()\n  }, [])\n\n  const comicScale = Math.min(width / comic.width, height / comic.height)\n\n  return (\n    <div\n      ref={ref}\n      css={{\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: 'white',\n      }}\n    >\n      <InnerComicBorder\n        style={\n          comicScale !== 1\n            ? {\n                transform: `scale(${comicScale})`,\n              }\n            : undefined\n        }\n      >\n        {isTouch && !isFullscreen && !fullscreenFailed && canFullscreen && (\n          <SwooshyDialog\n            css={{\n              zIndex: 100,\n            }}\n            onDismiss={handleMaybeFullscreen}\n          >\n            <button\n              onClick={handleMaybeFullscreen}\n              css={{\n                width: 365,\n                padding: 16,\n                fontFamily: 'xkcd-Regular-v3',\n                fontSize: 50,\n                background: 'rgba(0, 0, 0, .75)',\n                color: 'white',\n                border: 'none',\n                borderRadius: 16,\n              }}\n            >\n              tap to enter fullscreen\n            </button>\n          </SwooshyDialog>\n        )}\n        {children}\n      </InnerComicBorder>\n    </div>\n  )\n}\n","import { useCallback, useEffect, useMemo, useState } from 'react'\n\nexport function paramToNumber(text: string | null | undefined) {\n  if (text == null) {\n    return undefined\n  }\n\n  const val = Number(text)\n  if (isNaN(val)) {\n    return undefined\n  }\n\n  return val\n}\n\nexport function useLocationHashParams() {\n  const [, triggerUpdate] = useState(0)\n\n  useEffect(() => {\n    function handleHashChange() {\n      triggerUpdate((x) => x + 1)\n    }\n    window.addEventListener('hashchange', handleHashChange)\n    return () => {\n      window.removeEventListener('hashchange', handleHashChange)\n    }\n  }, [])\n\n  const params = useMemo(\n    () => new URLSearchParams(location.hash.slice(1)),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [location.hash],\n  )\n\n  const setLocationHashParams = useCallback(\n    (data: Record<string, string | null | undefined>) => {\n      const params = new URLSearchParams()\n      for (const [k, v] of Object.entries(data)) {\n        if (v == null) {\n          continue\n        }\n        params.set(k, v)\n      }\n      location.hash = new URLSearchParams(params).toString()\n    },\n    [],\n  )\n\n  return {\n    locationHashParams: params,\n    setLocationHashParams,\n  }\n}\n","import imgEdit from '@art/edit-icon_4x.png'\nimport imgView from '@art/view-icon_4x.png'\nimport { motion } from 'framer-motion'\nimport { random, throttle } from 'lodash'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport comic from '../../comic.json'\nimport { Bounds } from '../types'\nimport { ComicBrowseView } from './ComicBrowseView'\nimport { ComicImage } from './ComicImage'\nimport { ComicPuzzleView } from './ComicPuzzleView'\nimport { FullscreenComicContainer } from './FullscreenComicContainer'\nimport LoadingSpinner from './LoadingSpinner'\nimport { ToolButton, comicDropShadow } from './WidgetPalette'\nimport { paramToNumber, useLocationHashParams } from './useLocationHashParams'\nimport {\n  SavedMachine,\n  useGetPuzzles,\n  useMetaMachineClient,\n} from './useMetaMachineClient'\n\nexport interface MetaMachineLink {\n  xt: number\n  yt: number\n  v?: number\n}\n\nexport function useHashLink(): {\n  hashLink: MetaMachineLink | null\n  setHashLink: (link: MetaMachineLink) => void\n} {\n  const { locationHashParams, setLocationHashParams } = useLocationHashParams()\n\n  const hashLink = useMemo(() => {\n    const xt = paramToNumber(locationHashParams.get('xt'))\n    const yt = paramToNumber(locationHashParams.get('yt'))\n    const v = paramToNumber(locationHashParams.get('version'))\n    if (xt == null || yt == null) {\n      return null\n    }\n    return {\n      xt,\n      yt,\n      v,\n    }\n  }, [locationHashParams])\n\n  const setHashLink = useCallback(\n    ({ xt, yt, v }: MetaMachineLink) => {\n      setLocationHashParams({\n        xt: String(xt),\n        yt: String(yt),\n        v: v != null ? String(v) : undefined,\n      })\n    },\n    [setLocationHashParams],\n  )\n\n  return { hashLink, setHashLink }\n}\n\nexport default function Comic() {\n  const { hashLink, setHashLink } = useHashLink()\n  const [mode, setMode] = useState<'create' | 'browse'>(\n    hashLink ? 'browse' : 'create',\n  )\n\n  const [viewBounds, setViewBounds] = useState<Bounds>(() => [\n    0,\n    0,\n    comic.width,\n    comic.height,\n  ])\n\n  const throttledSetViewBounds = useMemo(() => throttle(setViewBounds, 250), [])\n\n  const [lastSubmission, setLastSubmission] = useState<SavedMachine>()\n  const { metaMachine, allTilesLoaded } = useMetaMachineClient({\n    viewBounds,\n    lastSubmission,\n  })\n\n  const [isInitialLoading, setInitialLoading] = useState(true)\n  useEffect(() => {\n    if (allTilesLoaded) {\n      setInitialLoading(false)\n    }\n  }, [allTilesLoaded])\n\n  const puzzles = useGetPuzzles()\n\n  // TODO: track seen puzzles\n  const [puzzleIdx, setPuzzleIdx] = useState<number>(0)\n  useEffect(() => {\n    if (!puzzles) {\n      return\n    }\n    setPuzzleIdx(random(puzzles.length - 1))\n  }, [puzzles])\n\n  const handleSubmitBlueprint = useCallback((location: SavedMachine) => {\n    setLastSubmission(location)\n    setMode('browse')\n  }, [])\n\n  const handleToggleMode = useCallback(() => {\n    setMode((curMode) => (curMode === 'create' ? 'browse' : 'create'))\n  }, [])\n\n  if (!metaMachine) {\n    return <LoadingSpinner />\n  }\n\n  const puzzle = puzzles ? puzzles[puzzleIdx] : undefined\n\n  return (\n    <FullscreenComicContainer>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: isInitialLoading ? 0 : 1 }}\n        transition={{ delay: 0.25 }}\n      >\n        <ComicBrowseView\n          metaMachine={metaMachine}\n          lastSubmission={lastSubmission}\n          onPosition={throttledSetViewBounds}\n          hashLink={hashLink}\n          setHashLink={setHashLink}\n          isActive={mode === 'browse'}\n        />\n      </motion.div>\n      {puzzle && (\n        <motion.div\n          css={{\n            position: 'absolute',\n            left: 0,\n            top: 0,\n            width: '100%',\n            height: '100%',\n            backgroundColor: 'white',\n          }}\n          initial={{ opacity: mode === 'create' ? 1 : 0 }}\n          animate={{\n            opacity: mode === 'create' ? 1 : 0,\n            scale: mode === 'create' ? 1 : 0.9,\n          }}\n          transition={{ type: 'spring', duration: 0.25 }}\n          style={{\n            pointerEvents: mode === 'create' && puzzle ? 'all' : 'none',\n          }}\n        >\n          <ComicPuzzleView\n            key={`${puzzle.id}-${lastSubmission?.blueprintId}`}\n            puzzle={puzzle}\n            metaMachine={metaMachine}\n            onSubmit={handleSubmitBlueprint}\n            isActive={mode === 'create'}\n          />\n        </motion.div>\n      )}\n      {puzzle && (\n        <ToolButton\n          initial={{ scale: 0 }}\n          animate={\n            mode === 'create' ? { scale: 1 } : { scale: 1, rotateY: 180 }\n          }\n          transition={{ scale: { delay: 0.5 } }}\n          onClick={handleToggleMode}\n          aria-label={\n            mode === 'browse' ? 'Build another blueprint' : 'View the machine'\n          }\n          css={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            position: 'absolute',\n            right: 10,\n            bottom: 10,\n            width: 50,\n            height: 50,\n            transformStyle: 'preserve-3d',\n          }}\n        >\n          <ComicImage\n            img={imgEdit}\n            css={[\n              {\n                position: 'absolute',\n                transform: 'rotateY(180deg) translateZ(0.01px)',\n                backfaceVisibility: 'hidden',\n              },\n              comicDropShadow,\n            ]}\n          />\n          <ComicImage\n            img={imgView}\n            css={[\n              {\n                backfaceVisibility: 'hidden',\n              },\n              comicDropShadow,\n            ]}\n          />\n        </ToolButton>\n      )}\n    </FullscreenComicContainer>\n  )\n}\n","import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\n\nimport { QueryClientProvider } from '@tanstack/react-query'\nimport comic from '../comic.json'\nimport { queryClient } from './api'\nimport Comic from './components/Comic'\n\n// TODO: comic global\nexport interface ComicGlobal {}\n\nexport function styleContainer(el: HTMLElement) {\n  el.style.cssText = `\n  position: relative;\n  width: ${comic.width}px;\n  height: ${comic.height}px;\n  margin: 0 auto;\n  font-variant: normal;\n`\n}\n\nfunction init() {\n  const comicEl = document.getElementById('comic')\n  if (!comicEl) {\n    return\n  }\n\n  styleContainer(comicEl)\n\n  const root = createRoot(comicEl)\n  root.render(\n    <StrictMode>\n      <QueryClientProvider client={queryClient}>\n        <Comic />\n      </QueryClientProvider>\n    </StrictMode>,\n  )\n}\n\ninit()\n"],"names":["webpackQueues","webpackExports","webpackError","resolveQueue","leafPrototypes","getProto","inProgress","dataWebpackPrefix","module","exports","assertNever","value","noThrow","Error","JSON","stringify","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","type","KNOWN_STATICS","name","length","prototype","caller","callee","arguments","arity","MEMO_STATICS","compare","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","render","Memo","defineProperty","Object","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","keys","concat","targetStatics","sourceStatics","i","key","descriptor","e","aa","ca","p","a","b","c","encodeURIComponent","da","Set","ea","fa","ha","add","ia","window","document","createElement","ja","hasOwnProperty","ka","la","ma","v","d","f","g","this","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","z","split","forEach","toLowerCase","ra","sa","toUpperCase","ta","slice","pa","isNaN","qa","call","test","oa","removeAttribute","setAttribute","setAttributeNS","replace","xlinkHref","ua","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","va","Symbol","for","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","iterator","Ka","La","A","assign","Ma","stack","trim","match","Na","Oa","prepareStackTrace","set","Reflect","construct","l","h","k","includes","Pa","tag","Qa","$$typeof","_context","_payload","_init","Ra","Sa","Ta","nodeName","Va","_valueTracker","constructor","get","configurable","enumerable","getValue","setValue","stopTracking","Ua","Wa","checked","Xa","activeElement","body","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","ab","bb","cb","db","ownerDocument","eb","Array","isArray","fb","options","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","children","hb","ib","jb","textContent","kb","lb","mb","nb","namespaceURI","innerHTML","valueOf","toString","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","ob","lastChild","nodeType","nodeValue","pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qb","rb","sb","style","indexOf","setProperty","charAt","substring","tb","menuitem","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","ub","vb","is","wb","xb","target","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","push","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","addEventListener","removeEventListener","Nb","apply","m","onError","Ob","Pb","Qb","Rb","Sb","Tb","Vb","alternate","return","flags","Wb","memoizedState","dehydrated","Xb","Zb","child","sibling","current","Yb","$b","ac","unstable_scheduleCallback","bc","unstable_cancelCallback","cc","unstable_shouldYield","dc","unstable_requestPaint","B","unstable_now","ec","unstable_getCurrentPriorityLevel","fc","unstable_ImmediatePriority","gc","unstable_UserBlockingPriority","hc","unstable_NormalPriority","ic","unstable_LowPriority","jc","unstable_IdlePriority","kc","lc","oc","Math","clz32","pc","qc","log","LN2","rc","sc","tc","uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","vc","xc","yc","zc","Ac","eventTimes","Cc","C","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Map","Pc","Qc","Rc","Sc","delete","pointerId","Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","Vc","Wc","priority","isDehydrated","containerInfo","Xc","Yc","dispatchEvent","shift","Zc","$c","ad","bd","cd","ReactCurrentBatchConfig","dd","ed","transition","fd","gd","hd","id","Uc","stopPropagation","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","Date","now","isTrusted","td","ud","view","detail","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","data","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","String","fromCharCode","code","location","repeat","locale","which","Rd","Td","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","color","date","datetime","email","month","number","password","range","search","tel","text","time","url","week","me","ne","oe","event","listeners","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","node","offset","nextSibling","Le","contains","compareDocumentPosition","Me","HTMLIFrameElement","contentWindow","href","Ne","contentEditable","Oe","focusedElem","selectionRange","documentElement","start","end","selectionStart","selectionEnd","min","defaultView","getSelection","extend","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","element","left","scrollLeft","top","scrollTop","focus","Pe","Qe","Re","Se","Te","Ue","Ve","We","animationend","animationiteration","animationstart","transitionend","Xe","Ye","Ze","animation","$e","af","bf","cf","df","ef","ff","gf","hf","lf","mf","nf","Ub","instance","listener","D","of","has","pf","qf","rf","random","sf","bind","capture","passive","n","t","J","x","u","w","F","tf","uf","parentWindow","vf","wf","na","xa","$a","ba","je","char","ke","unshift","xf","yf","zf","Af","Bf","Cf","Df","Ef","__html","Ff","setTimeout","Gf","clearTimeout","Hf","Promise","Jf","queueMicrotask","resolve","then","catch","If","Kf","Lf","Mf","previousSibling","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","E","G","Vf","H","Wf","Xf","Yf","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Zf","$f","ag","bg","getChildContext","cg","__reactInternalMemoizedMergedChildContext","dg","eg","fg","gg","hg","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","I","zg","Ag","Bg","elementType","deletions","Cg","pendingProps","overflow","treeContext","retryLane","Dg","mode","Eg","Fg","Gg","memoizedProps","Hg","Ig","Jg","Kg","Lg","Mg","Ng","Og","Pg","Qg","Rg","_currentValue","Sg","childLanes","Tg","dependencies","firstContext","lanes","Ug","Vg","context","memoizedValue","next","Wg","Xg","Yg","interleaved","Zg","$g","ah","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","pending","effects","bh","ch","eventTime","lane","payload","callback","dh","K","eh","fh","gh","q","r","y","hh","ih","jh","Component","refs","kh","nh","isMounted","_reactInternals","enqueueSetState","L","lh","mh","enqueueReplaceState","enqueueForceUpdate","oh","shouldComponentUpdate","isPureReactComponent","ph","state","updater","qh","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","rh","props","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","sh","ref","_owner","_stringRef","th","join","uh","vh","index","wh","xh","yh","implementation","zh","Ah","done","Bh","Ch","Dh","Eh","Fh","Gh","Hh","Ih","tagName","Jh","Kh","Lh","M","Mh","revealOrder","Nh","Oh","_workInProgressVersionPrimary","Ph","ReactCurrentDispatcher","Qh","Rh","N","O","P","Sh","Th","Uh","Vh","Q","Wh","Xh","Yh","Zh","$h","ai","bi","ci","baseQueue","queue","di","ei","fi","lastRenderedReducer","action","hasEagerState","eagerState","lastRenderedState","dispatch","gi","hi","ii","ji","ki","getSnapshot","li","mi","R","ni","lastEffect","stores","oi","pi","qi","ri","create","destroy","deps","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","Ci","Di","Ei","Fi","Gi","Hi","Ii","Ji","readContext","useCallback","useContext","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useDeferredValue","useTransition","useMutableSource","useSyncExternalStore","useId","unstable_isNewReconciler","identifierPrefix","Ki","message","digest","Li","Mi","console","error","Ni","WeakMap","Oi","Pi","Qi","Ri","componentDidCatch","Si","componentStack","Ti","pingCache","Ui","Vi","Wi","Xi","ReactCurrentOwner","Yi","Zi","$i","aj","bj","cj","dj","ej","baseLanes","cachePool","transitions","fj","gj","hj","ij","jj","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","kj","lj","pendingContext","mj","Aj","Bj","Cj","Dj","nj","oj","pj","fallback","qj","rj","tj","dataset","dgst","uj","vj","_reactRetry","sj","subtreeFlags","wj","xj","isBackwards","rendering","renderingStartTime","last","tail","tailMode","yj","Ej","S","Fj","Gj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","size","createElementNS","autoFocus","createTextNode","T","Hj","Ij","Jj","Kj","U","Lj","WeakSet","V","Mj","W","Nj","Oj","Qj","Rj","Sj","Tj","Uj","Vj","Wj","insertBefore","_reactRootContainer","Xj","X","Yj","Zj","ak","onCommitFiberUnmount","componentWillUnmount","bk","ck","dk","ek","fk","isHidden","gk","hk","display","ik","jk","kk","lk","__reactInternalSnapshotBeforeUpdate","src","Wk","mk","ceil","nk","ok","pk","Y","Z","qk","rk","sk","tk","uk","Infinity","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","Ek","callbackNode","expirationTimes","expiredLanes","wc","callbackPriority","ig","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","Pk","finishedWork","finishedLanes","Qk","timeoutHandle","Rk","Sk","Tk","Uk","Vk","mutableReadLanes","Bc","Pj","onCommitFiberRoot","mc","onRecoverableError","Xk","onPostCommitFiberRoot","Yk","Zk","al","isReactComponent","pendingChildren","bl","mutableSourceEagerHydrationData","cl","cache","pendingSuspenseBoundaries","el","fl","gl","hl","il","jl","zj","$k","ll","reportError","ml","_internalRoot","nl","ol","pl","ql","sl","rl","unmount","unstable_scheduleHydration","splice","querySelectorAll","form","tl","usingClientEntryPoint","Events","ul","findFiberByHostInstance","bundleType","version","rendererPackageName","vl","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","wl","isDisabled","supportsFiber","inject","createPortal","dl","createRoot","unstable_strictMode","findDOMNode","flushSync","hydrate","hydrateRoot","hydratedSources","_getVersion","_source","unmountComponentAtNode","unstable_batchedUpdates","unstable_renderSubtreeIntoContainer","checkDCE","err","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","Fragment","Lazy","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","__self","__source","jsx","jsxs","setState","forceUpdate","escape","_status","_result","default","Children","map","count","toArray","only","PureComponent","cloneElement","createContext","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","createFactory","createRef","forwardRef","isValidElement","lazy","memo","startTransition","unstable_act","pop","sortIndex","performance","setImmediate","startTime","expirationTime","priorityLevel","navigator","scheduling","isInputPending","MessageChannel","port2","port1","onmessage","postMessage","unstable_Profiling","unstable_continueExecution","unstable_forceFrameRate","floor","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_runWithPriority","delay","unstable_wrapCallback","_selectArr","weights","rand","TypeError","total","normal","__weighted_total","undefined","arr","fn","reduce","prev","curr","getTotal","RangeError","select","obj","values","_selectObj","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","hasAwait","currentDeps","outerResolve","reject","depQueues","promise","rej","dep","ret","wrapDeps","getResult","fnQueue","getter","__esModule","ns","def","definition","o","chunkId","all","promises","hmd","prop","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","onScriptComplete","onerror","onload","doneFns","head","toStringTag","wasmModuleId","wasmModuleHash","importsObj","req","fetch","arrayBuffer","bytes","WebAssembly","instantiate","res","instantiateStreaming","headers","warn","installedChunks","j","installedChunkData","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","some","chunkLoadingGlobal","self","QueryClientContext","useQueryClient","queryClient","client","QueryClientProvider","mount","isServer","globalThis","noop","isValidTimeout","timeUntilStale","updatedAt","staleTime","max","matchQuery","filters","query","exact","fetchStatus","predicate","queryKey","stale","queryHash","hashQueryKeyByOptions","partialMatchKey","isActive","isStale","matchMutation","mutation","status","mutationKey","hashKey","queryKeyHashFn","_","val","isPlainObject","sort","result","replaceEqualDeep","array","isPlainArray","aItems","aSize","bItems","bSize","copy","equalItems","shallowEqualObjects","hasObjectPrototype","ctor","prot","replaceData","prevData","structuralSharing","addToEnd","items","item","newItems","addToStart","skipToken","notifyManager","transactions","notifyFn","batchNotifyFn","scheduleFn","schedule","flush","originalQueue","batch","batchCalls","args","setNotifyFunction","setBatchNotifyFunction","setScheduler","createNotifyManager","Subscribable","subscribe","onSubscribe","onUnsubscribe","hasListeners","focusManager","super","onFocus","setEventListener","setup","focused","setFocused","isFocused","visibilityState","onlineManager","onOnline","onlineListener","offlineListener","setOnline","online","isOnline","defaultRetryDelay","failureCount","canFetch","networkMode","CancelledError","revert","silent","isCancelledError","createRetryer","config","continueFn","promiseResolve","promiseReject","isRetryCancelled","isResolved","outerReject","shouldPause","onSuccess","pause","continueResolve","canContinue","onPause","onContinue","run","promiseOrValue","retry","retryDelay","shouldRetry","onFail","ms","sleep","cancel","cancelOptions","abort","continue","didContinue","cancelRetry","continueRetry","Removable","clearGcTimeout","scheduleGc","gcTime","optionalRemove","updateGcTime","newGcTime","Query","defaultOptions","setOptions","initialData","hasData","initialDataUpdatedAt","dataUpdateCount","dataUpdatedAt","errorUpdateCount","errorUpdatedAt","fetchFailureCount","fetchFailureReason","fetchMeta","isInvalidated","getDefaultState","remove","setData","newData","manual","setStateOptions","reset","observer","enabled","getObserversCount","getCurrentResult","isStaleByTime","find","shouldFetchOnWindowFocus","refetch","cancelRefetch","shouldFetchOnReconnect","addObserver","notify","removeObserver","filter","invalidate","fetchOptions","queryFn","abortController","AbortController","queryFnContext","addSignalProperty","object","signal","fetchFn","persister","behavior","onFetch","onSettled","isFetchingOptimistic","fetchState","reducer","onQueryUpdate","QueryCache","build","defaultQueryOptions","getQueryDefaults","queryInMap","clear","getAll","defaultedFilters","findAll","queries","Mutation","mutationId","mutationCache","failureReason","isPaused","variables","submittedAt","execute","executeMutation","mutationFn","restored","onMutate","onMutationUpdate","MutationCache","defaultMutationOptions","resumePausedMutations","pausedMutations","infiniteQueryBehavior","pages","async","direction","fetchMore","oldPages","oldPageParams","pageParams","empty","cancelled","fetchPage","previous","pageParam","aborted","page","maxPages","addTo","oldData","getPreviousPageParam","getNextPageParam","initialPageParam","remainingPages","lastIndex","DEFAULT_HEADERS","PATH_PARAM_RE","serializePrimitiveParam","allowReserved","serializeObjectParam","joiner","simple","label","matrix","explode","final","finalName","serializeArrayParam","spaceDelimited","pipeDelimited","createQuerySerializer","queryParams","defaultBodySerializer","mergeHeaders","allHeaders","finalHeaders","Headers","entries","v2","append","apiClient","clientOptions","baseUrl","baseFetch","querySerializer","globalQuerySerializer","bodySerializer","globalBodySerializer","baseHeaders","baseOptions","endsWith","middlewares","coreFetch","params","parseAs","requestQuerySerializer","init","requestInit","redirect","header","FormData","Request","pathname","finalURL","path","pathParams","nextURL","startsWith","defaultPathSerializer","createFinalURL","mergedOptions","onRequest","schemaPath","response","onResponse","Response","parse","method","use","middleware","eject","createClient","comic","throwOnError","clone","queryCache","isFetching","isMutating","getQueryData","ensureQueryData","cachedData","fetchQuery","defaultedOptions","revalidateIfStale","prefetchQuery","getQueriesData","setQueryData","functionalUpdate","setQueriesData","getQueryState","removeQueries","resetQueries","refetchFilters","refetchQueries","cancelQueries","defaultedCancelOptions","invalidateQueries","refetchType","fetchInfiniteQuery","prefetchInfiniteQuery","getQueryCache","getMutationCache","getDefaultOptions","setDefaultOptions","setQueryDefaults","defaults","queryDefault","setMutationDefaults","getMutationDefaults","_defaulted","refetchOnReconnect","suspense","mutations","MotionConfigContext","transformPagePoint","isStatic","reducedMotion","MotionContext","isBrowser","useIsomorphicLayoutEffect","LazyContext","strict","camelToDash","str","optimizedAppearDataAttribute","MotionGlobalConfig","Queue","scheduled","process","stepsOrder","createRenderBatcher","scheduleNextBatch","allowKeepAlive","runNextFrame","useDefaultElapsed","delta","timestamp","isProcessing","steps","acc","thisFrame","nextFrame","numToRun","flushNextFrame","toKeepAlive","step","keepAlive","immediate","addToCurrentFrame","frameData","createRenderStep","processStep","stepId","processBatch","microtask","cancelMicrotask","isRefObject","isVariantLabel","isAnimationControls","variantPriorityOrder","variantProps","isControllingVariants","animate","isVariantNode","Boolean","variants","useCreateMotionContext","initial","inherit","getCurrentTreeVariants","variantLabelsAsDependency","featureProps","exit","drag","hover","tap","pan","inView","layout","featureDefinitions","isEnabled","LayoutGroupContext","SwitchLayoutGroupContext","motionComponentSymbol","preloadedFeatures","createVisualElement","useRender","useVisualState","features","loadFeatures","ForwardRefComponent","externalRef","MeasureLayout","configAndProps","layoutId","useLayoutId","visualState","visualElement","parent","lazyContext","presenceContext","reducedMotionConfig","visualElementRef","renderer","blockInitialAnimation","update","wantsHandoff","HandoffComplete","postRender","animationState","animateChanges","updateFeatures","useVisualElement","initialLayoutGroupConfig","isStrict","useMotionRef","layoutGroupId","createMotionProxy","createConfig","custom","customMotionComponentConfig","Proxy","componentCache","_target","lowercaseSVGElements","isSVGComponent","scaleCorrectors","transformPropOrder","transformProps","isForcedMotionValue","isMotionValue","getVelocity","translateAlias","transformPerspective","numTransforms","checkStringStartsWith","token","isCSSVariableName","startsAsVariableToken","isCSSVariableToken","singleCssVariableRegex","getValueAsType","transform","clamp","parseFloat","alpha","scale","sanitize","round","floatRegex","colorRegex","singleColorRegex","isString","createUnitType","unit","degrees","percent","px","vw","progressPercentage","numberValueTypes","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","maxWidth","maxHeight","right","bottom","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skew","skewX","skewY","distance","translateX","translateY","translateZ","perspective","originX","originY","originZ","backgroundPositionX","backgroundPositionY","numOctaves","buildHTMLStyles","latestValues","transformTemplate","vars","transformOrigin","hasTransform","hasTransformOrigin","transformIsNone","valueType","valueAsType","enableHardwareAcceleration","allowTransformNone","transformIsDefault","transformString","buildTransform","createHtmlRenderState","copyRawValuesOnly","useStyle","useInitialMotionValues","useHTMLProps","htmlProps","dragListener","draggable","userSelect","WebkitUserSelect","WebkitTouchCallout","touchAction","tabIndex","onTap","onTapStart","whileTap","validMotionProps","isValidMotionProp","shouldForward","isValidProp","require","_a","calcOrigin","origin","dashKeys","camelKeys","buildSVGAttrs","attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset","latest","isSVGTag","viewBox","attrs","dimensions","calcSVGTransformOrigin","spacing","useDashCase","buildSVGPath","createSvgRenderState","useSVGProps","_isStatic","visualProps","rawStyles","createUseRender","forwardMotionProps","filteredProps","isDom","filterProps","elementProps","renderedChildren","renderHTML","styleProp","projection","getProjectionStyles","camelCaseAttributes","renderSVG","renderState","_styleProp","scrapeMotionValuesFromProps","prevProps","newValues","resolveVariantFromProps","currentValues","currentVelocity","useConstant","isKeyframesTarget","isCustomValue","mix","toValue","resolveFinalValueInKeyframes","resolveMotionValue","unwrappedValue","makeUseVisualState","make","createRenderState","onMount","makeLatestValues","makeState","scrapeMotionValues","motionValues","isControllingVariants$1","isVariantNode$1","isInitialAnimationBlocked","variantToSet","resolved","transitionEnd","valueTarget","any","cancelFrame","requestAnimationFrame","svgMotionConfig","read","getBBox","getBoundingClientRect","htmlMotionConfig","addDomEvent","eventName","handler","isPrimaryPointer","extractEventInfo","pointType","point","addPointerInfo","addPointerEvent","combineFunctions","pipe","transformers","createLock","lock","openLock","globalHorizontalLock","globalVerticalLock","getGlobalLock","openHorizontal","openVertical","isDragActive","openGestureLock","Feature","addHoverEvent","callbackName","info","getProps","whileHover","setActive","isNodeOrChild","parentElement","fireSyntheticPointerEvent","syntheticPointerEvent","PointerEvent","observerCallbacks","observers","fireObserverCallback","entry","fireAllObserverCallbacks","observeIntersection","rootInteresectionObserver","root","lookupRoot","rootObservers","IntersectionObserver","initIntersectionObserver","observe","unobserve","thresholdNames","gestureAnimations","hasEnteredView","isInView","startObserver","viewport","rootMargin","amount","once","threshold","isIntersecting","onViewportEnter","onViewportLeave","prevViewport","hasViewportOptionChanged","removeStartListeners","removeEndListeners","removeAccessibleListeners","startPointerPress","startEvent","startInfo","isPressing","removePointerUpListener","endEvent","endInfo","checkPressEnd","onTapCancel","globalTapTarget","removePointerCancelListener","cancelEvent","cancelInfo","cancelPress","startPress","startAccessiblePress","removeKeydownListener","keydownEvent","keyupEvent","removeBlurListener","removePointerListener","removeFocusListener","isFocusVisible","matches","onBlur","shallowCompare","prevLength","resolveVariant","getCurrent","velocity","secondsToMilliseconds","seconds","millisecondsToSeconds","milliseconds","underDampedSpring","stiffness","damping","restSpeed","keyframesTransition","duration","ease","getDefaultTransition","valueKey","keyframes","sqrt","getValueTransition","instantAnimationState","isNotNull","getFinalKeyframe","repeatType","finalKeyframe","resolvedKeyframes","clearTime","newTime","isZeroValueString","warning","invariant","isNumericalString","splitCSSVariableRegex","getVariableValue","depth","exec","token1","token2","parseCSSVariable","getComputedStyle","getPropertyValue","trimmed","positionalKeys","isNumOrPxType","getPosFromMatrix","pos","getTranslateFromMatrix","pos2","pos3","_bbox","matrix3d","transformKeys","nonTranslationalTransformKeys","removeNonTranslationalTransform","removedTransforms","positionalValues","testValueType","dimensionValueTypes","findDimensionValueType","toResolve","isScheduled","anyNeedsMeasurement","measureAllKeyframes","resolversToMeasure","from","resolver","needsMeasurement","elementsToMeasure","transformsToRestore","measureInitialState","measureEndState","suspendedScrollY","scrollTo","complete","readAllKeyframes","readKeyframes","KeyframeResolver","unresolvedKeyframes","onComplete","motionValue","isAsync","isComplete","scheduleResolve","resolveKeyframes","currentValue","valueAsRead","readValue","setFinalKeyframe","renderEndStyles","resume","isColorString","testProp","splitColor","aName","bName","cName","rgbUnit","clampRgbUnit","rgba","red","green","blue","alpha$1","hex","parseInt","hsla","hue","saturation","lightness","NUMBER_TOKEN","COLOR_TOKEN","VAR_TOKEN","VAR_FUNCTION_TOKEN","SPLIT_TOKEN","complexRegex","analyseComplexValue","originalValue","indexes","var","types","parsedValue","parseComplexValue","createTransformer","numSections","output","convertNumbersToZero","complex","_b","getAnimatableNone","parsed","transformer","maxDefaults","applyDefaultFilter","functionRegex","functions","defaultValueTypes","backgroundColor","outlineColor","fill","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","WebkitFilter","getDefaultValueType","defaultValueType","DOMKeyframesResolver","owner","keyframe","resolveNoneKeyframes","originType","targetType","noneKeyframeIndexes","animatableTemplate","noneIndex","makeNoneKeyframesAnimatable","pageYOffset","measuredOrigin","measureViewportBox","measureKeyframe","jump","finalKeyframeIndex","unsetTransformName","unsetTransformValue","isAnimatable","BaseAnimation","autoplay","repeatDelay","isStopped","hasAttemptedResolve","updateFinishedPromise","_resolved","onKeyframesResolved","onUpdate","isGenerator","originKeyframe","targetKeyframe","isOriginAnimatable","isTargetAnimatable","hasKeyframesChanged","canAnimate","resolveFinishedPromise","resolvedAnimation","initPlayback","onPostResolved","currentFinishedPromise","velocityPerSecond","frameDuration","velocitySampleDuration","calcGeneratorVelocity","resolveValue","prevT","safeMin","minDuration","maxDuration","minDamping","maxDamping","findSpring","bounce","mass","envelope","derivative","dampingRatio","undampedFreq","exponentialDecay","calcAngularFreq","exp","pow","initialGuess","rootIterations","approximateRoot","durationKeys","physicsKeys","isSpringType","spring","restDelta","isResolvedFromDuration","springOptions","derived","getSpringOptions","initialVelocity","initialDelta","undampedAngularFreq","isGranularScale","abs","resolveSpring","angularFreq","sin","cos","dampedAngularFreq","freqForT","sinh","cosh","calculatedDuration","isBelowVelocityThreshold","isBelowDisplacementThreshold","inertia","power","timeConstant","bounceDamping","bounceStiffness","modifyTarget","nearestBoundary","amplitude","ideal","calcDelta","calcLatest","applyFriction","timeReachedBoundary","spring$1","checkCatchBoundary","hasUpdatedFrame","calcBezier","a1","a2","subdivisionPrecision","subdivisionMaxIterations","cubicBezier","mX1","mY1","mX2","mY2","getTForX","aX","lowerBound","upperBound","currentX","currentT","binarySubdivide","easeIn","easeOut","easeInOut","isEasingArray","mirrorEasing","easing","reverseEasing","circIn","acos","circOut","circInOut","backOut","backIn","backInOut","easingLookup","linear","anticipate","easingDefinitionToFunction","x1","y1","x2","y2","progress","to","toFromDifference","mixNumber","hueToRgb","mixLinearColor","fromExpo","expo","colorTypes","asRGBA","model","hslaToRgba","mixColor","fromRGBA","toRGBA","blended","mixImmediate","getMixer","mixComplex","mixArray","mixObject","numValues","blendValue","template","originStats","targetStats","orderedOrigin","pointers","originIndex","originValue","matchOrder","mixer","interpolate","isClamp","inputLength","reverse","mixers","customMixer","mixerFactory","numMixers","easingFunction","createMixers","interpolator","progressInRange","fillOffset","remaining","offsetProgress","defaultOffset","defaultEasing","keyframeValues","times","easingFunctions","absoluteTimes","convertOffsetToTimes","mapTimeToKeyframe","maxGeneratorDuration","calcGeneratorDuration","generator","frameloopDriver","passTimestamp","stop","generators","decay","tween","percentToProgress","MainThreadAnimation","KeyframeResolver$1","holdTime","cancelTime","currentTime","playbackSpeed","pendingPlayState","onResolved","keyframes$1","generatorFactory","mapPercentToKeyframes","mirroredGenerator","resolvedDuration","totalDuration","play","tick","sample","speed","timeWithoutDelay","isInDelayPhase","elapsed","frameGenerator","currentIteration","iterationProgress","isAnimationFinished","finish","driver","newSpeed","hasChanged","onPlay","teardown","onStop","stopDriver","isBezierDefinition","isWaapiSupportedEasing","supportedWaapiEasing","every","cubicBezierAsString","mapEasingToNativeEasing","supportsWaapi","acceleratedValues","AcceleratedAnimation","pregeneratedAnimation","sampleAnimation","pregeneratedKeyframes","pregenerateKeyframes","valueName","keyframeOptions","iterations","animateStyle","pendingTimeline","timeline","onfinish","playbackRate","playState","attachTimeline","sampleTime","setWithVelocity","supports","HTMLElement","animateMotionValue","isHandoff","valueTransition","when","_delay","delayChildren","staggerChildren","staggerDirection","isTransitionDefined","shouldSkip","isWillChangeMotionValue","addUniqueItem","removeItem","SubscriptionManager","subscriptions","numSubscriptions","getSize","collectMotionValues","MotionValue","canTrackVelocity","events","updateAndNotify","setPrevFrameValue","setCurrent","change","renderRequest","hasAnimated","prevFrameValue","prevUpdatedAt","onChange","subscription","on","unsubscribe","clearListeners","eventManagers","attach","passiveEffect","stopPassiveEffect","endAnimation","getPrevious","startAnimation","animationStart","animationComplete","clearAnimation","animationCancel","isAnimating","setMotionValue","hasValue","addValue","shouldBlockAnimation","protectedKeys","needsAnimating","shouldBlock","animateTarget","targetAndTransition","transitionOverride","willChange","animations","animationTypeState","getState","HandoffAppearAnimations","appearId","shouldReduceMotion","setTarget","animateVariant","variant","getAnimation","getChildAnimations","variantChildren","forwardDelay","maxStaggerDuration","generateStaggerDuration","sortByTreeOrder","animateChildren","first","sortNodePosition","reversePriorityOrder","numAnimationTypes","animateList","resolvedDefinition","animateVisualElement","createAnimationState","createTypeState","whileInView","whileDrag","whileFocus","isInitialRender","buildResolvedTypeValues","changedActiveType","getVariantContext","removedKeys","encounteredKeys","removedVariantIndex","typeState","propIsVariant","activeDelta","isInherited","manuallyAnimateOnMount","prevProp","shouldAnimateType","checkVariantsDidChange","handledRemovedValues","definitionList","resolvedValues","prevResolvedValues","allKeys","markToAnimate","valueHasChanged","fallbackAnimation","fallbackTarget","getBaseTarget","shouldAnimate","setAnimateFunction","makeAnimator","updateAnimationControlsSubscription","prevAnimate","isPresent","onExitComplete","prevIsPresent","prevPresenceContext","exitAnimation","register","PanSession","handlers","contextWindow","dragSnapToOrigin","lastMoveEvent","lastMoveEventInfo","updatePoint","getPanInfo","history","isPanStarted","isDistancePastThreshold","xDelta","yDelta","distance2D","onStart","onMove","handlePointerMove","transformPoint","handlePointerUp","onEnd","onSessionEnd","resumeAnimation","panInfo","initialInfo","onSessionStart","removeListeners","updateHandlers","subtractPoint","lastDevicePoint","startDevicePoint","timeDelta","timestampedPoint","lastPoint","calcLength","axis","isNear","maxDistance","calcAxisDelta","originPoint","translate","calcBoxDelta","calcRelativeAxis","relative","calcRelativeAxisPosition","calcRelativePosition","calcRelativeAxisConstraints","calcViewportAxisConstraints","layoutAxis","constraintsAxis","defaultElastic","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","createDelta","createBox","eachAxis","convertBoundingBoxToBox","isIdentityScale","hasScale","has2DTranslate","is2DTranslate","scalePoint","applyPointDelta","boxScale","applyAxisDelta","applyBoxDelta","box","snapToDefault","Number","isInteger","translateAxis","transformAxis","transforms","scaleKey","originKey","axisOrigin","xKeys","yKeys","transformBox","topLeft","bottomRight","transformBoxPoints","getContextWindow","elementDragControls","VisualElementDragControls","openGlobalLock","isDragging","currentDirection","constraints","hasMutatedConstraints","elastic","originEvent","snapToCursor","panSession","pauseAnimation","stopAnimation","dragPropagation","onDragStart","resolveConstraints","isAnimationBlocked","getAxisMotionValue","measuredAxis","layoutBox","dragDirectionLock","onDirectionLock","onDrag","lockThreshold","getCurrentDirection","updateAxis","getAnimationState","getTransformPagePoint","onDragEnd","_point","shouldDrag","axisValue","applyConstraints","dragConstraints","measure","prevConstraints","resolveRefConstraints","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","constraintsBox","rootProjectionNode","viewportBox","scroll","measurePageBox","measuredConstraints","calcViewportConstraints","userConstraints","convertBoxToBoundingBox","dragMomentum","dragTransition","onDragTransitionEnd","momentumAnimations","startAxisValueAnimation","dragKey","externalMotionValue","scalePositionWithinConstraints","boxProgress","sourceLength","targetLength","updateScroll","updateLayout","addListeners","stopPointerListener","measureDragConstraints","stopMeasureLayoutListener","stopResizeListener","stopLayoutUpdateListener","hasLayoutChanged","asyncHandler","globalProjectionState","hasAnimatedSinceResize","hasEverUpdated","pixelsToPercent","pixels","correctBorderRadius","correct","correctBoxShadow","treeScale","projectionDelta","original","shadow","xScale","yScale","averageScale","MeasureLayoutWithContext","layoutGroup","switchLayoutGroup","correctors","defaultScaleCorrectors","group","didUpdate","safeToRemove","layoutDependency","willUpdate","promote","relegate","getStack","members","currentAnimation","isLead","promoteContext","scheduleCheckAfterUnmount","deregister","usePresence","applyTo","boxShadow","borders","numBorders","asNumber","isPx","getRadius","radiusName","easeCrossfadeIn","compress","easeCrossfadeOut","copyAxisInto","originAxis","copyBoxInto","originBox","removePointDelta","removeAxisTransforms","sourceAxis","removeAxisDelta","removeBoxTransforms","sourceBox","isAxisDeltaZero","isDeltaZero","boxEqualsRounded","NodeStack","scheduleRender","prevLead","lead","indexOfNode","findIndex","member","preserveFollowOpacity","show","resumeFrom","preserveOpacity","snapshot","animationValues","isUpdating","isLayoutDirty","crossfade","hide","exitAnimationComplete","resumingFrom","removeLeadSnapshot","buildProjectionTransform","latestTransform","xTranslate","yTranslate","elementScaleX","elementScaleY","compareByDepth","FlatTree","isDirty","isSVGElement","SVGElement","animateSingleValue","motionValue$1","transformAxes","hiddenVisibility","visibility","projectionFrameData","totalNodes","resolvedTargetDeltas","recalculatedProjection","resetDistortingTransform","sharedAnimationValues","setStaticValue","createProjectionNode","attachResizeListener","defaultParent","measureScroll","checkIsScrollRoot","resetTransform","animationId","isTreeAnimating","isProjectionDirty","isSharedProjectionDirty","isTransformDirty","updateManuallyBlocked","updateBlockedByResize","isSVG","needsReset","shouldResetTransform","eventHandlers","hasTreeAnimated","updateScheduled","projectionUpdateScheduled","checkUpdateFailed","clearAllSnapshots","updateProjection","nodes","propagateDirtyNodes","resolveTargetDelta","calcProjection","cleanDirtyNodes","MotionDebug","record","hasProjected","isVisible","animationProgress","sharedNodes","notifyListeners","subscriptionManager","cancelDelay","resizeUnblockUpdate","checkElapsed","finishAnimation","registerSharedNode","hasRelativeTargetChanged","newLayout","isTreeAnimationBlocked","relativeTarget","layoutTransition","defaultLayoutTransition","onLayoutAnimationStart","onLayoutAnimationComplete","targetChanged","targetLayout","hasOnlyRelativeTargetChanged","layoutRoot","setAnimationOrigin","animationOptions","blockUpdate","unblockUpdate","isUpdateBlocked","startUpdate","resetSkewAndRotation","getTransformTemplate","shouldNotifyListeners","prevTransformTemplateValue","updateSnapshot","clearMeasurements","clearIsLayoutDirty","HandoffCancelAllAnimations","resetTransformStyle","notifyLayoutUpdate","preRender","clearSnapshot","removeLeadSnapshots","scheduleUpdateProjection","alwaysMeasureLayout","prevLayout","layoutCorrected","phase","layoutScroll","isRoot","isResetRequested","hasProjection","transformTemplateValue","transformTemplateHasChanged","removeTransform","pageBox","removeElementScroll","roundAxis","measuredBox","boxWithoutScroll","rootScroll","applyTransform","transformOnly","withTransforms","boxWithoutTransform","setTargetDelta","targetDelta","forceRelativeParentToResolveTarget","relativeParent","resolvedRelativeTargetAt","forceRecalculation","getLead","isShared","attemptToResolveRelativeTarget","getClosestProjectingParent","relativeTargetOrigin","targetWithTransforms","isProjecting","canSkip","pendingAnimation","prevTreeScaleX","prevTreeScaleY","treePath","isSharedTransition","treeLength","applyTreeDeltas","projectionTransform","projectionDeltaWithTransform","prevProjectionTransform","notifyAll","snapshotLatestValues","mixedValues","relativeLayout","isSharedLayoutAnimation","isOnlyMember","shouldCrossfadeOpacity","hasOpacityCrossfade","prevRelativeTarget","mixTargetDelta","mixAxisDelta","mixAxis","mixBox","follow","opacityExit","borderLabel","followRadius","leadRadius","mixValues","completeAnimation","applyTransformsToTarget","shouldAnimatePositionOnly","animationType","xLength","yLength","initialPromotionConfig","shouldPreserveFollowOpacity","getPrevLead","hasDistortingTransform","resetValues","styles","pointerEvents","emptyStyles","valuesToRender","corrected","num","resetTree","measuredLayout","axisSnapshot","layoutDelta","visualDelta","parentSnapshot","parentLayout","relativeSnapshot","onBeforeLayoutMeasure","userAgentContains","string","userAgent","roundPoint","DocumentProjectionNode","HTMLProjectionNode","documentNode","position","removePointerDownListener","onPointerDown","pointerDownEvent","session","createPanHandlers","onPanSessionStart","onPanStart","onPan","onPanEnd","removeGroupControls","controls","dragControls","ProjectionNode","prefersReducedMotion","hasReducedMotionListener","visualElementStore","valueTypes","featureNames","numFeatures","propEventHandlers","numVariantProps","VisualElement","valueSubscriptions","prevMotionValues","propEventSubscriptions","notifyUpdate","triggerBuild","renderInstance","baseTarget","initialValues","initialMotionValues","_props","_prevProps","removeFromVariantTree","addVariantChild","bindToMotionValue","matchMedia","motionMediaQuery","setReducedMotionPreferences","addListener","initPrefersReducedMotion","valueIsTransform","removeOnChange","latestValue","removeOnRenderRequest","other","sortInstanceNodePosition","renderedProps","ProjectionNodeConstructor","FeatureConstructor","MeasureLayoutComponent","feature","measureInstanceViewportBox","getStaticValue","nextValue","prevValue","existingValue","removeValue","updateMotionValuesFromProps","handleChildMotionValue","getVariant","getClosestVariantNode","startAtParent","closestVariantNode","removeValueFromRenderState","getBaseTargetFromProps","readValueFromInstance","setBaseTarget","valueFromInitial","DOMVisualElement","HTMLVisualElement","defaultType","computedStyle","childSubscription","SVGVisualElement","motion","global","freeSelf","Function","reWhitespace","reTrimStart","objectProto","nativeObjectToString","symToStringTag","isOwn","unmasked","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","isBinary","nativeMax","nativeMin","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","nativeFloor","nativeRandom","lower","upper","reIsUint","INFINITY","freeParseFloat","floating","temp","StyleSheet","_this","_insertTag","before","tags","insertionPoint","prepend","container","isSpeedy","speedy","ctr","nonce","_proto","insert","rule","createStyleElement","sheet","styleSheets","ownerNode","sheetForTag","insertRule","cssRules","pattern","replacement","indexof","charCodeAt","begin","line","column","character","characters","peek","caret","alloc","dealloc","delimit","delimiter","whitespace","escaping","commenter","identifier","COMMENT","compile","rules","rulesets","pseudo","points","declarations","atrule","property","variable","scanning","ampersand","reference","comment","declaration","ruleset","post","identifierWithPointTracking","getRules","toRules","fixedElements","compat","isImplicitRule","parentRules","removeLabel","hash","defaultStylisPlugins","createCache","ssrStyles","stylisPlugins","_insert","inserted","nodesToHydrate","attrib","currentSheet","collection","finalizingPlugins","serializer","selector","serialized","shouldCache","registered","getRegisteredStyles","registeredStyles","classNames","rawClassName","className","registerStyles","isStringTag","unitlessKeys","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","WebkitLineClamp","memoize","arg","hyphenateRegex","animationRegex","isCustomProperty","isProcessableValue","processStyleName","styleName","processStyleValue","p1","p2","cursor","handleInterpolation","mergedProps","interpolation","__emotion_styles","anim","_key","interpolated","_i","createStringFromObject","previousCursor","cached","labelPattern","stringMode","strings","raw","identifierName","len","useInsertionEffectAlwaysWithSyncFallback","EmotionCacheContext","typePropName","newProps","Insertion","_ref","cssProp","css","WrappedComponent","Emotion$1","_len","insertable","classnames","cls","toAdd","serializedArr","ClassNames","content","cx","_len2","_key2","merge","theme","ele","ComicImage","alt","_jsx","srcSet","ComicImageAnimation","_ref2","imgs","rateMS","showIdx","lastIdx","updateIdx","idx","interval","setInterval","clearInterval","_css","fadeIn","counterRotateStyle","LoadingSpinner","_jsxs","gridTemplateColumns","gap","ballBlueImg","ballGreenImg","ballRedImg","ballYellowImg","useIdGen","getInitial","nextIdRef","toFixed","inBounds","inBoundsOutset","outset","rotationAngle","_ref6","iterTiles","xt1","yt1","xt2","yt2","yt","xt","gridViewBounds","viewBounds","tilesX","tilesY","tileWidth","tileHeight","rawBounds","tileBounds","_ref4","_ref5","ax1","ay1","ax2","ay2","bx1","by1","bx2","by2","intersectBounds","tileKey","M_PER_PX","coords","toRapier","lengths","vector","xBasis","yBasis","vectorObject","angle","fromRapier","fromBody","translation","rotation","vectorDistance","vectorAngle","atan2","vectorScale","off","emit","snapshotBody","vx","vy","linvel","angvel","applySnapshotToBody","offsetX","offsetY","setTranslation","setRotation","setLinvel","setAngvel","offsetSnapshot","xOffset","yOffset","rest","storedValue","GRAVITY","TICK_MS","PhysicsContext","PhysicsContextProvider","stepRateMultiplier","debug","contextValue","setContextValue","eventQueueRef","baseTimeRef","tickCountRef","isDebugRef","useLatest","getCurrentTick","destroyed","rapier","world","World","numSolverIterations","timestep","mitt","EventQueue","tickMs","loadAndInit","resetBaseTime","newBaseTime","lastTickTime","eventQueue","neededTicks","rapierStart","rapierEnd","eventQueueCallbackStart","drainCollisionEvents","handle1","handle2","started","eventQueueCallbackEnd","stepCallbackStart","stepCallbackEnd","stepCallback","bodies","useRapierEffect","rapierEffect","physics","useCollider","collider","setCollider","colliderDesc","createCollider","removeCollider","useLoopHandler","triggerHandler","useCollisionHandler","handle","otherCollider","getCollider","usePhysicsLoaded","PhysicsLoader","spinner","infiniteBounds","MachineContext","msPerBall","createBall","destroyBall","exitBall","renewBall","killBall","followBall","unfollowBall","clearBalls","registerBall","unregisterBall","snapshotBalls","restoreBalls","simulationBoundsRef","viewBoundsRef","MachineContextProvider","initialSimulationBounds","initialViewBounds","nextBallId","activeBalls","overrideDamping","age","reason","renewTick","bounds","currentTick","_ref3","ballSnapshots","useMachine","BALL_RADIUS","INPUT_SPINNER_SIZE","INPUT_SPINNER_SPEED","INPUT_TEETH_COUNT","INPUT_WIDTH","MAX_WIDGET_COUNT","TRIANGLE_BUMPER_SENSOR_OFFSET","TRIANGLE_BUMPER_RADIUS_RATIO","TRIANGLE_BUMPER_SENSOR_FUDGE","TRIANGLE_BUMPER_STRENGTH","BONK_ANIMATION_DELAY_MS","TRIANGLE_BUMPER_CONTACT_DISTANCE","ROAND_BUMPER_RADIUS_RATIO","ROUND_BUMPER_FALLBACK_RATIO","BOTTOM_PIT_WIDTH","imgBottomPit","BOTTOM_PIT_HEIGHT","BOTTOM_PIT_EDGE_WIDTH","BOTTOM_MECHANISM_HEIGHT","BOTTOM_CHUTE_DROP","BOTTOM_CHUTE_HEIGHT","imgBottomChute","BOTTOM_TANK_WIDTH","imgBottomTank","BOTTOM_TANK_HEIGHT","QueryObserver","bindMethods","shouldFetchOnMount","updateResult","shouldFetchOn","refetchOnWindowFocus","notifyOptions","prevOptions","prevQuery","mounted","shouldFetchOptionally","nextRefetchInterval","getOptimisticResult","createResult","optimisticResult","shouldAssignObserverCurrentProperties","trackResult","onPropTracked","trackedResult","trackProp","getCurrentQuery","fetchOptimistic","refetchInterval","nextInterval","refetchIntervalInBackground","prevResult","prevResultState","prevResultOptions","queryInitialState","newState","isPlaceholderData","_optimisticResults","fetchOnMount","fetchOptionally","selectError","placeholderData","isPending","isError","isLoading","isSuccess","isInitialLoading","isFetched","isFetchedAfterMount","isRefetching","isLoadingError","isRefetchError","nextResult","defaultNotifyOptions","notifyOnChangeProps","notifyOnChangePropsValue","includedProps","typedKey","retryOnMount","shouldLoadOnMount","refetchOnMount","field","createValue","isReset","clearReset","QueryErrorResetBoundaryContext","useQueryErrorResetBoundary","IsRestoringContext","useIsRestoring","shouldThrowError","throwError","ensurePreventErrorBoundaryRetry","errorResetBoundary","useClearResetErrorBoundary","getHasError","ensureStaleTime","willFetch","isRestoring","shouldSuspend","useQuery","Observer","onStoreChange","useBaseQuery","difference","array1","array2","QueriesObserver","setQueries","combine","prevObservers","newObserverMatches","defaultedQueryOptions","newObservers","newResult","hasIndexChange","getQueries","getObservers","observerResult","accessedProp","prevObserversMap","matchingObservers","flatMap","matchedQueryHashes","unmatchedQueries","getObserver","newOrReusedObservers","replaceAt","mutate","isIdle","__data__","ListCache","uid","maskSrcKey","IE_PROTO","funcToString","reIsHostCtor","reIsNative","RegExp","Hash","MapCache","pairs","LARGE_ARRAY_SIZE","Stack","SetCache","bitmask","customizer","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","Uint8Array","symbolProto","symbolValueOf","byteLength","byteOffset","buffer","convert","stacked","keysFunc","symbolsFunc","resIndex","propertyIsEnumerable","nativeGetSymbols","symbol","iteratee","freeExports","freeModule","Buffer","isBuffer","typedArrayTags","freeProcess","nodeUtil","binding","nodeIsTypedArray","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","Ctor","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","ctorString","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","baseIsEqual","matchData","noCustomizer","srcValue","reIsDeepProp","reIsPlainProp","memoized","Cache","rePropName","reEscapeChar","stringToPath","quote","subString","symbolToString","baseToString","hasFunc","isDrop","fromRight","isProduction","condition","provided","useMetaMachineClient","lastSubmission","fetchOutset","machineData","GET","tile_size","ms_per_ball","trimmedGrid","grid","dropRightWhile","row","isNull","tiles","sparseTileData","allTilesLoaded","defaultedQueries","opts","getCombinedResult","suspensePromises","queryObserver","firstSingleResultWhichShouldThrow","useQueries","blueprintid","results","blueprintId","title","blueprint","puzzle","widgets","getMachine","hasBlueprint","metaMachine","useSubmitBlueprint","mutateOptions","mutateAsync","useMutation","puzzleId","workOrder","_ref7","POST","BASE_BALL_LIFETIME_TICKS","ballStyles","backgroundSize","contain","backgroundImage","ballClassNames","BallsRunner","lifetimeTicks","ballClassName","machine","parentRef","machineRef","worldEvents","actors","followingId","handleCreateBall","ball","RigidBodyDesc","RigidBodyType","ColliderDesc","bodyDesc","Dynamic","setCcdEnabled","setUserData","ballType","setRestitution","setDensity","setMass","setLinearDamping","createRigidBody","wasVisible","isDying","isExiting","followCallback","actor","die","removeRigidBody","renew","unfollow","runBall","handleDestroyBall","handleExitBall","handleRenewBall","handleKillBall","handleFollowBall","handleUnfollowBall","handleStep","Balls","iterable","isBall","userData","ballData","isNumber","MachineTileContext","registerBody","unregisterBody","balls","loadSnapshot","MachineTileContextProvider","initialSnapshot","stableBounds","activeBodies","rapierBounds","mapValues","rapierOffsetX","rapierOffsetY","widgetSnapshot","hasRestoredSnapshot","Cuboid","intersectionsWithShape","useRigidBody","bodyRef","colliderDescs","useSensorInTile","intersectionPairsWith","useMachineTile","getPositionStyles","usePositionedBodyRef","initialX","initialY","initialAngle","elRef","wasVisibleRef","updateStyle","bodyX","bodyY","inBoundsObject","Boat","setAngularDamping","capsule","boatImage","PI","cuboid","setSensor","resetTorques","applyTorqueImpulse","countTouchingWater","applyImpulse","BottomChute","onReceiveBall","sensorCollider","ActiveEvents","setActiveEvents","COLLISION_EVENTS","angleDeg","imgBottomChute75R","imgBottomChute50R","imgBottomChute25R","imgBottomChute25L","imgBottomChute50L","imgBottomChute75L","BottomPit","edgeWidth","bottomHeight","lineCuboid","thickness","tankImages","tankBlueImg","tankBlueOpenImg","tankRedImg","tankRedOpenImg","tankGreenImg","tankGreenOpenImg","tankYellowImg","tankYellowOpenImg","intervalTicks","openTime","BottomTank","isOpen","setOpen","basis","_ref8","_ref9","_ref10","_ref11","_ref12","imgRollerChoices","imgRoller1","imgRoller2","imgRoller3","imgRoller4","imgRoller5","positionToSide","Triangle","TypeIndicators","side","alignItems","justifyContent","flexDirection","svg","Roller","rotationSpeed","spokes","CoefficientCombineRule","toothColliders","setFriction","KinematicVelocityBased","lockTranslations","setRestitutionCombineRule","Min","InputOutput","isInput","isVertical","spinDirection","_Fragment","BALL_RATE_VARIANCE","BallSpawner","nextBallTick","scheduleNextBall","totalRate","sumBy","rate","periodTicks","variance","weighted","SpawnInput","sideSpawnOffset","tankIdxByType","BallPitMechanism","subMachineRef","totalWidth","totalHeight","pitX","pitY","firstTankCenterX","tankTopY","lastLineBounds","getBallVx","targetX","tx","ty","handleReceiveBall","subMachine","tanks","tankType","chutes","ballSpawns","outputs","useMotionValue","setLatest","isCustomValueType","useCombineMotionValues","combineValues","updateValue","useTransform","inputRangeOrTransformer","outputRange","compute","useComputed","useImmediate","argOffset","inputValue","inputRange","useListTransform","resolveElements","elements","scope","selectorCache","supportsScrollTimeline","ScrollTimeline","GroupPlaybackControls","onResolve","onReject","propName","setAll","newValue","cancelAll","prevProgress","onFrame","observeTimeline","cancelTimeline","runAll","methodName","createGeneratorEasing","calcNextTime","labels","wrap","rangeSize","getEasingForSegment","addKeyframes","sequence","endTime","at","eraseKeyframes","compareByTime","defaultSegmentEasing","getSubjectSequence","subject","sequences","getValueSequence","keyframesAsList","isNumberKeyframesArray","animateElements","elementOrSelector","numElements","animateSequence","animationDefinitions","defaultTransition","sequenceTransition","defaultDuration","elementCache","timeLabels","prevTime","segment","resolveValueSequence","valueKeyframes","valueSequence","elementIndex","valueKeyframesAsList","remainingTransition","calculatedDelay","numKeyframes","absoluteDelta","springTransition","springEasing","targetTime","remainder","subjectSequence","valueSequences","valueOffset","valueEasing","createAnimationsFromSequence","valueOrElementOrSequence","isDOMKeyframes","CenteredSlippyMap","innerClassName","onPosition","initialZoom","scaleVal","setScale","centerXVal","centerYVal","dragXVal","dragYVal","handleUpdate","scaleFactor","getPosition","animateTo","jumpTo","div","_dragX","_dragY","guard","imgConstructionChoices","imgConstruction1","imgConstruction2","imgConstruction3","imgConstruction4","imgConstruction5","imgConstruction6","imgConstruction7","imgConstruction8","imgConstruction9","MachineTilePlaceholder","sampleSize","background","border","boxSizing","comparator","computed","getUserAgentString","agent","execRegExp","hasUserAgentData","userAgentData","brands","uaList","convertVersion","findPreset","presets","userPreset","preset","brand","versionAlias","versionTest","findVersion","findPresetBrand","brandInfo","findBrand","BROWSER_PRESETS","CHROMIUM_PRESETS","WEBKIT_PRESETS","WEBVIEW_PRESETS","OS_PRESETS","isWebView","getClientHintsAgent","osData","fullVersionList","isMobile","mobile","firstBrand","platform","browser","majorVersion","webkit","webkitVersion","chromium","chromiumVersion","webview","os","chromiumBrand","webkitBrand","platfomResult","platformVersion","browserBrandByFullVersionList","browserBrand","uaFullVersion","isHints","nextAgent","browserPreset","browserVersion","osPreset","osVersion","chromiumPreset","webkitPreset","getLegacyAgent","prefixNames","prefix","FUNCTION","OBJECT","STRING","NUMBER","UNDEFINED","IS_WINDOW","doc","OPEN_CLOSED_CHARACTERS","open","close","TINY_NUM","DEFAULT_UNIT_PRESETS","innerWidth","innerHeight","dot","b1","b2","isUndefined","findOpen","openCharacter","texts","openCloseCharacters","findIgnore","closeCharacter","out_i_1","_loop_1","nextIndex","state_1","findClose","ignore","otherText","splitText","splitOptions","separator","isSeparateFirst","isSeparateOnlyOpenClose","_c","isSeparateOpenClose","_d","openClosedText","regex","chr","tempValues","resetTemp","out_i_2","_loop_2","nextOpenCloseCharacters","__spreadArrays","isEqualSeparator","state_2","splitSpace","splitComma","splitBracket","suffix","splitUnit","NaN","getTime","defaultIndex","defalutValue","firstTime","raf","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","currTime","cancelAnimationFrame","caf","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","getKeys","convertUnitSize","sizeFunction","between","checkBoundSize","targetSize","compareSize","isMax","ratio","defaultSize","throttledSize","calculateBoundSize","minSize","maxSize","keepRatio","minWidth","minHeight","nums","getRad","pos1","distX","distY","rad","getShapeDirection","center","getCenterPoint","pos1Rad","pos2Rad","reverseUnit","throttleArray","hasClass","classList","addClass","removeClass","reg","addEvent","removeEvent","getDocument","getDocumentElement","getDocumentBody","getWindow","isWindow","isNode","inverseMatrix","startIndex","fromIndex","fromX","swap","iv","divide","ignoreDimension","newMatrix","createIdentityMatrix","identityIndex","targetStartIndex","getOrigin","originMatrix","convertPositionMatrix","convertDimension","multiplies","matrixes","multiply","matrix2","plus","nextPos","minus","convertMatrixtoCSS","is2d","calculate","rotateX3d","rotateY3d","rotateZ3d","createRotateMatrix","scale3d","sx","sy","translate3d","matrix1","createScaleMatrix","createOriginMatrix","createWarpMatrix","pos0","nextPos0","nextPos1","nextPos2","nextPos3","x0","y0","x3","y3","u0","v0","u1","v1","u2","u3","v3","transpose","__assign","parseMat","toMat","matrixInfos","matrixFunction","functionValue","functionName","nextSize_1","posX","posY","_e","_f","_g","_h","unitValue","PolyMap","__proto","prevIndex","HashMap","SUPPORT_MAP","Link","connect","prevLink","nextLink","disconnect","getIndex","Result","prevList","list","added","removed","changed","maintained","changedBeforeAdded","fixed","cacheOrdered","caculateOrdered","cachePureChanged","ordered","fromLinks","toLinks","fromLink","toLink","orderChanged","pureChanged","fromBefore","toBefore","diff","findKeyCallback","mapClass","prevKeys","prevKeyMap","keyMap","removedMap","addedCount","removedCount","prevListIndex","listIndex","ListDiffer","extendStatics","setPrototypeOf","__proto__","childrenCount","__DIFF_KEY__","_super","ChildrenDiffer","__","__extends","EventEmitter","_events","_addEvent","isStop","eventType","trigger","getDefaultScrollPosition","checkDefaultScrollEvent","getContainerElement","querySelector","DragScroll","_startRect","_startPos","_prevTime","_timer","_prevScrollPos","_isWait","_flag","_currentOptions","_lock","_unregister","_onScroll","inputEvent","checkScroll","dragStart","rect","_getScrollPosition","_registerScrollEvent","_continueDrag","isDrag","prevScrollPos","throttleTime","nextScrollPos","nextDirection","dragEnd","_unregisterScrollEvent","getScrollPosition","useScroll","nowTime","distTime","requestScroll","checkScrollEvent","tinyThrottle","getAreaSize","sum","nextPoint","fitPoints","getMinMaxs","minX","minY","maxX","maxY","ratioX","ratioY","xs","ys","isInside","excludeLine","xLine","xLinearConstants","getLinearConstants","lines","convertLines","intersectionPosInfos","linearConstants2","linearConstants","standardPoint","getPointsOnLines","getIntersectionPointsByConstants","linePoint","point2","point1","intersectionCount","xMap","dx","dy","linearConstants1","c1","c2","isZeroA","isZeroB","minMaxs","minMax","pointX","pointY","getOverlapPointInfos","points1","points2","targetPoints1","targetPoints2","lines1","lines2","linearConstantsList1","line1","linearConstantsList2","line2","overlapInfos","linePointInfos","index1","index2","isNext","pointMap","getOverlapSize","getOverlapPoints","getRotatiion","getEventClients","clients","getClient","getClients","prevClients","startClients","getAverageClient","originalClientX","originalClientY","prevX","prevY","sumClient","minLength","ClientStore","movement","getAngle","getRotation","isAdd","getPositions","positions","getMovement","currentClient","prevClient","getDistance","getScale","move","INPUT_TAGNAMES","Gesto","targets","flag","pinchFlag","isPinch","clientStores","doubleFlag","_useMouse","_useTouch","_useDrag","_dragFlag","_isTrusted","_isMouseEvent","_isSecondaryButton","_preventMouseEvent","_prevInputEvent","_isDragAPI","_isIdle","_preventMouseEventId","_window","isDragAPI","pinchOutside","preventWheelClick","preventRightClick","checkInput","dragFocusedInput","preventClickEventOnDragStart","preventClickEventOnDrag","preventClickEventByCondition","useTouch","isDragStart","hasInput","hasContentEditable","isContentEditable","blur","activeTagName","_onClick","isMouseEvent","_allowMouseEvent","datas","isSecondaryButton","isDouble","getCurrentStore","preventDrag","timer","_attchDragEvent","isMultiTouch","onPinchStart","isScroll","moveClients","onPinch","_allowClickEvent","onPinchEnd","keepDragging","_addStore","_getPosition","_dettachDragEvent","isClick","_onContextMenu","_passCallback","firstTarget","checkWindowBlur","pinchThreshold","passive_1","cur","isFlag","isPinchFlag","isDoubleFlag","isPinching","scrollBy","isCallDrag","nextClients","triggerDragStart","setEventData","currentData","name_1","setEventDatas","getCurrentEvent","getEventData","getEventDatas","unset","store","isPrevDrag","isFirstDrag","storePosition","win","stringHash","injectStyle","shadowRoot","trimmedSelector","subSelector","trimmedSubSelector","replaceStyle","injectClassName","getRootNode","rootNode","getShadowRoot","styleElement","injectCount","__rest","Tag","injector","cssId","attributes","cspNonce","targetRef","injectResult","__read","ar","__spreadArray","pack","makeAble","able","DIRECTIONS4","DIRECTIONS","navi","IS_WEBKIT","IS_WEBKIT605","browserName","IS_CHROME","IS_CHROMIUM","IS_CHROMIUM109","IS_FIREFOX","IS_SAFARI_ABOVE15","PREFIX","directionCSS","dir","MOVEABLE_CSS","degree","getSVGCursor","degree45","defaultCursor","getCursorCSS","NEARBY_POS","FLOAT_POINT_NUM","MIN_SCALE","MAX_NUM","MIN_NUM","DIRECTION_REGION_TO_DIRECTION","nw","sw","DIRECTION_INDEXES","DIRECTION_ROTATIONS","MOVEABLE_METHODS","setCustomDrag","isConvert","ableName","gestos","originalDatas","ableDatas","convertDragDist","parentEvent","CustomGesto","startX","startY","parentGesto","calculateElementPosition","calculatePoses","x4","y4","calculatePosition","pos4","sign","calculatePointerDist","moveable","moveableClientRect","rootMatrix","is3d","calculateInversePosition","getDragDist","setDragStart","allMatrix","beforeMatrix","offsetMatrix","targetMatrix","inverseBeforeMatrix","absoluteOrigin","startDragBeforeDist","startDragDist","resolveTransformEvent","beforeRenderable","transformIndex","nextTransforms","nextTransformAppendedIndexes","offsetWidth","offsetHeight","beforeFunctionTexts","beforeFunctionTexts2","targetFunctionText","afterFunctionTexts","afterFunctionTexts2","beforeFunctions","beforeFunctions2","targetFunction","afterFunctions","afterFunctions2","targetFunctions","beforeFunctionMatrix","beforeFunctionMatrix2","afterFunctionMatrix","afterFunctionMatrix2","allFunctionMatrix","targetFunctionMatrix","convertTransformInfo","matFunctionName","beforeTransform","beforeTransform2","targetTansform","afterTransform","afterTransform2","targetAllTransform","isAppendTransform","isAppend","convertTransformFormat","dist","getTransformDist","getBeforeDragDist","getTransfromMatrix","fromTranslation","isAfter","nextTargetMatrix","res1","isBefore","getPosIndexesByDirection","getPosBySingleDirection","poses","getPosByDirection","getNextMatrix","getAbsoluteMatrix","fillTransformStartEvent","getBeforeRenderableDatas","setTransform","startTransforms","setTransformIndex","setDefaultTransformIndex","startValue","fillOriginalTransform","getNextTransforms","getNextTransformText","getNextStyle","nextStyle","fillTransformEvent","nextTransform","Draggable","fillCSSObject","getTranslateFixedPosition","fixedDirection","fixedOffset","isAllTransform","nextMatrix","targetTransform","getNextTransformMatrix","nextFixedPosition","fixedOffsetPosition","getDirectionOffset","getTranslateDist","fixedPosition","groupable","groupLeft","groupTop","getResizeDist","prevOrigin","prevWidth","prevHeight","nextOrigin","prevSize","calculateTransformOrigin","startPos","fixedPos","getIndividualTransforms","getStyle","individualTransforms","getMatrixStackInfo","checkContainer","targetTransformOrigin","requestEnd","isEnd","hasFixed","offsetContainer","getOffsetInfo","offsetParent","getCachedStyle","getElementTransform","isFixed","getTransformMatrix","convertCSStoMatrix","isOffsetEnd","parentClientLeft","parentClientTop","fixedClientLeft","fixedClientTop","fixedInfo","fixedContainer","getPositionFixedInfo","length_1","convert3DMatrixes","getOffsetPosInfo","hasOffset","origin_1","targetOrigin","offsetLeft","offsetTop","ownerSVGElement","getSVGMatrix","targetZoom","offsetInfo","offsetZoom","isCustomElement","parentSlotElement","customOffsetParent","customOffsetLeft","customOffsetTop","clientLeft","clientTop","getBodyOffset","isElementTarget","cacheStyleMap","clientRectStyleMap","matrixContainerInfos","setStoreCache","useCache","nextStyle_1","fillChildEvents","groupableDatas","childDatas","moveables","isRequestChild","triggerChildGesto","isStart","childEvents","eventParams","ev","childMoveable","childEvent","childGestos","parentFlag","triggerChildAbles","eachEvent","startChildDist","parentDatas","startPositions","getAbsolutePosesByState","originalX","originalY","renderDirectionControlsByInfos","renderDirections","React","renderPoses","rotationRad","degRotation","absDegree","directionMap","renderDirectionMap","directionSign","directionRotation","dataAttrs","getControlTransform","renderDirectionControls","defaultDirections","directions","displayAroundControls","renderAroundControls","renderLine","getLineStyle","renderEdgeLines","edge","getRenderDirections","renderDiagonalDirections","renderAllDirections","checkBoundPoses","verticalPoses","horizontalPoses","nextBounds","vertical","checkBounds","horizontal","getBounds","externalBounds","containerClientRect","containerHeight","clientHeight","containerWidth","clientWidth","snapOffset","snapOffsetLeft","snapOffsetTop","snapOffsetRight","snapOffsetBottom","isCSS","startBoundPos","endBoundPos","minPos","maxPos","boundInfos","isBound","isBoundRotate$1","relativePoses","boundRect","checkRotateBounds","prevPoses","nextPoses","relativeLeft","relativeRight","relativeTop","relativeBottom","boundPos","relativeRad1","vec","getDistSize","boundRotate","relativeRad2","nextRad","VERTICAL_NAMES","HORIZONTAL_NAMES","SNAP_SKIP_NAMES_MAP","VERTICAL_NAMES_MAP","HORIZONTAL_NAMES_MAP","hasGuidelines","snappable","innerBounds","verticalGuidelines","horizontalGuidelines","snapGridWidth","snapGridHeight","guidelines","enableSnap","getSnapDirections","snapDirections","splitSnapDirectionPoses","snapPoses","nextSnapPoses","nextSnapDirections","mapSnapDirectionPoses","horizontalNames","verticalNames","NAME_snapRotationThreshold","NAME_snapRotationDegrees","NAME_snapHorizontalThreshold","NAME_snapVerticalThreshold","checkMoveableSnapPoses","posesX","posesY","dirXs","dirYs","customSnapVerticalThreshold","customSnapHorizontalThreshold","snapThresholdMultiples","snapThresholdInfo","multiples","snapHorizontalThreshold","selectValue","snapVerticalThreshold","checkSnapPoses","checkSnap","getStringDirection","stringDirection","checkSnaps","horizontalDirection","verticalDirection","getNearestSnapGuidelineInfo","snapInfo","isSnap","guideline","posInfo","posInfos","guidelineInfo","guidelineInfos","targetPoses","snapThreshold","dirs","posType","snapPosInfos","targetPos","snapPosInfo","getSnapInfosByDirection","snapDirection","getPosesByDirection","nextDir","checkSnapBoundPriority","aDist","bDist","getNearOffsetInfo","offsets","aSign","bSign","aOffset","bOffset","isStartLine","cy","hitTestLine","test1","test2","isSameStartLine","dots","centerSign","checkInnerBoundDot","checkLineBoundCollision","boundLine","isRender","dot1","boundDot1","boundDot2","dy2","getTinyDist","hasDx","hasDy","slope","getInnerBoundInfo","lineInfos","verticalSign","horizontalSign","lineConstants","isAllBound","isVerticalBound","isHorizontalBound","leftLine","topLine","rightLine","bottomLine","topBoundInfo","bottomBoundInfo","leftBoundInfo","rightBoundInfo","isAllVerticalBound","isAllHorizontalBound","verticalOffset","maxOffset","horizontalOffset","checkInnerBound","sizeOffset","getInnerBoundDragInfo","innerBoundInfo","getCheckInnerBoundLineInfos","widthOffsetInfo","heightOffsetInfo","getInverseDragDist","virtualPoses","lineDirections","getCheckSnapLineDirections","dir1","dir2","virtualLine","solveLineConstants","isBoundRotate","boundDots","checkRotateInnerBounds","dotInfos","lineRad","solveReverseLine","lineDist","getDistPointLine","dotDist","dotRad","distRad","solveNextOffset","solveEquation","isOutside","dist1","dist2","getSnapBound","boundInfo","checkSnapBoundsDrag","throttleDragRotate","ignoreSnap","getAbsolutePoses","absolutePoses","getRect","boundPoses","checkMoveableSnapBounds","middle","verticalSnapBoundInfo","horizontalSnapBoundInfo","verticalInnerBoundInfo","horizontalInnerBoundInfo","isVerticalSnap","isHorizontalSnap","adjustPoses","adjustPos","prevDistY","checkThrottleDragRotate","horizontalBoundInfos","verticalBoundInfos","horizontalSnapInfo","verticalSnapInfo","horizontalDist","verticalDist","snapIndex","snap","checkSnapBounds","guideines","getSnapBoundInfo","isRequest","startDirection","endDirection","otherStartPos","otherEndPos","snapBoundInfo","endPos","endX","endY","isBottom","isRight","verticalInfo","horizontalInfo","checkBoundKeepRatio","horizontalBoundInfo","verticalBoundInfo","verticalGuideline","horizontalGuideline","horizontalPos","verticalPos","checkSnapKeepRatio","getSnapBoundOffset","checkSnapBoundsKeepRatio","otherHorizontalOffset","isOtherHorizontalBound","isOtherHorizontalSnap","otherVerticalOffset","isOtherVerticalBound","isOtherVerticalSnap","snapLine","rad180","isHorizontalLine","isVerticalLine","checkSnapRightLine","requestStyle","requestChildStyle","hideThrottleDragRotateLine","dragInfo","beforeOrigin","targetGesto","startCheckSnapDrag","prevDist","prevBeforeDist","deltaOffset","fillParams","triggerEvent","startRect","useSnap","isGroup","parentThrottleDrag","parentMoveable","throttleDrag","dragRotateRad","startDragRotate","deg","ry","beforeTranslate","beforeDist","beforeDelta","passDelta","passDist","dragAfter","fillEndParams","dragGroupStart","throttleOffset","dragGroup","nextParams","dragGroupEnd","isControl","requestStart","getFixedDirectionInfo","getOffsetFixedPositionInfo","offsetFixedPosition","getDirectionByPos","directionCondition$2","getDirectionCondition","Resizable","ableGroup","canPinch","dragControlCondition","viewClassName","getDirectionViewClassName","dragControlStart","parentDirection","parentFixedDirection","getTotalDirection","resizable","controlGesto","startOffsetWidth","startOffsetHeight","startWidth","inlineCSSWidth","cssWidth","startHeight","inlineCSSHeight","cssHeight","minOffsetWidth","minOffsetHeight","maxOffsetWidth","maxOffsetHeight","setRatio","isFinite","setFixedDirection","setFixedPosition","setMin","setMax","nextMaxSize","startOffsetMatrix","startTransformOrigin","isWidth","parentIsWidth","startRatio","setOrigin","startFixedDirection","startFixedPosition","isResize","snapRenderInfo","dragControl","parentKeepRatio","dragClient","parentDist","resolveMatrix","targetN","nextAllMatrix","resizeFormat","throttleResize","keepRatioFinally","sizeDirection","distWidth","distHeight","getNextBoundingSize","boundingWidth","boundingHeight","nextFixedDirection","setSize","getAbsolutePosition","snapDist","checkSizeDist","widthOffset","heightOffset","getNextFixedPoses","checkSnapResize","isNoSnap","computeSize","inverseDelta","nextWidth","nextHeight","fillAfterTransform","nextSize","getOffsetSizeDist","dragControlAfter","checkResizableError","errorWidth","errorHeight","isErrorWidth","isErrorHeight","dragControlEnd","dragGroupControlCondition","dragGroupControlStart","originalEvents","parentStartOffsetWidth","parentStartOffsetHeight","updateGroupMin","originalMinSize","childMinSize","childStartOffsetWidth","childStartOffsetHeight","parentMinWidth","parentMinHeight","updateGroupMax","originalMaxSize","childMaxSize","parentMaxWidth","parentMaxHeight","dragGroupControl","catchEvent","parentScale","dragGroupControlEnd","deltaWidth","deltaHeight","setRotateStartInfo","startAbsoluteOrigin","prevDeg","defaultDeg","prevSnapDeg","loop","startDist","getAbsoluteDist","normalizedPrevDeg","getAbsoluteDistByClient","getRotateInfo","moveableRect","throttleRotate","snapRotation","snapRotationThreshold","snapRotationDegrees","origin2_1","rad_1","firstDegree","getMinDegreeDistance","bumpDegree","checkSnapRotate","snapDeg","getRotationPositions","rotationPosition","radPoses","getRotationRad","isReverse","requestAble","rotateAroundControls","rotationTarget","getRefTargets","Rotatable","rotatable","resolveAblesWithRotatable","ables","resolveMap_1","directionControlInfos","parentRotate","beforeDirection","resizeStart","getOffsetFixedDirectionInfo","startClientX","startClientY","externalRotate","beforeInfo","afterInfo","absoluteInfo","inputTarget","regionDirection","controlDirection","isAroundControl","resolveAble","clientPoses","rootClientRect","rootPoses","calculateMoveableClientPositions","originalFixedPosition_1","fixedBeforeOrigin","fixedAfterOrigin","posDelta","parentPosition","controlPosition","parentFixedPosition","svgOrigin","convertTransformOriginArray","getTotalOrigin","rotatation","isRotate","clientDistX","clientDistY","groupDelta","beforeRotation","absoluteDist","absoluteRotation","targetDirection","getTransformDirection","startRotation","absoluteStartRotation","nextClientX","nextClientY","nextRotation","inverseDist","rotateDist","getRotateDist","prevInverseDist","requestValue","dragEvent","transformEvent","parentDistance","resize","resizeEvent","beforeRotate","absoluteRotate","parentLeft","parentTop","parentBeforeOrigin","childClient","startGroupClient","groupClient","prevClientX","prevClientY","setGroupRotation","distRotate","deltaRotate","renderInnerGuideline","isHorizontal","scaleType","renderGuideline","sizeValue","posValue","renderSnapPoses","renderPos","renderGuidelines","targetRect","isDisplayInnerSnapDigit","mainNames","targetStart","targetEnd","elementRect","renderDigitLine","lineType","snapDigit","isDisplaySnapDigit","snapDistFormat","sizeName","absGap","snapSize","renderDashedGuidelines","rendered","nextGuidelines","otherIndex","groups","names","groupBy","elementRect1","elementRect2","elementDirection","inner","groupByElementGuidelines","sideNames","sidePos","prevRect","nextRect","size1","size2","renderPos1","renderPos2","getTotalGuidelines","scrollHeight","scrollWidth","containerClientHeight","containerClientWidth","snapGap","maxSnapElementGuidelineDistance","isDisplayGridGuidelines","elementGuidelines","elementRects","prevValues","snapRect","refresh","nextElementGuidelines","getRefTarget","nextValues","offsetDelta","containerRect","clientPos","calculateContainerPos","containerLeft","containerTop","elementLeft","elementTop","elementRight","elementBottom","getSnapElementRects","elementSnapDirections","topValue","leftValue","rightValue","bottomValue","centerValue","middleValue","rectTop","rectLeft","sizes","getElementGuidelines","totalGuidelines","snapThresholds","maxSnapElementGapDistance","gapGuidelines","targetCenter","targetStart2","targetEnd2","snapThresholdMap","getDist","nextElementRects","snapRect1","snapRect2","rect1","rect2","rect1Start","rect1End","rect2Start","rect2End","isCenter","checkBetweenRects","gapRects","getGapGuidelines","startOffset","snapGridAll","hasDirection","rect_1","children_1","posName","clientOffset","rectSize","rectPos","childSizes","firstChildSize","childSnapSizes","rectRatio","childSize","offsetPos","startGridGroupGuidelines","defaultSnapGridWidth","defaultSnapGridHeight","pushGuideline","getGridGuidelines","left_1","top_1","getDefaultGuidelines","getObjectGuidelines","containerSize","posGuideline","snapWidth","snapHeight","checkSnapInfo","snapContainer","snapContainerTarget","snapContainerRect","getClientRect","offset1","getDragDistByState","offset2","normalized","getSizeOffsetInfo","endDirection_1","signX","signY","getCheckSnapDirections","innerBoundLineInfos","getNextPoses","isWidthBound","isHeightBound","nextWidthOffset","nextHeightOffset","widthDist","heightDist","right_1","bottom_1","otherDirection","isCheckVertical","isCheckHorizontal","otherPos","nextOtherPos","isHeightOutside","isWidthOutside","checkMaxBounds","snapPos","recheckSizeByTwoDirection","baseDeg","deg1","deg2","deg3","checkSnapScale","sizeDist","scaleMatrix","getSnapGuidelines","addBoundGuidelines","verticalSnapPoses","horizontalSnapPoses","boundMap","lineInfo","isHorizontalStart","isVerticalStart","checkInnerBoundPoses","innerBoundMap","verticalInnerBoundPoses","horizontalInnerBoundPoses","innerPos","directionCondition$1","Snappable","dragRelation","targetTop","targetLeft","snapRenderThreshold","watchValue","minLeft","minTop","externalPoses","snapInfos","hasExternalPoses","externalRect","verticalPosInfos","horizontalPosInfos","allGuidelines","gaps","nextBoundMap","nextInnerBoundMap","targetSideStart","targetSideEnd","sideStartPos","sideEndPos","sideCenterPos","renderGapGuidelines","pinchStart","defaultSync","getBeforeTransformOrigin","getTransformOriginArray","getSVGViewBox","measureSVGSize","computedTransform","baseVal","lastParent","isParent","checkZoom","getTargetStyle","hasSlot","assignedSlotParentElement","assignedSlot","targetPosition","slotParentNode","targetParentNode","host","isGTarget","isFillBox","bbox","getSVGGraphicsOffset","getBodyStyle","bodyPosition","makeMatrixCSS","viewBoxWidth","viewBoxHeight","preserveAspectRatio","align","meetOrSlice","xAlign","yAlign","scaleDimension","calculateRect","getDiagonalSize","contentWidth","contentHeight","targetStyle","borderLeft","borderRight","borderTop","borderBottom","horizontalPadding","verticalPadding","getParentStyle","getExtendsRect","extendsRect","getClientRectByPosition","isExtends","baseTop","baseLeft","clientRect","getDirection","direciton","unsetAbles","unsetGesto","gestoName","gesto","resolvedEvent","cssText","letter","letter2","prevEvent","nextEvent","isBeforeEvent","stopAble","isEventStart","stopDrag","isStartEvent","lastEvent","_emitter","isManager","pseudoElt","filterAbles","methods","triggerAblesSimultaneously","enabledAbles","ableGroups","equals","groupKeys","groupKey","keyIndex","calculatePadding","xAdded","yAdded","convertCSSSize","isRelative","getGestoData","checkAbles","isSelector","calculateMatrixDist","getSizeDistByDist","startSize","standardRad","signSize","startWidthSize","startHeightSize","secondRad","firstRad","distSize","pinchScale","directionsDists","directionRatios","ratioDistance","dist_1","convertTransformUnit","xy","leftOrigin","rightOrigin","originObject","nextOriginObject","isDeepArrayEquals","arr1","arr2","value1","value2","isArray1","isArray2","_store","countEach","counter","getPaddingBox","Pinchable","pinchable","controlEventName","pinchAbles","controlAbles","ableEvent","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","directionCondition","Scalable","setMinScaleSize","minScaleSize","setMaxScaleSize","maxScaleSize","isScale","throttleScale","tempScaleValue","getNextScale","stateDirection","nextScale","distSign","isSelfPinch","startOffsetSize","scaleSize","distText","scaleText","isZeroScale","getScaleDist","scaleEndParam","moveableScale","getMiddleLinePos","getTriangleRad","rad1","Warpable","scalable","warpable","linePosFrom1","linePosFrom2","linePosFrom3","linePosFrom4","linePosTo1","linePosTo2","linePosTo3","linePosTo4","warpTargetMatrix","targetInverseMatrix","prevMatrix","posIndexes","isWarp","selectedPoses","nearByPoses","poses1","poses2","rad2","totalMatrix","AREA_PIECES","AREA_PIECE","AVOID","VIEW_DRAGGING","restoreStyle","areaElement","renderPieces","DragArea","dragArea","passDragArea","isDragArea","rects","nextElementSibling","disableNativeEvent","enableNativeEvent","Origin","originStyle","scrollContainer","Scrollable","getContainer","scrollOptions","dragScroll","scrollContainerElement","scrollThreshold","scrollThrottleTime","dragGroupControEnd","Default","Padding","paddingDirections","RADIUS_DIRECTIONS","calculateRatio","sumSize","sumRatio","HORIZONTAL_RADIUS_ORDER","VERTICAL_RADIUS_ORDER","HORIZONTAL_RADIUS_DIRECTIONS","VERTICAL_RADIUS_DIRECTIONS","getRadiusStyles","clipStyles","radiusPoses","virtual","raws","rawPos","getRadiusRange","controlPoses","horizontalRange","verticalRange","clipPose","sub","getRadiusValues","minCounts","full","splitIndex","splitLength","horizontalValues","verticalValues","horizontalValuesLength","verticalValuesLength","hasVerticalValues","nwValue","neValue","seValue","_j","swValue","_k","_l","wnValue","_m","enValue","_o","esValue","_p","wsValue","horizontalRawPoses","verticalRawPoses","nextHorizontalPoses","nextVerticalPoses","CLIP_DIRECTIONS","CLIP_RECT_DIRECTIONS","getClipStyles","clipPath","clipRelative","clipType","clipPoses","isRect","isCircle","subWidth","subHeight","getRectPoses","dirx","diry","getControlSize","xRange","yRange","getClipPath","defaultClip","customClip","clipText","clipPrefix","splitter","xPos","yPos","radiusX_1","radiusY_1","xRadius","yRadius","centerPos_1","radiusX","radiusY","roundIndex","rectLength","radiusValues","_q","_r","_s","top_2","_t","nextRight","nextBottom","_u","top_3","addClipPath","clipIndex","horizontalIndex","verticalIndex","startVerticalIndex","addRadiusPos","clipStyle","clipEventType","removeClipPath","radiuslIndex","deleteCount","removeRadiusPos","Clippable","customClipPath","defaultClipPath","clipArea","clipPathState","snapBoundInfos","calculatedPos","isInset","isPolygon","linePoses_1","clipLeft","clipTop","distLeft","distTop","ellipseClipPath","piece","areaPoses","allWidth","allHeight","allLeft_1","allTop_1","directionType","snapPos1","snapPos2","dragWithClip","isDragTarget","isClipStart","isLine","isArea","originalDraggable","originalDist","firstDist","isDragWithTarget","isAll","dists","verticalDirections","horizontalDirections","verticalDirection_1","horizontalDirection_1","nextDist","nextControlPoses_1","controlPose","controlDir","dirDir","dirHorizontal","dirVertical","moveControlPos","guidePoses","isEllipse","guideRect","rx","clipHorizontalGuidelines","clipVerticalGuidelines","guideXPoses","guideYPoses","rectPoses","rectDists_1","boundDelta","clipTargetBounds","snapOffsetY","snapOffsetX","width_1","height_1","nextControlPoses_2","nextClipStyles","dragDist","OriginDraggable","startOrigin","startTargetOrigin","isDragOrigin","originRelative","distOrigin","dragDelta","deltaOrigin","getBorderRadius","triggerRoundEvent","roundRelative","horizontals","verticals","splitRadiusPoses","borderRadiusState","getStyleBorderRadius","firstMoveable","getTargets","Roundable","roundClickable","minRoundControls","maxRoundControls","roundPadding","isDisplayShadowRoundControls","verticalCount","horizontalCount","basePos","originalPos","isDisplayVerticalShadow","isDisplay","controlIndex","lineIndex","indexAttr","isRound","selectedControlPose","selectedVertical","selectedHorizontal","pose","poseDist","horizontalsLength","verticalsLength","controlPoseInfo","addBorderRadius","addBorderRadiusByLine","removeBorderRadius","BeforeRenderable","inlineTransform","cssMatrix","startTransform","identityMatrix","isIdentityMatrix","resetStyle","fillDragStartParams","fillDragParams","Renderable","fillDragEndParams","transformObject","matrixInfo","triggerAble","moveableAbles","eventOperations","eventAffix","requestInstant","requestAble_1","elementFromPoint","isDragStop","isFirstStart","updateRect","gestoType","prevGesto","conditionName","nextDatas","forceEndedCount","updatedCount","eventOperation","eventAbles","isUpdate","isForceEnd","isUnmounted","checkMoveableTarget","eventTarget","dragTargetElement","_dragTarget","isMoveableElement","controlBox","getTargetAbleGesto","moveableTarget","dragTarget","dragTargetSelf","checkTarget","getAbleGesto","getControlAbleGesto","checkControlTarget","ableType","conditionFunctions","isTargetAbles","preventClickDefault","dragContainer","getControlBoxElement","isPinchScheduled","EventManager","_onEvent","setAbles","calculateMatrixStack","rootContainer","isAbsolute3d","prevTargetMatrix","containerZoom","result_1","getCachedMatrixContainerInfo","rootMatrixes","isRoot3d","offsetRootContainer","rootZoom","isNext3d","isSVGGraphicElement","nextRootMatrixes","originalRootContainer","endContainer","rootMatrixBeforeOffset","targetInfo","rectWidth","rectHeight","mat","prevLeft","prevTop","posOrigin","rectOrigin","getSVGOffset","isMatrix3d","originalRootMatrix","hasZoom","calculateElementInfo","allResult","getMoveableTargetInfo","moveableElement","parentContainer","requestStyles","targetClientRect","rootContainerClientRect","getStyle_1","beforePosition","absoluteTargetPosition","absoluteContainerPosition","nextClientRect","getCachedClientRect","containerClientRectLeft","containerClientRectTop","containterClientLeft","containerClientTop","clientDelta","originalBeforeOrigin","getPersistState","isPersisted","MoveableManager","renderLines","targetAbles","isMoveableMounted","_prevOriginalDragTarget","_originalDragTarget","_prevDragTarget","_prevPropTarget","_propTarget","_prevDragArea","_isPropTargetChanged","_hasFirstTarget","_reiszeObserver","_observerId","_mutationObserver","_rootContainer","_viewContainer","_viewClassNames","checkUpdateRect","_onPreventClick","propsTarget","ControlBoxElement","cssStyled","linePadding","controlPadding","_checkUpdateRootContainer","checkUpdate","updateRenderPoses","stateTarget","groupTargets","ableAttributes","getEnabledAbles","ableClassName","_getAbleClassName","firstRenderState","persistData","useAccuratePosition","renderAbles","_renderLines","_checkUpdateViewContainer","_updateTargets","_updateNativeEvents","_updateEvents","updateCheckInput","_updateObserver","_changeAbleViewClassNames","manager","getAble","wrapperMoveable","getDragElement","hitTest","totalSize","isTarget","isSetState","isSingle","nextState","_getRequestStyles","persistState","name_2","updateState","updateTarget","statePos","getManager","getAbsoluteRotation","isInstant","allAbles","requsetAble","ableRequester","requester","ableParam","getMoveables","stateLeft","stateTop","renderPos3","renderPos4","zoomOffset","stateContainer","updateAbles","isTargetChanged","moveableContainer","waitToChangeTarget","useCSS","customStyleMap","customStyledMap","hasControlBox","updateSelectors","name_3","always","Renderer","ableStyleNames","_updateResizeObserver","_updateMutationObserver","hasTargetAble","hasControlAble","_isTargetChanged","hideDefaultLines","hideChildMoveableDefaultLines","useDragArea","nextTarget","prevTarget","prevDragArea","eventKeys","hasAbles","viewContainerOption","viewContainer","_getAbleViewClassNames","nextClassNames","prevClassNames","classPrefix","targetGestoData","controlGestoData","ResizeObserver","useResizeObserver","MutationObserver","useMutationObserver","records","e_1","records_1","__values","records_1_1","e_1_1","isWrapperMounted","warpSelf","Groupable","renderGroupRects","persistDatChildren","getRequestChildStyles","Clickable","containsElement","containsTarget","targetIndex","parentTarget","getDraggableEvent","edgeDraggable","dragCondition","dragGroupCondition","IndividualGroupable","MOVEABLE_ABLES","solveConstantsDistance","solveC","getMaxPos","getMinPos","findMoveableGroups","childTargetGroups","targetGroup","childMoveableGroups","finded","MoveableGroup","differ","_targetGroups","_hasFirstTargets","checkeds","targetGroups","moveableGroups","useDefaultGroupRotate","updateGroup","defaultGroupRotate","persistedRoatation","rootGroupRect","getMoveableGroupRect","parentRotation","posesRotations","rotations","groupRotation","firstRotation","isSameRotation","groupPoses","groupRect","parentPoses","fixedRotation","a1_1","tan","a2_1","a1MinMax_1","a1MinMaxPos_1","a2MinMax_1","a2MinMaxPos_1","a1Dist","a2Dist","a1MinPos","a1MaxPos","a2MinPos","a2MaxPos","minHorizontalLine","maxHorizontalLine","minVerticalLine","maxVerticalLine","minX_1","minY_1","maxX_1","maxY_1","getGroupRect","defaultGroupOrigin","posesInfo","rotateScale","isContainerChanged","MoveableIndividualGroup","canPersist","individualProps","individualGroupableProps","controlBoxElement","dragElement","getElementTargets","refTargets","selectorMap","elementTargets","getTargetGroups","compareRefTargets","prevRefTargets","nextRefTargets","InitialMoveable","_differ","_elementTargets","_tmpRefTargets","_tmpSelectorMap","_onChangeTargets","duplicate","makeStyled","cssMap","getTotalAbles","defaultStyled","prefixCSS","defaultAbles","moveableContructor","userAbles","userProps","_updateRefs","nextSelectorMap","nextProps","prevMoveable","individualGroupable","groupableProps","target_1","prevTargetMoveable","mv","_checkChangeTargets","resolvePromise","waitToChangeTargets","updateSelectorMap","onChangeTargets","decorators","desc","decorate","__decorate","Moveable","DebugOverlay","ticksBetweenUpdates","canvasRef","ticksRef","getContext","ticksSinceUpdate","clearRect","vertices","colors","debugRender","beginPath","strokeStyle","lineWidth","moveTo","lineTo","closePath","useIsMounted","PopChildMeasure","childRef","sizeRef","PopChild","motionPopId","PresenceChild","presenceAffectsLayout","presenceChildren","newChildrenMap","childId","getChildKey","AnimatePresence","exitBeforeEnter","forceRender","forcedRenderCount","setForcedRenderCount","useForceUpdate","filteredChildren","filtered","onlyElements","childrenToRender","exitingChildren","presentChildren","allChildren","updateChildLookup","presentKeys","targetKeys","numPresent","insertionIndex","exitingComponent","onExit","leftOverKeys","childKey","leftOverKey","presentChild","presentChildKey","dialogStyles","SwooshyDialog","onDismiss","handleClick","tutorials","routed","imgTutorialRouted","expiry","imgTutorialExpiry","submit","imgTutorialCongrats","tutorialKeys","STORE_KEY","loadState","stored","localStorage","getItem","fromEntries","useTutorials","seenTutorials","setSeenTutorials","visibleTutorial","setVisibleTutorial","showTutorial","dismissTutorial","EditorTutorials","onDismissTutorial","handleDismiss","comicDropShadow","ToolButton","ariaLabel","WidgetPalette","widgetCount","onAdd","onTrash","onEmergencyStop","canAddWidgets","renderList","preview","WidgetPreview","scrollbarWidth","widgetList","stickerList","imgTrash","imgEmergencyStop","spreadableSymbol","isConcatSpreadable","baseFlatten","eachFunc","comparer","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","orders","objCriteria","criteria","othCriteria","ordersLength","iteratees","otherArgs","nativeNow","lastCalled","stamp","setter","accumulator","initializer","PI_2","CircleGauge","rawValue","largeArc","halfLineWidth","imgCheck","imgWrong","UPDATE_MS","RATE_WINDOW_MS","OutputValidator","onValidate","gaugeLevel","setGaugeLevel","expectedTypes","msPerSpawn","maxGauge","maxGaugeOverfill","gaugePercent","isValid","curLevel","outline","Line","hLinesWithBreaks","sortedPositions","sortBy","vLinesWithBreaks","MachineFrame","inputs","spawnBallsTop","spawnBallsLeft","spawnBallsRight","validateOutputs","outputStateMap","prevValid","handleValidate","isAllValid","OutputComponent","inputGroups","outputGroups","renderInputs","sideInputs","fontFamily","fontSize","pointToVectorObject","imgPrism","MIN_CONTACT_DISTANCE","PRISM_REFRACTION_INDEX","setRefractionVector","indexRatio","speedMult","prismCollider","headingIn","logString","contact","contactCollider","normal1","normal2","invNormal","ballVellocity","ballMass","surfaceAngle","velocityAngle","angleInc","angleRefr","asin","newX","newY","Prism","onSelect","triangle","CONTACT_FORCE_EVENTS","collisionStart","collisionEnd","useSelectHandlers","OUTER_WHEEL_RADIUS","WHEEL_TOP","WHEEL_LEFT","NUM_SPOKES","spokeCapsule","distanceFromTop","upperConvexPiece","topWidth","bottomWidth","bottomConvexPiece","makeConvexHull","hullDesc","makePoint","bottomXAdjust","imgWheel","SpokedWheel","isSelected","wheelCenter","setAdditionalMassProperties","translationRotation","convexHull","Float32Array","makeSpoke","addTorque","DEG_TO_RAD","handleSelect","onMouseDown","onTouchStart","dragBounds","MachineTileEditor","initialWidgets","onSubmit","machineEvents","moveableRef","isShowingPalette","setShowingPalette","isManipulating","setManipulating","selection","setSelection","isValidOutputs","setValidOutputs","nextId","setWidgets","latestWidgets","canSubmit","showExpiryTutorial","showRoutedTutorial","handleStartManipulating","handleEndManipulating","applyImmediateStyles","curWidget","curAngle","doSelect","handleDrag","curWidgets","selectedWidget","handleRotate","handleResize","handleResizeStart","handleDeselect","handleOpenPalette","handleAddWidget","handleTrashWidget","_removed","widgetsKey","setWidgetsKey","handleEmergencyStop","handleSubmit","showDebugOverlay","setShowDebugOverlay","handleKey","selectionRef","selectedWheel","wheel","currentSpeed","getNextWheelSpeed","useWheelSpeed","selectedWidgetInfo","sticker","onRotate","onResize","onResizeStart","onRotateStart","onRotateEnd","onResizeEnd","isSquare","canRotate","canResize","Widgets","selectedId","imgWrench","imgSubmit","Anvil","imgAnvil","Fixed","AttractorRepulsor","strength","fieldSize","imgAttractor","imgRepulsor","boxCollider","fieldCollider","falloffDistance","setAngle","falloff","forceVector","Attractor","Repulsor","BallStand","imgBallStand","Board","imgBoard","Brick","imgBrick","Cup","imgCup","Cushion","imgCushion","widthRatio","heightRatio","vectorConversion","xIn","yIn","roundConvexHull","setFrictionCombineRule","Max","img1","img2","img3","img4","Fan","bladesWidth","bodyHeight","roundCuboid","airCollider","xComponent","yComponent","otherBody","hasPhysics","airOffset","Hammer","imgHammer","shaftThickness","handleLength","handleThickness","headWidth","paths","imgHook","mirrorPaths","Hook","restitution","disableSpring","isLeft","springConstant","LeftHook","imgBonkOff","imgBonkOn","LeftBumper","triangleRadius","sensorOffsetRadius","roundTriangle","bumperCollider","ActiveCollisionTypes","roundConvexPolyline","setActiveCollisionTypes","ALL","bonkOnMS","isContacting","setContacting","invMass","MIN_VALUE","applyImpulseAtPoint","bonkOnMs","RightBumper","RoundBumper","bumperRadius","BUMPER_CONTACT_DISTANCE","bodyIsBall","invLength","vectorNorm","stickers","imgFigure1Happy","imgFigure1Sad","imgFigure2Happy","imgFigure2Sad","imgFigure3Happy","imgFigure3Sad","knievel","imgKnievel","squobject","imgSquobject","determinism","imgDeterminism","kingbun","imgKingbun","cat","imgCat","smolStickers","StickerPreview","Sticker","Sword","imgSword","tipLength","guardWidth","board","hammer","sword","hook","lefthook","anvil","brick","fan","cushion","roundbumper","rightbumper","leftbumper","attractor","repulsor","prism","spokedwheel","ballstand","cup","Widget","WidgetsUnmemoized","widget","MetaMachineTile","isRendered","setRendered","SlippyMetaMachineView","simulateOutset","mapRef","setXt1","setYt1","setXt2","setYt2","isBottomVisible","setBottomVisible","updatePosition","throttle","ComicBrowseView","hashLink","setHashLink","viewRef","getMap","initialCenterX","initialCenterY","centeredScreenCoords","tries","findRandomTile","isMovingToSubmission","doSubmitAnimate","handlePosition","emptyWidgets","superlatives","nouns","namePromptStyles","NamePrompt","onCancel","description","setName","handleNameChange","ComicPuzzleView","machineTileRef","submitBlueprint","isNaming","setNaming","handleCancelName","handleSend","doSubmit","ResizeObserverBoxOptions","resizeObservers","msg","freeze","ResizeObserverSize","inlineSize","blockSize","DOMRectReadOnly","toJSON","fromRect","rectangle","getClientRects","scrollRegexp","verticalRegexp","IE","parseDimension","pixel","switchSizes","zeroBoxes","devicePixelContentBoxSize","borderBoxSize","contentBoxSize","contentRect","calculateBoxSizes","cs","removePadding","writingMode","canScrollVertically","overflowY","canScrollHorizontally","overflowX","horizontalBorderArea","verticalBorderArea","horizontalScrollbarThickness","verticalScrollbarThickness","widthReduction","heightReduction","borderBoxWidth","borderBoxHeight","boxes","devicePixelRatio","calculateBoxSize","observedBox","DEVICE_PIXEL_CONTENT_BOX","BORDER_BOX","ResizeObserverEntry","calculateDepthForNode","broadcastActiveObservations","shallowestDepth","callbacks","ro","activeTargets","ot","targetDepth","lastReportedSize","callbacks_1","gatherActiveObservationsAtDepth","skippedTargets","observationTargets","ErrorEvent","createEvent","initEvent","queueMicroTask","toggle_1","el_1","characterData","watching","observerConfig","childList","subtree","scheduler","Scheduler","stopped","until","elementsHaveResized","updateCount","ResizeObservation","CONTENT_BOX","isReplacedElement","ResizeObserverDetail","resizeObserver","observerMap","getObservationIndex","ResizeObserverController","firstObservation","lastObservation","_resizeObserver","getResizeObserver","ticking","allEntries","obs","triggered","cbs","_callbacks$get","_callbacks$get2","cbIndex","createResizeObserver","storedCallback","didUnsubscribe","targetEl","_options$initialWidth","_options$initialHeigh","initialWidth","initialHeight","InnerComicBorder","inset","FullscreenComicContainer","canFullscreen","setCanFullscreen","fullscreenFailed","setFullscreenFailed","useSize","isFullscreen","setFullscreen","handleFullscreenChange","fullscreenElement","webkitFullscreenElement","useIsFullscreen","isTouch","handleMaybeFullscreen","requestFullscreen","webkitRequestFullscreen","tryFullscreen","comicScale","paramToNumber","useHashLink","locationHashParams","setLocationHashParams","triggerUpdate","handleHashChange","URLSearchParams","useLocationHashParams","Comic","setMode","setViewBounds","throttledSetViewBounds","setLastSubmission","setInitialLoading","puzzles","puzzleData","useGetPuzzles","puzzleIdx","setPuzzleIdx","handleSubmitBlueprint","handleToggleMode","curMode","imgEdit","imgView","comicEl","getElementById"],"sourceRoot":""}